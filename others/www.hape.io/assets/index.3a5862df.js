var AF=Object.defineProperty;var pS=Object.getOwnPropertySymbols;var MF=Object.prototype.hasOwnProperty,RF=Object.prototype.propertyIsEnumerable;var dS=(t,e,n)=>e in t?AF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xa=(t,e)=>{for(var n in e||(e={}))MF.call(e,n)&&dS(t,n,e[n]);if(pS)for(var n of pS(e))RF.call(e,n)&&dS(t,n,e[n]);return t};function Gk(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in t)){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const IF=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};IF();function Ym(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const OF="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",NF=Ym(OF),LF="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",FF=Ym(LF);function Kk(t){return!!t||t===""}function ai(t){if(Le(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=tn(i)?jF(i):ai(i);if(s)for(const r in s)e[r]=s[r]}return e}else{if(tn(t))return t;if(cn(t))return t}}const DF=/;(?![^(]*\))/g,BF=/:(.+)/;function jF(t){const e={};return t.split(DF).forEach(n=>{if(n){const i=n.split(BF);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function fn(t){let e="";if(tn(t))e=t;else if(Le(t))for(let n=0;n<t.length;n++){const i=fn(t[n]);i&&(e+=i+" ")}else if(cn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Rp(t){if(!t)return null;let{class:e,style:n}=t;return e&&!tn(e)&&(t.class=fn(e)),n&&(t.style=ai(n)),t}function UF(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Ja(t[i],e[i]);return n}function Ja(t,e){if(t===e)return!0;let n=fS(t),i=fS(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Le(t),i=Le(e),n||i)return n&&i?UF(t,e):!1;if(n=cn(t),i=cn(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!Ja(t[a],e[a]))return!1}}return String(t)===String(e)}function Xm(t,e){return t.findIndex(n=>Ja(n,e))}const Ve=t=>tn(t)?t:t==null?"":Le(t)||cn(t)&&(t.toString===Xk||!Qe(t.toString))?JSON.stringify(t,Yk,2):String(t),Yk=(t,e)=>e&&e.__v_isRef?Yk(t,e.value):Tc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:bl(e)?{[`Set(${e.size})`]:[...e.values()]}:cn(e)&&!Le(e)&&!Qk(e)?String(e):e,Et={},Ec=[],Hs=()=>{},VF=()=>!1,$F=/^on[^a-z]/,Ip=t=>$F.test(t),hy=t=>t.startsWith("onUpdate:"),ln=Object.assign,py=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},zF=Object.prototype.hasOwnProperty,_t=(t,e)=>zF.call(t,e),Le=Array.isArray,Tc=t=>Qm(t)==="[object Map]",bl=t=>Qm(t)==="[object Set]",fS=t=>t instanceof Date,Qe=t=>typeof t=="function",tn=t=>typeof t=="string",dy=t=>typeof t=="symbol",cn=t=>t!==null&&typeof t=="object",fy=t=>cn(t)&&Qe(t.then)&&Qe(t.catch),Xk=Object.prototype.toString,Qm=t=>Xk.call(t),HF=t=>Qm(t).slice(8,-1),Qk=t=>Qm(t)==="[object Object]",my=t=>tn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,xh=Ym(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},qF=/-(\w)/g,ns=Jm(t=>t.replace(qF,(e,n)=>n?n.toUpperCase():"")),WF=/\B([A-Z])/g,mr=Jm(t=>t.replace(WF,"-$1").toLowerCase()),Op=Jm(t=>t.charAt(0).toUpperCase()+t.slice(1)),yh=Jm(t=>t?`on${Op(t)}`:""),Jh=(t,e)=>!Object.is(t,e),kc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},zf=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Za=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let mS;const GF=()=>mS||(mS=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let vs;class vy{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&vs&&(this.parent=vs,this.index=(vs.scopes||(vs.scopes=[])).push(this)-1)}run(e){if(this.active)try{return vs=this,e()}finally{vs=this.parent}}on(){vs=this}off(){vs=this.parent}stop(e){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function gy(t){return new vy(t)}function Jk(t,e=vs){e&&e.active&&e.effects.push(t)}function Zk(){return vs}function eP(t){vs&&vs.cleanups.push(t)}const by=t=>{const e=new Set(t);return e.w=0,e.n=0,e},tP=t=>(t.w&eo)>0,nP=t=>(t.n&eo)>0,KF=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=eo},YF=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];tP(s)&&!nP(s)?s.delete(t):e[n++]=s,s.w&=~eo,s.n&=~eo}e.length=n}},t_=new WeakMap;let ph=0,eo=1;const n_=30;let dr;const Xo=Symbol(""),i_=Symbol("");class Np{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Jk(this,i)}run(){if(!this.active)return this.fn();let e=dr,n=Wa;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=dr,dr=this,Wa=!0,eo=1<<++ph,ph<=n_?KF(this):vS(this),this.fn()}finally{ph<=n_&&YF(this),eo=1<<--ph,dr=this.parent,Wa=n,this.parent=void 0}}stop(){this.active&&(vS(this),this.onStop&&this.onStop(),this.active=!1)}}function vS(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function XF(t,e){t.effect&&(t=t.effect.fn);const n=new Np(t);e&&(ln(n,e),e.scope&&Jk(n,e.scope)),(!e||!e.lazy)&&n.run();const i=n.run.bind(n);return i.effect=n,i}function QF(t){t.effect.stop()}let Wa=!0;const iP=[];function _l(){iP.push(Wa),Wa=!1}function xl(){const t=iP.pop();Wa=t===void 0?!0:t}function is(t,e,n){if(Wa&&dr){let i=t_.get(t);i||t_.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=by()),sP(s)}}function sP(t,e){let n=!1;ph<=n_?nP(t)||(t.n|=eo,n=!tP(t)):n=!t.has(dr),n&&(t.add(dr),dr.deps.push(t))}function ea(t,e,n,i,s,r){const a=t_.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&Le(t))a.forEach((l,c)=>{(c==="length"||c>=i)&&o.push(l)});else switch(n!==void 0&&o.push(a.get(n)),e){case"add":Le(t)?my(n)&&o.push(a.get("length")):(o.push(a.get(Xo)),Tc(t)&&o.push(a.get(i_)));break;case"delete":Le(t)||(o.push(a.get(Xo)),Tc(t)&&o.push(a.get(i_)));break;case"set":Tc(t)&&o.push(a.get(Xo));break}if(o.length===1)o[0]&&s_(o[0]);else{const l=[];for(const c of o)c&&l.push(...c);s_(by(l))}}function s_(t,e){for(const n of Le(t)?t:[...t])(n!==dr||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const JF=Ym("__proto__,__v_isRef,__isVue"),rP=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(dy)),ZF=Zm(),eD=Zm(!1,!0),tD=Zm(!0),nD=Zm(!0,!0),gS=iD();function iD(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=ct(this);for(let r=0,a=this.length;r<a;r++)is(i,"get",r+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(ct)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){_l();const i=ct(this)[e].apply(this,n);return xl(),i}}),t}function Zm(t=!1,e=!1){return function(i,s,r){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&r===(t?e?pP:hP:e?uP:cP).get(i))return i;const a=Le(i);if(!t&&a&&_t(gS,s))return Reflect.get(gS,s,r);const o=Reflect.get(i,s,r);return(dy(s)?rP.has(s):JF(s))||(t||is(i,"get",s),e)?o:Gt(o)?!a||!my(s)?o.value:o:cn(o)?t?xy(o):yl(o):o}}const sD=aP(),rD=aP(!0);function aP(t=!1){return function(n,i,s,r){let a=n[i];if(Uc(a)&&Gt(a)&&!Gt(s))return!1;if(!t&&!Uc(s)&&(yy(s)||(s=ct(s),a=ct(a)),!Le(n)&&Gt(a)&&!Gt(s)))return a.value=s,!0;const o=Le(n)&&my(i)?Number(i)<n.length:_t(n,i),l=Reflect.set(n,i,s,r);return n===ct(r)&&(o?Jh(s,a)&&ea(n,"set",i,s):ea(n,"add",i,s)),l}}function aD(t,e){const n=_t(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&ea(t,"delete",e,void 0),i}function oD(t,e){const n=Reflect.has(t,e);return(!dy(e)||!rP.has(e))&&is(t,"has",e),n}function lD(t){return is(t,"iterate",Le(t)?"length":Xo),Reflect.ownKeys(t)}const oP={get:ZF,set:sD,deleteProperty:aD,has:oD,ownKeys:lD},lP={get:tD,set(t,e){return!0},deleteProperty(t,e){return!0}},cD=ln({},oP,{get:eD,set:rD}),uD=ln({},lP,{get:nD}),_y=t=>t,ev=t=>Reflect.getPrototypeOf(t);function Wd(t,e,n=!1,i=!1){t=t.__v_raw;const s=ct(t),r=ct(e);e!==r&&!n&&is(s,"get",e),!n&&is(s,"get",r);const{has:a}=ev(s),o=i?_y:n?Sy:Zh;if(a.call(s,e))return o(t.get(e));if(a.call(s,r))return o(t.get(r));t!==s&&t.get(e)}function Gd(t,e=!1){const n=this.__v_raw,i=ct(n),s=ct(t);return t!==s&&!e&&is(i,"has",t),!e&&is(i,"has",s),t===s?n.has(t):n.has(t)||n.has(s)}function Kd(t,e=!1){return t=t.__v_raw,!e&&is(ct(t),"iterate",Xo),Reflect.get(t,"size",t)}function bS(t){t=ct(t);const e=ct(this);return ev(e).has.call(e,t)||(e.add(t),ea(e,"add",t,t)),this}function _S(t,e){e=ct(e);const n=ct(this),{has:i,get:s}=ev(n);let r=i.call(n,t);r||(t=ct(t),r=i.call(n,t));const a=s.call(n,t);return n.set(t,e),r?Jh(e,a)&&ea(n,"set",t,e):ea(n,"add",t,e),this}function xS(t){const e=ct(this),{has:n,get:i}=ev(e);let s=n.call(e,t);s||(t=ct(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&ea(e,"delete",t,void 0),r}function yS(){const t=ct(this),e=t.size!==0,n=t.clear();return e&&ea(t,"clear",void 0,void 0),n}function Yd(t,e){return function(i,s){const r=this,a=r.__v_raw,o=ct(a),l=e?_y:t?Sy:Zh;return!t&&is(o,"iterate",Xo),a.forEach((c,h)=>i.call(s,l(c),l(h),r))}}function Xd(t,e,n){return function(...i){const s=this.__v_raw,r=ct(s),a=Tc(r),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=s[t](...i),h=n?_y:e?Sy:Zh;return!e&&is(r,"iterate",l?i_:Xo),{next(){const{value:p,done:d}=c.next();return d?{value:p,done:d}:{value:o?[h(p[0]),h(p[1])]:h(p),done:d}},[Symbol.iterator](){return this}}}}function ya(t){return function(...e){return t==="delete"?!1:this}}function hD(){const t={get(r){return Wd(this,r)},get size(){return Kd(this)},has:Gd,add:bS,set:_S,delete:xS,clear:yS,forEach:Yd(!1,!1)},e={get(r){return Wd(this,r,!1,!0)},get size(){return Kd(this)},has:Gd,add:bS,set:_S,delete:xS,clear:yS,forEach:Yd(!1,!0)},n={get(r){return Wd(this,r,!0)},get size(){return Kd(this,!0)},has(r){return Gd.call(this,r,!0)},add:ya("add"),set:ya("set"),delete:ya("delete"),clear:ya("clear"),forEach:Yd(!0,!1)},i={get(r){return Wd(this,r,!0,!0)},get size(){return Kd(this,!0)},has(r){return Gd.call(this,r,!0)},add:ya("add"),set:ya("set"),delete:ya("delete"),clear:ya("clear"),forEach:Yd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Xd(r,!1,!1),n[r]=Xd(r,!0,!1),e[r]=Xd(r,!1,!0),i[r]=Xd(r,!0,!0)}),[t,n,e,i]}const[pD,dD,fD,mD]=hD();function tv(t,e){const n=e?t?mD:fD:t?dD:pD;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(_t(n,s)&&s in i?n:i,s,r)}const vD={get:tv(!1,!1)},gD={get:tv(!1,!0)},bD={get:tv(!0,!1)},_D={get:tv(!0,!0)},cP=new WeakMap,uP=new WeakMap,hP=new WeakMap,pP=new WeakMap;function xD(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yD(t){return t.__v_skip||!Object.isExtensible(t)?0:xD(HF(t))}function yl(t){return Uc(t)?t:nv(t,!1,oP,vD,cP)}function dP(t){return nv(t,!1,cD,gD,uP)}function xy(t){return nv(t,!0,lP,bD,hP)}function wD(t){return nv(t,!0,uD,_D,pP)}function nv(t,e,n,i,s){if(!cn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=yD(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return s.set(t,o),o}function Gr(t){return Uc(t)?Gr(t.__v_raw):!!(t&&t.__v_isReactive)}function Uc(t){return!!(t&&t.__v_isReadonly)}function yy(t){return!!(t&&t.__v_isShallow)}function wy(t){return Gr(t)||Uc(t)}function ct(t){const e=t&&t.__v_raw;return e?ct(e):t}function rl(t){return zf(t,"__v_skip",!0),t}const Zh=t=>cn(t)?yl(t):t,Sy=t=>cn(t)?xy(t):t;function Cy(t){Wa&&dr&&(t=ct(t),sP(t.dep||(t.dep=by())))}function iv(t,e){t=ct(t),t.dep&&s_(t.dep)}function Gt(t){return!!(t&&t.__v_isRef===!0)}function De(t){return mP(t,!1)}function fP(t){return mP(t,!0)}function mP(t,e){return Gt(t)?t:new SD(t,e)}class SD{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ct(e),this._value=n?e:Zh(e)}get value(){return Cy(this),this._value}set value(e){e=this.__v_isShallow?e:ct(e),Jh(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Zh(e),iv(this))}}function CD(t){iv(t)}function vr(t){return Gt(t)?t.value:t}const ED={get:(t,e,n)=>vr(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Gt(s)&&!Gt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Ey(t){return Gr(t)?t:new Proxy(t,ED)}class TD{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:i}=e(()=>Cy(this),()=>iv(this));this._get=n,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function kD(t){return new TD(t)}function vP(t){const e=Le(t)?new Array(t.length):{};for(const n in t)e[n]=gP(t,n);return e}class PD{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function gP(t,e,n){const i=t[e];return Gt(i)?i:new PD(t,e,n)}class AD{constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Np(e,()=>{this._dirty||(this._dirty=!0,iv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=ct(this);return Cy(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function MD(t,e,n=!1){let i,s;const r=Qe(t);return r?(i=t,s=Hs):(i=t.get,s=t.set),new AD(i,s,r||!s,n)}Promise.resolve();const wh=[];function bP(t,...e){_l();const n=wh.length?wh[wh.length-1].component:null,i=n&&n.appContext.config.warnHandler,s=RD();if(i)gr(i,n,11,[t+e.join(""),n&&n.proxy,s.map(({vnode:r})=>`at <${oA(n,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${t}`,...e];s.length&&r.push(`
`,...ID(s)),console.warn(...r)}xl()}function RD(){let t=wh[wh.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}function ID(t){const e=[];return t.forEach((n,i)=>{e.push(...i===0?[]:[`
`],...OD(n))}),e}function OD({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=t.component?t.component.parent==null:!1,s=` at <${oA(t.component,t.type,i)}`,r=">"+n;return t.props?[s,...ND(t.props),r]:[s+r]}function ND(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(i=>{e.push(..._P(i,t[i]))}),n.length>3&&e.push(" ..."),e}function _P(t,e,n){return tn(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:Gt(e)?(e=_P(t,ct(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):Qe(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=ct(e),n?e:[`${t}=`,e])}function gr(t,e,n,i){let s;try{s=i?t(...i):t()}catch(r){wl(r,e,n)}return s}function Zi(t,e,n,i){if(Qe(t)){const r=gr(t,e,n,i);return r&&fy(r)&&r.catch(a=>{wl(a,e,n)}),r}const s=[];for(let r=0;r<t.length;r++)s.push(Zi(t[r],e,n,i));return s}function wl(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const a=e.proxy,o=n;for(;r;){const c=r.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,a,o)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){gr(l,null,10,[t,a,o]);return}}LD(t,n,s,i)}function LD(t,e,n,i=!0){console.error(t)}let Hf=!1,r_=!1;const Xi=[];let Vr=0;const Sh=[];let dh=null,uc=0;const Ch=[];let Ra=null,hc=0;const xP=Promise.resolve();let Ty=null,a_=null;function Sl(t){const e=Ty||xP;return t?e.then(this?t.bind(this):t):e}function FD(t){let e=Vr+1,n=Xi.length;for(;e<n;){const i=e+n>>>1;ep(Xi[i])<t?e=i+1:n=i}return e}function ky(t){(!Xi.length||!Xi.includes(t,Hf&&t.allowRecurse?Vr+1:Vr))&&t!==a_&&(t.id==null?Xi.push(t):Xi.splice(FD(t.id),0,t),yP())}function yP(){!Hf&&!r_&&(r_=!0,Ty=xP.then(SP))}function DD(t){const e=Xi.indexOf(t);e>Vr&&Xi.splice(e,1)}function wP(t,e,n,i){Le(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?i+1:i))&&n.push(t),yP()}function BD(t){wP(t,dh,Sh,uc)}function Py(t){wP(t,Ra,Ch,hc)}function Ay(t,e=null){if(Sh.length){for(a_=e,dh=[...new Set(Sh)],Sh.length=0,uc=0;uc<dh.length;uc++)dh[uc]();dh=null,uc=0,a_=null,Ay(t,e)}}function qf(t){if(Ch.length){const e=[...new Set(Ch)];if(Ch.length=0,Ra){Ra.push(...e);return}for(Ra=e,Ra.sort((n,i)=>ep(n)-ep(i)),hc=0;hc<Ra.length;hc++)Ra[hc]();Ra=null,hc=0}}const ep=t=>t.id==null?1/0:t.id;function SP(t){r_=!1,Hf=!0,Ay(t),Xi.sort((n,i)=>ep(n)-ep(i));const e=Hs;try{for(Vr=0;Vr<Xi.length;Vr++){const n=Xi[Vr];n&&n.active!==!1&&gr(n,null,14)}}finally{Vr=0,Xi.length=0,qf(),Hf=!1,Ty=null,(Xi.length||Sh.length||Ch.length)&&SP(t)}}let pc,Qd=[];function CP(t,e){var n,i;pc=t,pc?(pc.enabled=!0,Qd.forEach(({event:s,args:r})=>pc.emit(s,...r)),Qd=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((i=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{CP(r,e)}),setTimeout(()=>{pc||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Qd=[])},3e3)):Qd=[]}function jD(t,e,...n){const i=t.vnode.props||Et;let s=n;const r=e.startsWith("update:"),a=r&&e.slice(7);if(a&&a in i){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:d}=i[h]||Et;d?s=n.map(g=>g.trim()):p&&(s=n.map(Za))}let o,l=i[o=yh(e)]||i[o=yh(ns(e))];!l&&r&&(l=i[o=yh(mr(e))]),l&&Zi(l,t,6,s);const c=i[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Zi(c,t,6,s)}}function EP(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},o=!1;if(!Qe(t)){const l=c=>{const h=EP(c,e,!0);h&&(o=!0,ln(a,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!o?(i.set(t,null),null):(Le(r)?r.forEach(l=>a[l]=null):ln(a,r),i.set(t,a),a)}function My(t,e){return!t||!Ip(e)?!1:(e=e.slice(2).replace(/Once$/,""),_t(t,e[0].toLowerCase()+e.slice(1))||_t(t,mr(e))||_t(t,e))}let Ji=null,sv=null;function tp(t){const e=Ji;return Ji=t,sv=t&&t.type.__scopeId||null,e}function UD(t){sv=t}function VD(){sv=null}const $D=t=>Me;function Me(t,e=Ji,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&h_(-1);const r=tp(e),a=t(...s);return tp(r),i._d&&h_(1),a};return i._n=!0,i._c=!0,i._d=!0,i}function kf(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[a],slots:o,attrs:l,emit:c,render:h,renderCache:p,data:d,setupState:g,ctx:x,inheritAttrs:S}=t;let m,_;const y=tp(t);try{if(n.shapeFlag&4){const C=s||i;m=Ki(h.call(C,C,p,r,g,d,x)),_=l}else{const C=e;m=Ki(C.length>1?C(r,{attrs:l,slots:o,emit:c}):C(r,null)),_=e.props?l:HD(l)}}catch(C){kh.length=0,wl(C,t,1),m=le(vi)}let T=m;if(_&&S!==!1){const C=Object.keys(_),{shapeFlag:A}=T;C.length&&A&7&&(a&&C.some(hy)&&(_=qD(_,a)),T=no(T,_))}return n.dirs&&(T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),m=T,tp(y),m}function zD(t){let e;for(let n=0;n<t.length;n++){const i=t[n];if(to(i)){if(i.type!==vi||i.children==="v-if"){if(e)return;e=i}}else return}return e}const HD=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ip(n))&&((e||(e={}))[n]=t[n]);return e},qD=(t,e)=>{const n={};for(const i in t)(!hy(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function WD(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:o,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?wS(i,a,c):!!a;if(l&8){const h=e.dynamicProps;for(let p=0;p<h.length;p++){const d=h[p];if(a[d]!==i[d]&&!My(c,d))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?wS(i,a,c):!0:!!a;return!1}function wS(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!My(n,r))return!0}return!1}function Ry({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const GD=t=>t.__isSuspense,KD={name:"Suspense",__isSuspense:!0,process(t,e,n,i,s,r,a,o,l,c){t==null?XD(e,n,i,s,r,a,o,l,c):QD(t,e,n,i,s,a,o,l,c)},hydrate:JD,create:Iy,normalize:ZD},YD=KD;function np(t,e){const n=t.props&&t.props[e];Qe(n)&&n()}function XD(t,e,n,i,s,r,a,o,l){const{p:c,o:{createElement:h}}=l,p=h("div"),d=t.suspense=Iy(t,s,i,e,p,n,r,a,o,l);c(null,d.pendingBranch=t.ssContent,p,null,i,d,r,a),d.deps>0?(np(t,"onPending"),np(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,r,a),Pc(d,t.ssFallback)):d.resolve()}function QD(t,e,n,i,s,r,a,o,{p:l,um:c,o:{createElement:h}}){const p=e.suspense=t.suspense;p.vnode=e,e.el=t.el;const d=e.ssContent,g=e.ssFallback,{activeBranch:x,pendingBranch:S,isInFallback:m,isHydrating:_}=p;if(S)p.pendingBranch=d,ur(d,S)?(l(S,d,p.hiddenContainer,null,s,p,r,a,o),p.deps<=0?p.resolve():m&&(l(x,g,n,i,s,null,r,a,o),Pc(p,g))):(p.pendingId++,_?(p.isHydrating=!1,p.activeBranch=S):c(S,s,p),p.deps=0,p.effects.length=0,p.hiddenContainer=h("div"),m?(l(null,d,p.hiddenContainer,null,s,p,r,a,o),p.deps<=0?p.resolve():(l(x,g,n,i,s,null,r,a,o),Pc(p,g))):x&&ur(d,x)?(l(x,d,n,i,s,p,r,a,o),p.resolve(!0)):(l(null,d,p.hiddenContainer,null,s,p,r,a,o),p.deps<=0&&p.resolve()));else if(x&&ur(d,x))l(x,d,n,i,s,p,r,a,o),Pc(p,d);else if(np(e,"onPending"),p.pendingBranch=d,p.pendingId++,l(null,d,p.hiddenContainer,null,s,p,r,a,o),p.deps<=0)p.resolve();else{const{timeout:y,pendingId:T}=p;y>0?setTimeout(()=>{p.pendingId===T&&p.fallback(g)},y):y===0&&p.fallback(g)}}function Iy(t,e,n,i,s,r,a,o,l,c,h=!1){const{p,m:d,um:g,n:x,o:{parentNode:S,remove:m}}=c,_=Za(t.props&&t.props.timeout),y={vnode:t,parent:e,parentComponent:n,isSVG:a,container:i,hiddenContainer:s,anchor:r,deps:0,pendingId:0,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(T=!1){const{vnode:C,activeBranch:A,pendingBranch:k,pendingId:P,effects:N,parentComponent:I,container:j}=y;if(y.isHydrating)y.isHydrating=!1;else if(!T){const G=A&&k.transition&&k.transition.mode==="out-in";G&&(A.transition.afterLeave=()=>{P===y.pendingId&&d(k,j,O,0)});let{anchor:O}=y;A&&(O=x(A),g(A,I,y,!0)),G||d(k,j,O,0)}Pc(y,k),y.pendingBranch=null,y.isInFallback=!1;let V=y.parent,D=!1;for(;V;){if(V.pendingBranch){V.effects.push(...N),D=!0;break}V=V.parent}D||Py(N),y.effects=[],np(C,"onResolve")},fallback(T){if(!y.pendingBranch)return;const{vnode:C,activeBranch:A,parentComponent:k,container:P,isSVG:N}=y;np(C,"onFallback");const I=x(A),j=()=>{!y.isInFallback||(p(null,T,P,I,k,null,N,o,l),Pc(y,T))},V=T.transition&&T.transition.mode==="out-in";V&&(A.transition.afterLeave=j),y.isInFallback=!0,g(A,k,null,!0),V||j()},move(T,C,A){y.activeBranch&&d(y.activeBranch,T,C,A),y.container=T},next(){return y.activeBranch&&x(y.activeBranch)},registerDep(T,C){const A=!!y.pendingBranch;A&&y.deps++;const k=T.vnode.el;T.asyncDep.catch(P=>{wl(P,T,0)}).then(P=>{if(T.isUnmounted||y.isUnmounted||y.pendingId!==T.suspenseId)return;T.asyncResolved=!0;const{vnode:N}=T;f_(T,P,!1),k&&(N.el=k);const I=!k&&T.subTree.el;C(T,N,S(k||T.subTree.el),k?null:x(T.subTree),y,a,l),I&&m(I),Ry(T,N.el),A&&--y.deps===0&&y.resolve()})},unmount(T,C){y.isUnmounted=!0,y.activeBranch&&g(y.activeBranch,n,T,C),y.pendingBranch&&g(y.pendingBranch,n,T,C)}};return y}function JD(t,e,n,i,s,r,a,o,l){const c=e.suspense=Iy(e,i,n,t.parentNode,document.createElement("div"),null,s,r,a,o,!0),h=l(t,c.pendingBranch=e.ssContent,n,c,r,a);return c.deps===0&&c.resolve(),h}function ZD(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=SS(i?n.default:n),t.ssFallback=i?SS(n.fallback):le(vi)}function SS(t){let e;if(Qe(t)){const n=zc&&t._c;n&&(t._d=!1,fe()),t=t(),n&&(t._d=!0,e=br,QP())}return Le(t)&&(t=zD(t)),t=Ki(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function TP(t,e){e&&e.pendingBranch?Le(t)?e.effects.push(...t):e.effects.push(t):Py(t)}function Pc(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t,s=n.el=e.el;i&&i.subTree===n&&(i.vnode.el=s,Ry(i,s))}function Eh(t,e){if(Cn){let n=Cn.provides;const i=Cn.parent&&Cn.parent.provides;i===n&&(n=Cn.provides=Object.create(i)),n[t]=e}}function es(t,e,n=!1){const i=Cn||Ji;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Qe(e)?e.call(i.proxy):e}}function eB(t,e){return Lp(t,null,e)}function kP(t,e){return Lp(t,null,{flush:"post"})}function tB(t,e){return Lp(t,null,{flush:"sync"})}const CS={};function qs(t,e,n){return Lp(t,e,n)}function Lp(t,e,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:a}=Et){const o=Cn;let l,c=!1,h=!1;if(Gt(t)?(l=()=>t.value,c=yy(t)):Gr(t)?(l=()=>t,i=!0):Le(t)?(h=!0,c=t.some(Gr),l=()=>t.map(_=>{if(Gt(_))return _.value;if(Gr(_))return Ho(_);if(Qe(_))return gr(_,o,2)})):Qe(t)?e?l=()=>gr(t,o,2):l=()=>{if(!(o&&o.isUnmounted))return p&&p(),Zi(t,o,3,[d])}:l=Hs,e&&i){const _=l;l=()=>Ho(_())}let p,d=_=>{p=m.onStop=()=>{gr(_,o,4)}};if(Hc)return d=Hs,e?n&&Zi(e,o,3,[l(),h?[]:void 0,d]):l(),Hs;let g=h?[]:CS;const x=()=>{if(!!m.active)if(e){const _=m.run();(i||c||(h?_.some((y,T)=>Jh(y,g[T])):Jh(_,g)))&&(p&&p(),Zi(e,o,3,[_,g===CS?void 0:g,d]),g=_)}else m.run()};x.allowRecurse=!!e;let S;s==="sync"?S=x:s==="post"?S=()=>Vn(x,o&&o.suspense):S=()=>{!o||o.isMounted?BD(x):x()};const m=new Np(l,S);return e?n?x():g=m.run():s==="post"?Vn(m.run.bind(m),o&&o.suspense):m.run(),()=>{m.stop(),o&&o.scope&&py(o.scope.effects,m)}}function nB(t,e,n){const i=this.proxy,s=tn(t)?t.includes(".")?PP(i,t):()=>i[t]:t.bind(i,i);let r;Qe(e)?r=e:(r=e.handler,n=e);const a=Cn;io(this);const o=Lp(s,r.bind(i),n);return a?io(a):Ga(),o}function PP(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Ho(t,e){if(!cn(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Gt(t))Ho(t.value,e);else if(Le(t))for(let n=0;n<t.length;n++)Ho(t[n],e);else if(bl(t)||Tc(t))t.forEach(n=>{Ho(n,e)});else if(Qk(t))for(const n in t)Ho(t[n],e);return t}function Oy(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ys(()=>{t.isMounted=!0}),Bp(()=>{t.isUnmounting=!0}),t}const ps=[Function,Array],iB={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ps,onEnter:ps,onAfterEnter:ps,onEnterCancelled:ps,onBeforeLeave:ps,onLeave:ps,onAfterLeave:ps,onLeaveCancelled:ps,onBeforeAppear:ps,onAppear:ps,onAfterAppear:ps,onAppearCancelled:ps},setup(t,{slots:e}){const n=Es(),i=Oy();let s;return()=>{const r=e.default&&rv(e.default(),!0);if(!r||!r.length)return;const a=ct(t),{mode:o}=a,l=r[0];if(i.isLeaving)return tb(l);const c=ES(l);if(!c)return tb(l);const h=Vc(c,a,i,n);al(c,h);const p=n.subTree,d=p&&ES(p);let g=!1;const{getTransitionKey:x}=c.type;if(x){const S=x();s===void 0?s=S:S!==s&&(s=S,g=!0)}if(d&&d.type!==vi&&(!ur(c,d)||g)){const S=Vc(d,a,i,n);if(al(d,S),o==="out-in")return i.isLeaving=!0,S.afterLeave=()=>{i.isLeaving=!1,n.update()},tb(l);o==="in-out"&&c.type!==vi&&(S.delayLeave=(m,_,y)=>{const T=AP(i,d);T[String(d.key)]=d,m._leaveCb=()=>{_(),m._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=y})}return l}}},Ny=iB;function AP(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Vc(t,e,n,i){const{appear:s,mode:r,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:p,onLeave:d,onAfterLeave:g,onLeaveCancelled:x,onBeforeAppear:S,onAppear:m,onAfterAppear:_,onAppearCancelled:y}=e,T=String(t.key),C=AP(n,t),A=(P,N)=>{P&&Zi(P,i,9,N)},k={mode:r,persisted:a,beforeEnter(P){let N=o;if(!n.isMounted)if(s)N=S||o;else return;P._leaveCb&&P._leaveCb(!0);const I=C[T];I&&ur(t,I)&&I.el._leaveCb&&I.el._leaveCb(),A(N,[P])},enter(P){let N=l,I=c,j=h;if(!n.isMounted)if(s)N=m||l,I=_||c,j=y||h;else return;let V=!1;const D=P._enterCb=G=>{V||(V=!0,G?A(j,[P]):A(I,[P]),k.delayedLeave&&k.delayedLeave(),P._enterCb=void 0)};N?(N(P,D),N.length<=1&&D()):D()},leave(P,N){const I=String(t.key);if(P._enterCb&&P._enterCb(!0),n.isUnmounting)return N();A(p,[P]);let j=!1;const V=P._leaveCb=D=>{j||(j=!0,N(),D?A(x,[P]):A(g,[P]),P._leaveCb=void 0,C[I]===t&&delete C[I])};C[I]=t,d?(d(P,V),d.length<=1&&V()):V()},clone(P){return Vc(P,e,n,i)}};return k}function tb(t){if(Dp(t))return t=no(t),t.children=null,t}function ES(t){return Dp(t)?t.children?t.children[0]:void 0:t}function al(t,e){t.shapeFlag&6&&t.component?al(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function rv(t,e=!1){let n=[],i=0;for(let s=0;s<t.length;s++){const r=t[s];r.type===it?(r.patchFlag&128&&i++,n=n.concat(rv(r.children,e))):(e||r.type!==vi)&&n.push(r)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function Fp(t){return Qe(t)?{setup:t,name:t.name}:t}const ip=t=>!!t.type.__asyncLoader;function MP(t){Qe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:s=200,timeout:r,suspensible:a=!0,onError:o}=t;let l=null,c,h=0;const p=()=>(h++,l=null,d()),d=()=>{let g;return l||(g=l=e().catch(x=>{if(x=x instanceof Error?x:new Error(String(x)),o)return new Promise((S,m)=>{o(x,()=>S(p()),()=>m(x),h+1)});throw x}).then(x=>g!==l&&l?l:(x&&(x.__esModule||x[Symbol.toStringTag]==="Module")&&(x=x.default),c=x,x)))};return Fp({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const g=Cn;if(c)return()=>nb(c,g);const x=y=>{l=null,wl(y,g,13,!i)};if(a&&g.suspense||Hc)return d().then(y=>()=>nb(y,g)).catch(y=>(x(y),()=>i?le(i,{error:y}):null));const S=De(!1),m=De(),_=De(!!s);return s&&setTimeout(()=>{_.value=!1},s),r!=null&&setTimeout(()=>{if(!S.value&&!m.value){const y=new Error(`Async component timed out after ${r}ms.`);x(y),m.value=y}},r),d().then(()=>{S.value=!0,g.parent&&Dp(g.parent.vnode)&&ky(g.parent.update)}).catch(y=>{x(y),m.value=y}),()=>{if(S.value&&c)return nb(c,g);if(m.value&&i)return le(i,{error:m.value});if(n&&!_.value)return le(n)}}})}function nb(t,{vnode:{ref:e,props:n,children:i}}){const s=le(t,n,i);return s.ref=e,s}const Dp=t=>t.type.__isKeepAlive,sB={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Es(),i=n.ctx;if(!i.renderer)return e.default;const s=new Map,r=new Set;let a=null;const o=n.suspense,{renderer:{p:l,m:c,um:h,o:{createElement:p}}}=i,d=p("div");i.activate=(y,T,C,A,k)=>{const P=y.component;c(y,T,C,0,o),l(P.vnode,y,T,C,P,o,A,y.slotScopeIds,k),Vn(()=>{P.isDeactivated=!1,P.a&&kc(P.a);const N=y.props&&y.props.onVnodeMounted;N&&Ci(N,P.parent,y)},o)},i.deactivate=y=>{const T=y.component;c(y,d,null,1,o),Vn(()=>{T.da&&kc(T.da);const C=y.props&&y.props.onVnodeUnmounted;C&&Ci(C,T.parent,y),T.isDeactivated=!0},o)};function g(y){ib(y),h(y,n,o,!0)}function x(y){s.forEach((T,C)=>{const A=Xf(T.type);A&&(!y||!y(A))&&S(C)})}function S(y){const T=s.get(y);!a||T.type!==a.type?g(T):a&&ib(a),s.delete(y),r.delete(y)}qs(()=>[t.include,t.exclude],([y,T])=>{y&&x(C=>fh(y,C)),T&&x(C=>!fh(T,C))},{flush:"post",deep:!0});let m=null;const _=()=>{m!=null&&s.set(m,sb(n.subTree))};return Ys(_),ov(_),Bp(()=>{s.forEach(y=>{const{subTree:T,suspense:C}=n,A=sb(T);if(y.type===A.type){ib(A);const k=A.component.da;k&&Vn(k,C);return}g(y)})}),()=>{if(m=null,!e.default)return null;const y=e.default(),T=y[0];if(y.length>1)return a=null,y;if(!to(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return a=null,T;let C=sb(T);const A=C.type,k=Xf(ip(C)?C.type.__asyncResolved||{}:A),{include:P,exclude:N,max:I}=t;if(P&&(!k||!fh(P,k))||N&&k&&fh(N,k))return a=C,T;const j=C.key==null?A:C.key,V=s.get(j);return C.el&&(C=no(C),T.shapeFlag&128&&(T.ssContent=C)),m=j,V?(C.el=V.el,C.component=V.component,C.transition&&al(C,C.transition),C.shapeFlag|=512,r.delete(j),r.add(j)):(r.add(j),I&&r.size>parseInt(I,10)&&S(r.values().next().value)),C.shapeFlag|=256,a=C,T}}},rB=sB;function fh(t,e){return Le(t)?t.some(n=>fh(n,e)):tn(t)?t.split(",").includes(e):t.test?t.test(e):!1}function RP(t,e){OP(t,"a",e)}function IP(t,e){OP(t,"da",e)}function OP(t,e,n=Cn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(av(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Dp(s.parent.vnode)&&aB(i,e,n,s),s=s.parent}}function aB(t,e,n,i){const s=av(e,t,i,!0);jp(()=>{py(i[e],s)},n)}function ib(t){let e=t.shapeFlag;e&256&&(e-=256),e&512&&(e-=512),t.shapeFlag=e}function sb(t){return t.shapeFlag&128?t.ssContent:t}function av(t,e,n=Cn,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;_l(),io(n);const o=Zi(e,n,t,a);return Ga(),xl(),o});return i?s.unshift(r):s.push(r),r}}const la=t=>(e,n=Cn)=>(!Hc||t==="sp")&&av(t,e,n),Ly=la("bm"),Ys=la("m"),NP=la("bu"),ov=la("u"),Bp=la("bum"),jp=la("um"),LP=la("sp"),FP=la("rtg"),DP=la("rtc");function BP(t,e=Cn){av("ec",t,e)}let o_=!0;function oB(t){const e=UP(t),n=t.proxy,i=t.ctx;o_=!1,e.beforeCreate&&TS(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:o,provide:l,inject:c,created:h,beforeMount:p,mounted:d,beforeUpdate:g,updated:x,activated:S,deactivated:m,beforeDestroy:_,beforeUnmount:y,destroyed:T,unmounted:C,render:A,renderTracked:k,renderTriggered:P,errorCaptured:N,serverPrefetch:I,expose:j,inheritAttrs:V,components:D,directives:G,filters:O}=e;if(c&&lB(c,i,null,t.appContext.config.unwrapInjectedRef),a)for(const ae in a){const me=a[ae];Qe(me)&&(i[ae]=me.bind(n))}if(s){const ae=s.call(n,n);cn(ae)&&(t.data=yl(ae))}if(o_=!0,r)for(const ae in r){const me=r[ae],Ae=Qe(me)?me.bind(n,n):Qe(me.get)?me.get.bind(n,n):Hs,Oe=!Qe(me)&&Qe(me.set)?me.set.bind(n):Hs,Be=si({get:Ae,set:Oe});Object.defineProperty(i,ae,{enumerable:!0,configurable:!0,get:()=>Be.value,set:we=>Be.value=we})}if(o)for(const ae in o)jP(o[ae],i,n,ae);if(l){const ae=Qe(l)?l.call(n):l;Reflect.ownKeys(ae).forEach(me=>{Eh(me,ae[me])})}h&&TS(h,t,"c");function X(ae,me){Le(me)?me.forEach(Ae=>ae(Ae.bind(n))):me&&ae(me.bind(n))}if(X(Ly,p),X(Ys,d),X(NP,g),X(ov,x),X(RP,S),X(IP,m),X(BP,N),X(DP,k),X(FP,P),X(Bp,y),X(jp,C),X(LP,I),Le(j))if(j.length){const ae=t.exposed||(t.exposed={});j.forEach(me=>{Object.defineProperty(ae,me,{get:()=>n[me],set:Ae=>n[me]=Ae})})}else t.exposed||(t.exposed={});A&&t.render===Hs&&(t.render=A),V!=null&&(t.inheritAttrs=V),D&&(t.components=D),G&&(t.directives=G)}function lB(t,e,n=Hs,i=!1){Le(t)&&(t=l_(t));for(const s in t){const r=t[s];let a;cn(r)?"default"in r?a=es(r.from||s,r.default,!0):a=es(r.from||s):a=es(r),Gt(a)&&i?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[s]=a}}function TS(t,e,n){Zi(Le(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function jP(t,e,n,i){const s=i.includes(".")?PP(n,i):()=>n[i];if(tn(t)){const r=e[t];Qe(r)&&qs(s,r)}else if(Qe(t))qs(s,t.bind(n));else if(cn(t))if(Le(t))t.forEach(r=>jP(r,e,n,i));else{const r=Qe(t.handler)?t.handler.bind(n):e[t.handler];Qe(r)&&qs(s,r,t)}}function UP(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,o=r.get(e);let l;return o?l=o:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>Wf(l,c,a,!0)),Wf(l,e,a)),r.set(e,l),l}function Wf(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&Wf(t,r,n,!0),s&&s.forEach(a=>Wf(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=cB[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const cB={data:kS,props:Lo,emits:Lo,methods:Lo,computed:Lo,beforeCreate:pi,created:pi,beforeMount:pi,mounted:pi,beforeUpdate:pi,updated:pi,beforeDestroy:pi,beforeUnmount:pi,destroyed:pi,unmounted:pi,activated:pi,deactivated:pi,errorCaptured:pi,serverPrefetch:pi,components:Lo,directives:Lo,watch:hB,provide:kS,inject:uB};function kS(t,e){return e?t?function(){return ln(Qe(t)?t.call(this,this):t,Qe(e)?e.call(this,this):e)}:e:t}function uB(t,e){return Lo(l_(t),l_(e))}function l_(t){if(Le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function pi(t,e){return t?[...new Set([].concat(t,e))]:e}function Lo(t,e){return t?ln(ln(Object.create(null),t),e):e}function hB(t,e){if(!t)return e;if(!e)return t;const n=ln(Object.create(null),t);for(const i in e)n[i]=pi(t[i],e[i]);return n}function pB(t,e,n,i=!1){const s={},r={};zf(r,lv,1),t.propsDefaults=Object.create(null),VP(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=i?s:dP(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function dB(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,o=ct(s),[l]=t.propsOptions;let c=!1;if((i||a>0)&&!(a&16)){if(a&8){const h=t.vnode.dynamicProps;for(let p=0;p<h.length;p++){let d=h[p];const g=e[d];if(l)if(_t(r,d))g!==r[d]&&(r[d]=g,c=!0);else{const x=ns(d);s[x]=c_(l,o,x,g,t,!1)}else g!==r[d]&&(r[d]=g,c=!0)}}}else{VP(t,e,s,r)&&(c=!0);let h;for(const p in o)(!e||!_t(e,p)&&((h=mr(p))===p||!_t(e,h)))&&(l?n&&(n[p]!==void 0||n[h]!==void 0)&&(s[p]=c_(l,o,p,void 0,t,!0)):delete s[p]);if(r!==o)for(const p in r)(!e||!_t(e,p)&&!0)&&(delete r[p],c=!0)}c&&ea(t,"set","$attrs")}function VP(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(xh(l))continue;const c=e[l];let h;s&&_t(s,h=ns(l))?!r||!r.includes(h)?n[h]=c:(o||(o={}))[h]=c:My(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,a=!0)}if(r){const l=ct(n),c=o||Et;for(let h=0;h<r.length;h++){const p=r[h];n[p]=c_(s,l,p,c[p],t,!_t(c,p))}}return a}function c_(t,e,n,i,s,r){const a=t[n];if(a!=null){const o=_t(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&Qe(l)){const{propsDefaults:c}=s;n in c?i=c[n]:(io(s),i=c[n]=l.call(null,e),Ga())}else i=l}a[0]&&(r&&!o?i=!1:a[1]&&(i===""||i===mr(n))&&(i=!0))}return i}function $P(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},o=[];let l=!1;if(!Qe(t)){const h=p=>{l=!0;const[d,g]=$P(p,e,!0);ln(a,d),g&&o.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!r&&!l)return i.set(t,Ec),Ec;if(Le(r))for(let h=0;h<r.length;h++){const p=ns(r[h]);PS(p)&&(a[p]=Et)}else if(r)for(const h in r){const p=ns(h);if(PS(p)){const d=r[h],g=a[p]=Le(d)||Qe(d)?{type:d}:d;if(g){const x=RS(Boolean,g.type),S=RS(String,g.type);g[0]=x>-1,g[1]=S<0||x<S,(x>-1||_t(g,"default"))&&o.push(p)}}}const c=[a,o];return i.set(t,c),c}function PS(t){return t[0]!=="$"}function AS(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function MS(t,e){return AS(t)===AS(e)}function RS(t,e){return Le(e)?e.findIndex(n=>MS(n,t)):Qe(e)&&MS(e,t)?0:-1}const zP=t=>t[0]==="_"||t==="$stable",Fy=t=>Le(t)?t.map(Ki):[Ki(t)],fB=(t,e,n)=>{const i=Me((...s)=>Fy(e(...s)),n);return i._c=!1,i},HP=(t,e,n)=>{const i=t._ctx;for(const s in t){if(zP(s))continue;const r=t[s];if(Qe(r))e[s]=fB(s,r,i);else if(r!=null){const a=Fy(r);e[s]=()=>a}}},qP=(t,e)=>{const n=Fy(e);t.slots.default=()=>n},mB=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ct(e),zf(e,"_",n)):HP(e,t.slots={})}else t.slots={},e&&qP(t,e);zf(t.slots,lv,1)},vB=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=Et;if(i.shapeFlag&32){const o=e._;o?n&&o===1?r=!1:(ln(s,e),!n&&o===1&&delete s._):(r=!e.$stable,HP(e,s)),a=e}else e&&(qP(t,e),a={default:1});if(r)for(const o in s)!zP(o)&&!(o in a)&&delete s[o]};function Ie(t,e){const n=Ji;if(n===null)return t;const i=n.proxy,s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[a,o,l,c=Et]=e[r];Qe(a)&&(a={mounted:a,updated:a}),a.deep&&Ho(o),s.push({dir:a,instance:i,value:o,oldValue:void 0,arg:l,modifiers:c})}return t}function or(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];r&&(o.oldValue=r[a].value);let l=o.dir[i];l&&(_l(),Zi(l,n,8,[t.el,o,t,e]),xl())}}function WP(){return{app:null,config:{isNativeTag:VF,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gB=0;function bB(t,e){return function(i,s=null){s!=null&&!cn(s)&&(s=null);const r=WP(),a=new Set;let o=!1;const l=r.app={_uid:gB++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:hA,get config(){return r.config},set config(c){},use(c,...h){return a.has(c)||(c&&Qe(c.install)?(a.add(c),c.install(l,...h)):Qe(c)&&(a.add(c),c(l,...h))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,h){return h?(r.components[c]=h,l):r.components[c]},directive(c,h){return h?(r.directives[c]=h,l):r.directives[c]},mount(c,h,p){if(!o){const d=le(i,s);return d.appContext=r,h&&e?e(d,c):t(d,c,p),o=!0,l._container=c,c.__vue_app__=l,$y(d.component)||d.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,h){return r.provides[c]=h,l}};return l}}function Gf(t,e,n,i,s=!1){if(Le(t)){t.forEach((d,g)=>Gf(d,e&&(Le(e)?e[g]:e),n,i,s));return}if(ip(i)&&!s)return;const r=i.shapeFlag&4?$y(i.component)||i.component.proxy:i.el,a=s?null:r,{i:o,r:l}=t,c=e&&e.r,h=o.refs===Et?o.refs={}:o.refs,p=o.setupState;if(c!=null&&c!==l&&(tn(c)?(h[c]=null,_t(p,c)&&(p[c]=null)):Gt(c)&&(c.value=null)),Qe(l))gr(l,o,12,[a,h]);else{const d=tn(l),g=Gt(l);if(d||g){const x=()=>{if(t.f){const S=d?h[l]:l.value;s?Le(S)&&py(S,r):Le(S)?S.includes(r)||S.push(r):d?h[l]=[r]:(l.value=[r],t.k&&(h[t.k]=l.value))}else d?(h[l]=a,_t(p,l)&&(p[l]=a)):Gt(l)&&(l.value=a,t.k&&(h[t.k]=a))};a?(x.id=-1,Vn(x,n)):x()}}}let wa=!1;const Jd=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",rb=t=>t.nodeType===8;function _B(t){const{mt:e,p:n,o:{patchProp:i,nextSibling:s,parentNode:r,remove:a,insert:o,createComment:l}}=t,c=(m,_)=>{if(!_.hasChildNodes()){n(null,m,_),qf();return}wa=!1,h(_.firstChild,m,null,null,null),qf(),wa&&console.error("Hydration completed but contains mismatches.")},h=(m,_,y,T,C,A=!1)=>{const k=rb(m)&&m.data==="[",P=()=>x(m,_,y,T,C,k),{type:N,ref:I,shapeFlag:j}=_,V=m.nodeType;_.el=m;let D=null;switch(N){case $c:V!==3?D=P():(m.data!==_.children&&(wa=!0,m.data=_.children),D=s(m));break;case vi:V!==8||k?D=P():D=s(m);break;case Qo:if(V!==1)D=P();else{D=m;const G=!_.children.length;for(let O=0;O<_.staticCount;O++)G&&(_.children+=D.outerHTML),O===_.staticCount-1&&(_.anchor=D),D=s(D);return D}break;case it:k?D=g(m,_,y,T,C,A):D=P();break;default:if(j&1)V!==1||_.type.toLowerCase()!==m.tagName.toLowerCase()?D=P():D=p(m,_,y,T,C,A);else if(j&6){_.slotScopeIds=C;const G=r(m);if(e(_,G,null,y,T,Jd(G),A),D=k?S(m):s(m),ip(_)){let O;k?(O=le(it),O.anchor=D?D.previousSibling:G.lastChild):O=m.nodeType===3?qn(""):le("div"),O.el=m,_.component.subTree=O}}else j&64?V!==8?D=P():D=_.type.hydrate(m,_,y,T,C,A,t,d):j&128&&(D=_.type.hydrate(m,_,y,T,Jd(r(m)),C,A,t,h))}return I!=null&&Gf(I,null,T,_),D},p=(m,_,y,T,C,A)=>{A=A||!!_.dynamicChildren;const{type:k,props:P,patchFlag:N,shapeFlag:I,dirs:j}=_,V=k==="input"&&j||k==="option";if(V||N!==-1){if(j&&or(_,null,y,"created"),P)if(V||!A||N&48)for(const G in P)(V&&G.endsWith("value")||Ip(G)&&!xh(G))&&i(m,G,null,P[G],!1,void 0,y);else P.onClick&&i(m,"onClick",null,P.onClick,!1,void 0,y);let D;if((D=P&&P.onVnodeBeforeMount)&&Ci(D,y,_),j&&or(_,null,y,"beforeMount"),((D=P&&P.onVnodeMounted)||j)&&TP(()=>{D&&Ci(D,y,_),j&&or(_,null,y,"mounted")},T),I&16&&!(P&&(P.innerHTML||P.textContent))){let G=d(m.firstChild,_,m,y,T,C,A);for(;G;){wa=!0;const O=G;G=G.nextSibling,a(O)}}else I&8&&m.textContent!==_.children&&(wa=!0,m.textContent=_.children)}return m.nextSibling},d=(m,_,y,T,C,A,k)=>{k=k||!!_.dynamicChildren;const P=_.children,N=P.length;for(let I=0;I<N;I++){const j=k?P[I]:P[I]=Ki(P[I]);if(m)m=h(m,j,T,C,A,k);else{if(j.type===$c&&!j.children)continue;wa=!0,n(null,j,y,null,T,C,Jd(y),A)}}return m},g=(m,_,y,T,C,A)=>{const{slotScopeIds:k}=_;k&&(C=C?C.concat(k):k);const P=r(m),N=d(s(m),_,P,y,T,C,A);return N&&rb(N)&&N.data==="]"?s(_.anchor=N):(wa=!0,o(_.anchor=l("]"),P,N),N)},x=(m,_,y,T,C,A)=>{if(wa=!0,_.el=null,A){const N=S(m);for(;;){const I=s(m);if(I&&I!==N)a(I);else break}}const k=s(m),P=r(m);return a(m),n(null,_,P,k,y,T,Jd(P),C),k},S=m=>{let _=0;for(;m;)if(m=s(m),m&&rb(m)&&(m.data==="["&&_++,m.data==="]")){if(_===0)return s(m);_--}return m};return[c,h]}const Vn=TP;function GP(t){return YP(t)}function KP(t){return YP(t,_B)}function YP(t,e){const n=GF();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:o,createComment:l,setText:c,setElementText:h,parentNode:p,nextSibling:d,setScopeId:g=Hs,cloneNode:x,insertStaticContent:S}=t,m=(F,B,Z,$=null,Q=null,te=null,ee=!1,re=null,W=!!B.dynamicChildren)=>{if(F===B)return;F&&!ur(F,B)&&($=Te(F),Se(F,Q,te,!0),F=null),B.patchFlag===-2&&(W=!1,B.dynamicChildren=null);const{type:q,ref:oe,shapeFlag:se}=B;switch(q){case $c:_(F,B,Z,$);break;case vi:y(F,B,Z,$);break;case Qo:F==null&&T(B,Z,$,ee);break;case it:G(F,B,Z,$,Q,te,ee,re,W);break;default:se&1?k(F,B,Z,$,Q,te,ee,re,W):se&6?O(F,B,Z,$,Q,te,ee,re,W):(se&64||se&128)&&q.process(F,B,Z,$,Q,te,ee,re,W,He)}oe!=null&&Q&&Gf(oe,F&&F.ref,te,B||F,!B)},_=(F,B,Z,$)=>{if(F==null)i(B.el=o(B.children),Z,$);else{const Q=B.el=F.el;B.children!==F.children&&c(Q,B.children)}},y=(F,B,Z,$)=>{F==null?i(B.el=l(B.children||""),Z,$):B.el=F.el},T=(F,B,Z,$)=>{[F.el,F.anchor]=S(F.children,B,Z,$,F.el,F.anchor)},C=({el:F,anchor:B},Z,$)=>{let Q;for(;F&&F!==B;)Q=d(F),i(F,Z,$),F=Q;i(B,Z,$)},A=({el:F,anchor:B})=>{let Z;for(;F&&F!==B;)Z=d(F),s(F),F=Z;s(B)},k=(F,B,Z,$,Q,te,ee,re,W)=>{ee=ee||B.type==="svg",F==null?P(B,Z,$,Q,te,ee,re,W):j(F,B,Q,te,ee,re,W)},P=(F,B,Z,$,Q,te,ee,re)=>{let W,q;const{type:oe,props:se,shapeFlag:de,transition:he,patchFlag:ge,dirs:_e}=F;if(F.el&&x!==void 0&&ge===-1)W=F.el=x(F.el);else{if(W=F.el=a(F.type,te,se&&se.is,se),de&8?h(W,F.children):de&16&&I(F.children,W,null,$,Q,te&&oe!=="foreignObject",ee,re),_e&&or(F,null,$,"created"),se){for(const $e in se)$e!=="value"&&!xh($e)&&r(W,$e,null,se[$e],te,F.children,$,Q,ve);"value"in se&&r(W,"value",null,se.value),(q=se.onVnodeBeforeMount)&&Ci(q,$,F)}N(W,F,F.scopeId,ee,$)}_e&&or(F,null,$,"beforeMount");const Ue=(!Q||Q&&!Q.pendingBranch)&&he&&!he.persisted;Ue&&he.beforeEnter(W),i(W,B,Z),((q=se&&se.onVnodeMounted)||Ue||_e)&&Vn(()=>{q&&Ci(q,$,F),Ue&&he.enter(W),_e&&or(F,null,$,"mounted")},Q)},N=(F,B,Z,$,Q)=>{if(Z&&g(F,Z),$)for(let te=0;te<$.length;te++)g(F,$[te]);if(Q){let te=Q.subTree;if(B===te){const ee=Q.vnode;N(F,ee,ee.scopeId,ee.slotScopeIds,Q.parent)}}},I=(F,B,Z,$,Q,te,ee,re,W=0)=>{for(let q=W;q<F.length;q++){const oe=F[q]=re?La(F[q]):Ki(F[q]);m(null,oe,B,Z,$,Q,te,ee,re)}},j=(F,B,Z,$,Q,te,ee)=>{const re=B.el=F.el;let{patchFlag:W,dynamicChildren:q,dirs:oe}=B;W|=F.patchFlag&16;const se=F.props||Et,de=B.props||Et;let he;Z&&ko(Z,!1),(he=de.onVnodeBeforeUpdate)&&Ci(he,Z,B,F),oe&&or(B,F,Z,"beforeUpdate"),Z&&ko(Z,!0);const ge=Q&&B.type!=="foreignObject";if(q?V(F.dynamicChildren,q,re,Z,$,ge,te):ee||Ae(F,B,re,null,Z,$,ge,te,!1),W>0){if(W&16)D(re,B,se,de,Z,$,Q);else if(W&2&&se.class!==de.class&&r(re,"class",null,de.class,Q),W&4&&r(re,"style",se.style,de.style,Q),W&8){const _e=B.dynamicProps;for(let Ue=0;Ue<_e.length;Ue++){const $e=_e[Ue],ft=se[$e],Ct=de[$e];(Ct!==ft||$e==="value")&&r(re,$e,ft,Ct,Q,F.children,Z,$,ve)}}W&1&&F.children!==B.children&&h(re,B.children)}else!ee&&q==null&&D(re,B,se,de,Z,$,Q);((he=de.onVnodeUpdated)||oe)&&Vn(()=>{he&&Ci(he,Z,B,F),oe&&or(B,F,Z,"updated")},$)},V=(F,B,Z,$,Q,te,ee)=>{for(let re=0;re<B.length;re++){const W=F[re],q=B[re],oe=W.el&&(W.type===it||!ur(W,q)||W.shapeFlag&70)?p(W.el):Z;m(W,q,oe,null,$,Q,te,ee,!0)}},D=(F,B,Z,$,Q,te,ee)=>{if(Z!==$){for(const re in $){if(xh(re))continue;const W=$[re],q=Z[re];W!==q&&re!=="value"&&r(F,re,q,W,ee,B.children,Q,te,ve)}if(Z!==Et)for(const re in Z)!xh(re)&&!(re in $)&&r(F,re,Z[re],null,ee,B.children,Q,te,ve);"value"in $&&r(F,"value",Z.value,$.value)}},G=(F,B,Z,$,Q,te,ee,re,W)=>{const q=B.el=F?F.el:o(""),oe=B.anchor=F?F.anchor:o("");let{patchFlag:se,dynamicChildren:de,slotScopeIds:he}=B;he&&(re=re?re.concat(he):he),F==null?(i(q,Z,$),i(oe,Z,$),I(B.children,Z,oe,Q,te,ee,re,W)):se>0&&se&64&&de&&F.dynamicChildren?(V(F.dynamicChildren,de,Z,Q,te,ee,re),(B.key!=null||Q&&B===Q.subTree)&&Dy(F,B,!0)):Ae(F,B,Z,oe,Q,te,ee,re,W)},O=(F,B,Z,$,Q,te,ee,re,W)=>{B.slotScopeIds=re,F==null?B.shapeFlag&512?Q.ctx.activate(B,Z,$,ee,W):J(B,Z,$,Q,te,ee,W):X(F,B,W)},J=(F,B,Z,$,Q,te,ee)=>{const re=F.component=nA(F,$,Q);if(Dp(F)&&(re.ctx.renderer=He),sA(re),re.asyncDep){if(Q&&Q.registerDep(re,ae),!F.el){const W=re.subTree=le(vi);y(null,W,B,Z)}return}ae(re,F,B,Z,Q,te,ee)},X=(F,B,Z)=>{const $=B.component=F.component;if(WD(F,B,Z))if($.asyncDep&&!$.asyncResolved){me($,B,Z);return}else $.next=B,DD($.update),$.update();else B.component=F.component,B.el=F.el,$.vnode=B},ae=(F,B,Z,$,Q,te,ee)=>{const re=()=>{if(F.isMounted){let{next:oe,bu:se,u:de,parent:he,vnode:ge}=F,_e=oe,Ue;ko(F,!1),oe?(oe.el=ge.el,me(F,oe,ee)):oe=ge,se&&kc(se),(Ue=oe.props&&oe.props.onVnodeBeforeUpdate)&&Ci(Ue,he,oe,ge),ko(F,!0);const $e=kf(F),ft=F.subTree;F.subTree=$e,m(ft,$e,p(ft.el),Te(ft),F,Q,te),oe.el=$e.el,_e===null&&Ry(F,$e.el),de&&Vn(de,Q),(Ue=oe.props&&oe.props.onVnodeUpdated)&&Vn(()=>Ci(Ue,he,oe,ge),Q)}else{let oe;const{el:se,props:de}=B,{bm:he,m:ge,parent:_e}=F,Ue=ip(B);if(ko(F,!1),he&&kc(he),!Ue&&(oe=de&&de.onVnodeBeforeMount)&&Ci(oe,_e,B),ko(F,!0),se&&K){const $e=()=>{F.subTree=kf(F),K(se,F.subTree,F,Q,null)};Ue?B.type.__asyncLoader().then(()=>!F.isUnmounted&&$e()):$e()}else{const $e=F.subTree=kf(F);m(null,$e,Z,$,F,Q,te),B.el=$e.el}if(ge&&Vn(ge,Q),!Ue&&(oe=de&&de.onVnodeMounted)){const $e=B;Vn(()=>Ci(oe,_e,$e),Q)}B.shapeFlag&256&&F.a&&Vn(F.a,Q),F.isMounted=!0,B=Z=$=null}},W=F.effect=new Np(re,()=>ky(F.update),F.scope),q=F.update=W.run.bind(W);q.id=F.uid,ko(F,!0),q()},me=(F,B,Z)=>{B.component=F;const $=F.vnode.props;F.vnode=B,F.next=null,dB(F,B.props,$,Z),vB(F,B.children,Z),_l(),Ay(void 0,F.update),xl()},Ae=(F,B,Z,$,Q,te,ee,re,W=!1)=>{const q=F&&F.children,oe=F?F.shapeFlag:0,se=B.children,{patchFlag:de,shapeFlag:he}=B;if(de>0){if(de&128){Be(q,se,Z,$,Q,te,ee,re,W);return}else if(de&256){Oe(q,se,Z,$,Q,te,ee,re,W);return}}he&8?(oe&16&&ve(q,Q,te),se!==q&&h(Z,se)):oe&16?he&16?Be(q,se,Z,$,Q,te,ee,re,W):ve(q,Q,te,!0):(oe&8&&h(Z,""),he&16&&I(se,Z,$,Q,te,ee,re,W))},Oe=(F,B,Z,$,Q,te,ee,re,W)=>{F=F||Ec,B=B||Ec;const q=F.length,oe=B.length,se=Math.min(q,oe);let de;for(de=0;de<se;de++){const he=B[de]=W?La(B[de]):Ki(B[de]);m(F[de],he,Z,null,Q,te,ee,re,W)}q>oe?ve(F,Q,te,!0,!1,se):I(B,Z,$,Q,te,ee,re,W,se)},Be=(F,B,Z,$,Q,te,ee,re,W)=>{let q=0;const oe=B.length;let se=F.length-1,de=oe-1;for(;q<=se&&q<=de;){const he=F[q],ge=B[q]=W?La(B[q]):Ki(B[q]);if(ur(he,ge))m(he,ge,Z,null,Q,te,ee,re,W);else break;q++}for(;q<=se&&q<=de;){const he=F[se],ge=B[de]=W?La(B[de]):Ki(B[de]);if(ur(he,ge))m(he,ge,Z,null,Q,te,ee,re,W);else break;se--,de--}if(q>se){if(q<=de){const he=de+1,ge=he<oe?B[he].el:$;for(;q<=de;)m(null,B[q]=W?La(B[q]):Ki(B[q]),Z,ge,Q,te,ee,re,W),q++}}else if(q>de)for(;q<=se;)Se(F[q],Q,te,!0),q++;else{const he=q,ge=q,_e=new Map;for(q=ge;q<=de;q++){const Rt=B[q]=W?La(B[q]):Ki(B[q]);Rt.key!=null&&_e.set(Rt.key,q)}let Ue,$e=0;const ft=de-ge+1;let Ct=!1,un=0;const An=new Array(ft);for(q=0;q<ft;q++)An[q]=0;for(q=he;q<=se;q++){const Rt=F[q];if($e>=ft){Se(Rt,Q,te,!0);continue}let bn;if(Rt.key!=null)bn=_e.get(Rt.key);else for(Ue=ge;Ue<=de;Ue++)if(An[Ue-ge]===0&&ur(Rt,B[Ue])){bn=Ue;break}bn===void 0?Se(Rt,Q,te,!0):(An[bn-ge]=q+1,bn>=un?un=bn:Ct=!0,m(Rt,B[bn],Z,null,Q,te,ee,re,W),$e++)}const Ts=Ct?xB(An):Ec;for(Ue=Ts.length-1,q=ft-1;q>=0;q--){const Rt=ge+q,bn=B[Rt],nn=Rt+1<oe?B[Rt+1].el:$;An[q]===0?m(null,bn,Z,nn,Q,te,ee,re,W):Ct&&(Ue<0||q!==Ts[Ue]?we(bn,Z,nn,2):Ue--)}}},we=(F,B,Z,$,Q=null)=>{const{el:te,type:ee,transition:re,children:W,shapeFlag:q}=F;if(q&6){we(F.component.subTree,B,Z,$);return}if(q&128){F.suspense.move(B,Z,$);return}if(q&64){ee.move(F,B,Z,He);return}if(ee===it){i(te,B,Z);for(let se=0;se<W.length;se++)we(W[se],B,Z,$);i(F.anchor,B,Z);return}if(ee===Qo){C(F,B,Z);return}if($!==2&&q&1&&re)if($===0)re.beforeEnter(te),i(te,B,Z),Vn(()=>re.enter(te),Q);else{const{leave:se,delayLeave:de,afterLeave:he}=re,ge=()=>i(te,B,Z),_e=()=>{se(te,()=>{ge(),he&&he()})};de?de(te,ge,_e):_e()}else i(te,B,Z)},Se=(F,B,Z,$=!1,Q=!1)=>{const{type:te,props:ee,ref:re,children:W,dynamicChildren:q,shapeFlag:oe,patchFlag:se,dirs:de}=F;if(re!=null&&Gf(re,null,Z,F,!0),oe&256){B.ctx.deactivate(F);return}const he=oe&1&&de,ge=!ip(F);let _e;if(ge&&(_e=ee&&ee.onVnodeBeforeUnmount)&&Ci(_e,B,F),oe&6)be(F.component,Z,$);else{if(oe&128){F.suspense.unmount(Z,$);return}he&&or(F,null,B,"beforeUnmount"),oe&64?F.type.remove(F,B,Z,Q,He,$):q&&(te!==it||se>0&&se&64)?ve(q,B,Z,!1,!0):(te===it&&se&384||!Q&&oe&16)&&ve(W,B,Z),$&&We(F)}(ge&&(_e=ee&&ee.onVnodeUnmounted)||he)&&Vn(()=>{_e&&Ci(_e,B,F),he&&or(F,null,B,"unmounted")},Z)},We=F=>{const{type:B,el:Z,anchor:$,transition:Q}=F;if(B===it){ue(Z,$);return}if(B===Qo){A(F);return}const te=()=>{s(Z),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(F.shapeFlag&1&&Q&&!Q.persisted){const{leave:ee,delayLeave:re}=Q,W=()=>ee(Z,te);re?re(F.el,te,W):W()}else te()},ue=(F,B)=>{let Z;for(;F!==B;)Z=d(F),s(F),F=Z;s(B)},be=(F,B,Z)=>{const{bum:$,scope:Q,update:te,subTree:ee,um:re}=F;$&&kc($),Q.stop(),te&&(te.active=!1,Se(ee,F,B,Z)),re&&Vn(re,B),Vn(()=>{F.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},ve=(F,B,Z,$=!1,Q=!1,te=0)=>{for(let ee=te;ee<F.length;ee++)Se(F[ee],B,Z,$,Q)},Te=F=>F.shapeFlag&6?Te(F.component.subTree):F.shapeFlag&128?F.suspense.next():d(F.anchor||F.el),Ne=(F,B,Z)=>{F==null?B._vnode&&Se(B._vnode,null,null,!0):m(B._vnode||null,F,B,null,null,null,Z),qf(),B._vnode=F},He={p:m,um:Se,m:we,r:We,mt:J,mc:I,pc:Ae,pbc:V,n:Te,o:t};let z,K;return e&&([z,K]=e(He)),{render:Ne,hydrate:z,createApp:bB(Ne,z)}}function ko({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Dy(t,e,n=!1){const i=t.children,s=e.children;if(Le(i)&&Le(s))for(let r=0;r<i.length;r++){const a=i[r];let o=s[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[r]=La(s[r]),o.el=a.el),n||Dy(a,o))}}function xB(t){const e=t.slice(),n=[0];let i,s,r,a,o;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)o=r+a>>1,t[n[o]]<c?r=o+1:a=o;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}const yB=t=>t.__isTeleport,Th=t=>t&&(t.disabled||t.disabled===""),IS=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,u_=(t,e)=>{const n=t&&t.to;return tn(n)?e?e(n):null:n},wB={__isTeleport:!0,process(t,e,n,i,s,r,a,o,l,c){const{mc:h,pc:p,pbc:d,o:{insert:g,querySelector:x,createText:S,createComment:m}}=c,_=Th(e.props);let{shapeFlag:y,children:T,dynamicChildren:C}=e;if(t==null){const A=e.el=S(""),k=e.anchor=S("");g(A,n,i),g(k,n,i);const P=e.target=u_(e.props,x),N=e.targetAnchor=S("");P&&(g(N,P),a=a||IS(P));const I=(j,V)=>{y&16&&h(T,j,V,s,r,a,o,l)};_?I(n,k):P&&I(P,N)}else{e.el=t.el;const A=e.anchor=t.anchor,k=e.target=t.target,P=e.targetAnchor=t.targetAnchor,N=Th(t.props),I=N?n:k,j=N?A:P;if(a=a||IS(k),C?(d(t.dynamicChildren,C,I,s,r,a,o),Dy(t,e,!0)):l||p(t,e,I,j,s,r,a,o,!1),_)N||Zd(e,n,A,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const V=e.target=u_(e.props,x);V&&Zd(e,V,null,c,0)}else N&&Zd(e,k,P,c,1)}},remove(t,e,n,i,{um:s,o:{remove:r}},a){const{shapeFlag:o,children:l,anchor:c,targetAnchor:h,target:p,props:d}=t;if(p&&r(h),(a||!Th(d))&&(r(c),o&16))for(let g=0;g<l.length;g++){const x=l[g];s(x,e,n,!0,!!x.dynamicChildren)}},move:Zd,hydrate:SB};function Zd(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:h}=t,p=r===2;if(p&&i(a,e,n),(!p||Th(h))&&l&16)for(let d=0;d<c.length;d++)s(c[d],e,n,2);p&&i(o,e,n)}function SB(t,e,n,i,s,r,{o:{nextSibling:a,parentNode:o,querySelector:l}},c){const h=e.target=u_(e.props,l);if(h){const p=h._lpa||h.firstChild;e.shapeFlag&16&&(Th(e.props)?(e.anchor=c(a(t),e,o(t),n,i,s,r),e.targetAnchor=p):(e.anchor=a(t),e.targetAnchor=c(p,e,h,n,i,s,r)),h._lpa=e.targetAnchor&&a(e.targetAnchor))}return e.anchor&&a(e.anchor)}const CB=wB,By="components",EB="directives";function Pe(t,e){return Uy(By,t,!0,e)||t}const XP=Symbol();function jy(t){return tn(t)?Uy(By,t,!1)||t:t||XP}function Up(t){return Uy(EB,t)}function Uy(t,e,n=!0,i=!1){const s=Ji||Cn;if(s){const r=s.type;if(t===By){const o=Xf(r);if(o&&(o===e||o===ns(e)||o===Op(ns(e))))return r}const a=OS(s[t]||r[t],e)||OS(s.appContext[t],e);return!a&&i?r:a}}function OS(t,e){return t&&(t[e]||t[ns(e)]||t[Op(ns(e))])}const it=Symbol(void 0),$c=Symbol(void 0),vi=Symbol(void 0),Qo=Symbol(void 0),kh=[];let br=null;function fe(t=!1){kh.push(br=t?null:[])}function QP(){kh.pop(),br=kh[kh.length-1]||null}let zc=1;function h_(t){zc+=t}function JP(t){return t.dynamicChildren=zc>0?br||Ec:null,QP(),zc>0&&br&&br.push(t),t}function Ee(t,e,n,i,s,r){return JP(U(t,e,n,i,s,r,!0))}function wt(t,e,n,i,s){return JP(le(t,e,n,i,s,!0))}function to(t){return t?t.__v_isVNode===!0:!1}function ur(t,e){return t.type===e.type&&t.key===e.key}function TB(t){}const lv="__vInternal",ZP=({key:t})=>t!=null?t:null,Pf=({ref:t,ref_key:e,ref_for:n})=>t!=null?tn(t)||Gt(t)||Qe(t)?{i:Ji,r:t,k:e,f:!!n}:t:null;function U(t,e=null,n=null,i=0,s=null,r=t===it?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ZP(e),ref:e&&Pf(e),scopeId:sv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return o?(Vy(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=tn(n)?8:16),zc>0&&!a&&br&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&br.push(l),l}const le=kB;function kB(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===XP)&&(t=vi),to(t)){const o=no(t,e,!0);return n&&Vy(o,n),o}if(jB(t)&&(t=t.__vccOpts),e){e=pu(e);let{class:o,style:l}=e;o&&!tn(o)&&(e.class=fn(o)),cn(l)&&(wy(l)&&!Le(l)&&(l=ln({},l)),e.style=ai(l))}const a=tn(t)?1:GD(t)?128:yB(t)?64:cn(t)?4:Qe(t)?2:0;return U(t,e,n,i,s,a,r,!0)}function pu(t){return t?wy(t)||lv in t?ln({},t):t:null}function no(t,e,n=!1){const{props:i,ref:s,patchFlag:r,children:a}=t,o=e?_r(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&ZP(o),ref:e&&e.ref?n&&s?Le(s)?s.concat(Pf(e)):[s,Pf(e)]:Pf(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==it?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&no(t.ssContent),ssFallback:t.ssFallback&&no(t.ssFallback),el:t.el,anchor:t.anchor}}function qn(t=" ",e=0){return le($c,null,t,e)}function eA(t,e){const n=le(Qo,null,t);return n.staticCount=e,n}function Zt(t="",e=!1){return e?(fe(),wt(vi,null,t)):le(vi,null,t)}function Ki(t){return t==null||typeof t=="boolean"?le(vi):Le(t)?le(it,null,t.slice()):typeof t=="object"?La(t):le($c,null,String(t))}function La(t){return t.el===null||t.memo?t:no(t)}function Vy(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Le(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Vy(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(lv in e)?e._ctx=Ji:s===3&&Ji&&(Ji.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Qe(e)?(e={default:e,_ctx:Ji},n=32):(e=String(e),i&64?(n=16,e=[qn(e)]):n=8);t.children=e,t.shapeFlag|=n}function _r(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=fn([e.class,i.class]));else if(s==="style")e.style=ai([e.style,i.style]);else if(Ip(s)){const r=e[s],a=i[s];a&&r!==a&&!(Le(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function Ci(t,e,n,i=null){Zi(t,e,7,[n,i])}function Sn(t,e,n,i){let s;const r=n&&n[i];if(Le(t)||tn(t)){s=new Array(t.length);for(let a=0,o=t.length;a<o;a++)s[a]=e(t[a],a,void 0,r&&r[a])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,r&&r[a])}else if(cn(t))if(t[Symbol.iterator])s=Array.from(t,(a,o)=>e(a,o,void 0,r&&r[o]));else{const a=Object.keys(t);s=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const c=a[o];s[o]=e(t[c],c,o,r&&r[o])}}else s=[];return n&&(n[i]=s),s}function PB(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(Le(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.fn)}return t}function ys(t,e,n={},i,s){if(Ji.isCE)return le("slot",e==="default"?null:{name:e},i&&i());let r=t[e];r&&r._c&&(r._d=!1),fe();const a=r&&tA(r(n)),o=wt(it,{key:n.key||`_${e}`},a||(i?i():[]),a&&t._===1?64:-2);return!s&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),r&&r._c&&(r._d=!0),o}function tA(t){return t.some(e=>to(e)?!(e.type===vi||e.type===it&&!tA(e.children)):!0)?t:null}function AB(t){const e={};for(const n in t)e[yh(n)]=t[n];return e}const p_=t=>t?iA(t)?$y(t)||t.proxy:p_(t.parent):null,Kf=ln(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>p_(t.parent),$root:t=>p_(t.root),$emit:t=>t.emit,$options:t=>UP(t),$forceUpdate:t=>()=>ky(t.update),$nextTick:t=>Sl.bind(t.proxy),$watch:t=>nB.bind(t)}),d_={get({_:t},e){const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const g=a[e];if(g!==void 0)switch(g){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(i!==Et&&_t(i,e))return a[e]=1,i[e];if(s!==Et&&_t(s,e))return a[e]=2,s[e];if((c=t.propsOptions[0])&&_t(c,e))return a[e]=3,r[e];if(n!==Et&&_t(n,e))return a[e]=4,n[e];o_&&(a[e]=0)}}const h=Kf[e];let p,d;if(h)return e==="$attrs"&&is(t,"get",e),h(t);if((p=o.__cssModules)&&(p=p[e]))return p;if(n!==Et&&_t(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,_t(d,e))return d[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return s!==Et&&_t(s,e)?(s[e]=n,!0):i!==Et&&_t(i,e)?(i[e]=n,!0):_t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let o;return!!n[a]||t!==Et&&_t(t,a)||e!==Et&&_t(e,a)||(o=r[0])&&_t(o,a)||_t(i,a)||_t(Kf,a)||_t(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?this.set(t,e,n.get(),null):n.value!=null&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},MB=ln({},d_,{get(t,e){if(e!==Symbol.unscopables)return d_.get(t,e,t)},has(t,e){return e[0]!=="_"&&!NF(e)}}),RB=WP();let IB=0;function nA(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||RB,r={uid:IB++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new vy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$P(i,s),emitsOptions:EP(i,s),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:i.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=jD.bind(null,r),t.ce&&t.ce(r),r}let Cn=null;const Es=()=>Cn||Ji,io=t=>{Cn=t,t.scope.on()},Ga=()=>{Cn&&Cn.scope.off(),Cn=null};function iA(t){return t.vnode.shapeFlag&4}let Hc=!1;function sA(t,e=!1){Hc=e;const{props:n,children:i}=t.vnode,s=iA(t);pB(t,n,s,e),mB(t,i);const r=s?OB(t,e):void 0;return Hc=!1,r}function OB(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=rl(new Proxy(t.ctx,d_));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?aA(t):null;io(t),_l();const r=gr(i,t,0,[t.props,s]);if(xl(),Ga(),fy(r)){if(r.then(Ga,Ga),e)return r.then(a=>{f_(t,a,e)}).catch(a=>{wl(a,t,0)});t.asyncDep=r}else f_(t,r,e)}else rA(t,e)}function f_(t,e,n){Qe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:cn(e)&&(t.setupState=Ey(e)),rA(t,n)}let Yf,m_;function NB(t){Yf=t,m_=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,MB))}}const LB=()=>!Yf;function rA(t,e,n){const i=t.type;if(!t.render){if(!e&&Yf&&!i.render){const s=i.template;if(s){const{isCustomElement:r,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,c=ln(ln({isCustomElement:r,delimiters:o},a),l);i.render=Yf(s,c)}}t.render=i.render||Hs,m_&&m_(t)}io(t),_l(),oB(t),xl(),Ga()}function FB(t){return new Proxy(t.attrs,{get(e,n){return is(t,"get","$attrs"),e[n]}})}function aA(t){const e=i=>{t.exposed=i||{}};let n;return{get attrs(){return n||(n=FB(t))},slots:t.slots,emit:t.emit,expose:e}}function $y(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ey(rl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Kf)return Kf[n](t)}}))}const DB=/(?:^|[-_])(\w)/g,BB=t=>t.replace(DB,e=>e.toUpperCase()).replace(/[-_]/g,"");function Xf(t){return Qe(t)&&t.displayName||t.name}function oA(t,e,n=!1){let i=Xf(e);if(!i&&e.__file){const s=e.__file.match(/([^/\\]+)\.\w+$/);s&&(i=s[1])}if(!i&&t&&t.parent){const s=r=>{for(const a in r)if(r[a]===e)return a};i=s(t.components||t.parent.type.components)||s(t.appContext.components)}return i?BB(i):n?"App":"Anonymous"}function jB(t){return Qe(t)&&"__vccOpts"in t}const si=(t,e)=>MD(t,e,Hc);function UB(){return null}function VB(){return null}function $B(t){}function zB(t,e){return null}function HB(){return lA().slots}function qB(){return lA().attrs}function lA(){const t=Es();return t.setupContext||(t.setupContext=aA(t))}function WB(t,e){const n=Le(t)?t.reduce((i,s)=>(i[s]={},i),{}):t;for(const i in e){const s=n[i];s?Le(s)||Qe(s)?n[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(n[i]={default:e[i]})}return n}function GB(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function KB(t){const e=Es();let n=t();return Ga(),fy(n)&&(n=n.catch(i=>{throw io(e),i})),[n,()=>io(e)]}function cv(t,e,n){const i=arguments.length;return i===2?cn(e)&&!Le(e)?to(e)?le(t,null,[e]):le(t,e):le(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&to(n)&&(n=[n]),le(t,e,n))}const cA=Symbol(""),YB=()=>{{const t=es(cA);return t||bP("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function XB(){}function QB(t,e,n,i){const s=n[i];if(s&&uA(s,t))return s;const r=e();return r.memo=t.slice(),n[i]=r}function uA(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==e[i])return!1;return zc>0&&br&&br.push(t),!0}const hA="3.2.31",JB={createComponentInstance:nA,setupComponent:sA,renderComponentRoot:kf,setCurrentRenderingInstance:tp,isVNode:to,normalizeVNode:Ki},ZB=JB,e5=null,t5=null,n5="http://www.w3.org/2000/svg",$o=typeof document!="undefined"?document:null,NS=$o&&$o.createElement("template"),i5={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?$o.createElementNS(n5,t):$o.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>$o.createTextNode(t),createComment:t=>$o.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$o.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{NS.innerHTML=i?`<svg>${t}</svg>`:t;const o=NS.content;if(i){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function s5(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function r5(t,e,n){const i=t.style,s=tn(n);if(n&&!s){for(const r in n)v_(i,r,n[r]);if(e&&!tn(e))for(const r in e)n[r]==null&&v_(i,r,"")}else{const r=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=r)}}const LS=/\s*!important$/;function v_(t,e,n){if(Le(n))n.forEach(i=>v_(t,e,i));else if(e.startsWith("--"))t.setProperty(e,n);else{const i=a5(t,e);LS.test(n)?t.setProperty(mr(i),n.replace(LS,""),"important"):t[i]=n}}const FS=["Webkit","Moz","ms"],ab={};function a5(t,e){const n=ab[e];if(n)return n;let i=ns(e);if(i!=="filter"&&i in t)return ab[e]=i;i=Op(i);for(let s=0;s<FS.length;s++){const r=FS[s]+i;if(r in t)return ab[e]=r}return e}const DS="http://www.w3.org/1999/xlink";function o5(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(DS,e.slice(6,e.length)):t.setAttributeNS(DS,e,n);else{const r=FF(e);n==null||r&&!Kk(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function l5(t,e,n,i,s,r,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,s,r),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const o=n==null?"":n;(t.value!==o||t.tagName==="OPTION")&&(t.value=o),n==null&&t.removeAttribute(e);return}if(n===""||n==null){const o=typeof t[e];if(o==="boolean"){t[e]=Kk(n);return}else if(n==null&&o==="string"){t[e]="",t.removeAttribute(e);return}else if(o==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=n}catch{}}let Qf=Date.now,pA=!1;if(typeof window!="undefined"){Qf()>document.createEvent("Event").timeStamp&&(Qf=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);pA=!!(t&&Number(t[1])<=53)}let g_=0;const c5=Promise.resolve(),u5=()=>{g_=0},h5=()=>g_||(c5.then(u5),g_=Qf());function $r(t,e,n,i){t.addEventListener(e,n,i)}function p5(t,e,n,i){t.removeEventListener(e,n,i)}function d5(t,e,n,i,s=null){const r=t._vei||(t._vei={}),a=r[e];if(i&&a)a.value=i;else{const[o,l]=f5(e);if(i){const c=r[e]=m5(i,s);$r(t,o,c,l)}else a&&(p5(t,o,a,l),r[e]=void 0)}}const BS=/(?:Once|Passive|Capture)$/;function f5(t){let e;if(BS.test(t)){e={};let n;for(;n=t.match(BS);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[mr(t.slice(2)),e]}function m5(t,e){const n=i=>{const s=i.timeStamp||Qf();(pA||s>=n.attached-1)&&Zi(v5(i,n.value),e,5,[i])};return n.value=t,n.attached=h5(),n}function v5(t,e){if(Le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const jS=/^on[a-z]/,g5=(t,e,n,i,s=!1,r,a,o,l)=>{e==="class"?s5(t,i,s):e==="style"?r5(t,n,i):Ip(e)?hy(e)||d5(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):b5(t,e,i,s))?l5(t,e,i,r,a,o,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),o5(t,e,i,s))};function b5(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&jS.test(e)&&Qe(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||jS.test(e)&&tn(n)?!1:e in t}function dA(t,e){const n=Fp(t);class i extends uv{constructor(r){super(n,r,e)}}return i.def=n,i}const _5=t=>dA(t,EA),x5=typeof HTMLElement!="undefined"?HTMLElement:class{};class uv extends x5{constructor(e,n={},i){super();this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,Sl(()=>{this._connected||(__(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const e=i=>{const{props:s,styles:r}=i,a=!Le(s),o=s?a?Object.keys(s):s:[];let l;if(a)for(const c in this._props){const h=s[c];(h===Number||h&&h.type===Number)&&(this._props[c]=Za(this._props[c]),(l||(l=Object.create(null)))[c]=!0)}this._numberProps=l;for(const c of Object.keys(this))c[0]!=="_"&&this._setProp(c,this[c],!0,!1);for(const c of o.map(ns))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(h){this._setProp(c,h)}});this._applyStyles(r),this._update()},n=this._def.__asyncLoader;n?n().then(e):e(this._def)}_setAttr(e){let n=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(n=Za(n)),this._setProp(ns(e),n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,i=!0,s=!0){n!==this._props[e]&&(this._props[e]=n,s&&this._instance&&this._update(),i&&(n===!0?this.setAttribute(mr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(mr(e),n+""):n||this.removeAttribute(mr(e))))}_update(){__(this._createVNode(),this.shadowRoot)}_createVNode(){const e=le(this._def,ln({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(s,...r)=>{this.dispatchEvent(new CustomEvent(s,{detail:r}))};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof uv){n.parent=i._instance;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const i=document.createElement("style");i.textContent=n,this.shadowRoot.appendChild(i)})}}function y5(t="$style"){{const e=Es();if(!e)return Et;const n=e.type.__cssModules;if(!n)return Et;const i=n[t];return i||Et}}function w5(t){const e=Es();if(!e)return;const n=()=>b_(e.subTree,t(e.proxy));kP(n),Ys(()=>{const i=new MutationObserver(n);i.observe(e.subTree.el.parentNode,{childList:!0}),jp(()=>i.disconnect())})}function b_(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{b_(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)US(t.el,e);else if(t.type===it)t.children.forEach(n=>b_(n,e));else if(t.type===Qo){let{el:n,anchor:i}=t;for(;n&&(US(n,e),n!==i);)n=n.nextSibling}}function US(t,e){if(t.nodeType===1){const n=t.style;for(const i in e)n.setProperty(`--${i}`,e[i])}}const Sa="transition",Ku="animation",ho=(t,{slots:e})=>cv(Ny,mA(t),e);ho.displayName="Transition";const fA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},S5=ho.props=ln({},Ny.props,fA),Po=(t,e=[])=>{Le(t)?t.forEach(n=>n(...e)):t&&t(...e)},VS=t=>t?Le(t)?t.some(e=>e.length>1):t.length>1:!1;function mA(t){const e={};for(const D in t)D in fA||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=a,appearToClass:h=o,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,x=C5(s),S=x&&x[0],m=x&&x[1],{onBeforeEnter:_,onEnter:y,onEnterCancelled:T,onLeave:C,onLeaveCancelled:A,onBeforeAppear:k=_,onAppear:P=y,onAppearCancelled:N=T}=e,I=(D,G,O)=>{Fo(D,G?h:o),Fo(D,G?c:a),O&&O()},j=(D,G)=>{Fo(D,g),Fo(D,d),G&&G()},V=D=>(G,O)=>{const J=D?P:y,X=()=>I(G,D,O);Po(J,[G,X]),$S(()=>{Fo(G,D?l:r),Fr(G,D?h:o),VS(J)||zS(G,i,S,X)})};return ln(e,{onBeforeEnter(D){Po(_,[D]),Fr(D,r),Fr(D,a)},onBeforeAppear(D){Po(k,[D]),Fr(D,l),Fr(D,c)},onEnter:V(!1),onAppear:V(!0),onLeave(D,G){const O=()=>j(D,G);Fr(D,p),gA(),Fr(D,d),$S(()=>{Fo(D,p),Fr(D,g),VS(C)||zS(D,i,m,O)}),Po(C,[D,O])},onEnterCancelled(D){I(D,!1),Po(T,[D])},onAppearCancelled(D){I(D,!0),Po(N,[D])},onLeaveCancelled(D){j(D),Po(A,[D])}})}function C5(t){if(t==null)return null;if(cn(t))return[ob(t.enter),ob(t.leave)];{const e=ob(t);return[e,e]}}function ob(t){return Za(t)}function Fr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Fo(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function $S(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let E5=0;function zS(t,e,n,i){const s=t._endId=++E5,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:a,timeout:o,propCount:l}=vA(t,e);if(!a)return i();const c=a+"end";let h=0;const p=()=>{t.removeEventListener(c,d),r()},d=g=>{g.target===t&&++h>=l&&p()};setTimeout(()=>{h<l&&p()},o+1),t.addEventListener(c,d)}function vA(t,e){const n=window.getComputedStyle(t),i=x=>(n[x]||"").split(", "),s=i(Sa+"Delay"),r=i(Sa+"Duration"),a=HS(s,r),o=i(Ku+"Delay"),l=i(Ku+"Duration"),c=HS(o,l);let h=null,p=0,d=0;e===Sa?a>0&&(h=Sa,p=a,d=r.length):e===Ku?c>0&&(h=Ku,p=c,d=l.length):(p=Math.max(a,c),h=p>0?a>c?Sa:Ku:null,d=h?h===Sa?r.length:l.length:0);const g=h===Sa&&/\b(transform|all)(,|$)/.test(n[Sa+"Property"]);return{type:h,timeout:p,propCount:d,hasTransform:g}}function HS(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>qS(n)+qS(t[i])))}function qS(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function gA(){return document.body.offsetHeight}const bA=new WeakMap,_A=new WeakMap,T5={name:"TransitionGroup",props:ln({},S5,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Es(),i=Oy();let s,r;return ov(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!R5(s[0].el,n.vnode.el,a))return;s.forEach(P5),s.forEach(A5);const o=s.filter(M5);gA(),o.forEach(l=>{const c=l.el,h=c.style;Fr(c,a),h.transform=h.webkitTransform=h.transitionDuration="";const p=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",p),c._moveCb=null,Fo(c,a))};c.addEventListener("transitionend",p)})}),()=>{const a=ct(t),o=mA(a);let l=a.tag||it;s=r,r=e.default?rv(e.default()):[];for(let c=0;c<r.length;c++){const h=r[c];h.key!=null&&al(h,Vc(h,o,i,n))}if(s)for(let c=0;c<s.length;c++){const h=s[c];al(h,Vc(h,o,i,n)),bA.set(h,h.el.getBoundingClientRect())}return le(l,null,r)}}},k5=T5;function P5(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function A5(t){_A.set(t,t.el.getBoundingClientRect())}function M5(t){const e=bA.get(t),n=_A.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function R5(t,e,n){const i=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(o=>o&&i.classList.remove(o))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:r}=vA(i);return s.removeChild(i),r}const so=t=>{const e=t.props["onUpdate:modelValue"];return Le(e)?n=>kc(e,n):e};function I5(t){t.target.composing=!0}function WS(t){const e=t.target;e.composing&&(e.composing=!1,O5(e,"input"))}function O5(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const Jf={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t._assign=so(s);const r=i||s.props&&s.props.type==="number";$r(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n?o=o.trim():r&&(o=Za(o)),t._assign(o)}),n&&$r(t,"change",()=>{t.value=t.value.trim()}),e||($r(t,"compositionstart",I5),$r(t,"compositionend",WS),$r(t,"change",WS))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},r){if(t._assign=so(r),t.composing||document.activeElement===t&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&Za(t.value)===e))return;const a=e==null?"":e;t.value!==a&&(t.value=a)}},zy={deep:!0,created(t,e,n){t._assign=so(n),$r(t,"change",()=>{const i=t._modelValue,s=qc(t),r=t.checked,a=t._assign;if(Le(i)){const o=Xm(i,s),l=o!==-1;if(r&&!l)a(i.concat(s));else if(!r&&l){const c=[...i];c.splice(o,1),a(c)}}else if(bl(i)){const o=new Set(i);r?o.add(s):o.delete(s),a(o)}else a(yA(t,r))})},mounted:GS,beforeUpdate(t,e,n){t._assign=so(n),GS(t,e,n)}};function GS(t,{value:e,oldValue:n},i){t._modelValue=e,Le(e)?t.checked=Xm(e,i.props.value)>-1:bl(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=Ja(e,yA(t,!0)))}const Hy={created(t,{value:e},n){t.checked=Ja(e,n.props.value),t._assign=so(n),$r(t,"change",()=>{t._assign(qc(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t._assign=so(i),e!==n&&(t.checked=Ja(e,i.props.value))}},xA={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=bl(e);$r(t,"change",()=>{const r=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?Za(qc(a)):qc(a));t._assign(t.multiple?s?new Set(r):r:r[0])}),t._assign=so(i)},mounted(t,{value:e}){KS(t,e)},beforeUpdate(t,e,n){t._assign=so(n)},updated(t,{value:e}){KS(t,e)}};function KS(t,e){const n=t.multiple;if(!(n&&!Le(e)&&!bl(e))){for(let i=0,s=t.options.length;i<s;i++){const r=t.options[i],a=qc(r);if(n)Le(e)?r.selected=Xm(e,a)>-1:r.selected=e.has(a);else if(Ja(qc(r),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function qc(t){return"_value"in t?t._value:t.value}function yA(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const N5={created(t,e,n){ef(t,e,n,null,"created")},mounted(t,e,n){ef(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){ef(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){ef(t,e,n,i,"updated")}};function ef(t,e,n,i,s){let r;switch(t.tagName){case"SELECT":r=xA;break;case"TEXTAREA":r=Jf;break;default:switch(n.props&&n.props.type){case"checkbox":r=zy;break;case"radio":r=Hy;break;default:r=Jf}}const a=r[s];a&&a(t,e,n,i)}function L5(){Jf.getSSRProps=({value:t})=>({value:t}),Hy.getSSRProps=({value:t},e)=>{if(e.props&&Ja(e.props.value,t))return{checked:!0}},zy.getSSRProps=({value:t},e)=>{if(Le(t)){if(e.props&&Xm(t,e.props.value)>-1)return{checked:!0}}else if(bl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}}}const F5=["ctrl","shift","alt","meta"],D5={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>F5.some(n=>t[`${n}Key`]&&!e.includes(n))},B5=(t,e)=>(n,...i)=>{for(let s=0;s<e.length;s++){const r=D5[e[s]];if(r&&r(n,e))return}return t(n,...i)},j5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},U5=(t,e)=>n=>{if(!("key"in n))return;const i=mr(n.key);if(e.some(s=>s===i||j5[s]===i))return t(n)},je={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Yu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Yu(t,!0),i.enter(t)):i.leave(t,()=>{Yu(t,!1)}):Yu(t,e))},beforeUnmount(t,{value:e}){Yu(t,e)}};function Yu(t,e){t.style.display=e?t._vod:"none"}function V5(){je.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const wA=ln({patchProp:g5},i5);let Ph,YS=!1;function SA(){return Ph||(Ph=GP(wA))}function CA(){return Ph=YS?Ph:KP(wA),YS=!0,Ph}const __=(...t)=>{SA().render(...t)},EA=(...t)=>{CA().hydrate(...t)},TA=(...t)=>{const e=SA().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=kA(i);if(!s)return;const r=e._component;!Qe(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e},$5=(...t)=>{const e=CA().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=kA(i);if(s)return n(s,!0,s instanceof SVGElement)},e};function kA(t){return tn(t)?document.querySelector(t):t}let XS=!1;const z5=()=>{XS||(XS=!0,L5(),V5())},H5=()=>{};var q5=Object.freeze(Object.defineProperty({__proto__:null,compile:H5,EffectScope:vy,ReactiveEffect:Np,customRef:kD,effect:XF,effectScope:gy,getCurrentScope:Zk,isProxy:wy,isReactive:Gr,isReadonly:Uc,isRef:Gt,isShallow:yy,markRaw:rl,onScopeDispose:eP,proxyRefs:Ey,reactive:yl,readonly:xy,ref:De,shallowReactive:dP,shallowReadonly:wD,shallowRef:fP,stop:QF,toRaw:ct,toRef:gP,toRefs:vP,triggerRef:CD,unref:vr,camelize:ns,capitalize:Op,normalizeClass:fn,normalizeProps:Rp,normalizeStyle:ai,toDisplayString:Ve,toHandlerKey:yh,BaseTransition:Ny,Comment:vi,Fragment:it,KeepAlive:rB,Static:Qo,Suspense:YD,Teleport:CB,Text:$c,callWithAsyncErrorHandling:Zi,callWithErrorHandling:gr,cloneVNode:no,compatUtils:t5,computed:si,createBlock:wt,createCommentVNode:Zt,createElementBlock:Ee,createElementVNode:U,createHydrationRenderer:KP,createPropsRestProxy:GB,createRenderer:GP,createSlots:PB,createStaticVNode:eA,createTextVNode:qn,createVNode:le,defineAsyncComponent:MP,defineComponent:Fp,defineEmits:VB,defineExpose:$B,defineProps:UB,get devtools(){return pc},getCurrentInstance:Es,getTransitionRawChildren:rv,guardReactiveProps:pu,h:cv,handleError:wl,initCustomFormatter:XB,inject:es,isMemoSame:uA,isRuntimeOnly:LB,isVNode:to,mergeDefaults:WB,mergeProps:_r,nextTick:Sl,onActivated:RP,onBeforeMount:Ly,onBeforeUnmount:Bp,onBeforeUpdate:NP,onDeactivated:IP,onErrorCaptured:BP,onMounted:Ys,onRenderTracked:DP,onRenderTriggered:FP,onServerPrefetch:LP,onUnmounted:jp,onUpdated:ov,openBlock:fe,popScopeId:VD,provide:Eh,pushScopeId:UD,queuePostFlushCb:Py,registerRuntimeCompiler:NB,renderList:Sn,renderSlot:ys,resolveComponent:Pe,resolveDirective:Up,resolveDynamicComponent:jy,resolveFilter:e5,resolveTransitionHooks:Vc,setBlockTracking:h_,setDevtoolsHook:CP,setTransitionHooks:al,ssrContextKey:cA,ssrUtils:ZB,toHandlers:AB,transformVNodeArgs:TB,useAttrs:qB,useSSRContext:YB,useSlots:HB,useTransitionState:Oy,version:hA,warn:bP,watch:qs,watchEffect:eB,watchPostEffect:kP,watchSyncEffect:tB,withAsyncContext:KB,withCtx:Me,withDefaults:zB,withDirectives:Ie,withMemo:QB,withScopeId:$D,Transition:ho,TransitionGroup:k5,VueElement:uv,createApp:TA,createSSRApp:$5,defineCustomElement:dA,defineSSRCustomElement:_5,hydrate:EA,initDirectivesForSSR:z5,render:__,useCssModule:y5,useCssVars:w5,vModelCheckbox:zy,vModelDynamic:N5,vModelRadio:Hy,vModelSelect:xA,vModelText:Jf,vShow:je,withKeys:U5,withModifiers:B5},Symbol.toStringTag,{value:"Module"}));function W5(){if(navigator.userAgent.toLowerCase().includes("chrome")){const t=[`
 %c Made with \u2665 by Dogstudio %c %c %c http://www.dogstudio.co/ %c %c 
`,"color: #fff; background: #e43333; padding:5px 0;","background: #131419; padding:5px 0;","background: #131419; padding:5px 0;","color: #fff; background: #1c1c1c; padding:5px 0;","background: #fff; padding:5px 0;","color: #e43333; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("Made with love \u2665 Dogstudio - http://www.dogstudio.co/")}W5();var Bn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function PA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hv(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),e}function tf(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var AA={exports:{}},ca={};/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const G5=typeof window!="undefined";let K5,Y5;const X5=/\{([0-9a-zA-Z]+)\}/g;function MA(t,...e){return e.length===1&&xr(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(X5,(n,i)=>e.hasOwnProperty(i)?e[i]:"")}const Q5=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",J5=t=>Q5?Symbol(t):t,RA=(t,e,n)=>IA({l:t,k:e,s:n}),IA=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ti=t=>typeof t=="number"&&isFinite(t),OA=t=>dv(t)==="[object Date]",x_=t=>dv(t)==="[object RegExp]",pv=t=>Wt(t)&&Object.keys(t).length===0;function NA(t,e){typeof console!="undefined"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const po=Object.assign;let QS;const LA=()=>QS||(QS=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function y_(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Z5=Object.prototype.hasOwnProperty;function e4(t,e){return Z5.call(t,e)}const Kr=Array.isArray,ki=t=>typeof t=="function",et=t=>typeof t=="string",Pi=t=>typeof t=="boolean",t4=t=>typeof t=="symbol",xr=t=>t!==null&&typeof t=="object",n4=t=>xr(t)&&ki(t.then)&&ki(t.catch),qy=Object.prototype.toString,dv=t=>qy.call(t),Wt=t=>dv(t)==="[object Object]",FA=t=>t==null?"":Kr(t)||Wt(t)&&t.toString===qy?JSON.stringify(t,null,2):String(t),JS=2;function i4(t,e=0,n=t.length){const i=t.split(/\r?\n/);let s=0;const r=[];for(let a=0;a<i.length;a++)if(s+=i[a].length+1,s>=e){for(let o=a-JS;o<=a+JS||n>s;o++){if(o<0||o>=i.length)continue;const l=o+1;r.push(`${l}${" ".repeat(3-String(l).length)}|  ${i[o]}`);const c=i[o].length;if(o===a){const h=e-(s-c)+1,p=Math.max(1,n>s?c-h:n-e);r.push("   |  "+" ".repeat(h)+"^".repeat(p))}else if(o>a){if(n>s){const h=Math.max(Math.min(n-s,c),1);r.push("   |  "+"^".repeat(h))}s+=c+1}}break}return r.join(`
`)}function s4(){const t=new Map;return{events:t,on(n,i){const s=t.get(n);s&&s.push(i)||t.set(n,[i])},off(n,i){const s=t.get(n);s&&s.splice(s.indexOf(i)>>>0,1)},emit(n,i){(t.get(n)||[]).slice().map(s=>s(i)),(t.get("*")||[]).slice().map(s=>s(n,i))}}}var r4=Object.freeze(Object.defineProperty({__proto__:null,assign:po,createEmitter:s4,escapeHtml:y_,format:MA,friendlyJSONstringify:IA,generateCodeFrame:i4,generateFormatCacheKey:RA,getGlobalThis:LA,hasOwn:e4,inBrowser:G5,isArray:Kr,isBoolean:Pi,isDate:OA,isEmptyObject:pv,isFunction:ki,isNumber:Ti,isObject:xr,isPlainObject:Wt,isPromise:n4,isRegExp:x_,isString:et,isSymbol:t4,makeSymbol:J5,mark:K5,measure:Y5,objectToString:qy,toDisplayString:FA,toTypeString:dv,warn:NA},Symbol.toStringTag,{value:"Module"}));/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const a4=Object.prototype.hasOwnProperty;function o4(t,e){return a4.call(t,e)}const Af=t=>t!==null&&typeof t=="object",fo=[];fo[0]={w:[0],i:[3,0],["["]:[4],o:[7]};fo[1]={w:[1],["."]:[2],["["]:[4],o:[7]};fo[2]={w:[2],i:[3,0],["0"]:[3,0]};fo[3]={i:[3,0],["0"]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};fo[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};fo[5]={["'"]:[4,0],o:8,l:[5,0]};fo[6]={['"']:[4,0],o:8,l:[6,0]};const l4=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function c4(t){return l4.test(t)}function u4(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function h4(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function p4(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:c4(e)?u4(e):"*"+e}function DA(t){const e=[];let n=-1,i=0,s=0,r,a,o,l,c,h,p;const d=[];d[0]=()=>{a===void 0?a=o:a+=o},d[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},d[2]=()=>{d[0](),s++},d[3]=()=>{if(s>0)s--,i=4,d[0]();else{if(s=0,a===void 0||(a=p4(a),a===!1))return!1;d[1]()}};function g(){const x=t[n+1];if(i===5&&x==="'"||i===6&&x==='"')return n++,o="\\"+x,d[0](),!0}for(;i!==null;)if(n++,r=t[n],!(r==="\\"&&g())){if(l=h4(r),p=fo[i],c=p[l]||p.l||8,c===8||(i=c[0],c[1]!==void 0&&(h=d[c[1]],h&&(o=r,h()===!1))))return;if(i===7)return e}}const ZS=new Map;function Wy(t,e){if(!Af(t))return null;let n=ZS.get(e);if(n||(n=DA(e),n&&ZS.set(e,n)),!n)return null;const i=n.length;let s=t,r=0;for(;r<i;){const a=s[n[r]];if(a===void 0)return null;s=a,r++}return s}function w_(t){if(!Af(t))return t;for(const e in t)if(!!o4(t,e))if(!e.includes("."))Af(t[e])&&w_(t[e]);else{const n=e.split("."),i=n.length-1;let s=t;for(let r=0;r<i;r++)n[r]in s||(s[n[r]]={}),s=s[n[r]];s[n[i]]=t[e],delete t[e],Af(s[n[i]])&&w_(s[n[i]])}return t}/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const d4=t=>t,f4=t=>"",BA="text",m4=t=>t.length===0?"":t.join(""),v4=FA;function eC(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function g4(t){const e=Ti(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Ti(t.named.count)||Ti(t.named.n))?Ti(t.named.count)?t.named.count:Ti(t.named.n)?t.named.n:e:e}function b4(t,e){e.count||(e.count=t),e.n||(e.n=t)}function jA(t={}){const e=t.locale,n=g4(t),i=xr(t.pluralRules)&&et(e)&&ki(t.pluralRules[e])?t.pluralRules[e]:eC,s=xr(t.pluralRules)&&et(e)&&ki(t.pluralRules[e])?eC:void 0,r=m=>m[i(n,m.length,s)],a=t.list||[],o=m=>a[m],l=t.named||{};Ti(t.pluralIndex)&&b4(n,l);const c=m=>l[m];function h(m){const _=ki(t.messages)?t.messages(m):xr(t.messages)?t.messages[m]:!1;return _||(t.parent?t.parent.message(m):f4)}const p=m=>t.modifiers?t.modifiers[m]:d4,d=Wt(t.processor)&&ki(t.processor.normalize)?t.processor.normalize:m4,g=Wt(t.processor)&&ki(t.processor.interpolate)?t.processor.interpolate:v4,x=Wt(t.processor)&&et(t.processor.type)?t.processor.type:BA,S={list:o,named:c,plural:r,linked:(m,_)=>{const y=h(m)(S);return et(_)?p(_)(y):y},message:h,type:x,interpolate:g,normalize:d};return S}/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function fv(t,e,n={}){const{domain:i,messages:s,args:r}=n,a=t,o=new SyntaxError(String(a));return o.code=t,e&&(o.location=e),o.domain=i,o}function _4(t){throw t}function x4(t,e,n){return{line:t,column:e,offset:n}}function S_(t,e,n){const i={start:t,end:e};return n!=null&&(i.source=n),i}const Rr=" ",y4="\r",di=`
`,w4=String.fromCharCode(8232),S4=String.fromCharCode(8233);function C4(t){const e=t;let n=0,i=1,s=1,r=0;const a=P=>e[P]===y4&&e[P+1]===di,o=P=>e[P]===di,l=P=>e[P]===S4,c=P=>e[P]===w4,h=P=>a(P)||o(P)||l(P)||c(P),p=()=>n,d=()=>i,g=()=>s,x=()=>r,S=P=>a(P)||l(P)||c(P)?di:e[P],m=()=>S(n),_=()=>S(n+r);function y(){return r=0,h(n)&&(i++,s=0),a(n)&&n++,n++,s++,e[n]}function T(){return a(n+r)&&r++,r++,e[n+r]}function C(){n=0,i=1,s=1,r=0}function A(P=0){r=P}function k(){const P=n+r;for(;P!==n;)y();r=0}return{index:p,line:d,column:g,peekOffset:x,charAt:S,currentChar:m,currentPeek:_,next:y,peek:T,reset:C,resetPeek:A,skipToPeek:k}}const Ca=void 0,tC="'",E4="tokenizer";function T4(t,e={}){const n=e.location!==!1,i=C4(t),s=()=>i.index(),r=()=>x4(i.line(),i.column(),i.index()),a=r(),o=s(),l={currentType:14,offset:o,startLoc:a,endLoc:a,lastType:14,lastOffset:o,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:h}=e;function p(z,K,F,...B){const Z=c();if(K.column+=F,K.offset+=F,h){const $=S_(Z.startLoc,K),Q=fv(z,$,{domain:E4,args:B});h(Q)}}function d(z,K,F){z.endLoc=r(),z.currentType=K;const B={type:K};return n&&(B.loc=S_(z.startLoc,z.endLoc)),F!=null&&(B.value=F),B}const g=z=>d(z,14);function x(z,K){return z.currentChar()===K?(z.next(),K):(p(0,r(),0,K),"")}function S(z){let K="";for(;z.currentPeek()===Rr||z.currentPeek()===di;)K+=z.currentPeek(),z.peek();return K}function m(z){const K=S(z);return z.skipToPeek(),K}function _(z){if(z===Ca)return!1;const K=z.charCodeAt(0);return K>=97&&K<=122||K>=65&&K<=90||K===95}function y(z){if(z===Ca)return!1;const K=z.charCodeAt(0);return K>=48&&K<=57}function T(z,K){const{currentType:F}=K;if(F!==2)return!1;S(z);const B=_(z.currentPeek());return z.resetPeek(),B}function C(z,K){const{currentType:F}=K;if(F!==2)return!1;S(z);const B=z.currentPeek()==="-"?z.peek():z.currentPeek(),Z=y(B);return z.resetPeek(),Z}function A(z,K){const{currentType:F}=K;if(F!==2)return!1;S(z);const B=z.currentPeek()===tC;return z.resetPeek(),B}function k(z,K){const{currentType:F}=K;if(F!==8)return!1;S(z);const B=z.currentPeek()===".";return z.resetPeek(),B}function P(z,K){const{currentType:F}=K;if(F!==9)return!1;S(z);const B=_(z.currentPeek());return z.resetPeek(),B}function N(z,K){const{currentType:F}=K;if(!(F===8||F===12))return!1;S(z);const B=z.currentPeek()===":";return z.resetPeek(),B}function I(z,K){const{currentType:F}=K;if(F!==10)return!1;const B=()=>{const $=z.currentPeek();return $==="{"?_(z.peek()):$==="@"||$==="%"||$==="|"||$===":"||$==="."||$===Rr||!$?!1:$===di?(z.peek(),B()):_($)},Z=B();return z.resetPeek(),Z}function j(z){S(z);const K=z.currentPeek()==="|";return z.resetPeek(),K}function V(z,K=!0){const F=(Z=!1,$="",Q=!1)=>{const te=z.currentPeek();return te==="{"?$==="%"?!1:Z:te==="@"||!te?$==="%"?!0:Z:te==="%"?(z.peek(),F(Z,"%",!0)):te==="|"?$==="%"||Q?!0:!($===Rr||$===di):te===Rr?(z.peek(),F(!0,Rr,Q)):te===di?(z.peek(),F(!0,di,Q)):!0},B=F();return K&&z.resetPeek(),B}function D(z,K){const F=z.currentChar();return F===Ca?Ca:K(F)?(z.next(),F):null}function G(z){return D(z,F=>{const B=F.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===95||B===36})}function O(z){return D(z,F=>{const B=F.charCodeAt(0);return B>=48&&B<=57})}function J(z){return D(z,F=>{const B=F.charCodeAt(0);return B>=48&&B<=57||B>=65&&B<=70||B>=97&&B<=102})}function X(z){let K="",F="";for(;K=O(z);)F+=K;return F}function ae(z){let K="";for(;;){const F=z.currentChar();if(F==="{"||F==="}"||F==="@"||F==="|"||!F)break;if(F==="%")if(V(z))K+=F,z.next();else break;else if(F===Rr||F===di)if(V(z))K+=F,z.next();else{if(j(z))break;K+=F,z.next()}else K+=F,z.next()}return K}function me(z){m(z);let K="",F="";for(;K=G(z);)F+=K;return z.currentChar()===Ca&&p(6,r(),0),F}function Ae(z){m(z);let K="";return z.currentChar()==="-"?(z.next(),K+=`-${X(z)}`):K+=X(z),z.currentChar()===Ca&&p(6,r(),0),K}function Oe(z){m(z),x(z,"'");let K="",F="";const B=$=>$!==tC&&$!==di;for(;K=D(z,B);)K==="\\"?F+=Be(z):F+=K;const Z=z.currentChar();return Z===di||Z===Ca?(p(2,r(),0),Z===di&&(z.next(),x(z,"'")),F):(x(z,"'"),F)}function Be(z){const K=z.currentChar();switch(K){case"\\":case"'":return z.next(),`\\${K}`;case"u":return we(z,K,4);case"U":return we(z,K,6);default:return p(3,r(),0,K),""}}function we(z,K,F){x(z,K);let B="";for(let Z=0;Z<F;Z++){const $=J(z);if(!$){p(4,r(),0,`\\${K}${B}${z.currentChar()}`);break}B+=$}return`\\${K}${B}`}function Se(z){m(z);let K="",F="";const B=Z=>Z!=="{"&&Z!=="}"&&Z!==Rr&&Z!==di;for(;K=D(z,B);)F+=K;return F}function We(z){let K="",F="";for(;K=G(z);)F+=K;return F}function ue(z){const K=(F=!1,B)=>{const Z=z.currentChar();return Z==="{"||Z==="%"||Z==="@"||Z==="|"||!Z||Z===Rr?B:Z===di?(B+=Z,z.next(),K(F,B)):(B+=Z,z.next(),K(!0,B))};return K(!1,"")}function be(z){m(z);const K=x(z,"|");return m(z),K}function ve(z,K){let F=null;switch(z.currentChar()){case"{":return K.braceNest>=1&&p(8,r(),0),z.next(),F=d(K,2,"{"),m(z),K.braceNest++,F;case"}":return K.braceNest>0&&K.currentType===2&&p(7,r(),0),z.next(),F=d(K,3,"}"),K.braceNest--,K.braceNest>0&&m(z),K.inLinked&&K.braceNest===0&&(K.inLinked=!1),F;case"@":return K.braceNest>0&&p(6,r(),0),F=Te(z,K)||g(K),K.braceNest=0,F;default:let Z=!0,$=!0,Q=!0;if(j(z))return K.braceNest>0&&p(6,r(),0),F=d(K,1,be(z)),K.braceNest=0,K.inLinked=!1,F;if(K.braceNest>0&&(K.currentType===5||K.currentType===6||K.currentType===7))return p(6,r(),0),K.braceNest=0,Ne(z,K);if(Z=T(z,K))return F=d(K,5,me(z)),m(z),F;if($=C(z,K))return F=d(K,6,Ae(z)),m(z),F;if(Q=A(z,K))return F=d(K,7,Oe(z)),m(z),F;if(!Z&&!$&&!Q)return F=d(K,13,Se(z)),p(1,r(),0,F.value),m(z),F;break}return F}function Te(z,K){const{currentType:F}=K;let B=null;const Z=z.currentChar();switch((F===8||F===9||F===12||F===10)&&(Z===di||Z===Rr)&&p(9,r(),0),Z){case"@":return z.next(),B=d(K,8,"@"),K.inLinked=!0,B;case".":return m(z),z.next(),d(K,9,".");case":":return m(z),z.next(),d(K,10,":");default:return j(z)?(B=d(K,1,be(z)),K.braceNest=0,K.inLinked=!1,B):k(z,K)||N(z,K)?(m(z),Te(z,K)):P(z,K)?(m(z),d(K,12,We(z))):I(z,K)?(m(z),Z==="{"?ve(z,K)||B:d(K,11,ue(z))):(F===8&&p(9,r(),0),K.braceNest=0,K.inLinked=!1,Ne(z,K))}}function Ne(z,K){let F={type:14};if(K.braceNest>0)return ve(z,K)||g(K);if(K.inLinked)return Te(z,K)||g(K);const B=z.currentChar();switch(B){case"{":return ve(z,K)||g(K);case"}":return p(5,r(),0),z.next(),d(K,3,"}");case"@":return Te(z,K)||g(K);default:if(j(z))return F=d(K,1,be(z)),K.braceNest=0,K.inLinked=!1,F;if(V(z))return d(K,0,ae(z));if(B==="%")return z.next(),d(K,4,"%");break}return F}function He(){const{currentType:z,offset:K,startLoc:F,endLoc:B}=l;return l.lastType=z,l.lastOffset=K,l.lastStartLoc=F,l.lastEndLoc=B,l.offset=s(),l.startLoc=r(),i.currentChar()===Ca?d(l,14):Ne(i,l)}return{nextToken:He,currentOffset:s,currentPosition:r,context:c}}const k4="parser",P4=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function A4(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"\uFFFD"}}}function M4(t={}){const e=t.location!==!1,{onError:n}=t;function i(_,y,T,C,...A){const k=_.currentPosition();if(k.offset+=C,k.column+=C,n){const P=S_(T,k),N=fv(y,P,{domain:k4,args:A});n(N)}}function s(_,y,T){const C={type:_,start:y,end:y};return e&&(C.loc={start:T,end:T}),C}function r(_,y,T,C){_.end=y,C&&(_.type=C),e&&_.loc&&(_.loc.end=T)}function a(_,y){const T=_.context(),C=s(3,T.offset,T.startLoc);return C.value=y,r(C,_.currentOffset(),_.currentPosition()),C}function o(_,y){const T=_.context(),{lastOffset:C,lastStartLoc:A}=T,k=s(5,C,A);return k.index=parseInt(y,10),_.nextToken(),r(k,_.currentOffset(),_.currentPosition()),k}function l(_,y){const T=_.context(),{lastOffset:C,lastStartLoc:A}=T,k=s(4,C,A);return k.key=y,_.nextToken(),r(k,_.currentOffset(),_.currentPosition()),k}function c(_,y){const T=_.context(),{lastOffset:C,lastStartLoc:A}=T,k=s(9,C,A);return k.value=y.replace(P4,A4),_.nextToken(),r(k,_.currentOffset(),_.currentPosition()),k}function h(_){const y=_.nextToken(),T=_.context(),{lastOffset:C,lastStartLoc:A}=T,k=s(8,C,A);return y.type!==12?(i(_,11,T.lastStartLoc,0),k.value="",r(k,C,A),{nextConsumeToken:y,node:k}):(y.value==null&&i(_,13,T.lastStartLoc,0,tr(y)),k.value=y.value||"",r(k,_.currentOffset(),_.currentPosition()),{node:k})}function p(_,y){const T=_.context(),C=s(7,T.offset,T.startLoc);return C.value=y,r(C,_.currentOffset(),_.currentPosition()),C}function d(_){const y=_.context(),T=s(6,y.offset,y.startLoc);let C=_.nextToken();if(C.type===9){const A=h(_);T.modifier=A.node,C=A.nextConsumeToken||_.nextToken()}switch(C.type!==10&&i(_,13,y.lastStartLoc,0,tr(C)),C=_.nextToken(),C.type===2&&(C=_.nextToken()),C.type){case 11:C.value==null&&i(_,13,y.lastStartLoc,0,tr(C)),T.key=p(_,C.value||"");break;case 5:C.value==null&&i(_,13,y.lastStartLoc,0,tr(C)),T.key=l(_,C.value||"");break;case 6:C.value==null&&i(_,13,y.lastStartLoc,0,tr(C)),T.key=o(_,C.value||"");break;case 7:C.value==null&&i(_,13,y.lastStartLoc,0,tr(C)),T.key=c(_,C.value||"");break;default:i(_,12,y.lastStartLoc,0);const A=_.context(),k=s(7,A.offset,A.startLoc);return k.value="",r(k,A.offset,A.startLoc),T.key=k,r(T,A.offset,A.startLoc),{nextConsumeToken:C,node:T}}return r(T,_.currentOffset(),_.currentPosition()),{node:T}}function g(_){const y=_.context(),T=y.currentType===1?_.currentOffset():y.offset,C=y.currentType===1?y.endLoc:y.startLoc,A=s(2,T,C);A.items=[];let k=null;do{const I=k||_.nextToken();switch(k=null,I.type){case 0:I.value==null&&i(_,13,y.lastStartLoc,0,tr(I)),A.items.push(a(_,I.value||""));break;case 6:I.value==null&&i(_,13,y.lastStartLoc,0,tr(I)),A.items.push(o(_,I.value||""));break;case 5:I.value==null&&i(_,13,y.lastStartLoc,0,tr(I)),A.items.push(l(_,I.value||""));break;case 7:I.value==null&&i(_,13,y.lastStartLoc,0,tr(I)),A.items.push(c(_,I.value||""));break;case 8:const j=d(_);A.items.push(j.node),k=j.nextConsumeToken||null;break}}while(y.currentType!==14&&y.currentType!==1);const P=y.currentType===1?y.lastOffset:_.currentOffset(),N=y.currentType===1?y.lastEndLoc:_.currentPosition();return r(A,P,N),A}function x(_,y,T,C){const A=_.context();let k=C.items.length===0;const P=s(1,y,T);P.cases=[],P.cases.push(C);do{const N=g(_);k||(k=N.items.length===0),P.cases.push(N)}while(A.currentType!==14);return k&&i(_,10,T,0),r(P,_.currentOffset(),_.currentPosition()),P}function S(_){const y=_.context(),{offset:T,startLoc:C}=y,A=g(_);return y.currentType===14?A:x(_,T,C,A)}function m(_){const y=T4(_,po({},t)),T=y.context(),C=s(0,T.offset,T.startLoc);return e&&C.loc&&(C.loc.source=_),C.body=S(y),T.currentType!==14&&i(y,13,T.lastStartLoc,0,_[T.offset]||""),r(C,y.currentOffset(),y.currentPosition()),C}return{parse:m}}function tr(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"\u2026":e}function R4(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:r=>(n.helpers.add(r),r)}}function nC(t,e){for(let n=0;n<t.length;n++)Gy(t[n],e)}function Gy(t,e){switch(t.type){case 1:nC(t.cases,e),e.helper("plural");break;case 2:nC(t.items,e);break;case 6:Gy(t.key,e),e.helper("linked");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function I4(t,e={}){const n=R4(t);n.helper("normalize"),t.body&&Gy(t.body,n);const i=n.context();t.helpers=Array.from(i.helpers)}function O4(t,e){const{sourceMap:n,filename:i,breakLineCode:s,needIndent:r}=e,a={source:t.loc.source,filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:r,indentLevel:0},o=()=>a;function l(S,m){a.code+=S}function c(S,m=!0){const _=m?s:"";l(r?_+"  ".repeat(S):_)}function h(S=!0){const m=++a.indentLevel;S&&c(m)}function p(S=!0){const m=--a.indentLevel;S&&c(m)}function d(){c(a.indentLevel)}return{context:o,push:l,indent:h,deindent:p,newline:d,helper:S=>`_${S}`,needIndent:()=>a.needIndent}}function N4(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Wc(t,e.key),e.modifier&&(t.push(", "),Wc(t,e.modifier)),t.push(")")}function L4(t,e){const{helper:n,needIndent:i}=t;t.push(`${n("normalize")}([`),t.indent(i());const s=e.items.length;for(let r=0;r<s&&(Wc(t,e.items[r]),r!==s-1);r++)t.push(", ");t.deindent(i()),t.push("])")}function F4(t,e){const{helper:n,needIndent:i}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(i());const s=e.cases.length;for(let r=0;r<s&&(Wc(t,e.cases[r]),r!==s-1);r++)t.push(", ");t.deindent(i()),t.push("])")}}function D4(t,e){e.body?Wc(t,e.body):t.push("null")}function Wc(t,e){const{helper:n}=t;switch(e.type){case 0:D4(t,e);break;case 1:F4(t,e);break;case 2:L4(t,e);break;case 6:N4(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const B4=(t,e={})=>{const n=et(e.mode)?e.mode:"normal",i=et(e.filename)?e.filename:"message.intl",s=!!e.sourceMap,r=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,a=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],l=O4(t,{mode:n,filename:i,sourceMap:s,breakLineCode:r,needIndent:a});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),o.length>0&&(l.push(`const { ${o.map(p=>`${p}: _${p}`).join(", ")} } = ctx`),l.newline()),l.push("return "),Wc(l,t),l.deindent(a),l.push("}");const{code:c,map:h}=l.context();return{ast:t,code:c,map:h?h.toJSON():void 0}};function j4(t,e={}){const n=po({},e),s=M4(n).parse(t);return I4(s,n),B4(s,n)}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const UA={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let Gc=null;function U4(t){Gc=t}function V4(){return Gc}function VA(t,e,n){Gc&&Gc.emit(UA.I18nInit,{timestamp:Date.now(),i18n:t,version:e,meta:n})}const $A=$4(UA.FunctionTranslate);function $4(t){return e=>Gc&&Gc.emit(t,e)}const z4={[0]:"Not found '{key}' key in '{locale}' locale messages.",[1]:"Fall back to translate '{key}' key with '{target}' locale.",[2]:"Cannot format a number value due to not supported Intl.NumberFormat.",[3]:"Fall back to number format '{key}' key with '{target}' locale.",[4]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[5]:"Fall back to datetime format '{key}' key with '{target}' locale."};function H4(t,...e){return MA(z4[t],...e)}const zA="9.1.9",mv=-1,q4="";function W4(){return{upper:t=>et(t)?t.toUpperCase():t,lower:t=>et(t)?t.toLowerCase():t,capitalize:t=>et(t)?`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`:t}}let HA;function G4(t){HA=t}let qA=null;const K4=t=>{qA=t},WA=()=>qA;let iC=0;function Y4(t={}){const e=et(t.version)?t.version:zA,n=et(t.locale)?t.locale:"en-US",i=Kr(t.fallbackLocale)||Wt(t.fallbackLocale)||et(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:n,s=Wt(t.messages)?t.messages:{[n]:{}},r=Wt(t.datetimeFormats)?t.datetimeFormats:{[n]:{}},a=Wt(t.numberFormats)?t.numberFormats:{[n]:{}},o=po({},t.modifiers||{},W4()),l=t.pluralRules||{},c=ki(t.missing)?t.missing:null,h=Pi(t.missingWarn)||x_(t.missingWarn)?t.missingWarn:!0,p=Pi(t.fallbackWarn)||x_(t.fallbackWarn)?t.fallbackWarn:!0,d=!!t.fallbackFormat,g=!!t.unresolving,x=ki(t.postTranslation)?t.postTranslation:null,S=Wt(t.processor)?t.processor:null,m=Pi(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter,y=ki(t.messageCompiler)?t.messageCompiler:HA,T=ki(t.onWarn)?t.onWarn:NA,C=t,A=xr(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,k=xr(C.__numberFormatters)?C.__numberFormatters:new Map,P=xr(C.__meta)?C.__meta:{};iC++;const N={version:e,cid:iC,locale:n,fallbackLocale:i,messages:s,datetimeFormats:r,numberFormats:a,modifiers:o,pluralRules:l,missing:c,missingWarn:h,fallbackWarn:p,fallbackFormat:d,unresolving:g,postTranslation:x,processor:S,warnHtmlMessage:m,escapeParameter:_,messageCompiler:y,onWarn:T,__datetimeFormatters:A,__numberFormatters:k,__meta:P};return __INTLIFY_PROD_DEVTOOLS__&&VA(N,e,P),N}function X4(t,e){return t instanceof RegExp?t.test(e):t}function Q4(t,e){return t instanceof RegExp?t.test(e):t}function vv(t,e,n,i,s){const{missing:r,onWarn:a}=t;if(r!==null){const o=r(t,n,e,s);return et(o)?o:e}else return e}function Vp(t,e,n){const i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(n);if(!s){s=[];let r=[n];for(;Kr(r);)r=sC(s,r,e);const a=Kr(e)?e:Wt(e)?e.default?e.default:null:e;r=et(a)?[a]:a,Kr(r)&&sC(s,r,!1),i.__localeChainCache.set(n,s)}return s}function sC(t,e,n){let i=!0;for(let s=0;s<e.length&&Pi(i);s++){const r=e[s];et(r)&&(i=J4(t,e[s],n))}return i}function J4(t,e,n){let i;const s=e.split("-");do{const r=s.join("-");i=Z4(t,r,n),s.splice(-1,1)}while(s.length&&i===!0);return i}function Z4(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Kr(n)||Wt(n))&&n[s]&&(i=n[s])}return i}function ej(t,e,n){const i=t;i.__localeChainCache=new Map,Vp(t,n,e)}const tj=t=>t;let C_=Object.create(null);function nj(){C_=Object.create(null)}function ij(t,e={}){{const i=(e.onCacheKey||tj)(t),s=C_[i];if(s)return s;let r=!1;const a=e.onError||_4;e.onError=c=>{r=!0,a(c)};const{code:o}=j4(t,e),l=new Function(`return ${o}`)();return r?l:C_[i]=l}}function qo(t){return fv(t,null,void 0)}const rC=()=>"",js=t=>ki(t);function sj(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:s,fallbackLocale:r,messages:a}=t,[o,l]=KA(...e),c=Pi(l.missingWarn)?l.missingWarn:t.missingWarn,h=Pi(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,p=Pi(l.escapeParameter)?l.escapeParameter:t.escapeParameter,d=!!l.resolvedMessage,g=et(l.default)||Pi(l.default)?Pi(l.default)?o:l.default:n?o:"",x=n||g!=="",S=et(l.locale)?l.locale:t.locale;p&&rj(l);let[m,_,y]=d?[o,S,a[S]||{}]:aj(t,o,S,r,h,c),T=o;if(!d&&!(et(m)||js(m))&&x&&(m=g,T=m),!d&&(!(et(m)||js(m))||!et(_)))return s?mv:o;let C=!1;const A=()=>{C=!0},k=js(m)?m:GA(t,o,_,m,T,A);if(C)return m;const P=cj(t,_,y,l),N=jA(P),I=oj(t,k,N),j=i?i(I):I;if(__INTLIFY_PROD_DEVTOOLS__){const V={timestamp:Date.now(),key:et(o)?o:js(m)?m.key:"",locale:_||(js(m)?m.locale:""),format:et(m)?m:js(m)?m.source:"",message:j};V.meta=po({},t.__meta,WA()||{}),$A(V)}return j}function rj(t){Kr(t.list)?t.list=t.list.map(e=>et(e)?y_(e):e):xr(t.named)&&Object.keys(t.named).forEach(e=>{et(t.named[e])&&(t.named[e]=y_(t.named[e]))})}function aj(t,e,n,i,s,r){const{messages:a,onWarn:o}=t,l=Vp(t,i,n);let c={},h,p=null;const d="translate";for(let g=0;g<l.length&&(h=l[g],c=a[h]||{},(p=Wy(c,e))===null&&(p=c[e]),!(et(p)||ki(p)));g++){const x=vv(t,e,h,r,d);x!==e&&(p=x)}return[p,h,c]}function GA(t,e,n,i,s,r){const{messageCompiler:a,warnHtmlMessage:o}=t;if(js(i)){const c=i;return c.locale=c.locale||n,c.key=c.key||e,c}const l=a(i,lj(t,n,s,i,o,r));return l.locale=n,l.key=e,l.source=i,l}function oj(t,e,n){return e(n)}function KA(...t){const[e,n,i]=t,s={};if(!et(e)&&!Ti(e)&&!js(e))throw qo(14);const r=Ti(e)?String(e):(js(e),e);return Ti(n)?s.plural=n:et(n)?s.default=n:Wt(n)&&!pv(n)?s.named=n:Kr(n)&&(s.list=n),Ti(i)?s.plural=i:et(i)?s.default=i:Wt(i)&&po(s,i),[r,s]}function lj(t,e,n,i,s,r){return{warnHtmlMessage:s,onError:a=>{throw r&&r(a),a},onCacheKey:a=>RA(e,n,a)}}function cj(t,e,n,i){const{modifiers:s,pluralRules:r}=t,o={locale:e,modifiers:s,pluralRules:r,messages:l=>{const c=Wy(n,l);if(et(c)){let h=!1;const d=GA(t,l,e,c,l,()=>{h=!0});return h?rC:d}else return js(c)?c:rC}};return t.processor&&(o.processor=t.processor),i.list&&(o.list=i.list),i.named&&(o.named=i.named),Ti(i.plural)&&(o.pluralIndex=i.plural),o}function uj(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:s,onWarn:r}=t,{__datetimeFormatters:a}=t,[o,l,c,h]=YA(...e),p=Pi(c.missingWarn)?c.missingWarn:t.missingWarn;Pi(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const d=!!c.part,g=et(c.locale)?c.locale:t.locale,x=Vp(t,s,g);if(!et(o)||o==="")return new Intl.DateTimeFormat(g).format(l);let S={},m,_=null;const y="datetime format";for(let A=0;A<x.length&&(m=x[A],S=n[m]||{},_=S[o],!Wt(_));A++)vv(t,o,m,p,y);if(!Wt(_)||!et(m))return i?mv:o;let T=`${m}__${o}`;pv(h)||(T=`${T}__${JSON.stringify(h)}`);let C=a.get(T);return C||(C=new Intl.DateTimeFormat(m,po({},_,h)),a.set(T,C)),d?C.formatToParts(l):C.format(l)}function YA(...t){const[e,n,i,s]=t;let r={},a={},o;if(et(e)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(e))throw qo(16);o=new Date(e);try{o.toISOString()}catch{throw qo(16)}}else if(OA(e)){if(isNaN(e.getTime()))throw qo(15);o=e}else if(Ti(e))o=e;else throw qo(14);return et(n)?r.key=n:Wt(n)&&(r=n),et(i)?r.locale=i:Wt(i)&&(a=i),Wt(s)&&(a=s),[r.key||"",o,r,a]}function hj(t,e,n){const i=t;for(const s in n){const r=`${e}__${s}`;!i.__datetimeFormatters.has(r)||i.__datetimeFormatters.delete(r)}}function pj(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:s,onWarn:r}=t,{__numberFormatters:a}=t,[o,l,c,h]=XA(...e),p=Pi(c.missingWarn)?c.missingWarn:t.missingWarn;Pi(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const d=!!c.part,g=et(c.locale)?c.locale:t.locale,x=Vp(t,s,g);if(!et(o)||o==="")return new Intl.NumberFormat(g).format(l);let S={},m,_=null;const y="number format";for(let A=0;A<x.length&&(m=x[A],S=n[m]||{},_=S[o],!Wt(_));A++)vv(t,o,m,p,y);if(!Wt(_)||!et(m))return i?mv:o;let T=`${m}__${o}`;pv(h)||(T=`${T}__${JSON.stringify(h)}`);let C=a.get(T);return C||(C=new Intl.NumberFormat(m,po({},_,h)),a.set(T,C)),d?C.formatToParts(l):C.format(l)}function XA(...t){const[e,n,i,s]=t;let r={},a={};if(!Ti(e))throw qo(14);const o=e;return et(n)?r.key=n:Wt(n)&&(r=n),et(i)?r.locale=i:Wt(i)&&(a=i),Wt(s)&&(a=s),[r.key||"",o,r,a]}function dj(t,e,n){const i=t;for(const s in n){const r=`${e}__${s}`;!i.__numberFormatters.has(r)||i.__numberFormatters.delete(r)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(LA().__INTLIFY_PROD_DEVTOOLS__=!1);var fj=Object.freeze(Object.defineProperty({__proto__:null,MISSING_RESOLVE_VALUE:q4,NOT_REOSLVED:mv,VERSION:zA,clearCompileCache:nj,clearDateTimeFormat:hj,clearNumberFormat:dj,compileToFunction:ij,createCoreContext:Y4,createCoreError:qo,datetime:uj,getAdditionalMeta:WA,getDevToolsHook:V4,getLocaleChain:Vp,getWarnMessage:H4,handleMissing:vv,initI18nDevTools:VA,isMessageFunction:js,isTranslateFallbackWarn:X4,isTranslateMissingWarn:Q4,number:pj,parseDateTimeArgs:YA,parseNumberArgs:XA,parseTranslateArgs:KA,registerMessageCompiler:G4,setAdditionalMeta:K4,setDevToolsHook:U4,translate:sj,translateDevTools:$A,updateFallbackLocale:ej,createCompileError:fv,handleFlatJson:w_,parse:DA,resolveValue:Wy,DEFAULT_MESSAGE_DATA_TYPE:BA,createMessageContext:jA},Symbol.toStringTag,{value:"Module"})),mj=hv(fj),vj=hv(q5),gj=hv(r4);/*!
  * vue-i18n v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */Object.defineProperty(ca,"__esModule",{value:!0});var gt=mj,bt=vj,pe=gj;const QA="9.1.9";function oi(t,...e){return gt.createCompileError(t,null,void 0)}const E_=pe.makeSymbol("__transrateVNode"),T_=pe.makeSymbol("__datetimeParts"),k_=pe.makeSymbol("__numberParts");pe.makeSymbol("__enableEmitter");pe.makeSymbol("__disableEmitter");const JA=pe.makeSymbol("__setPluralRules");pe.makeSymbol("__intlifyMeta");const ZA=pe.makeSymbol("__injectWithOption");let aC=0;function oC(t){return(e,n,i,s)=>t(n,i,bt.getCurrentInstance()||void 0,s)}function Ky(t,e){const{messages:n,__i18n:i}=e,s=pe.isPlainObject(n)?n:pe.isArray(i)?{}:{[t]:{}};if(pe.isArray(i)&&i.forEach(({locale:r,resource:a})=>{r?(s[r]=s[r]||{},Zf(a,s[r])):Zf(a,s)}),e.flatJson)for(const r in s)pe.hasOwn(s,r)&&gt.handleFlatJson(s[r]);return s}const nf=t=>!pe.isObject(t)||pe.isArray(t);function Zf(t,e){if(nf(t)||nf(e))throw oi(20);for(const n in t)pe.hasOwn(t,n)&&(nf(t[n])||nf(e[n])?e[n]=t[n]:Zf(t[n],e[n]))}function Yy(t={}){const{__root:e}=t,n=e===void 0;let i=pe.isBoolean(t.inheritLocale)?t.inheritLocale:!0;const s=bt.ref(e&&i?e.locale.value:pe.isString(t.locale)?t.locale:"en-US"),r=bt.ref(e&&i?e.fallbackLocale.value:pe.isString(t.fallbackLocale)||pe.isArray(t.fallbackLocale)||pe.isPlainObject(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s.value),a=bt.ref(Ky(s.value,t)),o=bt.ref(pe.isPlainObject(t.datetimeFormats)?t.datetimeFormats:{[s.value]:{}}),l=bt.ref(pe.isPlainObject(t.numberFormats)?t.numberFormats:{[s.value]:{}});let c=e?e.missingWarn:pe.isBoolean(t.missingWarn)||pe.isRegExp(t.missingWarn)?t.missingWarn:!0,h=e?e.fallbackWarn:pe.isBoolean(t.fallbackWarn)||pe.isRegExp(t.fallbackWarn)?t.fallbackWarn:!0,p=e?e.fallbackRoot:pe.isBoolean(t.fallbackRoot)?t.fallbackRoot:!0,d=!!t.fallbackFormat,g=pe.isFunction(t.missing)?t.missing:null,x=pe.isFunction(t.missing)?oC(t.missing):null,S=pe.isFunction(t.postTranslation)?t.postTranslation:null,m=pe.isBoolean(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter;const y=e?e.modifiers:pe.isPlainObject(t.modifiers)?t.modifiers:{};let T=t.pluralRules||e&&e.pluralRules,C;function A(){return gt.createCoreContext({version:QA,locale:s.value,fallbackLocale:r.value,messages:a.value,datetimeFormats:o.value,numberFormats:l.value,modifiers:y,pluralRules:T,missing:x===null?void 0:x,missingWarn:c,fallbackWarn:h,fallbackFormat:d,unresolving:!0,postTranslation:S===null?void 0:S,warnHtmlMessage:m,escapeParameter:_,__datetimeFormatters:pe.isPlainObject(C)?C.__datetimeFormatters:void 0,__numberFormatters:pe.isPlainObject(C)?C.__numberFormatters:void 0,__v_emitter:pe.isPlainObject(C)?C.__v_emitter:void 0,__meta:{framework:"vue"}})}C=A(),gt.updateFallbackLocale(C,s.value,r.value);function k(){return[s.value,r.value,a.value,o.value,l.value]}const P=bt.computed({get:()=>s.value,set:W=>{s.value=W,C.locale=s.value}}),N=bt.computed({get:()=>r.value,set:W=>{r.value=W,C.fallbackLocale=r.value,gt.updateFallbackLocale(C,s.value,W)}}),I=bt.computed(()=>a.value),j=bt.computed(()=>o.value),V=bt.computed(()=>l.value);function D(){return pe.isFunction(S)?S:null}function G(W){S=W,C.postTranslation=W}function O(){return g}function J(W){W!==null&&(x=oC(W)),g=W,C.missing=x}function X(W,q,oe,se,de,he){k();let ge;if(ge=W(C),pe.isNumber(ge)&&ge===gt.NOT_REOSLVED){const[_e,Ue]=q();return e&&p?se(e):de(_e)}else{if(he(ge))return ge;throw oi(14)}}function ae(...W){return X(q=>gt.translate(q,...W),()=>gt.parseTranslateArgs(...W),"translate",q=>q.t(...W),q=>q,q=>pe.isString(q))}function me(...W){const[q,oe,se]=W;if(se&&!pe.isObject(se))throw oi(15);return ae(q,oe,pe.assign({resolvedMessage:!0},se||{}))}function Ae(...W){return X(q=>gt.datetime(q,...W),()=>gt.parseDateTimeArgs(...W),"datetime format",q=>q.d(...W),()=>gt.MISSING_RESOLVE_VALUE,q=>pe.isString(q))}function Oe(...W){return X(q=>gt.number(q,...W),()=>gt.parseNumberArgs(...W),"number format",q=>q.n(...W),()=>gt.MISSING_RESOLVE_VALUE,q=>pe.isString(q))}function Be(W){return W.map(q=>pe.isString(q)?bt.createVNode(bt.Text,null,q,0):q)}const Se={normalize:Be,interpolate:W=>W,type:"vnode"};function We(...W){return X(q=>{let oe;const se=q;try{se.processor=Se,oe=gt.translate(se,...W)}finally{se.processor=null}return oe},()=>gt.parseTranslateArgs(...W),"translate",q=>q[E_](...W),q=>[bt.createVNode(bt.Text,null,q,0)],q=>pe.isArray(q))}function ue(...W){return X(q=>gt.number(q,...W),()=>gt.parseNumberArgs(...W),"number format",q=>q[k_](...W),()=>[],q=>pe.isString(q)||pe.isArray(q))}function be(...W){return X(q=>gt.datetime(q,...W),()=>gt.parseDateTimeArgs(...W),"datetime format",q=>q[T_](...W),()=>[],q=>pe.isString(q)||pe.isArray(q))}function ve(W){T=W,C.pluralRules=T}function Te(W,q){const oe=pe.isString(q)?q:s.value,se=z(oe);return gt.resolveValue(se,W)!==null}function Ne(W){let q=null;const oe=gt.getLocaleChain(C,r.value,s.value);for(let se=0;se<oe.length;se++){const de=a.value[oe[se]]||{},he=gt.resolveValue(de,W);if(he!=null){q=he;break}}return q}function He(W){const q=Ne(W);return q!=null?q:e?e.tm(W)||{}:{}}function z(W){return a.value[W]||{}}function K(W,q){a.value[W]=q,C.messages=a.value}function F(W,q){a.value[W]=a.value[W]||{},Zf(q,a.value[W]),C.messages=a.value}function B(W){return o.value[W]||{}}function Z(W,q){o.value[W]=q,C.datetimeFormats=o.value,gt.clearDateTimeFormat(C,W,q)}function $(W,q){o.value[W]=pe.assign(o.value[W]||{},q),C.datetimeFormats=o.value,gt.clearDateTimeFormat(C,W,q)}function Q(W){return l.value[W]||{}}function te(W,q){l.value[W]=q,C.numberFormats=l.value,gt.clearNumberFormat(C,W,q)}function ee(W,q){l.value[W]=pe.assign(l.value[W]||{},q),C.numberFormats=l.value,gt.clearNumberFormat(C,W,q)}return aC++,e&&(bt.watch(e.locale,W=>{i&&(s.value=W,C.locale=W,gt.updateFallbackLocale(C,s.value,r.value))}),bt.watch(e.fallbackLocale,W=>{i&&(r.value=W,C.fallbackLocale=W,gt.updateFallbackLocale(C,s.value,r.value))})),{id:aC,locale:P,fallbackLocale:N,get inheritLocale(){return i},set inheritLocale(W){i=W,W&&e&&(s.value=e.locale.value,r.value=e.fallbackLocale.value,gt.updateFallbackLocale(C,s.value,r.value))},get availableLocales(){return Object.keys(a.value).sort()},messages:I,datetimeFormats:j,numberFormats:V,get modifiers(){return y},get pluralRules(){return T||{}},get isGlobal(){return n},get missingWarn(){return c},set missingWarn(W){c=W,C.missingWarn=c},get fallbackWarn(){return h},set fallbackWarn(W){h=W,C.fallbackWarn=h},get fallbackRoot(){return p},set fallbackRoot(W){p=W},get fallbackFormat(){return d},set fallbackFormat(W){d=W,C.fallbackFormat=d},get warnHtmlMessage(){return m},set warnHtmlMessage(W){m=W,C.warnHtmlMessage=W},get escapeParameter(){return _},set escapeParameter(W){_=W,C.escapeParameter=W},t:ae,rt:me,d:Ae,n:Oe,te:Te,tm:He,getLocaleMessage:z,setLocaleMessage:K,mergeLocaleMessage:F,getDateTimeFormat:B,setDateTimeFormat:Z,mergeDateTimeFormat:$,getNumberFormat:Q,setNumberFormat:te,mergeNumberFormat:ee,getPostTranslationHandler:D,setPostTranslationHandler:G,getMissingHandler:O,setMissingHandler:J,[E_]:We,[k_]:ue,[T_]:be,[JA]:ve,[ZA]:t.__injectWithOption}}function bj(t){const e=pe.isString(t.locale)?t.locale:"en-US",n=pe.isString(t.fallbackLocale)||pe.isArray(t.fallbackLocale)||pe.isPlainObject(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,i=pe.isFunction(t.missing)?t.missing:void 0,s=pe.isBoolean(t.silentTranslationWarn)||pe.isRegExp(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,r=pe.isBoolean(t.silentFallbackWarn)||pe.isRegExp(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,a=pe.isBoolean(t.fallbackRoot)?t.fallbackRoot:!0,o=!!t.formatFallbackMessages,l=pe.isPlainObject(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,h=pe.isFunction(t.postTranslation)?t.postTranslation:void 0,p=pe.isString(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,d=!!t.escapeParameterHtml,g=pe.isBoolean(t.sync)?t.sync:!0;let x=t.messages;if(pe.isPlainObject(t.sharedMessages)){const A=t.sharedMessages;x=Object.keys(A).reduce((P,N)=>{const I=P[N]||(P[N]={});return pe.assign(I,A[N]),P},x||{})}const{__i18n:S,__root:m,__injectWithOption:_}=t,y=t.datetimeFormats,T=t.numberFormats,C=t.flatJson;return{locale:e,fallbackLocale:n,messages:x,flatJson:C,datetimeFormats:y,numberFormats:T,missing:i,missingWarn:s,fallbackWarn:r,fallbackRoot:a,fallbackFormat:o,modifiers:l,pluralRules:c,postTranslation:h,warnHtmlMessage:p,escapeParameter:d,inheritLocale:g,__i18n:S,__root:m,__injectWithOption:_}}function P_(t={}){const e=Yy(bj(t)),n={id:e.id,get locale(){return e.locale.value},set locale(i){e.locale.value=i},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(i){e.fallbackLocale.value=i},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(i){},get missing(){return e.getMissingHandler()},set missing(i){e.setMissingHandler(i)},get silentTranslationWarn(){return pe.isBoolean(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(i){e.missingWarn=pe.isBoolean(i)?!i:i},get silentFallbackWarn(){return pe.isBoolean(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(i){e.fallbackWarn=pe.isBoolean(i)?!i:i},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(i){e.fallbackFormat=i},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(i){e.setPostTranslationHandler(i)},get sync(){return e.inheritLocale},set sync(i){e.inheritLocale=i},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){e.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(i){e.escapeParameter=i},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(i){},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...i){const[s,r,a]=i,o={};let l=null,c=null;if(!pe.isString(s))throw oi(15);const h=s;return pe.isString(r)?o.locale=r:pe.isArray(r)?l=r:pe.isPlainObject(r)&&(c=r),pe.isArray(a)?l=a:pe.isPlainObject(a)&&(c=a),e.t(h,l||c||{},o)},rt(...i){return e.rt(...i)},tc(...i){const[s,r,a]=i,o={plural:1};let l=null,c=null;if(!pe.isString(s))throw oi(15);const h=s;return pe.isString(r)?o.locale=r:pe.isNumber(r)?o.plural=r:pe.isArray(r)?l=r:pe.isPlainObject(r)&&(c=r),pe.isString(a)?o.locale=a:pe.isArray(a)?l=a:pe.isPlainObject(a)&&(c=a),e.t(h,l||c||{},o)},te(i,s){return e.te(i,s)},tm(i){return e.tm(i)},getLocaleMessage(i){return e.getLocaleMessage(i)},setLocaleMessage(i,s){e.setLocaleMessage(i,s)},mergeLocaleMessage(i,s){e.mergeLocaleMessage(i,s)},d(...i){return e.d(...i)},getDateTimeFormat(i){return e.getDateTimeFormat(i)},setDateTimeFormat(i,s){e.setDateTimeFormat(i,s)},mergeDateTimeFormat(i,s){e.mergeDateTimeFormat(i,s)},n(...i){return e.n(...i)},getNumberFormat(i){return e.getNumberFormat(i)},setNumberFormat(i,s){e.setNumberFormat(i,s)},mergeNumberFormat(i,s){e.mergeNumberFormat(i,s)},getChoiceIndex(i,s){return-1},__onComponentInstanceCreated(i){const{componentInstanceCreatedListener:s}=t;s&&s(i,n)}};return n}const Xy={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}},A_={name:"i18n-t",props:pe.assign({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>pe.isNumber(t)||!isNaN(t)}},Xy),setup(t,e){const{slots:n,attrs:i}=e,s=t.i18n||gv({useScope:t.scope,__useComponent:!0}),r=Object.keys(n).filter(a=>a!=="_");return()=>{const a={};t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=pe.isString(t.plural)?+t.plural:t.plural);const o=_j(e,r),l=s[E_](t.keypath,o,a),c=pe.assign({},i);return pe.isString(t.tag)||pe.isObject(t.tag)?bt.h(t.tag,c,l):bt.h(bt.Fragment,c,l)}}};function _j({slots:t},e){return e.length===1&&e[0]==="default"?t.default?t.default():[]:e.reduce((n,i)=>{const s=t[i];return s&&(n[i]=s()),n},{})}function eM(t,e,n,i){const{slots:s,attrs:r}=e;return()=>{const a={part:!0};let o={};t.locale&&(a.locale=t.locale),pe.isString(t.format)?a.key=t.format:pe.isObject(t.format)&&(pe.isString(t.format.key)&&(a.key=t.format.key),o=Object.keys(t.format).reduce((p,d)=>n.includes(d)?pe.assign({},p,{[d]:t.format[d]}):p,{}));const l=i(t.value,a,o);let c=[a.key];pe.isArray(l)?c=l.map((p,d)=>{const g=s[p.type];return g?g({[p.type]:p.value,index:d,parts:l}):[p.value]}):pe.isString(l)&&(c=[l]);const h=pe.assign({},r);return pe.isString(t.tag)||pe.isObject(t.tag)?bt.h(t.tag,h,c):bt.h(bt.Fragment,h,c)}}const xj=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],M_={name:"i18n-n",props:pe.assign({value:{type:Number,required:!0},format:{type:[String,Object]}},Xy),setup(t,e){const n=t.i18n||gv({useScope:"parent",__useComponent:!0});return eM(t,e,xj,(...i)=>n[k_](...i))}},yj=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],R_={name:"i18n-d",props:pe.assign({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Xy),setup(t,e){const n=t.i18n||gv({useScope:"parent",__useComponent:!0});return eM(t,e,yj,(...i)=>n[T_](...i))}};function wj(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const i=n.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function tM(t){const e=(n,{instance:i,value:s,modifiers:r})=>{if(!i||!i.$)throw oi(22);const a=wj(t,i.$),o=Sj(s);n.textContent=a.t(...Cj(o))};return{beforeMount:e,beforeUpdate:e}}function Sj(t){if(pe.isString(t))return{path:t};if(pe.isPlainObject(t)){if(!("path"in t))throw oi(19,"path");return t}else throw oi(20)}function Cj(t){const{path:e,locale:n,args:i,choice:s,plural:r}=t,a={},o=i||{};return pe.isString(n)&&(a.locale=n),pe.isNumber(s)&&(a.plural=s),pe.isNumber(r)&&(a.plural=r),[e,o,a]}function Ej(t,e,...n){const i=pe.isPlainObject(n[0])?n[0]:{},s=!!i.useI18nComponentName;(pe.isBoolean(i.globalInstall)?i.globalInstall:!0)&&(t.component(s?"i18n":A_.name,A_),t.component(M_.name,M_),t.component(R_.name,R_)),t.directive("t",tM(e))}function Tj(t,e,n){return{beforeCreate(){const i=bt.getCurrentInstance();if(!i)throw oi(22);const s=this.$options;if(s.i18n){const r=s.i18n;s.__i18n&&(r.__i18n=s.__i18n),r.__root=e,this===this.$root?this.$i18n=lC(t,r):(r.__injectWithOption=!0,this.$i18n=P_(r))}else s.__i18n?this===this.$root?this.$i18n=lC(t,s):this.$i18n=P_({__i18n:s.__i18n,__injectWithOption:!0,__root:e}):this.$i18n=t;t.__onComponentInstanceCreated(this.$i18n),n.__setInstance(i,this.$i18n),this.$t=(...r)=>this.$i18n.t(...r),this.$rt=(...r)=>this.$i18n.rt(...r),this.$tc=(...r)=>this.$i18n.tc(...r),this.$te=(r,a)=>this.$i18n.te(r,a),this.$d=(...r)=>this.$i18n.d(...r),this.$n=(...r)=>this.$i18n.n(...r),this.$tm=r=>this.$i18n.tm(r)},mounted(){},beforeUnmount(){const i=bt.getCurrentInstance();if(!i)throw oi(22);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(i),delete this.$i18n}}}function lC(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[JA](e.pluralizationRules||t.pluralizationRules);const n=Ky(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(i=>t.mergeLocaleMessage(i,n[i])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i])),e.numberFormats&&Object.keys(e.numberFormats).forEach(i=>t.mergeNumberFormat(i,e.numberFormats[i])),t}function kj(t={}){const e=pe.isBoolean(t.legacy)?t.legacy:!0,n=!!t.globalInjection,i=new Map,s=e?P_(t):Yy(t),r=pe.makeSymbol(""),a={get mode(){return e?"legacy":"composition"},async install(o,...l){o.__VUE_I18N_SYMBOL__=r,o.provide(o.__VUE_I18N_SYMBOL__,a),!e&&n&&Ij(o,a.global),Ej(o,a,...l),e&&o.mixin(Tj(s,s.__composer,a))},get global(){return s},__instances:i,__getInstance(o){return i.get(o)||null},__setInstance(o,l){i.set(o,l)},__deleteInstance(o){i.delete(o)}};return a}function gv(t={}){const e=bt.getCurrentInstance();if(e==null)throw oi(16);if(!e.appContext.app.__VUE_I18N_SYMBOL__)throw oi(17);const n=bt.inject(e.appContext.app.__VUE_I18N_SYMBOL__);if(!n)throw oi(22);const i=n.mode==="composition"?n.global:n.global.__composer,s=pe.isEmptyObject(t)?"__i18n"in e.type?"local":"global":t.useScope?t.useScope:"local";if(s==="global"){let o=pe.isObject(t.messages)?t.messages:{};"__i18nGlobal"in e.type&&(o=Ky(i.locale.value,{messages:o,__i18n:e.type.__i18nGlobal}));const l=Object.keys(o);if(l.length&&l.forEach(c=>{i.mergeLocaleMessage(c,o[c])}),pe.isObject(t.datetimeFormats)){const c=Object.keys(t.datetimeFormats);c.length&&c.forEach(h=>{i.mergeDateTimeFormat(h,t.datetimeFormats[h])})}if(pe.isObject(t.numberFormats)){const c=Object.keys(t.numberFormats);c.length&&c.forEach(h=>{i.mergeNumberFormat(h,t.numberFormats[h])})}return i}if(s==="parent"){let o=Pj(n,e,t.__useComponent);return o==null&&(o=i),o}if(n.mode==="legacy")throw oi(18);const r=n;let a=r.__getInstance(e);if(a==null){const o=e.type,l=pe.assign({},t);o.__i18n&&(l.__i18n=o.__i18n),i&&(l.__root=i),a=Yy(l),Aj(r,e),r.__setInstance(e,a)}return a}function Pj(t,e,n=!1){let i=null;const s=e.root;let r=e.parent;for(;r!=null;){const a=t;if(t.mode==="composition")i=a.__getInstance(r);else{const o=a.__getInstance(r);o!=null&&(i=o.__composer),n&&i&&!i[ZA]&&(i=null)}if(i!=null||s===r)break;r=r.parent}return i}function Aj(t,e,n){bt.onMounted(()=>{},e),bt.onUnmounted(()=>{t.__deleteInstance(e)},e)}const Mj=["locale","fallbackLocale","availableLocales"],Rj=["t","rt","d","n","tm"];function Ij(t,e){const n=Object.create(null);Mj.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw oi(22);const r=bt.isRef(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,i,r)}),t.config.globalProperties.$i18n=n,Rj.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw oi(22);Object.defineProperty(t.config.globalProperties,`$${i}`,s)})}gt.registerMessageCompiler(gt.compileToFunction);ca.DatetimeFormat=R_;ca.NumberFormat=M_;ca.Translation=A_;ca.VERSION=QA;ca.createI18n=kj;ca.useI18n=gv;ca.vTDirective=tM;AA.exports=ca;const Oj=()=>"en",Nj=()=>"en";var Lj={links:{twitter:{url:"https://twitter.com/HAPEsocial",label:"Our Twitter"},discord:{url:"https://discord.com/invite/hape",label:"Our Discord"},openSea:{url:"https://opensea.io/collection/hapeprime",label:"View on OpenSea"},raritySniper:{url:"https://raritysniper.com/hape-prime",label:"Rarity Sniper"},privacyPolicy:{url:"https://hapeprime.com/legals/privacy.pdf",label:"Privacy Policy"},hapeFashionIndex:{url:"https://index.hape.io/",label:"Fashion Index"},theDigimentalPage:{url:"https://twitter.com/digimentalldn",label:"The Digimental Page",account:"DigimentalLDN"},termsAndConditions:{url:"https://hapeprime.com/legals/terms.pdf",label:"Terms & Conditions"}},header:{fashion:"High-Fashion Hapes",trailer:"Play trailer"},menu:{close:"Close menu"},intro:{title1:{line1:"{b} and ready",line1B:"Fully 3D",line2:"to redefine digital",line3:"fashion"},title2:{line1:"Discover",line2:"8192 unique",line3:"beautiful HAPES"}},content:{title1:{line1:"Street fashion,",line2:"your style"},text1:{line1:"Switch up your HAPE's clothing with digital drops,",line2:"rank up on the Fashion Index and build your look",line3:"for the metaverse.",line4:"Switch up your HAPE's clothing with",line5:"digital drops, rank up on the",line6:"Fashion Index and build your look"},title2:{line1:"Run the",line2:"HAPEWALK"},text2:{line1:"Take to the runway and show off",line2:"your collection. Become a HAPEFLUENCER",line3:"and reap the real-world rewards.",line4:"your collection. Become a",line5:"HAPEFLUENCER and reap the",line6:"real-world rewards."}},roadmap:{close:"Close",title:"Our Roadmap",button:"Our Roadmap",phases:[{title:"Bringing the{br} Hapes to life",eyebrow:"Phase 01",groups:[{title:"Q1 \u2022 2022",items:[{text:"8192 HAPES, designed to unite the HAPE multiverse.",title:"HAPE Prime"},{text:"A new way to look at the collection, where ranking shifts according to fashion.",title:"The HAPE fashion index"},{text:"Wearable loyalty badges airdropped to holders and available to mint for free to HAPE supporters.",title:"The HAPE badge"},{text:"You\u2019re looking at it right now.",title:"HAPE.io relaunch"},{text:"Off-chain gifts exclusive to HAPE holders, tailored to your HAPE and dropped throughout the year.",title:"The HAPE repo"}]},{title:"Q2 \u2022 2022",items:[{text:"Build your wardrobe with HAPE\u2019s first fashion drop.",title:"Fashion capsule #1"},{text:"Fashion goes public: the HAPE Index gets a holder-powered upgrade.",title:"HAPE or not"},{text:"Four tracks dropped to holders to make your HAPES move, and a fifth for the dedicated.",title:"Music to HAPE to #1"}]}]},{title:"Airdrops{br} & Rewards",eyebrow:"Phase 02",groups:[{title:"",items:[{text:"The HAPE World Tour starts here. Venue TBA, wristbands available on entry\u2026",title:"HAPE world tour #1"},{text:"See (and move) your HAPE in full 3D for the first time, the first steps to the metaverse.",title:"The HAPE viewer"}]},{title:"Q2/3\u2022 2022",items:[{text:"Clothing for your HAPE\u2019s lower half to complete their style, airdropped to holders and minted by the HAPELIST.",title:"HAPE Lowers"}]},{title:"Q3 \u2022 2022",items:[{text:"Four more tracks to collect, trade and remix.",title:"Music to HAPE to #2"},{text:"Second stop on the HAPE World Tour. New continent, new form, new wristband.",title:"HAPE world tour #2"},{text:"Define your look and build out your HAPE into a metaverse-ready 3D avatar.",title:"The HAPE machine"}]}]},{title:"Style{br} your Hape",eyebrow:"Phase 03",groups:[{title:"Q4 \u2022 2022",items:[{text:"Third stop on the World Tour: HAPE of the Nation LIVE.",title:"HAPE world tour #3"},{text:"The final four tracks drop and the build-up to the HAPEWALK begins.",title:"Music to HAPE #3"},{text:"\u2026?",title:"Physical drops"},{text:"Run the HAPEWALK. Show off your style and prove you\u2019re the #1 HAPEFLUENCER. The future\u2019s yours.",title:"The HAPEWALK"}]}]},{title:"Connections &{br} Collaborations",eyebrow:"Ongoing",groups:[{title:"Currently",items:[{text:"Partnerships with world-leading brands for capsules, drops and more\u2026",title:"Partnerships"},{text:"Take your HAPE style into the real world with premium, quality clothing.",title:"Merch"}]}]}]},trailer:{exit:"Exit trailer"},tutorial:{sound:{tap:"Tap anywhere to enable the sound",click:"Click anywhere to enable the sound"},drag:"Drag to turn.",touch:"Scroll{br} to explore.",scroll:"Scroll to explore."},toolbar:{exit:"Exit HAPEWALK",reload:"Reload the page",switch:"Switch Hape",spacebar:"Hapebar",spacebarPrefix:"Press",spacebarSuffix:"to {space} switch"},partners:{soon:"Coming soon",title:"Our{br} Partners",label:"Visit partner's website: {name}"},footer:{title:"Connect{br} with{br} us",quote:"We ape, we mimic,{br} we mock. We act.\u201D",author:"Sir Laurence Oliver",creator:"Styled by {name}",copyright:"\xA9 2022 \u2022 HAPE PRIME"},loader:{error:"Your browser or device doesn't support the experience.{br} If I was you, I would try an another device right now.",text1:"Catching",text2:"a",text3:"bunch",text4:"of",text5:"HAPES",progress:"{value}%"},press:{button:"Read more"},months:["January","February","March","April","May","June","July","August","September","October","November","December"]};const Fj={en:Lj},Dj=Nj(),Bj=Oj(),jj=AA.exports.createI18n({locale:Dj,messages:Fj,fallbackLocale:Bj});var Uj=!1;/*!
  * pinia v2.0.12
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let nM;const bv=t=>nM=t,iM=Symbol();function I_(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ah;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ah||(Ah={}));function Vj(){const t=gy(!0),e=t.run(()=>De({}));let n=[],i=[];const s=rl({install(r){bv(s),s._a=r,r.provide(iM,s),r.config.globalProperties.$pinia=s,i.forEach(a=>n.push(a)),i=[]},use(r){return!this._a&&!Uj?i.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const sM=()=>{};function cC(t,e,n,i=sM){t.push(e);const s=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),i())};return!n&&Es()&&jp(s),s}function Yl(t,...e){t.slice().forEach(n=>{n(...e)})}function O_(t,e){for(const n in e){const i=e[n],s=t[n];I_(s)&&I_(i)&&!Gt(i)&&!Gr(i)?t[n]=O_(s,i):t[n]=i}return t}const $j=Symbol();function zj(t){return!I_(t)||!t.hasOwnProperty($j)}const{assign:Br}=Object;function Hj(t){return!!(Gt(t)&&t.effect)}function qj(t,e,n,i){const{state:s,actions:r,getters:a}=e,o=n.state.value[t];let l;function c(){o||(n.state.value[t]=s?s():{});const h=vP(n.state.value[t]);return Br(h,r,Object.keys(a||{}).reduce((p,d)=>(p[d]=rl(si(()=>{bv(n);const g=n._s.get(t);return a[d].call(g,g)})),p),{}))}return l=rM(t,c,e,n),l.$reset=function(){const p=s?s():{};this.$patch(d=>{Br(d,p)})},l}function rM(t,e,n={},i,s){let r;const a=n.state,o=Br({actions:{}},n),l={deep:!0};let c,h,p=rl([]),d=rl([]),g;const x=i.state.value[t];!a&&!x&&(i.state.value[t]={}),De({});function S(k){let P;c=h=!1,typeof k=="function"?(k(i.state.value[t]),P={type:Ah.patchFunction,storeId:t,events:g}):(O_(i.state.value[t],k),P={type:Ah.patchObject,payload:k,storeId:t,events:g}),Sl().then(()=>{c=!0}),h=!0,Yl(p,P,i.state.value[t])}const m=sM;function _(){r.stop(),p=[],d=[],i._s.delete(t)}function y(k,P){return function(){bv(i);const N=Array.from(arguments),I=[],j=[];function V(O){I.push(O)}function D(O){j.push(O)}Yl(d,{args:N,name:k,store:C,after:V,onError:D});let G;try{G=P.apply(this&&this.$id===t?this:C,N)}catch(O){throw Yl(j,O),O}return G instanceof Promise?G.then(O=>(Yl(I,O),O)).catch(O=>(Yl(j,O),Promise.reject(O))):(Yl(I,G),G)}}const T={_p:i,$id:t,$onAction:cC.bind(null,d),$patch:S,$reset:m,$subscribe(k,P={}){const N=cC(p,k,P.detached,()=>I()),I=r.run(()=>qs(()=>i.state.value[t],j=>{(P.flush==="sync"?h:c)&&k({storeId:t,type:Ah.direct,events:g},j)},Br({},l,P)));return N},$dispose:_},C=yl(Br({},T));i._s.set(t,C);const A=i._e.run(()=>(r=gy(),r.run(()=>e())));for(const k in A){const P=A[k];if(Gt(P)&&!Hj(P)||Gr(P))a||(x&&zj(P)&&(Gt(P)?P.value=x[k]:O_(P,x[k])),i.state.value[t][k]=P);else if(typeof P=="function"){const N=y(k,P);A[k]=N,o.actions[k]=P}}return Br(C,A),Br(ct(C),A),Object.defineProperty(C,"$state",{get:()=>i.state.value[t],set:k=>{S(P=>{Br(P,k)})}}),i._p.forEach(k=>{Br(C,r.run(()=>k({store:C,app:i._a,pinia:i,options:o})))}),x&&a&&n.hydrate&&n.hydrate(C.$state,x),c=!0,h=!0,C}function du(t,e,n){let i,s;const r=typeof e=="function";typeof t=="string"?(i=t,s=r?n:e):(s=t,i=t.id);function a(o,l){const c=Es();return o=o||c&&es(iM),o&&bv(o),o=nM,o._s.has(i)||(r?rM(i,e,s,o):qj(i,s,o)),o._s.get(i)}return a.$id=i,a}const Wj=Vj();/*!
  * vue-router v4.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const aM=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",fu=t=>aM?Symbol(t):"_vr_"+t,Gj=fu("rvlm"),uC=fu("rvd"),_v=fu("r"),Qy=fu("rl"),N_=fu("rvl"),dc=typeof window!="undefined";function Kj(t){return t.__esModule||aM&&t[Symbol.toStringTag]==="Module"}const Ft=Object.assign;function lb(t,e){const n={};for(const i in e){const s=e[i];n[i]=Array.isArray(s)?s.map(t):t(s)}return n}const Mh=()=>{},Yj=/\/$/,Xj=t=>t.replace(Yj,"");function cb(t,e,n="/"){let i,s={},r="",a="";const o=e.indexOf("?"),l=e.indexOf("#",o>-1?o:0);return o>-1&&(i=e.slice(0,o),r=e.slice(o+1,l>-1?l:e.length),s=t(r)),l>-1&&(i=i||e.slice(0,l),a=e.slice(l,e.length)),i=eU(i!=null?i:e,n),{fullPath:i+(r&&"?")+r+a,path:i,query:s,hash:a}}function Qj(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function hC(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Jj(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Kc(e.matched[i],n.matched[s])&&oM(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Kc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function oM(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Zj(t[n],e[n]))return!1;return!0}function Zj(t,e){return Array.isArray(t)?pC(t,e):Array.isArray(e)?pC(e,t):t===e}function pC(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function eU(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/");let s=n.length-1,r,a;for(r=0;r<i.length;r++)if(a=i[r],!(s===1||a==="."))if(a==="..")s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var sp;(function(t){t.pop="pop",t.push="push"})(sp||(sp={}));var Rh;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Rh||(Rh={}));function tU(t){if(!t)if(dc){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Xj(t)}const nU=/^[^#]+#/;function iU(t,e){return t.replace(nU,"#")+e}function sU(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const xv=()=>({left:window.pageXOffset,top:window.pageYOffset});function rU(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=sU(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function dC(t,e){return(history.state?history.state.position-e:-1)+t}const L_=new Map;function aU(t,e){L_.set(t,e)}function oU(t){const e=L_.get(t);return L_.delete(t),e}let lU=()=>location.protocol+"//"+location.host;function lM(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let o=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),hC(l,"")}return hC(n,t)+i+s}function cU(t,e,n,i){let s=[],r=[],a=null;const o=({state:d})=>{const g=lM(t,location),x=n.value,S=e.value;let m=0;if(d){if(n.value=g,e.value=d,a&&a===x){a=null;return}m=S?d.position-S.position:0}else i(g);s.forEach(_=>{_(n.value,x,{delta:m,type:sp.pop,direction:m?m>0?Rh.forward:Rh.back:Rh.unknown})})};function l(){a=n.value}function c(d){s.push(d);const g=()=>{const x=s.indexOf(d);x>-1&&s.splice(x,1)};return r.push(g),g}function h(){const{history:d}=window;!d.state||d.replaceState(Ft({},d.state,{scroll:xv()}),"")}function p(){for(const d of r)d();r=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",h),{pauseListeners:l,listen:c,destroy:p}}function fC(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?xv():null}}function uU(t){const{history:e,location:n}=window,i={value:lM(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,h){const p=t.indexOf("#"),d=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+l:lU()+t+l;try{e[h?"replaceState":"pushState"](c,"",d),s.value=c}catch(g){console.error(g),n[h?"replace":"assign"](d)}}function a(l,c){const h=Ft({},e.state,fC(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,h,!0),i.value=l}function o(l,c){const h=Ft({},s.value,e.state,{forward:l,scroll:xv()});r(h.current,h,!0);const p=Ft({},fC(i.value,l,null),{position:h.position+1},c);r(l,p,!1),i.value=l}return{location:i,state:s,push:o,replace:a}}function hU(t){t=tU(t);const e=uU(t),n=cU(t,e.state,e.location,e.replace);function i(r,a=!0){a||n.pauseListeners(),history.go(r)}const s=Ft({location:"",base:t,go:i,createHref:iU.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function pU(t){return typeof t=="string"||t&&typeof t=="object"}function cM(t){return typeof t=="string"||typeof t=="symbol"}const Ea={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},uM=fu("nf");var mC;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(mC||(mC={}));function Yc(t,e){return Ft(new Error,{type:t,[uM]:!0},e)}function Ta(t,e){return t instanceof Error&&uM in t&&(e==null||!!(t.type&e))}const vC="[^/]+?",dU={sensitive:!1,strict:!1,start:!0,end:!0},fU=/[.+*?^${}()[\]/\\]/g;function mU(t,e){const n=Ft({},dU,e),i=[];let s=n.start?"^":"";const r=[];for(const c of t){const h=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let p=0;p<c.length;p++){const d=c[p];let g=40+(n.sensitive?.25:0);if(d.type===0)p||(s+="/"),s+=d.value.replace(fU,"\\$&"),g+=40;else if(d.type===1){const{value:x,repeatable:S,optional:m,regexp:_}=d;r.push({name:x,repeatable:S,optional:m});const y=_||vC;if(y!==vC){g+=10;try{new RegExp(`(${y})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${x}" (${y}): `+C.message)}}let T=S?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;p||(T=m&&c.length<2?`(?:/${T})`:"/"+T),m&&(T+="?"),s+=T,g+=20,m&&(g+=-8),S&&(g+=-20),y===".*"&&(g+=-50)}h.push(g)}i.push(h)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function o(c){const h=c.match(a),p={};if(!h)return null;for(let d=1;d<h.length;d++){const g=h[d]||"",x=r[d-1];p[x.name]=g&&x.repeatable?g.split("/"):g}return p}function l(c){let h="",p=!1;for(const d of t){(!p||!h.endsWith("/"))&&(h+="/"),p=!1;for(const g of d)if(g.type===0)h+=g.value;else if(g.type===1){const{value:x,repeatable:S,optional:m}=g,_=x in c?c[x]:"";if(Array.isArray(_)&&!S)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const y=Array.isArray(_)?_.join("/"):_;if(!y)if(m)d.length<2&&(h.endsWith("/")?h=h.slice(0,-1):p=!0);else throw new Error(`Missing required param "${x}"`);h+=y}}return h}return{re:a,score:i,keys:r,parse:o,stringify:l}}function vU(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function gU(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=vU(i[n],s[n]);if(r)return r;n++}return s.length-i.length}const bU={type:0,value:""},_U=/[a-zA-Z0-9_]/;function xU(t){if(!t)return[[]];if(t==="/")return[[bU]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,i=n;const s=[];let r;function a(){r&&s.push(r),r=[]}let o=0,l,c="",h="";function p(){!c||(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&p(),a()):l===":"?(p(),n=1):d();break;case 4:d(),n=i;break;case 1:l==="("?n=2:_U.test(l)?d():(p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),p(),a(),s}function yU(t,e,n){const i=mU(xU(t.path),n),s=Ft(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function wU(t,e){const n=[],i=new Map;e=bC({strict:!1,end:!0,sensitive:!1},e);function s(h){return i.get(h)}function r(h,p,d){const g=!d,x=CU(h);x.aliasOf=d&&d.record;const S=bC(e,h),m=[x];if("alias"in h){const T=typeof h.alias=="string"?[h.alias]:h.alias;for(const C of T)m.push(Ft({},x,{components:d?d.record.components:x.components,path:C,aliasOf:d?d.record:x}))}let _,y;for(const T of m){const{path:C}=T;if(p&&C[0]!=="/"){const A=p.record.path,k=A[A.length-1]==="/"?"":"/";T.path=p.record.path+(C&&k+C)}if(_=yU(T,p,S),d?d.alias.push(_):(y=y||_,y!==_&&y.alias.push(_),g&&h.name&&!gC(_)&&a(h.name)),"children"in x){const A=x.children;for(let k=0;k<A.length;k++)r(A[k],_,d&&d.children[k])}d=d||_,l(_)}return y?()=>{a(y)}:Mh}function a(h){if(cM(h)){const p=i.get(h);p&&(i.delete(h),n.splice(n.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{const p=n.indexOf(h);p>-1&&(n.splice(p,1),h.record.name&&i.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function o(){return n}function l(h){let p=0;for(;p<n.length&&gU(h,n[p])>=0&&(h.record.path!==n[p].record.path||!hM(h,n[p]));)p++;n.splice(p,0,h),h.record.name&&!gC(h)&&i.set(h.record.name,h)}function c(h,p){let d,g={},x,S;if("name"in h&&h.name){if(d=i.get(h.name),!d)throw Yc(1,{location:h});S=d.record.name,g=Ft(SU(p.params,d.keys.filter(y=>!y.optional).map(y=>y.name)),h.params),x=d.stringify(g)}else if("path"in h)x=h.path,d=n.find(y=>y.re.test(x)),d&&(g=d.parse(x),S=d.record.name);else{if(d=p.name?i.get(p.name):n.find(y=>y.re.test(p.path)),!d)throw Yc(1,{location:h,currentLocation:p});S=d.record.name,g=Ft({},p.params,h.params),x=d.stringify(g)}const m=[];let _=d;for(;_;)m.unshift(_.record),_=_.parent;return{name:S,path:x,params:g,matched:m,meta:TU(m)}}return t.forEach(h=>r(h)),{addRoute:r,resolve:c,removeRoute:a,getRoutes:o,getRecordMatcher:s}}function SU(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function CU(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:EU(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function EU(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="boolean"?n:n[i];return e}function gC(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function TU(t){return t.reduce((e,n)=>Ft(e,n.meta),{})}function bC(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function hM(t,e){return e.children.some(n=>n===t||hM(t,n))}const pM=/#/g,kU=/&/g,PU=/\//g,AU=/=/g,MU=/\?/g,dM=/\+/g,RU=/%5B/g,IU=/%5D/g,fM=/%5E/g,OU=/%60/g,mM=/%7B/g,NU=/%7C/g,vM=/%7D/g,LU=/%20/g;function Jy(t){return encodeURI(""+t).replace(NU,"|").replace(RU,"[").replace(IU,"]")}function FU(t){return Jy(t).replace(mM,"{").replace(vM,"}").replace(fM,"^")}function F_(t){return Jy(t).replace(dM,"%2B").replace(LU,"+").replace(pM,"%23").replace(kU,"%26").replace(OU,"`").replace(mM,"{").replace(vM,"}").replace(fM,"^")}function DU(t){return F_(t).replace(AU,"%3D")}function BU(t){return Jy(t).replace(pM,"%23").replace(MU,"%3F")}function jU(t){return t==null?"":BU(t).replace(PU,"%2F")}function em(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function UU(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(dM," "),a=r.indexOf("="),o=em(a<0?r:r.slice(0,a)),l=a<0?null:em(r.slice(a+1));if(o in e){let c=e[o];Array.isArray(c)||(c=e[o]=[c]),c.push(l)}else e[o]=l}return e}function _C(t){let e="";for(let n in t){const i=t[n];if(n=DU(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(i)?i.map(r=>r&&F_(r)):[i&&F_(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function VU(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Array.isArray(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}function Xu(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Fa(t,e,n,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,o)=>{const l=p=>{p===!1?o(Yc(4,{from:n,to:e})):p instanceof Error?o(p):pU(p)?o(Yc(2,{from:e,to:p})):(r&&i.enterCallbacks[s]===r&&typeof p=="function"&&r.push(p),a())},c=t.call(i&&i.instances[s],e,n,l);let h=Promise.resolve(c);t.length<3&&(h=h.then(l)),h.catch(p=>o(p))})}function ub(t,e,n,i){const s=[];for(const r of t)for(const a in r.components){let o=r.components[a];if(!(e!=="beforeRouteEnter"&&!r.instances[a]))if($U(o)){const c=(o.__vccOpts||o)[e];c&&s.push(Fa(c,n,i,r,a))}else{let l=o();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const h=Kj(c)?c.default:c;r.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&Fa(d,n,i,r,a)()}))}}return s}function $U(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function xC(t){const e=es(_v),n=es(Qy),i=si(()=>e.resolve(vr(t.to))),s=si(()=>{const{matched:l}=i.value,{length:c}=l,h=l[c-1],p=n.matched;if(!h||!p.length)return-1;const d=p.findIndex(Kc.bind(null,h));if(d>-1)return d;const g=yC(l[c-2]);return c>1&&yC(h)===g&&p[p.length-1].path!==g?p.findIndex(Kc.bind(null,l[c-2])):d}),r=si(()=>s.value>-1&&WU(n.params,i.value.params)),a=si(()=>s.value>-1&&s.value===n.matched.length-1&&oM(n.params,i.value.params));function o(l={}){return qU(l)?e[vr(t.replace)?"replace":"push"](vr(t.to)).catch(Mh):Promise.resolve()}return{route:i,href:si(()=>i.value.href),isActive:r,isExactActive:a,navigate:o}}const zU=Fp({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xC,setup(t,{slots:e}){const n=yl(xC(t)),{options:i}=es(_v),s=si(()=>({[wC(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[wC(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:cv("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),HU=zU;function qU(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function WU(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Array.isArray(s)||s.length!==i.length||i.some((r,a)=>r!==s[a]))return!1}return!0}function yC(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const wC=(t,e,n)=>t!=null?t:e!=null?e:n,GU=Fp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const i=es(N_),s=si(()=>t.route||i.value),r=es(uC,0),a=si(()=>s.value.matched[r]);Eh(uC,r+1),Eh(Gj,a),Eh(N_,s);const o=De();return qs(()=>[o.value,a.value,t.name],([l,c,h],[p,d,g])=>{c&&(c.instances[h]=l,d&&d!==c&&l&&l===p&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),l&&c&&(!d||!Kc(c,d)||!p)&&(c.enterCallbacks[h]||[]).forEach(x=>x(l))},{flush:"post"}),()=>{const l=s.value,c=a.value,h=c&&c.components[t.name],p=t.name;if(!h)return SC(n.default,{Component:h,route:l});const d=c.props[t.name],g=d?d===!0?l.params:typeof d=="function"?d(l):d:null,S=cv(h,Ft({},g,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(c.instances[p]=null)},ref:o}));return SC(n.default,{Component:S,route:l})||S}}});function SC(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const KU=GU;function YU(t){const e=wU(t.routes,t),n=t.parseQuery||UU,i=t.stringifyQuery||_C,s=t.history,r=Xu(),a=Xu(),o=Xu(),l=fP(Ea);let c=Ea;dc&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=lb.bind(null,ue=>""+ue),p=lb.bind(null,jU),d=lb.bind(null,em);function g(ue,be){let ve,Te;return cM(ue)?(ve=e.getRecordMatcher(ue),Te=be):Te=ue,e.addRoute(Te,ve)}function x(ue){const be=e.getRecordMatcher(ue);be&&e.removeRoute(be)}function S(){return e.getRoutes().map(ue=>ue.record)}function m(ue){return!!e.getRecordMatcher(ue)}function _(ue,be){if(be=Ft({},be||l.value),typeof ue=="string"){const K=cb(n,ue,be.path),F=e.resolve({path:K.path},be),B=s.createHref(K.fullPath);return Ft(K,F,{params:d(F.params),hash:em(K.hash),redirectedFrom:void 0,href:B})}let ve;if("path"in ue)ve=Ft({},ue,{path:cb(n,ue.path,be.path).path});else{const K=Ft({},ue.params);for(const F in K)K[F]==null&&delete K[F];ve=Ft({},ue,{params:p(ue.params)}),be.params=p(be.params)}const Te=e.resolve(ve,be),Ne=ue.hash||"";Te.params=h(d(Te.params));const He=Qj(i,Ft({},ue,{hash:FU(Ne),path:Te.path})),z=s.createHref(He);return Ft({fullPath:He,hash:Ne,query:i===_C?VU(ue.query):ue.query||{}},Te,{redirectedFrom:void 0,href:z})}function y(ue){return typeof ue=="string"?cb(n,ue,l.value.path):Ft({},ue)}function T(ue,be){if(c!==ue)return Yc(8,{from:be,to:ue})}function C(ue){return P(ue)}function A(ue){return C(Ft(y(ue),{replace:!0}))}function k(ue){const be=ue.matched[ue.matched.length-1];if(be&&be.redirect){const{redirect:ve}=be;let Te=typeof ve=="function"?ve(ue):ve;return typeof Te=="string"&&(Te=Te.includes("?")||Te.includes("#")?Te=y(Te):{path:Te},Te.params={}),Ft({query:ue.query,hash:ue.hash,params:ue.params},Te)}}function P(ue,be){const ve=c=_(ue),Te=l.value,Ne=ue.state,He=ue.force,z=ue.replace===!0,K=k(ve);if(K)return P(Ft(y(K),{state:Ne,force:He,replace:z}),be||ve);const F=ve;F.redirectedFrom=be;let B;return!He&&Jj(i,Te,ve)&&(B=Yc(16,{to:F,from:Te}),Oe(Te,Te,!0,!1)),(B?Promise.resolve(B):I(F,Te)).catch(Z=>Ta(Z)?Ta(Z,2)?Z:Ae(Z):ae(Z,F,Te)).then(Z=>{if(Z){if(Ta(Z,2))return P(Ft(y(Z.to),{state:Ne,force:He,replace:z}),be||F)}else Z=V(F,Te,!0,z,Ne);return j(F,Te,Z),Z})}function N(ue,be){const ve=T(ue,be);return ve?Promise.reject(ve):Promise.resolve()}function I(ue,be){let ve;const[Te,Ne,He]=XU(ue,be);ve=ub(Te.reverse(),"beforeRouteLeave",ue,be);for(const K of Te)K.leaveGuards.forEach(F=>{ve.push(Fa(F,ue,be))});const z=N.bind(null,ue,be);return ve.push(z),Xl(ve).then(()=>{ve=[];for(const K of r.list())ve.push(Fa(K,ue,be));return ve.push(z),Xl(ve)}).then(()=>{ve=ub(Ne,"beforeRouteUpdate",ue,be);for(const K of Ne)K.updateGuards.forEach(F=>{ve.push(Fa(F,ue,be))});return ve.push(z),Xl(ve)}).then(()=>{ve=[];for(const K of ue.matched)if(K.beforeEnter&&!be.matched.includes(K))if(Array.isArray(K.beforeEnter))for(const F of K.beforeEnter)ve.push(Fa(F,ue,be));else ve.push(Fa(K.beforeEnter,ue,be));return ve.push(z),Xl(ve)}).then(()=>(ue.matched.forEach(K=>K.enterCallbacks={}),ve=ub(He,"beforeRouteEnter",ue,be),ve.push(z),Xl(ve))).then(()=>{ve=[];for(const K of a.list())ve.push(Fa(K,ue,be));return ve.push(z),Xl(ve)}).catch(K=>Ta(K,8)?K:Promise.reject(K))}function j(ue,be,ve){for(const Te of o.list())Te(ue,be,ve)}function V(ue,be,ve,Te,Ne){const He=T(ue,be);if(He)return He;const z=be===Ea,K=dc?history.state:{};ve&&(Te||z?s.replace(ue.fullPath,Ft({scroll:z&&K&&K.scroll},Ne)):s.push(ue.fullPath,Ne)),l.value=ue,Oe(ue,be,ve,z),Ae()}let D;function G(){D=s.listen((ue,be,ve)=>{const Te=_(ue),Ne=k(Te);if(Ne){P(Ft(Ne,{replace:!0}),Te).catch(Mh);return}c=Te;const He=l.value;dc&&aU(dC(He.fullPath,ve.delta),xv()),I(Te,He).catch(z=>Ta(z,12)?z:Ta(z,2)?(P(z.to,Te).then(K=>{Ta(K,20)&&!ve.delta&&ve.type===sp.pop&&s.go(-1,!1)}).catch(Mh),Promise.reject()):(ve.delta&&s.go(-ve.delta,!1),ae(z,Te,He))).then(z=>{z=z||V(Te,He,!1),z&&(ve.delta?s.go(-ve.delta,!1):ve.type===sp.pop&&Ta(z,20)&&s.go(-1,!1)),j(Te,He,z)}).catch(Mh)})}let O=Xu(),J=Xu(),X;function ae(ue,be,ve){Ae(ue);const Te=J.list();return Te.length?Te.forEach(Ne=>Ne(ue,be,ve)):console.error(ue),Promise.reject(ue)}function me(){return X&&l.value!==Ea?Promise.resolve():new Promise((ue,be)=>{O.add([ue,be])})}function Ae(ue){return X||(X=!ue,G(),O.list().forEach(([be,ve])=>ue?ve(ue):be()),O.reset()),ue}function Oe(ue,be,ve,Te){const{scrollBehavior:Ne}=t;if(!dc||!Ne)return Promise.resolve();const He=!ve&&oU(dC(ue.fullPath,0))||(Te||!ve)&&history.state&&history.state.scroll||null;return Sl().then(()=>Ne(ue,be,He)).then(z=>z&&rU(z)).catch(z=>ae(z,ue,be))}const Be=ue=>s.go(ue);let we;const Se=new Set;return{currentRoute:l,addRoute:g,removeRoute:x,hasRoute:m,getRoutes:S,resolve:_,options:t,push:C,replace:A,go:Be,back:()=>Be(-1),forward:()=>Be(1),beforeEach:r.add,beforeResolve:a.add,afterEach:o.add,onError:J.add,isReady:me,install(ue){const be=this;ue.component("RouterLink",HU),ue.component("RouterView",KU),ue.config.globalProperties.$router=be,Object.defineProperty(ue.config.globalProperties,"$route",{enumerable:!0,get:()=>vr(l)}),dc&&!we&&l.value===Ea&&(we=!0,C(s.location).catch(Ne=>{}));const ve={};for(const Ne in Ea)ve[Ne]=si(()=>l.value[Ne]);ue.provide(_v,be),ue.provide(Qy,yl(ve)),ue.provide(N_,l);const Te=ue.unmount;Se.add(ue),ue.unmount=function(){Se.delete(ue),Se.size<1&&(c=Ea,D&&D(),l.value=Ea,we=!1,X=!1),Te()}}}}function Xl(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function XU(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let a=0;a<r;a++){const o=e.matched[a];o&&(t.matched.find(c=>Kc(c,o))?i.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(c=>Kc(c,l))||s.push(l))}return[n,i,s]}function QU(){return es(_v)}function JU(){return es(Qy)}const mu=du("walk",{state:()=>({enable:!1,disable:!0,running:!1})}),rs=du("sound",{state:()=>({play:!1,pause:!1,lower:!1,muted:!1,loaded:!1,enable:!1,disable:!0,tutorial:!0})});var D_={exports:{}};(function(t,e){(function(n,i){var s="1.0.2",r="",a="?",o="function",l="undefined",c="object",h="string",p="major",d="model",g="name",x="type",S="vendor",m="version",_="architecture",y="console",T="mobile",C="tablet",A="smarttv",k="wearable",P="embedded",N=255,I="Amazon",j="Apple",V="ASUS",D="BlackBerry",G="Browser",O="Chrome",J="Edge",X="Firefox",ae="Google",me="Huawei",Ae="LG",Oe="Microsoft",Be="Motorola",we="Opera",Se="Samsung",We="Sony",ue="Xiaomi",be="Zebra",ve="Facebook",Te=function(q,oe){var se={};for(var de in q)oe[de]&&oe[de].length%2===0?se[de]=oe[de].concat(q[de]):se[de]=q[de];return se},Ne=function(q){for(var oe={},se=0;se<q.length;se++)oe[q[se].toUpperCase()]=q[se];return oe},He=function(q,oe){return typeof q===h?z(oe).indexOf(z(q))!==-1:!1},z=function(q){return q.toLowerCase()},K=function(q){return typeof q===h?q.replace(/[^\d\.]/g,r).split(".")[0]:i},F=function(q,oe){if(typeof q===h)return q=q.replace(/^\s\s*/,r).replace(/\s\s*$/,r),typeof oe===l?q:q.substring(0,N)},B=function(q,oe){for(var se=0,de,he,ge,_e,Ue,$e;se<oe.length&&!Ue;){var ft=oe[se],Ct=oe[se+1];for(de=he=0;de<ft.length&&!Ue;)if(Ue=ft[de++].exec(q),Ue)for(ge=0;ge<Ct.length;ge++)$e=Ue[++he],_e=Ct[ge],typeof _e===c&&_e.length>0?_e.length===2?typeof _e[1]==o?this[_e[0]]=_e[1].call(this,$e):this[_e[0]]=_e[1]:_e.length===3?typeof _e[1]===o&&!(_e[1].exec&&_e[1].test)?this[_e[0]]=$e?_e[1].call(this,$e,_e[2]):i:this[_e[0]]=$e?$e.replace(_e[1],_e[2]):i:_e.length===4&&(this[_e[0]]=$e?_e[3].call(this,$e.replace(_e[1],_e[2])):i):this[_e]=$e||i;se+=2}},Z=function(q,oe){for(var se in oe)if(typeof oe[se]===c&&oe[se].length>0){for(var de=0;de<oe[se].length;de++)if(He(oe[se][de],q))return se===a?i:se}else if(He(oe[se],q))return se===a?i:se;return q},$={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0","2000":"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0","7":"NT 6.1","8":"NT 6.2","8.1":"NT 6.3","10":["NT 6.4","NT 10.0"],RT:"ARM"},te={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,m],[/opios[\/ ]+([\w\.]+)/i],[m,[g,we+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[g,we]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[g,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[g,"UC"+G]],[/\bqbcore\/([\w\.]+)/i],[m,[g,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[g,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[g,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+G],m],[/\bfocus\/([\w\.]+)/i],[m,[g,X+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[g,we+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[g,we+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[g,"MIUI "+G]],[/fxios\/([-\w\.]+)/i],[m,[g,X]],[/\bqihu|(qi?ho?o?|360)browser/i],[[g,"360 "+G]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 "+G],m],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[g,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,ve],m],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[g,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[g,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[g,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,O+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[g,"Android "+G]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,m],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[m,[g,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[m,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[m,Z,$]],[/(webkit|khtml)\/([\w\.]+)/i],[g,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[g,X+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[g,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,z]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,r,z]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[S,Se],[x,C]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[S,Se],[x,T]],[/\((ip(?:hone|od)[\w ]*);/i],[d,[S,j],[x,T]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[S,j],[x,C]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[S,me],[x,C]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[d,[S,me],[x,T]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[S,ue],[x,T]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[S,ue],[x,C]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[S,"OPPO"],[x,T]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[S,"Vivo"],[x,T]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[S,"Realme"],[x,T]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[S,Be],[x,T]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[S,Be],[x,C]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[S,Ae],[x,C]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[S,Ae],[x,T]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[S,"Lenovo"],[x,C]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[S,"Nokia"],[x,T]],[/(pixel c)\b/i],[d,[S,ae],[x,C]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[S,ae],[x,T]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[S,We],[x,T]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[S,We],[x,C]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[S,"OnePlus"],[x,T]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[S,I],[x,C]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[S,I],[x,T]],[/(playbook);[-\w\),; ]+(rim)/i],[d,S,[x,C]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[S,D],[x,T]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[S,V],[x,C]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[S,V],[x,T]],[/(nexus 9)/i],[d,[S,"HTC"],[x,C]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[S,[d,/_/g," "],[x,T]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[S,"Acer"],[x,C]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[S,"Meizu"],[x,T]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[S,"Sharp"],[x,T]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[S,d,[x,T]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[S,d,[x,C]],[/(surface duo)/i],[d,[S,Oe],[x,C]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[S,"Fairphone"],[x,T]],[/(u304aa)/i],[d,[S,"AT&T"],[x,T]],[/\bsie-(\w*)/i],[d,[S,"Siemens"],[x,T]],[/\b(rct\w+) b/i],[d,[S,"RCA"],[x,C]],[/\b(venue[\d ]{2,7}) b/i],[d,[S,"Dell"],[x,C]],[/\b(q(?:mv|ta)\w+) b/i],[d,[S,"Verizon"],[x,C]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[S,"Barnes & Noble"],[x,C]],[/\b(tm\d{3}\w+) b/i],[d,[S,"NuVision"],[x,C]],[/\b(k88) b/i],[d,[S,"ZTE"],[x,C]],[/\b(nx\d{3}j) b/i],[d,[S,"ZTE"],[x,T]],[/\b(gen\d{3}) b.+49h/i],[d,[S,"Swiss"],[x,T]],[/\b(zur\d{3}) b/i],[d,[S,"Swiss"],[x,C]],[/\b((zeki)?tb.*\b) b/i],[d,[S,"Zeki"],[x,C]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[S,"Dragon Touch"],d,[x,C]],[/\b(ns-?\w{0,9}) b/i],[d,[S,"Insignia"],[x,C]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[S,"NextBook"],[x,C]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[S,"Voice"],d,[x,T]],[/\b(lvtel\-)?(v1[12]) b/i],[[S,"LvTel"],d,[x,T]],[/\b(ph-1) /i],[d,[S,"Essential"],[x,T]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[S,"Envizen"],[x,C]],[/\b(trio[-\w\. ]+) b/i],[d,[S,"MachSpeed"],[x,C]],[/\btu_(1491) b/i],[d,[S,"Rotor"],[x,C]],[/(shield[\w ]+) b/i],[d,[S,"Nvidia"],[x,C]],[/(sprint) (\w+)/i],[S,d,[x,T]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[S,Oe],[x,T]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[S,be],[x,C]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[S,be],[x,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[S,d,[x,y]],[/droid.+; (shield) bui/i],[d,[S,"Nvidia"],[x,y]],[/(playstation [345portablevi]+)/i],[d,[S,We],[x,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[S,Oe],[x,y]],[/smart-tv.+(samsung)/i],[S,[x,A]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[S,Se],[x,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[S,Ae],[x,A]],[/(apple) ?tv/i],[S,[d,j+" TV"],[x,A]],[/crkey/i],[[d,O+"cast"],[S,ae],[x,A]],[/droid.+aft(\w)( bui|\))/i],[d,[S,I],[x,A]],[/\(dtv[\);].+(aquos)/i],[d,[S,"Sharp"],[x,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[S,F],[d,F],[x,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[x,A]],[/((pebble))app/i],[S,d,[x,k]],[/droid.+; (glass) \d/i],[d,[S,ae],[x,k]],[/droid.+; (wt63?0{2,3})\)/i],[d,[S,be],[x,k]],[/(quest( 2)?)/i],[d,[S,ve],[x,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[S,[x,P]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[x,T]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[x,C]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[x,C]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[x,T]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[S,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[g,J+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[g,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[g,[m,Z,Q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,"Windows"],[m,Z,Q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,"Mac OS"],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[m,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,m],[/\(bb(10);/i],[m,[g,D]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[g,X+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[g,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[g,O+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[g,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,m],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[g,m]]},ee=function(q,oe){if(typeof q===c&&(oe=q,q=i),!(this instanceof ee))return new ee(q,oe).getResult();var se=q||(typeof n!==l&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:r),de=oe?Te(te,oe):te;return this.getBrowser=function(){var he={};return he[g]=i,he[m]=i,B.call(he,se,de.browser),he.major=K(he.version),he},this.getCPU=function(){var he={};return he[_]=i,B.call(he,se,de.cpu),he},this.getDevice=function(){var he={};return he[S]=i,he[d]=i,he[x]=i,B.call(he,se,de.device),he},this.getEngine=function(){var he={};return he[g]=i,he[m]=i,B.call(he,se,de.engine),he},this.getOS=function(){var he={};return he[g]=i,he[m]=i,B.call(he,se,de.os),he},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return se},this.setUA=function(he){return se=typeof he===h&&he.length>N?F(he,N):he,this},this.setUA(se),this};ee.VERSION=s,ee.BROWSER=Ne([g,m,p]),ee.CPU=Ne([_]),ee.DEVICE=Ne([d,S,x,y,T,A,C,k,P]),ee.ENGINE=ee.OS=Ne([g,m]),t.exports&&(e=t.exports=ee),e.UAParser=ee;var re=typeof n!==l&&(n.jQuery||n.Zepto);if(re&&!re.ua){var W=new ee;re.ua=W.getResult(),re.ua.get=function(){return W.getUA()},re.ua.set=function(q){W.setUA(q);var oe=W.getResult();for(var se in oe)re.ua[se]=oe[se]}}})(typeof window=="object"?window:Bn)})(D_,D_.exports);var ZU=D_.exports;const CC={XXXS:0,XXS:320,XS:450,S:600,M:768,L:1024,XL:1340,XXL:1440,XXXL:1920},yv=new ZU;yv.setUA(navigator.userAgent);yv.getOS();const gM=yv.getDevice();yv.getBrowser();gM.type;gM.type;const EC=["red","black","white"],eV=()=>EC[Math.floor(Math.random()*EC.length)],tV=(t="VUE_APP_THEME")=>localStorage.getItem(t),nV=(t,e="VUE_APP_THEME")=>{localStorage.setItem(e,t)},Er=du("theme",{state:()=>({value:tV()||eV(),sleep:!0,pressed:!1,running:!1})}),iV="modulepreload",TC={},sV="/",ti=function(e,n){return!n||n.length===0?e():Promise.all(n.map(i=>{if(i=`${sV}${i}`,i in TC)return;TC[i]=!0;const s=i.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${r}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":iV,s||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),s)return new Promise((o,l)=>{a.addEventListener("load",o),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var bM={},rV={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */var aV=rV,oV={},lV=Object.freeze(Object.defineProperty({__proto__:null,default:oV},Symbol.toStringTag,{value:"Module"})),cV=hv(lV);/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */(function(t){var e=aV,n=cV.extname,i=/^\s*([^;\s]*)(?:;|\s|$)/,s=/^text\//i;t.charset=r,t.charsets={lookup:r},t.contentType=a,t.extension=o,t.extensions=Object.create(null),t.lookup=l,t.types=Object.create(null),c(t.extensions,t.types);function r(h){if(!h||typeof h!="string")return!1;var p=i.exec(h),d=p&&e[p[1].toLowerCase()];return d&&d.charset?d.charset:p&&s.test(p[1])?"UTF-8":!1}function a(h){if(!h||typeof h!="string")return!1;var p=h.indexOf("/")===-1?t.lookup(h):h;if(!p)return!1;if(p.indexOf("charset")===-1){var d=t.charset(p);d&&(p+="; charset="+d.toLowerCase())}return p}function o(h){if(!h||typeof h!="string")return!1;var p=i.exec(h),d=p&&t.extensions[p[1].toLowerCase()];return!d||!d.length?!1:d[0]}function l(h){if(!h||typeof h!="string")return!1;var p=n("x."+h).toLowerCase().substr(1);return p&&t.types[p]||!1}function c(h,p){var d=["nginx","apache",void 0,"iana"];Object.keys(e).forEach(function(x){var S=e[x],m=S.extensions;if(!(!m||!m.length)){h[x]=m;for(var _=0;_<m.length;_++){var y=m[_];if(p[y]){var T=d.indexOf(e[p[y]].source),C=d.indexOf(S.source);if(p[y]!=="application/octet-stream"&&(T>C||T===C&&p[y].substr(0,12)==="application/"))continue}p[y]=x}}})}})(bM);let hb=null;const pb=3e3;class uV{constructor(){this.files={},this.loaded={},this.count=0,this.length=0,this.progress=0}async load(e,n){if(this.files=e,this.count=0,this.length=Object.keys(e).length,this.progress=0,this.length===0){n(1);return}const i=(s,r)=>{this.loaded[s]=r,this.count=this.count+1,this.progress=this.count/this.length,n(this.progress)};for(const s of Object.keys(e)){if(this.loaded[s])return;const a=(await e[s]()).default,l=/(?:\.([^.]+))?$/.exec(a)[1],c=bM.types[l].split("/")[0];switch(c){case"image":{const h=new Image;let p=null;const d=()=>{p&&clearTimeout(p),p=null,i(s,a)},g=()=>{h.removeEventListener("load",d),p&&clearTimeout(p),p=setTimeout(g,pb),h.src=a,h.addEventListener("load",d)};g();break}case"video":{const h=document.createElement("video");let p=null;const d=()=>{p&&clearTimeout(p),p=null,i(s,a)},g=()=>{h.removeEventListener("canplay",d),p&&clearTimeout(p),p=setTimeout(g,pb),h.src=a,h.load(),h.addEventListener("canplay",d)};g();break}case"audio":{hb||(hb=(await ti(()=>Promise.resolve().then(function(){return ise}),void 0)).default);let h=null;const p=()=>{h&&clearTimeout(h),h=null,i(s,a)},d=async()=>{h&&clearTimeout(h),h=setTimeout(d,pb),await hb.load(s,a,p)};d();break}default:throw new Error(`File type not supported by the files loader: ${c}`)}}}}const Cl=du("loader",{state:()=>({files:new uV,status:"ok",loaded:!1,loading:!1,hidden:!1,completed:!1,progress:0,progressFiles:0,progressModels:0,progressSounds:0})}),_i=du("data",{state:()=>({home:null,navigation:null,about:null,press:null,pressPostsPerPage:10,pressCurrentPage:0,pressStillHasPosts:!0})});function Zy(t){return Zk()?(eP(t),!0):!1}const $p=typeof window!="undefined",hV=t=>typeof t=="string",Ac=()=>{};function pV(t,e=!0){Es()?Ly(t):e?t():Sl(t)}function kC(t,e=!0){Es()?Ys(t):e?t():Sl(t)}function B_(t){var e;const n=vr(t);return(e=n==null?void 0:n.$el)!=null?e:n}const wv=$p?window:void 0;$p&&window.document;$p&&window.navigator;$p&&window.location;function dV(...t){let e,n,i,s;if(hV(t[0])?([n,i,s]=t,e=wv):[e,n,i,s]=t,!e)return Ac;let r=Ac;const a=qs(()=>B_(e),l=>{r(),l&&(l.addEventListener(n,i,s),r=()=>{l.removeEventListener(n,i,s),r=Ac})},{immediate:!0,flush:"post"}),o=()=>{a(),r()};return Zy(o),o}function PC(t,e={}){const{window:n=wv}=e;let i;const s=De(!1),r=()=>{!n||(i||(i=n.matchMedia(t)),s.value=i.matches)};return pV(()=>{r(),i&&("addEventListener"in i?i.addEventListener("change",r):i.addListener(r),Zy(()=>{"removeEventListener"in i?i.removeEventListener("change",r):i.removeListener(r)}))}),s}const j_=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},U_="__vueuse_ssr_handlers__";j_[U_]=j_[U_]||{};j_[U_];function fV(t,{window:e=wv,scrollTarget:n}={}){const i=De(!1),s=()=>{if(!e)return;const r=e.document;if(!vr(t))i.value=!1;else{const a=vr(t).getBoundingClientRect();i.value=a.top<=(e.innerHeight||r.documentElement.clientHeight)&&a.left<=(e.innerWidth||r.documentElement.clientWidth)&&a.bottom>=0&&a.right>=0}};return kC(s),e&&kC(()=>dV(vr(n)||e,"scroll",s,{capture:!1,passive:!0})),i}function AC(t,e,n={}){const{root:i,rootMargin:s="0px",threshold:r=.1,window:a=wv}=n,o=a&&"IntersectionObserver"in a;let l=Ac;const c=o?qs(()=>({el:B_(t),root:B_(i)}),({el:p,root:d})=>{if(l(),!p)return;const g=new IntersectionObserver(e,{root:d,rootMargin:s,threshold:r});g.observe(p),l=()=>{g.disconnect(),l=Ac}},{immediate:!0,flush:"post"}):Ac,h=()=>{l(),c()};return Zy(h),{isSupported:o,stop:h}}var MC,RC;$p&&(window==null?void 0:window.navigator)&&((MC=window==null?void 0:window.navigator)==null?void 0:MC.platform)&&/iP(ad|hone|od)/.test((RC=window==null?void 0:window.navigator)==null?void 0:RC.platform);function Xn(){const t=PC(`(min-width: ${CC.L}px)`),e=PC(`(max-width: ${CC.L-1}px)`),n=Modernizr.touchevents?"touch":"standard",i=window.devicePixelRatio;return{screenType:n,screenPixelRatio:i,onWideScreen:t,onTouchScreen:n==="touch",onMobileScreen:e,onStandardScreen:n==="standard"}}"performance"in window||(window.performance={});Date.now=Date.now||function(){return new Date().getTime()};if(!("now"in window.performance)){var IC=Date.now();performance.timing&&performance.timing.navigationStart&&(IC=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-IC}}class mV{constructor(){this.funcs={},this.lastPass={},this.framerates={},this.nextFramePendingFuncs=[],this.nextFrameFuncs=[],this.postFrameFuncs=[],this.dt=1/0,this.timeElapsed=0,this.frame=0,this.dictonary=[],this.last=performance.now(),this.initTime=performance.now(),this.onBefore=function(){},this.onAfter=function(){},this.init(),this.isIOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}subscribe(e,n,i=null){this.dictonary.push(e),this.funcs[e]=n,this.lastPass[e]=Date.now(),i!==null?this.framerates[e]=1/i:this.framerates[e]=i}unsubscribe(e){this.funcs[e]&&(this.dictonary.splice(this.dictonary.indexOf(e),1),delete this.funcs[e])}init(){window.addEventListener("focus",()=>{this.last=performance.now()}),this.update=this.update.bind(this),this.update()}nextFrame(e){this.nextFramePendingFuncs.push(e)}postFrame(e){this.postFrameFuncs.push(e)}update(){for(requestAnimationFrame(this.update),this.onBefore(),this.frame++,this.isIOS?this.dt=16:this.dt=performance.now()-this.last,this.dt=Math.min(this.dt,30),this.timeElapsed+=this.dt;this.nextFrameFuncs.length>0;)this.nextFrameFuncs.splice(0,1)[0]();for(;this.nextFramePendingFuncs.length>0;)this.nextFrameFuncs.push(this.nextFramePendingFuncs.splice(0,1)[0]);let e=Date.now();for(let n=0;n<this.dictonary.length;n++)this.framerates[this.dictonary[n]]!==null&&e-this.lastPass[this.dictonary[n]]<this.framerates[this.dictonary[n]]*1e3||typeof this.funcs[this.dictonary[n]]=="function"&&(this.lastPass[this.dictonary[n]]=e,this.funcs[this.dictonary[n]]());for(;this.postFrameFuncs.length>0;)this.postFrameFuncs.splice(0,1)[0]();this.onAfter(),this.last=performance.now()}}const li=new mV;var rt=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};const vV={name:"SiteNeons",setup(){const{onWideScreen:t,onMobileScreen:e}=Xn();return{theme:Er(),onWideScreen:t,onMobileScreen:e}},data(){return{scroll:0,smooth:0}},computed:{visible:function(){return this.theme.value==="red"}},mounted(){this.visible&&li.subscribe("neons",this.handleRotate.bind(this),60),window.addEventListener("scroll",this.handleScroll)},unmounted(){li.unsubscribe("neons"),window.removeEventListener("scroll",this.handleScroll)},methods:{lerp(t,e,n){return(1-n)*t+n*e},handleScroll(){const t=document.body.scrollHeight-window.innerHeight;this.scroll=this.onWideScreen?window.pageYOffset/Math.min(t,1200):window.pageYOffset/Math.min(t,500),this.scroll=Math.min(this.scroll,1)},handleRotate(){this.smooth=this.lerp(this.smooth,this.scroll,.1)}}},gV={key:0,class:"site-neons"};function bV(t,e,n,i,s,r){return r.visible?(fe(),Ee("section",gV,[U("span",{style:ai({transform:`rotateZ(${-3*s.smooth}deg)`})},null,4),U("span",{style:ai({transform:`rotateZ(${3*s.smooth}deg)`})},null,4),U("span",{style:ai({transform:`rotateZ(${3*s.smooth}deg)`})},null,4),U("span",{style:ai({transform:`rotateZ(${3*s.smooth}deg)`})},null,4)])):Zt("",!0)}var _V=rt(vV,[["render",bV]]);const as=du("maestro",{state:()=>({showUI:!0,showMenu:!1,showSound:!1,showWebGL:!1,showLoader:!1,showRoadmap:!1,showTrailer:!1,showToolbar:!1,showPartners:!1})});function xV(t){switch(t){case"./Icons/icon-arrow-menu.vue":return ti(()=>import("./icon-arrow-menu.2dd03338.js"),[]);case"./Icons/icon-arrow.vue":return ti(()=>import("./icon-arrow.8fede9e2.js"),[]);case"./Icons/icon-close.vue":return ti(()=>import("./icon-close.d390da01.js"),[]);case"./Icons/icon-discord.vue":return ti(()=>import("./icon-discord.23439d23.js"),[]);case"./Icons/icon-dots.vue":return ti(()=>import("./icon-dots.e15df03a.js"),[]);case"./Icons/icon-hape.vue":return ti(()=>import("./icon-hape.6646dcb8.js"),[]);case"./Icons/icon-mouse.vue":return ti(()=>import("./icon-mouse.989da326.js"),[]);case"./Icons/icon-opensea.vue":return ti(()=>import("./icon-opensea.58b039c2.js"),[]);case"./Icons/icon-play.vue":return ti(()=>import("./icon-play.9a07232d.js"),[]);case"./Icons/icon-roadmap.vue":return ti(()=>import("./icon-roadmap.918b5e62.js"),[]);case"./Icons/icon-speaker.vue":return ti(()=>import("./icon-speaker.a685dc01.js"),[]);case"./Icons/icon-twitter.vue":return ti(()=>import("./icon-twitter.dabf3439.js"),[]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const yV={name:"IconElement",props:{name:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0}},computed:{iconComponent:function(){return MP(()=>xV(`./Icons/icon-${this.name}.vue`))}}};function wV(t,e,n,i,s,r){return fe(),Ee("span",{class:fn(["svg",`svg--${n.name}`]),style:ai({width:`${n.width}px`,height:`${n.height}px`})},[(fe(),wt(jy(r.iconComponent),{width:n.width,height:n.height},null,8,["width","height"]))],6)}var ua=rt(yV,[["render",wV]]);const SV={name:"FadeTransition"};function CV(t,e,n,i,s,r){return fe(),wt(ho,{name:"fade",duration:300},{default:Me(()=>[ys(t.$slots,"default")]),_:3})}var El=rt(SV,[["render",CV]]);const EV={name:"LogoSprite",props:{color:{type:String,default:"auto"},width:{type:Number,required:!0},height:{type:Number,required:!0},always:{type:Boolean,default:!1},animate:{type:Boolean,default:!1}}};function TV(t,e,n,i,s,r){return fe(),Ee("div",{class:fn(["logo-sprite",`logo-sprite--${n.color}`,{"logo-sprite--always":n.always,"logo-sprite--animate":n.animate}]),style:ai({width:`${n.width}px`,height:`${n.height}px`})},null,6)}var Sv=rt(EV,[["render",TV]]);const kV={name:"BurgerIcon",setup(){return{maestro:as()}}},PV=U("span",null,null,-1),AV=U("span",null,null,-1),MV=U("span",null,null,-1),RV=[PV,AV,MV];function IV(t,e,n,i,s,r){return fe(),Ee("span",{class:fn(["burger",{"burger--animate":i.maestro.showMenu}])},RV,2)}var _M=rt(kV,[["render",IV]]);function jr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.10.1
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ts={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Xc={duration:.5,overwrite:!1,delay:0},e1,gs=1e8,Dt=1/gs,V_=Math.PI*2,OV=V_/4,NV=0,yM=Math.sqrt,LV=Math.cos,FV=Math.sin,jn=function(e){return typeof e=="string"},Fn=function(e){return typeof e=="function"},ta=function(e){return typeof e=="number"},t1=function(e){return typeof e=="undefined"},na=function(e){return typeof e=="object"},Ii=function(e){return e!==!1},wM=function(){return typeof window!="undefined"},sf=function(e){return Fn(e)||jn(e)},SM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ci=Array.isArray,$_=/(?:-?\.?\d|\.)+/gi,CM=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_c=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,db=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,EM=/[+-]=-?[.\d]+/,TM=/[^,'"\[\]\s]+/gi,DV=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Qt,ir,z_,n1,ss={},tm={},kM,PM=function(e){return(tm=ol(e,ss))&&Ks},i1=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},nm=function(e,n){return!n&&console.warn(e)},AM=function(e,n){return e&&(ss[e]=n)&&tm&&(tm[e]=n)||ss},rp=function(){return 0},s1={},Ka=[],H_={},MM,Wi={},fb={},OC=30,Mf=[],r1="",a1=function(e){var n=e[0],i,s;if(na(n)||Fn(n)||(e=[e]),!(i=(n._gsap||{}).harness)){for(s=Mf.length;s--&&!Mf[s].targetTest(n););i=Mf[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new JM(e[s],i)))||e.splice(s,1);return e},Jo=function(e){return e._gsap||a1(bs(e))[0]._gsap},RM=function(e,n,i){return(i=e[n])&&Fn(i)?e[n]():t1(i)&&e.getAttribute&&e.getAttribute(n)||i},Oi=function(e,n){return(e=e.split(",")).forEach(n)||e},dn=function(e){return Math.round(e*1e5)/1e5||0},ni=function(e){return Math.round(e*1e7)/1e7||0},Mc=function(e,n){var i=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),i==="+"?e+s:i==="-"?e-s:i==="*"?e*s:e/s},BV=function(e,n){for(var i=n.length,s=0;e.indexOf(n[s])<0&&++s<i;);return s<i},im=function(){var e=Ka.length,n=Ka.slice(0),i,s;for(H_={},Ka.length=0,i=0;i<e;i++)s=n[i],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},IM=function(e,n,i,s){Ka.length&&im(),e.render(n,i,s),Ka.length&&im()},OM=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(TM).length<2?n:jn(e)?e.trim():e},NM=function(e){return e},Ss=function(e,n){for(var i in n)i in e||(e[i]=n[i]);return e},jV=function(e){return function(n,i){for(var s in i)s in n||s==="duration"&&e||s==="ease"||(n[s]=i[s])}},ol=function(e,n){for(var i in n)e[i]=n[i];return e},NC=function t(e,n){for(var i in n)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=na(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},sm=function(e,n){var i={},s;for(s in e)s in n||(i[s]=e[s]);return i},Ih=function(e){var n=e.parent||Qt,i=e.keyframes?jV(ci(e.keyframes)):Ss;if(Ii(e.inherit))for(;n;)i(e,n.vars.defaults),n=n.parent||n._dp;return e},UV=function(e,n){for(var i=e.length,s=i===n.length;s&&i--&&e[i]===n[i];);return i<0},LM=function(e,n,i,s,r){i===void 0&&(i="_first"),s===void 0&&(s="_last");var a=e[s],o;if(r)for(o=n[r];a&&a[r]>o;)a=a._prev;return a?(n._next=a._next,a._next=n):(n._next=e[i],e[i]=n),n._next?n._next._prev=n:e[s]=n,n._prev=a,n.parent=n._dp=e,n},Cv=function(e,n,i,s){i===void 0&&(i="_first"),s===void 0&&(s="_last");var r=n._prev,a=n._next;r?r._next=a:e[i]===n&&(e[i]=a),a?a._prev=r:e[s]===n&&(e[s]=r),n._next=n._prev=n.parent=null},Yr=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Zo=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},VV=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},$V=function t(e){return!e||e._ts&&t(e.parent)},LC=function(e){return e._repeat?Qc(e._tTime,e=e.duration()+e._rDelay)*e:0},Qc=function(e,n){var i=Math.floor(e/=n);return e&&i===e?i-1:i},rm=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Ev=function(e){return e._end=ni(e._start+(e._tDur/Math.abs(e._ts||e._rts||Dt)||0))},o1=function(e,n){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=ni(i._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Ev(e),i._dirty||Zo(i,e)),e},FM=function(e,n){var i;if((n._time||n._initted&&!n._dur)&&(i=rm(e.rawTime(),n),(!n._dur||zp(0,n.totalDuration(),i)-n._tTime>Dt)&&n.render(i,!0)),Zo(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Dt}},hr=function(e,n,i,s){return n.parent&&Yr(n),n._start=ni((ta(i)?i:i||e!==Qt?ms(e,i,n):e._time)+n._delay),n._end=ni(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),LM(e,n,"_first","_last",e._sort?"_start":0),q_(n)||(e._recent=n),s||FM(e,n),e},DM=function(e,n){return(ss.ScrollTrigger||i1("scrollTrigger",n))&&ss.ScrollTrigger.create(n,e)},BM=function(e,n,i,s){if(c1(e,n),!e._initted)return 1;if(!i&&e._pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&MM!==Qi.frame)return Ka.push(e),e._lazy=[n,s],1},zV=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},q_=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},HV=function(e,n,i,s){var r=e.ratio,a=n<0||!n&&(!e._start&&zV(e)&&!(!e._initted&&q_(e))||(e._ts<0||e._dp._ts<0)&&!q_(e))?0:1,o=e._rDelay,l=0,c,h,p;if(o&&e._repeat&&(l=zp(0,e._tDur,n),h=Qc(l,o),e._yoyo&&h&1&&(a=1-a),h!==Qc(e._tTime,o)&&(r=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==r||s||e._zTime===Dt||!n&&e._zTime){if(!e._initted&&BM(e,n,s,i))return;for(p=e._zTime,e._zTime=n||(i?Dt:0),i||(i=n&&!p),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,c=e._pt;c;)c.r(a,c.d),c=c._next;e._startAt&&n<0&&e._startAt.render(n,!0,!0),e._onUpdate&&!i&&_s(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&_s(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===a&&(a&&Yr(e,1),i||(_s(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},qV=function(e,n,i){var s;if(i>n)for(s=e._first;s&&s._start<=i;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=i;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},Jc=function(e,n,i,s){var r=e._repeat,a=ni(n)||0,o=e._tTime/e._tDur;return o&&!s&&(e._time*=a/e._dur),e._dur=a,e._tDur=r?r<0?1e10:ni(a*(r+1)+e._rDelay*r):a,o>0&&!s?o1(e,e._tTime=e._tDur*o):e.parent&&Ev(e),i||Zo(e.parent,e),e},FC=function(e){return e instanceof Ai?Zo(e):Jc(e,e._dur)},WV={_start:0,endTime:rp,totalDuration:rp},ms=function t(e,n,i){var s=e.labels,r=e._recent||WV,a=e.duration()>=gs?r.endTime(!1):e._dur,o,l,c;return jn(n)&&(isNaN(n)||n in s)?(l=n.charAt(0),c=n.substr(-1)==="%",o=n.indexOf("="),l==="<"||l===">"?(o>=0&&(n=n.replace(/=/,"")),(l==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(o<0?r:i).totalDuration()/100:1)):o<0?(n in s||(s[n]=a),s[n]):(l=parseFloat(n.charAt(o-1)+n.substr(o+1)),c&&i&&(l=l/100*(ci(i)?i[0]:i).totalDuration()),o>1?t(e,n.substr(0,o-1),i)+l:a+l)):n==null?a:+n},Oh=function(e,n,i){var s=ta(n[1]),r=(s?2:1)+(e<2?0:1),a=n[r],o,l;if(s&&(a.duration=n[1]),a.parent=i,e){for(o=a,l=i;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=Ii(l.vars.inherit)&&l.parent;a.immediateRender=Ii(o.immediateRender),e<2?a.runBackwards=1:a.startAt=n[r-1]}return new On(n[0],a,n[r+1])},mo=function(e,n){return e||e===0?n(e):n},zp=function(e,n,i){return i<e?e:i>n?n:i},ri=function(e,n){return!jn(e)||!(n=DV.exec(e))?"":n[1]},GV=function(e,n,i){return mo(i,function(s){return zp(e,n,s)})},W_=[].slice,jM=function(e,n){return e&&na(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&na(e[0]))&&!e.nodeType&&e!==ir},KV=function(e,n,i){return i===void 0&&(i=[]),e.forEach(function(s){var r;return jn(s)&&!n||jM(s,1)?(r=i).push.apply(r,bs(s)):i.push(s)})||i},bs=function(e,n,i){return jn(e)&&!i&&(z_||!Zc())?W_.call((n||n1).querySelectorAll(e),0):ci(e)?KV(e,i):jM(e)?W_.call(e,0):e?[e]:[]},YV=function(e){return e=bs(e)[0]||nm("Invalid scope")||{},function(n){var i=e.current||e.nativeElement||e;return bs(n,i.querySelectorAll?i:i===e?nm("Invalid scope")||n1.createElement("div"):e)}},UM=function(e){return e.sort(function(){return .5-Math.random()})},VM=function(e){if(Fn(e))return e;var n=na(e)?e:{each:e},i=el(n.ease),s=n.from||0,r=parseFloat(n.base)||0,a={},o=s>0&&s<1,l=isNaN(s)||o,c=n.axis,h=s,p=s;return jn(s)?h=p={center:.5,edges:.5,end:1}[s]||0:!o&&l&&(h=s[0],p=s[1]),function(d,g,x){var S=(x||n).length,m=a[S],_,y,T,C,A,k,P,N,I;if(!m){if(I=n.grid==="auto"?0:(n.grid||[1,gs])[1],!I){for(P=-gs;P<(P=x[I++].getBoundingClientRect().left)&&I<S;);I--}for(m=a[S]=[],_=l?Math.min(I,S)*h-.5:s%I,y=I===gs?0:l?S*p/I-.5:s/I|0,P=0,N=gs,k=0;k<S;k++)T=k%I-_,C=y-(k/I|0),m[k]=A=c?Math.abs(c==="y"?C:T):yM(T*T+C*C),A>P&&(P=A),A<N&&(N=A);s==="random"&&UM(m),m.max=P-N,m.min=N,m.v=S=(parseFloat(n.amount)||parseFloat(n.each)*(I>S?S-1:c?c==="y"?S/I:I:Math.max(I,S/I))||0)*(s==="edges"?-1:1),m.b=S<0?r-S:r,m.u=ri(n.amount||n.each)||0,i=i&&S<0?YM(i):i}return S=(m[d]-m.min)/m.max||0,ni(m.b+(i?i(S):S)*m.v)+m.u}},G_=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var s=Math.round(parseFloat(i)/e)*e*n;return(s-s%1)/n+(ta(i)?0:ri(i))}},$M=function(e,n){var i=ci(e),s,r;return!i&&na(e)&&(s=i=e.radius||gs,e.values?(e=bs(e.values),(r=!ta(e[0]))&&(s*=s)):e=G_(e.increment)),mo(n,i?Fn(e)?function(a){return r=e(a),Math.abs(r-a)<=s?r:a}:function(a){for(var o=parseFloat(r?a.x:a),l=parseFloat(r?a.y:0),c=gs,h=0,p=e.length,d,g;p--;)r?(d=e[p].x-o,g=e[p].y-l,d=d*d+g*g):d=Math.abs(e[p]-o),d<c&&(c=d,h=p);return h=!s||c<=s?e[h]:a,r||h===a||ta(a)?h:h+ri(a)}:G_(e))},zM=function(e,n,i,s){return mo(ci(e)?!n:i===!0?!!(i=0):!s,function(){return ci(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(s=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(n-e+i*.99))/i)*i*s)/s})},XV=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(s){return n.reduce(function(r,a){return a(r)},s)}},QV=function(e,n){return function(i){return e(parseFloat(i))+(n||ri(i))}},JV=function(e,n,i){return qM(e,n,0,1,i)},HM=function(e,n,i){return mo(i,function(s){return e[~~n(s)]})},ZV=function t(e,n,i){var s=n-e;return ci(e)?HM(e,t(0,e.length),n):mo(i,function(r){return(s+(r-e)%s)%s+e})},e$=function t(e,n,i){var s=n-e,r=s*2;return ci(e)?HM(e,t(0,e.length-1),n):mo(i,function(a){return a=(r+(a-e)%r)%r||0,e+(a>s?r-a:a)})},ap=function(e){for(var n=0,i="",s,r,a,o;~(s=e.indexOf("random(",n));)a=e.indexOf(")",s),o=e.charAt(s+7)==="[",r=e.substr(s+7,a-s-7).match(o?TM:$_),i+=e.substr(n,s-n)+zM(o?r:+r[0],o?0:+r[1],+r[2]||1e-5),n=a+1;return i+e.substr(n,e.length-n)},qM=function(e,n,i,s,r){var a=n-e,o=s-i;return mo(r,function(l){return i+((l-e)/a*o||0)})},t$=function t(e,n,i,s){var r=isNaN(e+n)?0:function(g){return(1-g)*e+g*n};if(!r){var a=jn(e),o={},l,c,h,p,d;if(i===!0&&(s=1)&&(i=null),a)e={p:e},n={p:n};else if(ci(e)&&!ci(n)){for(h=[],p=e.length,d=p-2,c=1;c<p;c++)h.push(t(e[c-1],e[c]));p--,r=function(x){x*=p;var S=Math.min(d,~~x);return h[S](x-S)},i=n}else s||(e=ol(ci(e)?[]:{},e));if(!h){for(l in n)l1.call(o,e,l,"get",n[l]);r=function(x){return p1(x,o)||(a?e.p:e)}}}return mo(i,r)},DC=function(e,n,i){var s=e.labels,r=gs,a,o,l;for(a in s)o=s[a]-n,o<0==!!i&&o&&r>(o=Math.abs(o))&&(l=a,r=o);return l},_s=function(e,n,i){var s=e.vars,r=s[n],a,o;if(!!r)return a=s[n+"Params"],o=s.callbackScope||e,i&&Ka.length&&im(),a?r.apply(o,a):r.call(o)},mh=function(e){return Yr(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&_s(e,"onInterrupt"),e},xc,n$=function(e){e=!e.name&&e.default||e;var n=e.name,i=Fn(e),s=n&&!i&&e.init?function(){this._props=[]}:e,r={init:rp,render:p1,add:l1,kill:b$,modifier:g$,rawVars:0},a={targetTest:0,get:0,getSetter:h1,aliases:{},register:0};if(Zc(),e!==s){if(Wi[n])return;Ss(s,Ss(sm(e,r),a)),ol(s.prototype,ol(r,sm(e,a))),Wi[s.prop=n]=s,e.targetTest&&(Mf.push(s),s1[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}AM(n,s),e.register&&e.register(Ks,s,Ni)},Lt=255,vh={aqua:[0,Lt,Lt],lime:[0,Lt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Lt],navy:[0,0,128],white:[Lt,Lt,Lt],olive:[128,128,0],yellow:[Lt,Lt,0],orange:[Lt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Lt,0,0],pink:[Lt,192,203],cyan:[0,Lt,Lt],transparent:[Lt,Lt,Lt,0]},mb=function(e,n,i){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(i-n)*e*6:e<.5?i:e*3<2?n+(i-n)*(2/3-e)*6:n)*Lt+.5|0},WM=function(e,n,i){var s=e?ta(e)?[e>>16,e>>8&Lt,e&Lt]:0:vh.black,r,a,o,l,c,h,p,d,g,x;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),vh[e])s=vh[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+r+r+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&Lt,s&Lt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&Lt,e&Lt]}else if(e.substr(0,3)==="hsl"){if(s=x=e.match($_),!n)l=+s[0]%360/360,c=+s[1]/100,h=+s[2]/100,a=h<=.5?h*(c+1):h+c-h*c,r=h*2-a,s.length>3&&(s[3]*=1),s[0]=mb(l+1/3,r,a),s[1]=mb(l,r,a),s[2]=mb(l-1/3,r,a);else if(~e.indexOf("="))return s=e.match(CM),i&&s.length<4&&(s[3]=1),s}else s=e.match($_)||vh.transparent;s=s.map(Number)}return n&&!x&&(r=s[0]/Lt,a=s[1]/Lt,o=s[2]/Lt,p=Math.max(r,a,o),d=Math.min(r,a,o),h=(p+d)/2,p===d?l=c=0:(g=p-d,c=h>.5?g/(2-p-d):g/(p+d),l=p===r?(a-o)/g+(a<o?6:0):p===a?(o-r)/g+2:(r-a)/g+4,l*=60),s[0]=~~(l+.5),s[1]=~~(c*100+.5),s[2]=~~(h*100+.5)),i&&s.length<4&&(s[3]=1),s},GM=function(e){var n=[],i=[],s=-1;return e.split(Ya).forEach(function(r){var a=r.match(_c)||[];n.push.apply(n,a),i.push(s+=a.length+1)}),n.c=i,n},BC=function(e,n,i){var s="",r=(e+s).match(Ya),a=n?"hsla(":"rgba(",o=0,l,c,h,p;if(!r)return e;if(r=r.map(function(d){return(d=WM(d,n,1))&&a+(n?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(h=GM(e),l=i.c,l.join(s)!==h.c.join(s)))for(c=e.replace(Ya,"1").split(_c),p=c.length-1;o<p;o++)s+=c[o]+(~l.indexOf(o)?r.shift()||a+"0,0,0,0)":(h.length?h:r.length?r:i).shift());if(!c)for(c=e.split(Ya),p=c.length-1;o<p;o++)s+=c[o]+r[o];return s+c[p]},Ya=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in vh)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),i$=/hsl[a]?\(/,KM=function(e){var n=e.join(" "),i;if(Ya.lastIndex=0,Ya.test(n))return i=i$.test(n),e[1]=BC(e[1],i),e[0]=BC(e[0],i,GM(e[1])),!0},op,Qi=function(){var t=Date.now,e=500,n=33,i=t(),s=i,r=1e3/240,a=r,o=[],l,c,h,p,d,g,x=function S(m){var _=t()-s,y=m===!0,T,C,A,k;if(_>e&&(i+=_-n),s+=_,A=s-i,T=A-a,(T>0||y)&&(k=++p.frame,d=A-p.time*1e3,p.time=A=A/1e3,a+=T+(T>=r?4:r-T),C=1),y||(l=c(S)),C)for(g=0;g<o.length;g++)o[g](A,d,k,m)};return p={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(m){return d/(1e3/(m||60))},wake:function(){kM&&(!z_&&wM()&&(ir=z_=window,n1=ir.document||{},ss.gsap=Ks,(ir.gsapVersions||(ir.gsapVersions=[])).push(Ks.version),PM(tm||ir.GreenSockGlobals||!ir.gsap&&ir||{}),h=ir.requestAnimationFrame),l&&p.sleep(),c=h||function(m){return setTimeout(m,a-p.time*1e3+1|0)},op=1,x(2))},sleep:function(){(h?ir.cancelAnimationFrame:clearTimeout)(l),op=0,c=rp},lagSmoothing:function(m,_){e=m||1/Dt,n=Math.min(_,e,0)},fps:function(m){r=1e3/(m||240),a=p.time*1e3+r},add:function(m,_,y){var T=_?function(C,A,k,P){m(C,A,k,P),p.remove(T)}:m;return p.remove(m),o[y?"unshift":"push"](T),Zc(),T},remove:function(m,_){~(_=o.indexOf(m))&&o.splice(_,1)&&g>=_&&g--},_listeners:o},p}(),Zc=function(){return!op&&Qi.wake()},ut={},s$=/^[\d.\-M][\d.\-,\s]/,r$=/["']/g,a$=function(e){for(var n={},i=e.substr(1,e.length-3).split(":"),s=i[0],r=1,a=i.length,o,l,c;r<a;r++)l=i[r],o=r!==a-1?l.lastIndexOf(","):l.length,c=l.substr(0,o),n[s]=isNaN(c)?c.replace(r$,"").trim():+c,s=l.substr(o+1).trim();return n},o$=function(e){var n=e.indexOf("(")+1,i=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<i?e.indexOf(")",i+1):i)},l$=function(e){var n=(e+"").split("("),i=ut[n[0]];return i&&n.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[a$(n[1])]:o$(e).split(",").map(OM)):ut._CE&&s$.test(e)?ut._CE("",e):i},YM=function(e){return function(n){return 1-e(1-n)}},XM=function t(e,n){for(var i=e._first,s;i;)i instanceof Ai?t(i,n):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==n&&(i.timeline?t(i.timeline,n):(s=i._ease,i._ease=i._yEase,i._yEase=s,i._yoyo=n)),i=i._next},el=function(e,n){return e&&(Fn(e)?e:ut[e]||l$(e))||n},Tl=function(e,n,i,s){i===void 0&&(i=function(l){return 1-n(1-l)}),s===void 0&&(s=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var r={easeIn:n,easeOut:i,easeInOut:s},a;return Oi(e,function(o){ut[o]=ss[o]=r,ut[a=o.toLowerCase()]=i;for(var l in r)ut[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=ut[o+"."+l]=r[l]}),r},QM=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},vb=function t(e,n,i){var s=n>=1?n:1,r=(i||(e?.3:.45))/(n<1?n:1),a=r/V_*(Math.asin(1/s)||0),o=function(h){return h===1?1:s*Math.pow(2,-10*h)*FV((h-a)*r)+1},l=e==="out"?o:e==="in"?function(c){return 1-o(1-c)}:QM(o);return r=V_/r,l.config=function(c,h){return t(e,c,h)},l},gb=function t(e,n){n===void 0&&(n=1.70158);var i=function(a){return a?--a*a*((n+1)*a+n)+1:0},s=e==="out"?i:e==="in"?function(r){return 1-i(1-r)}:QM(i);return s.config=function(r){return t(e,r)},s};Oi("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Tl(t+",Power"+(n-1),e?function(i){return Math.pow(i,n)}:function(i){return i},function(i){return 1-Math.pow(1-i,n)},function(i){return i<.5?Math.pow(i*2,n)/2:1-Math.pow((1-i)*2,n)/2})});ut.Linear.easeNone=ut.none=ut.Linear.easeIn;Tl("Elastic",vb("in"),vb("out"),vb());(function(t,e){var n=1/e,i=2*n,s=2.5*n,r=function(o){return o<n?t*o*o:o<i?t*Math.pow(o-1.5/e,2)+.75:o<s?t*(o-=2.25/e)*o+.9375:t*Math.pow(o-2.625/e,2)+.984375};Tl("Bounce",function(a){return 1-r(1-a)},r)})(7.5625,2.75);Tl("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Tl("Circ",function(t){return-(yM(1-t*t)-1)});Tl("Sine",function(t){return t===1?1:-LV(t*OV)+1});Tl("Back",gb("in"),gb("out"),gb());ut.SteppedEase=ut.steps=ss.SteppedEase={config:function(e,n){e===void 0&&(e=1);var i=1/e,s=e+(n?0:1),r=n?1:0,a=1-Dt;return function(o){return((s*zp(0,a,o)|0)+r)*i}}};Xc.ease=ut["quad.out"];Oi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return r1+=t+","+t+"Params,"});var JM=function(e,n){this.id=NV++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:RM,this.set=n?n.getSetter:h1},lp=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Jc(this,+n.duration,1,1),this.data=n.data,op||Qi.wake()}var e=t.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Jc(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,s){if(Zc(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(o1(this,i),!r._dp||r.parent||FM(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&hr(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Dt||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),IM(this,i,s)),this},e.time=function(i,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+LC(this))%(this._dur+this._rDelay)||(i?this._dur:0),s):this._time},e.totalProgress=function(i,s){return arguments.length?this.totalTime(this.totalDuration()*i,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+LC(this),s):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,s){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,s):this._repeat?Qc(this._tTime,r)+1:1},e.timeScale=function(i){if(!arguments.length)return this._rts===-Dt?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?rm(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Dt?0:this._rts,this.totalTime(zp(-this._delay,this._tDur,s),!0),Ev(this),VV(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Zc(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Dt&&(this._tTime-=Dt)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&hr(s,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Ii(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var s=this.parent||this._dp;return s?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?rm(s.rawTime(i),this):this._tTime:this._tTime},e.globalTime=function(i){for(var s=this,r=arguments.length?i:s.rawTime();s;)r=s._start+r/(s._ts||1),s=s._dp;return r},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,FC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var s=this._time;return this._rDelay=i,FC(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,s){return this.totalTime(ms(this,i),Ii(s))},e.restart=function(i,s){return this.play().totalTime(i?-this._delay:0,Ii(s))},e.play=function(i,s){return i!=null&&this.seek(i,s),this.reversed(!1).paused(!1)},e.reverse=function(i,s){return i!=null&&this.seek(i||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(i,s){return i!=null&&this.seek(i,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Dt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Dt,this},e.isActive=function(){var i=this.parent||this._dp,s=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=s&&r<this.endTime(!0)-Dt)},e.eventCallback=function(i,s,r){var a=this.vars;return arguments.length>1?(s?(a[i]=s,r&&(a[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=s)):delete a[i],this):a[i]},e.then=function(i){var s=this;return new Promise(function(r){var a=Fn(i)?i:NM,o=function(){var c=s.then;s.then=null,Fn(a)&&(a=a(s))&&(a.then||a===s)&&(s.then=c),r(a),s.then=c};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?o():s._prom=o})},e.kill=function(){mh(this)},t}();Ss(lp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Dt,_prom:0,_ps:!1,_rts:1});var Ai=function(t){xM(e,t);function e(i,s){var r;return i===void 0&&(i={}),r=t.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=Ii(i.sortChildren),Qt&&hr(i.parent||Qt,jr(r),s),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&DM(jr(r),i.scrollTrigger),r}var n=e.prototype;return n.to=function(s,r,a){return Oh(0,arguments,this),this},n.from=function(s,r,a){return Oh(1,arguments,this),this},n.fromTo=function(s,r,a,o){return Oh(2,arguments,this),this},n.set=function(s,r,a){return r.duration=0,r.parent=this,Ih(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new On(s,r,ms(this,a),1),this},n.call=function(s,r,a){return hr(this,On.delayedCall(0,s,r),a)},n.staggerTo=function(s,r,a,o,l,c,h){return a.duration=r,a.stagger=a.stagger||o,a.onComplete=c,a.onCompleteParams=h,a.parent=this,new On(s,a,ms(this,l)),this},n.staggerFrom=function(s,r,a,o,l,c,h){return a.runBackwards=1,Ih(a).immediateRender=Ii(a.immediateRender),this.staggerTo(s,r,a,o,l,c,h)},n.staggerFromTo=function(s,r,a,o,l,c,h,p){return o.startAt=a,Ih(o).immediateRender=Ii(o.immediateRender),this.staggerTo(s,r,o,l,c,h,p)},n.render=function(s,r,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,h=s<=0?0:ni(s),p=this._zTime<0!=s<0&&(this._initted||!c),d,g,x,S,m,_,y,T,C,A,k,P;if(this!==Qt&&h>l&&s>=0&&(h=l),h!==this._tTime||a||p){if(o!==this._time&&c&&(h+=this._time-o,s+=this._time-o),d=h,C=this._start,T=this._ts,_=!T,p&&(c||(o=this._zTime),(s||!r)&&(this._zTime=s)),this._repeat){if(k=this._yoyo,m=c+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(m*100+s,r,a);if(d=ni(h%m),h===l?(S=this._repeat,d=c):(S=~~(h/m),S&&S===h/m&&(d=c,S--),d>c&&(d=c)),A=Qc(this._tTime,m),!o&&this._tTime&&A!==S&&(A=S),k&&S&1&&(d=c-d,P=1),S!==A&&!this._lock){var N=k&&A&1,I=N===(k&&S&1);if(S<A&&(N=!N),o=N?0:c,this._lock=1,this.render(o||(P?0:ni(S*m)),r,!c)._lock=0,this._tTime=h,!r&&this.parent&&_s(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),o&&o!==this._time||_!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,I&&(this._lock=2,o=N?c:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!_)return this;XM(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=qV(this,ni(o),ni(d)),y&&(h-=d-(d=y._start))),this._tTime=h,this._time=d,this._act=!T,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,o=0),!o&&d&&!r&&(_s(this,"onStart"),this._tTime!==h))return this;if(d>=o&&s>=0)for(g=this._first;g;){if(x=g._next,(g._act||d>=g._start)&&g._ts&&y!==g){if(g.parent!==this)return this.render(s,r,a);if(g.render(g._ts>0?(d-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(d-g._start)*g._ts,r,a),d!==this._time||!this._ts&&!_){y=0,x&&(h+=this._zTime=-Dt);break}}g=x}else{g=this._last;for(var j=s<0?s:d;g;){if(x=g._prev,(g._act||j<=g._end)&&g._ts&&y!==g){if(g.parent!==this)return this.render(s,r,a);if(g.render(g._ts>0?(j-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(j-g._start)*g._ts,r,a),d!==this._time||!this._ts&&!_){y=0,x&&(h+=this._zTime=j?-Dt:Dt);break}}g=x}}if(y&&!r&&(this.pause(),y.render(d>=o?0:-Dt)._zTime=d>=o?1:-1,this._ts))return this._start=C,Ev(this),this.render(s,r,a);this._onUpdate&&!r&&_s(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&o)&&(C===this._start||Math.abs(T)!==Math.abs(this._ts))&&(this._lock||((s||!c)&&(h===l&&this._ts>0||!h&&this._ts<0)&&Yr(this,1),!r&&!(s<0&&!o)&&(h||o||!l)&&(_s(this,h===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,r){var a=this;if(ta(r)||(r=ms(this,r,s)),!(s instanceof lp)){if(ci(s))return s.forEach(function(o){return a.add(o,r)}),this;if(jn(s))return this.addLabel(s,r);if(Fn(s))s=On.delayedCall(0,s);else return this}return this!==s?hr(this,s,r):this},n.getChildren=function(s,r,a,o){s===void 0&&(s=!0),r===void 0&&(r=!0),a===void 0&&(a=!0),o===void 0&&(o=-gs);for(var l=[],c=this._first;c;)c._start>=o&&(c instanceof On?r&&l.push(c):(a&&l.push(c),s&&l.push.apply(l,c.getChildren(!0,r,a)))),c=c._next;return l},n.getById=function(s){for(var r=this.getChildren(1,1,1),a=r.length;a--;)if(r[a].vars.id===s)return r[a]},n.remove=function(s){return jn(s)?this.removeLabel(s):Fn(s)?this.killTweensOf(s):(Cv(this,s),s===this._recent&&(this._recent=this._last),Zo(this))},n.totalTime=function(s,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ni(Qi.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,r),this._forcing=0,this):this._tTime},n.addLabel=function(s,r){return this.labels[s]=ms(this,r),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,r,a){var o=On.delayedCall(0,r||rp,a);return o.data="isPause",this._hasPause=1,hr(this,o,ms(this,s))},n.removePause=function(s){var r=this._first;for(s=ms(this,s);r;)r._start===s&&r.data==="isPause"&&Yr(r),r=r._next},n.killTweensOf=function(s,r,a){for(var o=this.getTweensOf(s,a),l=o.length;l--;)Va!==o[l]&&o[l].kill(s,r);return this},n.getTweensOf=function(s,r){for(var a=[],o=bs(s),l=this._first,c=ta(r),h;l;)l instanceof On?BV(l._targets,o)&&(c?(!Va||l._initted&&l._ts)&&l.globalTime(0)<=r&&l.globalTime(l.totalDuration())>r:!r||l.isActive())&&a.push(l):(h=l.getTweensOf(o,r)).length&&a.push.apply(a,h),l=l._next;return a},n.tweenTo=function(s,r){r=r||{};var a=this,o=ms(a,s),l=r,c=l.startAt,h=l.onStart,p=l.onStartParams,d=l.immediateRender,g,x=On.to(a,Ss({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:r.duration||Math.abs((o-(c&&"time"in c?c.time:a._time))/a.timeScale())||Dt,onStart:function(){if(a.pause(),!g){var m=r.duration||Math.abs((o-(c&&"time"in c?c.time:a._time))/a.timeScale());x._dur!==m&&Jc(x,m,0,1).render(x._time,!0,!0),g=1}h&&h.apply(x,p||[])}},r));return d?x.render(0):x},n.tweenFromTo=function(s,r,a){return this.tweenTo(r,Ss({startAt:{time:ms(this,s)}},a))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),DC(this,ms(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),DC(this,ms(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Dt)},n.shiftChildren=function(s,r,a){a===void 0&&(a=0);for(var o=this._first,l=this.labels,c;o;)o._start>=a&&(o._start+=s,o._end+=s),o=o._next;if(r)for(c in l)l[c]>=a&&(l[c]+=s);return Zo(this)},n.invalidate=function(){var s=this._first;for(this._lock=0;s;)s.invalidate(),s=s._next;return t.prototype.invalidate.call(this)},n.clear=function(s){s===void 0&&(s=!0);for(var r=this._first,a;r;)a=r._next,this.remove(r),r=a;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Zo(this)},n.totalDuration=function(s){var r=0,a=this,o=a._last,l=gs,c,h,p;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-s:s));if(a._dirty){for(p=a.parent;o;)c=o._prev,o._dirty&&o.totalDuration(),h=o._start,h>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,hr(a,o,h-o._delay,1)._lock=0):l=h,h<0&&o._ts&&(r-=h,(!p&&!a._dp||p&&p.smoothChildTiming)&&(a._start+=h/a._ts,a._time-=h,a._tTime-=h),a.shiftChildren(-h,!1,-1/0),l=0),o._end>r&&o._ts&&(r=o._end),o=c;Jc(a,a===Qt&&a._time>r?a._time:r,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(s){if(Qt._ts&&(IM(Qt,rm(s,Qt)),MM=Qi.frame),Qi.frame>=OC){OC+=ts.autoSleep||120;var r=Qt._first;if((!r||!r._ts)&&ts.autoSleep&&Qi._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||Qi.sleep()}}},e}(lp);Ss(Ai.prototype,{_lock:0,_hasPause:0,_forcing:0});var c$=function(e,n,i,s,r,a,o){var l=new Ni(this._pt,e,n,0,1,sR,null,r),c=0,h=0,p,d,g,x,S,m,_,y;for(l.b=i,l.e=s,i+="",s+="",(_=~s.indexOf("random("))&&(s=ap(s)),a&&(y=[i,s],a(y,e,n),i=y[0],s=y[1]),d=i.match(db)||[];p=db.exec(s);)x=p[0],S=s.substring(c,p.index),g?g=(g+1)%5:S.substr(-5)==="rgba("&&(g=1),x!==d[h++]&&(m=parseFloat(d[h-1])||0,l._pt={_next:l._pt,p:S||h===1?S:",",s:m,c:x.charAt(1)==="="?Mc(m,x)-m:parseFloat(x)-m,m:g&&g<4?Math.round:0},c=db.lastIndex);return l.c=c<s.length?s.substring(c,s.length):"",l.fp=o,(EM.test(s)||_)&&(l.e=0),this._pt=l,l},l1=function(e,n,i,s,r,a,o,l,c){Fn(s)&&(s=s(r||0,e,a));var h=e[n],p=i!=="get"?i:Fn(h)?c?e[n.indexOf("set")||!Fn(e["get"+n.substr(3)])?n:"get"+n.substr(3)](c):e[n]():h,d=Fn(h)?c?f$:nR:u1,g;if(jn(s)&&(~s.indexOf("random(")&&(s=ap(s)),s.charAt(1)==="="&&(g=Mc(p,s)+(ri(p)||0),(g||g===0)&&(s=g))),p!==s||K_)return!isNaN(p*s)&&s!==""?(g=new Ni(this._pt,e,n,+p||0,s-(p||0),typeof h=="boolean"?v$:iR,0,d),c&&(g.fp=c),o&&g.modifier(o,this,e),this._pt=g):(!h&&!(n in e)&&i1(n,s),c$.call(this,e,n,p,s,d,l||ts.stringFilter,c))},u$=function(e,n,i,s,r){if(Fn(e)&&(e=Nh(e,r,n,i,s)),!na(e)||e.style&&e.nodeType||ci(e)||SM(e))return jn(e)?Nh(e,r,n,i,s):e;var a={},o;for(o in e)a[o]=Nh(e[o],r,n,i,s);return a},ZM=function(e,n,i,s,r,a){var o,l,c,h;if(Wi[e]&&(o=new Wi[e]).init(r,o.rawVars?n[e]:u$(n[e],s,r,a,i),i,s,a)!==!1&&(i._pt=l=new Ni(i._pt,r,e,0,1,o.render,o,0,o.priority),i!==xc))for(c=i._ptLookup[i._targets.indexOf(r)],h=o._props.length;h--;)c[o._props[h]]=l;return o},Va,K_,c1=function t(e,n){var i=e.vars,s=i.ease,r=i.startAt,a=i.immediateRender,o=i.lazy,l=i.onUpdate,c=i.onUpdateParams,h=i.callbackScope,p=i.runBackwards,d=i.yoyoEase,g=i.keyframes,x=i.autoRevert,S=e._dur,m=e._startAt,_=e._targets,y=e.parent,T=y&&y.data==="nested"?y.parent._targets:_,C=e._overwrite==="auto"&&!e1,A=e.timeline,k,P,N,I,j,V,D,G,O,J,X,ae,me;if(A&&(!g||!s)&&(s="none"),e._ease=el(s,Xc.ease),e._yEase=d?YM(el(d===!0?s:d,Xc.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!A&&!!i.runBackwards,!A||g&&!i.stagger){if(G=_[0]?Jo(_[0]).harness:0,ae=G&&i[G.prop],k=sm(i,s1),m&&(Yr(m.render(-1,!0)),m._lazy=0),r)if(Yr(e._startAt=On.set(_,Ss({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:Ii(o),startAt:null,delay:0,onUpdate:l,onUpdateParams:c,callbackScope:h,stagger:0},r))),n<0&&!a&&!x&&e._startAt.render(-1,!0),a){if(n>0&&!x&&(e._startAt=0),S&&n<=0){n&&(e._zTime=n);return}}else x===!1&&(e._startAt=0);else if(p&&S){if(m)!x&&(e._startAt=0);else if(n&&(a=!1),N=Ss({overwrite:!1,data:"isFromStart",lazy:a&&Ii(o),immediateRender:a,stagger:0,parent:y},k),ae&&(N[G.prop]=ae),Yr(e._startAt=On.set(_,N)),n<0&&e._startAt.render(-1,!0),e._zTime=n,!a)t(e._startAt,Dt);else if(!n)return}for(e._pt=e._ptCache=0,o=S&&Ii(o)||o&&!S,P=0;P<_.length;P++){if(j=_[P],D=j._gsap||a1(_)[P]._gsap,e._ptLookup[P]=J={},H_[D.id]&&Ka.length&&im(),X=T===_?P:T.indexOf(j),G&&(O=new G).init(j,ae||k,e,X,T)!==!1&&(e._pt=I=new Ni(e._pt,j,O.name,0,1,O.render,O,0,O.priority),O._props.forEach(function(Ae){J[Ae]=I}),O.priority&&(V=1)),!G||ae)for(N in k)Wi[N]&&(O=ZM(N,k,e,X,j,T))?O.priority&&(V=1):J[N]=I=l1.call(e,j,N,"get",k[N],X,T,0,i.stringFilter);e._op&&e._op[P]&&e.kill(j,e._op[P]),C&&e._pt&&(Va=e,Qt.killTweensOf(j,J,e.globalTime(n)),me=!e.parent,Va=0),e._pt&&o&&(H_[D.id]=1)}V&&rR(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!me,g&&n<=0&&A.render(gs,!0,!0)},h$=function(e,n,i,s,r,a,o){var l=(e._pt&&e._ptCache||(e._ptCache={}))[n],c,h,p;if(!l)for(l=e._ptCache[n]=[],h=e._ptLookup,p=e._targets.length;p--;){if(c=h[p][n],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n;)c=c._next;if(!c)return K_=1,e.vars[n]="+=0",c1(e,o),K_=0,1;l.push(c)}for(p=l.length;p--;)c=l[p],c.s=(s||s===0)&&!r?s:c.s+(s||0)+a*c.c,c.c=i-c.s,c.e&&(c.e=dn(i)+ri(c.e)),c.b&&(c.b=c.s+ri(c.b))},p$=function(e,n){var i=e[0]?Jo(e[0]).harness:0,s=i&&i.aliases,r,a,o,l;if(!s)return n;r=ol({},n);for(a in s)if(a in r)for(l=s[a].split(","),o=l.length;o--;)r[l[o]]=r[a];return r},d$=function(e,n,i,s){var r=n.ease||s||"power1.inOut",a,o;if(ci(n))o=i[e]||(i[e]=[]),n.forEach(function(l,c){return o.push({t:c/(n.length-1)*100,v:l,e:r})});else for(a in n)o=i[a]||(i[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:n[a],e:r})},Nh=function(e,n,i,s,r){return Fn(e)?e.call(n,i,s,r):jn(e)&&~e.indexOf("random(")?ap(e):e},eR=r1+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",tR={};Oi(eR+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return tR[t]=1});var On=function(t){xM(e,t);function e(i,s,r,a){var o;typeof s=="number"&&(r.duration=s,s=r,r=null),o=t.call(this,a?s:Ih(s))||this;var l=o.vars,c=l.duration,h=l.delay,p=l.immediateRender,d=l.stagger,g=l.overwrite,x=l.keyframes,S=l.defaults,m=l.scrollTrigger,_=l.yoyoEase,y=s.parent||Qt,T=(ci(i)||SM(i)?ta(i[0]):"length"in s)?[i]:bs(i),C,A,k,P,N,I,j,V;if(o._targets=T.length?a1(T):nm("GSAP target "+i+" not found. https://greensock.com",!ts.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=g,x||d||sf(c)||sf(h)){if(s=o.vars,C=o.timeline=new Ai({data:"nested",defaults:S||{}}),C.kill(),C.parent=C._dp=jr(o),C._start=0,d||sf(c)||sf(h)){if(P=T.length,j=d&&VM(d),na(d))for(N in d)~eR.indexOf(N)&&(V||(V={}),V[N]=d[N]);for(A=0;A<P;A++)k=sm(s,tR),k.stagger=0,_&&(k.yoyoEase=_),V&&ol(k,V),I=T[A],k.duration=+Nh(c,jr(o),A,I,T),k.delay=(+Nh(h,jr(o),A,I,T)||0)-o._delay,!d&&P===1&&k.delay&&(o._delay=h=k.delay,o._start+=h,k.delay=0),C.to(I,k,j?j(A,I,T):0),C._ease=ut.none;C.duration()?c=h=0:o.timeline=0}else if(x){Ih(Ss(C.vars.defaults,{ease:"none"})),C._ease=el(x.ease||s.ease||"none");var D=0,G,O,J;if(ci(x))x.forEach(function(X){return C.to(T,X,">")});else{k={};for(N in x)N==="ease"||N==="easeEach"||d$(N,x[N],k,x.easeEach);for(N in k)for(G=k[N].sort(function(X,ae){return X.t-ae.t}),D=0,A=0;A<G.length;A++)O=G[A],J={ease:O.e,duration:(O.t-(A?G[A-1].t:0))/100*c},J[N]=O.v,C.to(T,J,D),D+=J.duration;C.duration()<c&&C.to({},{duration:c-C.duration()})}}c||o.duration(c=C.duration())}else o.timeline=0;return g===!0&&!e1&&(Va=jr(o),Qt.killTweensOf(T),Va=0),hr(y,jr(o),r),s.reversed&&o.reverse(),s.paused&&o.paused(!0),(p||!c&&!x&&o._start===ni(y._time)&&Ii(p)&&$V(jr(o))&&y.data!=="nested")&&(o._tTime=-Dt,o.render(Math.max(0,-h))),m&&DM(jr(o),m),o}var n=e.prototype;return n.render=function(s,r,a){var o=this._time,l=this._tDur,c=this._dur,h=s>l-Dt&&s>=0?l:s<Dt?0:s,p,d,g,x,S,m,_,y,T;if(!c)HV(this,s,r,a);else if(h!==this._tTime||!s||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=s<0){if(p=h,y=this.timeline,this._repeat){if(x=c+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(x*100+s,r,a);if(p=ni(h%x),h===l?(g=this._repeat,p=c):(g=~~(h/x),g&&g===h/x&&(p=c,g--),p>c&&(p=c)),m=this._yoyo&&g&1,m&&(T=this._yEase,p=c-p),S=Qc(this._tTime,x),p===o&&!a&&this._initted)return this._tTime=h,this;g!==S&&(y&&this._yEase&&XM(y,m),this.vars.repeatRefresh&&!m&&!this._lock&&(this._lock=a=1,this.render(ni(x*g),!0).invalidate()._lock=0))}if(!this._initted){if(BM(this,s<0?s:p,a,r))return this._tTime=0,this;if(o!==this._time)return this;if(c!==this._dur)return this.render(s,r,a)}if(this._tTime=h,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(T||this._ease)(p/c),this._from&&(this.ratio=_=1-_),p&&!o&&!r&&(_s(this,"onStart"),this._tTime!==h))return this;for(d=this._pt;d;)d.r(_,d.d),d=d._next;y&&y.render(s<0?s:!p&&m?-Dt:y._dur*y._ease(p/this._dur),r,a)||this._startAt&&(this._zTime=s),this._onUpdate&&!r&&(s<0&&this._startAt&&this._startAt.render(s,!0,a),_s(this,"onUpdate")),this._repeat&&g!==S&&this.vars.onRepeat&&!r&&this.parent&&_s(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(s<0&&this._startAt&&!this._onUpdate&&this._startAt.render(s,!0,!0),(s||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Yr(this,1),!r&&!(s<0&&!o)&&(h||o)&&(_s(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.resetTo=function(s,r,a,o){op||Qi.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||c1(this,l),c=this._ease(l/this._dur),h$(this,s,r,a,o,c,l)?this.resetTo(s,r,a,o):(o1(this,0),this.parent||LM(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,r){if(r===void 0&&(r="all"),!s&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?mh(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(s,r,Va&&Va.vars.overwrite!==!0)._first||mh(this),this.parent&&a!==this.timeline.totalDuration()&&Jc(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=s?bs(s):o,c=this._ptLookup,h=this._pt,p,d,g,x,S,m,_;if((!r||r==="all")&&UV(o,l))return r==="all"&&(this._pt=0),mh(this);for(p=this._op=this._op||[],r!=="all"&&(jn(r)&&(S={},Oi(r,function(y){return S[y]=1}),r=S),r=p$(o,r)),_=o.length;_--;)if(~l.indexOf(o[_])){d=c[_],r==="all"?(p[_]=r,x=d,g={}):(g=p[_]=p[_]||{},x=r);for(S in x)m=d&&d[S],m&&((!("kill"in m.d)||m.d.kill(S)===!0)&&Cv(this,m,"_pt"),delete d[S]),g!=="all"&&(g[S]=1)}return this._initted&&!this._pt&&h&&mh(this),this},e.to=function(s,r){return new e(s,r,arguments[2])},e.from=function(s,r){return Oh(1,arguments)},e.delayedCall=function(s,r,a,o){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:r,onReverseComplete:r,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(s,r,a){return Oh(2,arguments)},e.set=function(s,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(s,r)},e.killTweensOf=function(s,r,a){return Qt.killTweensOf(s,r,a)},e}(lp);Ss(On.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Oi("staggerTo,staggerFrom,staggerFromTo",function(t){On[t]=function(){var e=new Ai,n=W_.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var u1=function(e,n,i){return e[n]=i},nR=function(e,n,i){return e[n](i)},f$=function(e,n,i,s){return e[n](s.fp,i)},m$=function(e,n,i){return e.setAttribute(n,i)},h1=function(e,n){return Fn(e[n])?nR:t1(e[n])&&e.setAttribute?m$:u1},iR=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},v$=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},sR=function(e,n){var i=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;i;)s=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+s,i=i._next;s+=n.c}n.set(n.t,n.p,s,n)},p1=function(e,n){for(var i=n._pt;i;)i.r(e,i.d),i=i._next},g$=function(e,n,i,s){for(var r=this._pt,a;r;)a=r._next,r.p===s&&r.modifier(e,n,i),r=a},b$=function(e){for(var n=this._pt,i,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?Cv(this,n,"_pt"):n.dep||(i=1),n=s;return!i},_$=function(e,n,i,s){s.mSet(e,n,s.m.call(s.tween,i,s.mt),s)},rR=function(e){for(var n=e._pt,i,s,r,a;n;){for(i=n._next,s=r;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:a)?n._prev._next=n:r=n,(n._next=s)?s._prev=n:a=n,n=i}e._pt=r},Ni=function(){function t(n,i,s,r,a,o,l,c,h){this.t=i,this.s=r,this.c=a,this.p=s,this.r=o||iR,this.d=l||this,this.set=c||u1,this.pr=h||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(i,s,r){this.mSet=this.mSet||this.set,this.set=_$,this.m=i,this.mt=r,this.tween=s},t}();Oi(r1+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return s1[t]=1});ss.TweenMax=ss.TweenLite=On;ss.TimelineLite=ss.TimelineMax=Ai;Qt=new Ai({sortChildren:!1,defaults:Xc,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ts.stringFilter=KM;var am={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(s){return n$(s)})},timeline:function(e){return new Ai(e)},getTweensOf:function(e,n){return Qt.getTweensOf(e,n)},getProperty:function(e,n,i,s){jn(e)&&(e=bs(e)[0]);var r=Jo(e||{}).get,a=i?NM:OM;return i==="native"&&(i=""),e&&(n?a((Wi[n]&&Wi[n].get||r)(e,n,i,s)):function(o,l,c){return a((Wi[o]&&Wi[o].get||r)(e,o,l,c))})},quickSetter:function(e,n,i){if(e=bs(e),e.length>1){var s=e.map(function(h){return Ks.quickSetter(h,n,i)}),r=s.length;return function(h){for(var p=r;p--;)s[p](h)}}e=e[0]||{};var a=Wi[n],o=Jo(e),l=o.harness&&(o.harness.aliases||{})[n]||n,c=a?function(h){var p=new a;xc._pt=0,p.init(e,i?h+i:h,xc,0,[e]),p.render(1,p),xc._pt&&p1(1,xc)}:o.set(e,l);return a?c:function(h){return c(e,l,i?h+i:h,o,1)}},quickTo:function(e,n,i){var s,r=Ks.to(e,ol((s={},s[n]="+=0.1",s.paused=!0,s),i||{})),a=function(l,c,h){return r.resetTo(n,l,c,h)};return a.tween=r,a},isTweening:function(e){return Qt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=el(e.ease,Xc.ease)),NC(Xc,e||{})},config:function(e){return NC(ts,e||{})},registerEffect:function(e){var n=e.name,i=e.effect,s=e.plugins,r=e.defaults,a=e.extendTimeline;(s||"").split(",").forEach(function(o){return o&&!Wi[o]&&!ss[o]&&nm(n+" effect requires "+o+" plugin.")}),fb[n]=function(o,l,c){return i(bs(o),Ss(l||{},r),c)},a&&(Ai.prototype[n]=function(o,l,c){return this.add(fb[n](o,na(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,n){ut[e]=el(n)},parseEase:function(e,n){return arguments.length?el(e,n):ut},getById:function(e){return Qt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var i=new Ai(e),s,r;for(i.smoothChildTiming=Ii(e.smoothChildTiming),Qt.remove(i),i._dp=0,i._time=i._tTime=Qt._time,s=Qt._first;s;)r=s._next,(n||!(!s._dur&&s instanceof On&&s.vars.onComplete===s._targets[0]))&&hr(i,s,s._start-s._delay),s=r;return hr(Qt,i,0),i},utils:{wrap:ZV,wrapYoyo:e$,distribute:VM,random:zM,snap:$M,normalize:JV,getUnit:ri,clamp:GV,splitColor:WM,toArray:bs,selector:YV,mapRange:qM,pipe:XV,unitize:QV,interpolate:t$,shuffle:UM},install:PM,effects:fb,ticker:Qi,updateRoot:Ai.updateRoot,plugins:Wi,globalTimeline:Qt,core:{PropTween:Ni,globals:AM,Tween:On,Timeline:Ai,Animation:lp,getCache:Jo,_removeLinkedListItem:Cv,suppressOverwrites:function(e){return e1=e}}};Oi("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return am[t]=On[t]});Qi.add(Ai.updateRoot);xc=am.to({},{duration:0});var x$=function(e,n){for(var i=e._pt;i&&i.p!==n&&i.op!==n&&i.fp!==n;)i=i._next;return i},y$=function(e,n){var i=e._targets,s,r,a;for(s in n)for(r=i.length;r--;)a=e._ptLookup[r][s],a&&(a=a.d)&&(a._pt&&(a=x$(a,s)),a&&a.modifier&&a.modifier(n[s],e,i[r],s))},bb=function(e,n){return{name:e,rawVars:1,init:function(s,r,a){a._onInit=function(o){var l,c;if(jn(r)&&(l={},Oi(r,function(h){return l[h]=1}),r=l),n){l={};for(c in r)l[c]=n(r[c]);r=l}y$(o,r)}}}},Ks=am.registerPlugin({name:"attr",init:function(e,n,i,s,r){var a,o;for(a in n)o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",n[a],s,r,0,0,a),o&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,n){for(var i=n.length;i--;)this.add(e,i,e[i]||0,n[i])}},bb("roundProps",G_),bb("modifiers"),bb("snap",$M))||am;On.version=Ai.version=Ks.version="3.10.1";kM=1;wM()&&Zc();ut.Power0;ut.Power1;ut.Power2;ut.Power3;ut.Power4;ut.Linear;ut.Quad;ut.Cubic;var w$=ut.Quart;ut.Quint;ut.Strong;ut.Elastic;ut.Back;ut.SteppedEase;ut.Bounce;ut.Sine;ut.Expo;ut.Circ;/*!
 * CSSPlugin 3.10.1
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var jC,$a,Rc,d1,Wo,UC,S$=function(){return typeof window!="undefined"},ro={},Do=180/Math.PI,Ic=Math.PI/180,Ql=Math.atan2,VC=1e8,aR=/([A-Z])/g,C$=/(left|right|width|margin|padding|x)/i,E$=/[\s,\(]\S/,za={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},oR=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},T$=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},k$=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},P$=function(e,n){var i=n.s+n.c*e;n.set(n.t,n.p,~~(i+(i<0?-.5:.5))+n.u,n)},lR=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},cR=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},A$=function(e,n,i){return e.style[n]=i},M$=function(e,n,i){return e.style.setProperty(n,i)},R$=function(e,n,i){return e._gsap[n]=i},I$=function(e,n,i){return e._gsap.scaleX=e._gsap.scaleY=i},O$=function(e,n,i,s,r){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(r,a)},N$=function(e,n,i,s,r){var a=e._gsap;a[n]=i,a.renderTransform(r,a)},zn="transform",ao=zn+"Origin",uR,Y_=function(e,n){var i=$a.createElementNS?$a.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):$a.createElement(e);return i.style?i:$a.createElement(e)},Xr=function t(e,n,i){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(aR,"-$1").toLowerCase())||s.getPropertyValue(n)||!i&&t(e,eu(n)||n,1)||""},$C="O,Moz,ms,Ms,Webkit".split(","),eu=function(e,n,i){var s=n||Wo,r=s.style,a=5;if(e in r&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!($C[a]+e in r););return a<0?null:(a===3?"ms":a>=0?$C[a]:"")+e},X_=function(){S$()&&window.document&&(jC=window,$a=jC.document,Rc=$a.documentElement,Wo=Y_("div")||{style:{}},Y_("div"),zn=eu(zn),ao=zn+"Origin",Wo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",uR=!!eu("perspective"),d1=1)},_b=function t(e){var n=Y_("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,r=this.style.cssText,a;if(Rc.appendChild(n),n.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(a=this._gsapBBox());return i&&(s?i.insertBefore(this,s):i.appendChild(this)),Rc.removeChild(n),this.style.cssText=r,a},zC=function(e,n){for(var i=n.length;i--;)if(e.hasAttribute(n[i]))return e.getAttribute(n[i])},hR=function(e){var n;try{n=e.getBBox()}catch{n=_b.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===_b||(n=_b.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+zC(e,["x","cx","x1"])||0,y:+zC(e,["y","cy","y1"])||0,width:0,height:0}:n},pR=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&hR(e))},cp=function(e,n){if(n){var i=e.style;n in ro&&n!==ao&&(n=zn),i.removeProperty?((n.substr(0,2)==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),i.removeProperty(n.replace(aR,"-$1").toLowerCase())):i.removeAttribute(n)}},Ha=function(e,n,i,s,r,a){var o=new Ni(e._pt,n,i,0,1,a?cR:lR);return e._pt=o,o.b=s,o.e=r,e._props.push(i),o},HC={deg:1,rad:1,turn:1},oo=function t(e,n,i,s){var r=parseFloat(i)||0,a=(i+"").trim().substr((r+"").length)||"px",o=Wo.style,l=C$.test(n),c=e.tagName.toLowerCase()==="svg",h=(c?"client":"offset")+(l?"Width":"Height"),p=100,d=s==="px",g=s==="%",x,S,m,_;return s===a||!r||HC[s]||HC[a]?r:(a!=="px"&&!d&&(r=t(e,n,i,"px")),_=e.getCTM&&pR(e),(g||a==="%")&&(ro[n]||~n.indexOf("adius"))?(x=_?e.getBBox()[l?"width":"height"]:e[h],dn(g?r/x*p:r/100*x)):(o[l?"width":"height"]=p+(d?a:s),S=~n.indexOf("adius")||s==="em"&&e.appendChild&&!c?e:e.parentNode,_&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===$a||!S.appendChild)&&(S=$a.body),m=S._gsap,m&&g&&m.width&&l&&m.time===Qi.time?dn(r/m.width*p):((g||a==="%")&&(o.position=Xr(e,"position")),S===e&&(o.position="static"),S.appendChild(Wo),x=Wo[h],S.removeChild(Wo),o.position="absolute",l&&g&&(m=Jo(S),m.time=Qi.time,m.width=S[h]),dn(d?x*r/p:x&&r?p/x*r:0))))},Bo=function(e,n,i,s){var r;return d1||X_(),n in za&&n!=="transform"&&(n=za[n],~n.indexOf(",")&&(n=n.split(",")[0])),ro[n]&&n!=="transform"?(r=hp(e,s),r=n!=="transformOrigin"?r[n]:r.svg?r.origin:lm(Xr(e,ao))+" "+r.zOrigin+"px"):(r=e.style[n],(!r||r==="auto"||s||~(r+"").indexOf("calc("))&&(r=om[n]&&om[n](e,n,i)||Xr(e,n)||RM(e,n)||(n==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?oo(e,n,r,i)+i:r},L$=function(e,n,i,s){if(!i||i==="none"){var r=eu(n,e,1),a=r&&Xr(e,r,1);a&&a!==i?(n=r,i=a):n==="borderColor"&&(i=Xr(e,"borderTopColor"))}var o=new Ni(this._pt,e.style,n,0,1,sR),l=0,c=0,h,p,d,g,x,S,m,_,y,T,C,A;if(o.b=i,o.e=s,i+="",s+="",s==="auto"&&(e.style[n]=s,s=Xr(e,n)||s,e.style[n]=i),h=[i,s],KM(h),i=h[0],s=h[1],d=i.match(_c)||[],A=s.match(_c)||[],A.length){for(;p=_c.exec(s);)m=p[0],y=s.substring(l,p.index),x?x=(x+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(x=1),m!==(S=d[c++]||"")&&(g=parseFloat(S)||0,C=S.substr((g+"").length),m.charAt(1)==="="&&(m=Mc(g,m)+C),_=parseFloat(m),T=m.substr((_+"").length),l=_c.lastIndex-T.length,T||(T=T||ts.units[n]||C,l===s.length&&(s+=T,o.e+=T)),C!==T&&(g=oo(e,n,S,T)||0),o._pt={_next:o._pt,p:y||c===1?y:",",s:g,c:_-g,m:x&&x<4||n==="zIndex"?Math.round:0});o.c=l<s.length?s.substring(l,s.length):""}else o.r=n==="display"&&s==="none"?cR:lR;return EM.test(s)&&(o.e=0),this._pt=o,o},qC={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},F$=function(e){var n=e.split(" "),i=n[0],s=n[1]||"50%";return(i==="top"||i==="bottom"||s==="left"||s==="right")&&(e=i,i=s,s=e),n[0]=qC[i]||i,n[1]=qC[s]||s,n.join(" ")},D$=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var i=n.t,s=i.style,r=n.u,a=i._gsap,o,l,c;if(r==="all"||r===!0)s.cssText="",l=1;else for(r=r.split(","),c=r.length;--c>-1;)o=r[c],ro[o]&&(l=1,o=o==="transformOrigin"?ao:zn),cp(i,o);l&&(cp(i,zn),a&&(a.svg&&i.removeAttribute("transform"),hp(i,1),a.uncache=1))}},om={clearProps:function(e,n,i,s,r){if(r.data!=="isFromStart"){var a=e._pt=new Ni(e._pt,n,i,0,0,D$);return a.u=s,a.pr=-10,a.tween=r,e._props.push(i),1}}},up=[1,0,0,1,0,0],dR={},fR=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},WC=function(e){var n=Xr(e,zn);return fR(n)?up:n.substr(7).match(CM).map(dn)},f1=function(e,n){var i=e._gsap||Jo(e),s=e.style,r=WC(e),a,o,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,r=[l.a,l.b,l.c,l.d,l.e,l.f],r.join(",")==="1,0,0,1,0,0"?up:r):(r===up&&!e.offsetParent&&e!==Rc&&!i.svg&&(l=s.display,s.display="block",a=e.parentNode,(!a||!e.offsetParent)&&(c=1,o=e.nextSibling,Rc.appendChild(e)),r=WC(e),l?s.display=l:cp(e,"display"),c&&(o?a.insertBefore(e,o):a?a.appendChild(e):Rc.removeChild(e))),n&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},Q_=function(e,n,i,s,r,a){var o=e._gsap,l=r||f1(e,!0),c=o.xOrigin||0,h=o.yOrigin||0,p=o.xOffset||0,d=o.yOffset||0,g=l[0],x=l[1],S=l[2],m=l[3],_=l[4],y=l[5],T=n.split(" "),C=parseFloat(T[0])||0,A=parseFloat(T[1])||0,k,P,N,I;i?l!==up&&(P=g*m-x*S)&&(N=C*(m/P)+A*(-S/P)+(S*y-m*_)/P,I=C*(-x/P)+A*(g/P)-(g*y-x*_)/P,C=N,A=I):(k=hR(e),C=k.x+(~T[0].indexOf("%")?C/100*k.width:C),A=k.y+(~(T[1]||T[0]).indexOf("%")?A/100*k.height:A)),s||s!==!1&&o.smooth?(_=C-c,y=A-h,o.xOffset=p+(_*g+y*S)-_,o.yOffset=d+(_*x+y*m)-y):o.xOffset=o.yOffset=0,o.xOrigin=C,o.yOrigin=A,o.smooth=!!s,o.origin=n,o.originIsAbsolute=!!i,e.style[ao]="0px 0px",a&&(Ha(a,o,"xOrigin",c,C),Ha(a,o,"yOrigin",h,A),Ha(a,o,"xOffset",p,o.xOffset),Ha(a,o,"yOffset",d,o.yOffset)),e.setAttribute("data-svg-origin",C+" "+A)},hp=function(e,n){var i=e._gsap||new JM(e);if("x"in i&&!n&&!i.uncache)return i;var s=e.style,r=i.scaleX<0,a="px",o="deg",l=Xr(e,ao)||"0",c,h,p,d,g,x,S,m,_,y,T,C,A,k,P,N,I,j,V,D,G,O,J,X,ae,me,Ae,Oe,Be,we,Se,We;return c=h=p=x=S=m=_=y=T=0,d=g=1,i.svg=!!(e.getCTM&&pR(e)),k=f1(e,i.svg),i.svg&&(X=(!i.uncache||l==="0px 0px")&&!n&&e.getAttribute("data-svg-origin"),Q_(e,X||l,!!X||i.originIsAbsolute,i.smooth!==!1,k)),C=i.xOrigin||0,A=i.yOrigin||0,k!==up&&(j=k[0],V=k[1],D=k[2],G=k[3],c=O=k[4],h=J=k[5],k.length===6?(d=Math.sqrt(j*j+V*V),g=Math.sqrt(G*G+D*D),x=j||V?Ql(V,j)*Do:0,_=D||G?Ql(D,G)*Do+x:0,_&&(g*=Math.abs(Math.cos(_*Ic))),i.svg&&(c-=C-(C*j+A*D),h-=A-(C*V+A*G))):(We=k[6],we=k[7],Ae=k[8],Oe=k[9],Be=k[10],Se=k[11],c=k[12],h=k[13],p=k[14],P=Ql(We,Be),S=P*Do,P&&(N=Math.cos(-P),I=Math.sin(-P),X=O*N+Ae*I,ae=J*N+Oe*I,me=We*N+Be*I,Ae=O*-I+Ae*N,Oe=J*-I+Oe*N,Be=We*-I+Be*N,Se=we*-I+Se*N,O=X,J=ae,We=me),P=Ql(-D,Be),m=P*Do,P&&(N=Math.cos(-P),I=Math.sin(-P),X=j*N-Ae*I,ae=V*N-Oe*I,me=D*N-Be*I,Se=G*I+Se*N,j=X,V=ae,D=me),P=Ql(V,j),x=P*Do,P&&(N=Math.cos(P),I=Math.sin(P),X=j*N+V*I,ae=O*N+J*I,V=V*N-j*I,J=J*N-O*I,j=X,O=ae),S&&Math.abs(S)+Math.abs(x)>359.9&&(S=x=0,m=180-m),d=dn(Math.sqrt(j*j+V*V+D*D)),g=dn(Math.sqrt(J*J+We*We)),P=Ql(O,J),_=Math.abs(P)>2e-4?P*Do:0,T=Se?1/(Se<0?-Se:Se):0),i.svg&&(X=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!fR(Xr(e,zn)),X&&e.setAttribute("transform",X))),Math.abs(_)>90&&Math.abs(_)<270&&(r?(d*=-1,_+=x<=0?180:-180,x+=x<=0?180:-180):(g*=-1,_+=_<=0?180:-180)),n=n||i.uncache,i.x=c-((i.xPercent=c&&(!n&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=h-((i.yPercent=h&&(!n&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=p+a,i.scaleX=dn(d),i.scaleY=dn(g),i.rotation=dn(x)+o,i.rotationX=dn(S)+o,i.rotationY=dn(m)+o,i.skewX=_+o,i.skewY=y+o,i.transformPerspective=T+a,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(s[ao]=lm(l)),i.xOffset=i.yOffset=0,i.force3D=ts.force3D,i.renderTransform=i.svg?j$:uR?mR:B$,i.uncache=0,i},lm=function(e){return(e=e.split(" "))[0]+" "+e[1]},xb=function(e,n,i){var s=ri(n);return dn(parseFloat(n)+parseFloat(oo(e,"x",i+"px",s)))+s},B$=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,mR(e,n)},Ao="0deg",Qu="0px",Mo=") ",mR=function(e,n){var i=n||this,s=i.xPercent,r=i.yPercent,a=i.x,o=i.y,l=i.z,c=i.rotation,h=i.rotationY,p=i.rotationX,d=i.skewX,g=i.skewY,x=i.scaleX,S=i.scaleY,m=i.transformPerspective,_=i.force3D,y=i.target,T=i.zOrigin,C="",A=_==="auto"&&e&&e!==1||_===!0;if(T&&(p!==Ao||h!==Ao)){var k=parseFloat(h)*Ic,P=Math.sin(k),N=Math.cos(k),I;k=parseFloat(p)*Ic,I=Math.cos(k),a=xb(y,a,P*I*-T),o=xb(y,o,-Math.sin(k)*-T),l=xb(y,l,N*I*-T+T)}m!==Qu&&(C+="perspective("+m+Mo),(s||r)&&(C+="translate("+s+"%, "+r+"%) "),(A||a!==Qu||o!==Qu||l!==Qu)&&(C+=l!==Qu||A?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+Mo),c!==Ao&&(C+="rotate("+c+Mo),h!==Ao&&(C+="rotateY("+h+Mo),p!==Ao&&(C+="rotateX("+p+Mo),(d!==Ao||g!==Ao)&&(C+="skew("+d+", "+g+Mo),(x!==1||S!==1)&&(C+="scale("+x+", "+S+Mo),y.style[zn]=C||"translate(0, 0)"},j$=function(e,n){var i=n||this,s=i.xPercent,r=i.yPercent,a=i.x,o=i.y,l=i.rotation,c=i.skewX,h=i.skewY,p=i.scaleX,d=i.scaleY,g=i.target,x=i.xOrigin,S=i.yOrigin,m=i.xOffset,_=i.yOffset,y=i.forceCSS,T=parseFloat(a),C=parseFloat(o),A,k,P,N,I;l=parseFloat(l),c=parseFloat(c),h=parseFloat(h),h&&(h=parseFloat(h),c+=h,l+=h),l||c?(l*=Ic,c*=Ic,A=Math.cos(l)*p,k=Math.sin(l)*p,P=Math.sin(l-c)*-d,N=Math.cos(l-c)*d,c&&(h*=Ic,I=Math.tan(c-h),I=Math.sqrt(1+I*I),P*=I,N*=I,h&&(I=Math.tan(h),I=Math.sqrt(1+I*I),A*=I,k*=I)),A=dn(A),k=dn(k),P=dn(P),N=dn(N)):(A=p,N=d,k=P=0),(T&&!~(a+"").indexOf("px")||C&&!~(o+"").indexOf("px"))&&(T=oo(g,"x",a,"px"),C=oo(g,"y",o,"px")),(x||S||m||_)&&(T=dn(T+x-(x*A+S*P)+m),C=dn(C+S-(x*k+S*N)+_)),(s||r)&&(I=g.getBBox(),T=dn(T+s/100*I.width),C=dn(C+r/100*I.height)),I="matrix("+A+","+k+","+P+","+N+","+T+","+C+")",g.setAttribute("transform",I),y&&(g.style[zn]=I)},U$=function(e,n,i,s,r){var a=360,o=jn(r),l=parseFloat(r)*(o&&~r.indexOf("rad")?Do:1),c=l-s,h=s+c+"deg",p,d;return o&&(p=r.split("_")[1],p==="short"&&(c%=a,c!==c%(a/2)&&(c+=c<0?a:-a)),p==="cw"&&c<0?c=(c+a*VC)%a-~~(c/a)*a:p==="ccw"&&c>0&&(c=(c-a*VC)%a-~~(c/a)*a)),e._pt=d=new Ni(e._pt,n,i,s,c,T$),d.e=h,d.u="deg",e._props.push(i),d},GC=function(e,n){for(var i in n)e[i]=n[i];return e},V$=function(e,n,i){var s=GC({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",a=i.style,o,l,c,h,p,d,g,x;s.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),a[zn]=n,o=hp(i,1),cp(i,zn),i.setAttribute("transform",c)):(c=getComputedStyle(i)[zn],a[zn]=n,o=hp(i,1),a[zn]=c);for(l in ro)c=s[l],h=o[l],c!==h&&r.indexOf(l)<0&&(g=ri(c),x=ri(h),p=g!==x?oo(i,l,c,x):parseFloat(c),d=parseFloat(h),e._pt=new Ni(e._pt,o,l,p,d-p,oR),e._pt.u=x||0,e._props.push(l));GC(o,s)};Oi("padding,margin,Width,Radius",function(t,e){var n="Top",i="Right",s="Bottom",r="Left",a=(e<3?[n,i,s,r]:[n+r,n+i,s+i,s+r]).map(function(o){return e<2?t+o:"border"+o+t});om[e>1?"border"+t:t]=function(o,l,c,h,p){var d,g;if(arguments.length<4)return d=a.map(function(x){return Bo(o,x,c)}),g=d.join(" "),g.split(d[0]).length===5?d[0]:g;d=(h+"").split(" "),g={},a.forEach(function(x,S){return g[x]=d[S]=d[S]||d[(S-1)/2|0]}),o.init(l,g,p)}});var vR={name:"css",register:X_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,i,s,r){var a=this._props,o=e.style,l=i.vars.startAt,c,h,p,d,g,x,S,m,_,y,T,C,A,k,P;d1||X_();for(S in n)if(S!=="autoRound"&&(h=n[S],!(Wi[S]&&ZM(S,n,i,s,e,r)))){if(g=typeof h,x=om[S],g==="function"&&(h=h.call(i,s,e,r),g=typeof h),g==="string"&&~h.indexOf("random(")&&(h=ap(h)),x)x(this,e,S,h,i)&&(P=1);else if(S.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(S)+"").trim(),h+="",Ya.lastIndex=0,Ya.test(c)||(m=ri(c),_=ri(h)),_?m!==_&&(c=oo(e,S,c,_)+_):m&&(h+=m),this.add(o,"setProperty",c,h,s,r,0,0,S),a.push(S);else if(g!=="undefined"){if(l&&S in l?(c=typeof l[S]=="function"?l[S].call(i,s,e,r):l[S],jn(c)&&~c.indexOf("random(")&&(c=ap(c)),ri(c+"")||(c+=ts.units[S]||ri(Bo(e,S))||""),(c+"").charAt(1)==="="&&(c=Bo(e,S))):c=Bo(e,S),d=parseFloat(c),y=g==="string"&&h.charAt(1)==="="&&h.substr(0,2),y&&(h=h.substr(2)),p=parseFloat(h),S in za&&(S==="autoAlpha"&&(d===1&&Bo(e,"visibility")==="hidden"&&p&&(d=0),Ha(this,o,"visibility",d?"inherit":"hidden",p?"inherit":"hidden",!p)),S!=="scale"&&S!=="transform"&&(S=za[S],~S.indexOf(",")&&(S=S.split(",")[0]))),T=S in ro,T){if(C||(A=e._gsap,A.renderTransform&&!n.parseTransform||hp(e,n.parseTransform),k=n.smoothOrigin!==!1&&A.smooth,C=this._pt=new Ni(this._pt,o,zn,0,1,A.renderTransform,A,0,-1),C.dep=1),S==="scale")this._pt=new Ni(this._pt,A,"scaleY",A.scaleY,(y?Mc(A.scaleY,y+p):p)-A.scaleY||0),a.push("scaleY",S),S+="X";else if(S==="transformOrigin"){h=F$(h),A.svg?Q_(e,h,0,k,0,this):(_=parseFloat(h.split(" ")[2])||0,_!==A.zOrigin&&Ha(this,A,"zOrigin",A.zOrigin,_),Ha(this,o,S,lm(c),lm(h)));continue}else if(S==="svgOrigin"){Q_(e,h,1,k,0,this);continue}else if(S in dR){U$(this,A,S,d,y?Mc(d,y+h):h);continue}else if(S==="smoothOrigin"){Ha(this,A,"smooth",A.smooth,h);continue}else if(S==="force3D"){A[S]=h;continue}else if(S==="transform"){V$(this,h,e);continue}}else S in o||(S=eu(S)||S);if(T||(p||p===0)&&(d||d===0)&&!E$.test(h)&&S in o)m=(c+"").substr((d+"").length),p||(p=0),_=ri(h)||(S in ts.units?ts.units[S]:m),m!==_&&(d=oo(e,S,c,_)),this._pt=new Ni(this._pt,T?A:o,S,d,(y?Mc(d,y+p):p)-d,!T&&(_==="px"||S==="zIndex")&&n.autoRound!==!1?P$:oR),this._pt.u=_||0,m!==_&&_!=="%"&&(this._pt.b=c,this._pt.r=k$);else if(S in o)L$.call(this,e,S,c,y?y+h:h);else if(S in e)this.add(e,S,c||e[S],y?y+h:h,s,r);else{i1(S,h);continue}a.push(S)}}P&&rR(this)},get:Bo,aliases:za,getSetter:function(e,n,i){var s=za[n];return s&&s.indexOf(",")<0&&(n=s),n in ro&&n!==ao&&(e._gsap.x||Bo(e,"x"))?i&&UC===i?n==="scale"?I$:R$:(UC=i||{})&&(n==="scale"?O$:N$):e.style&&!t1(e.style[n])?A$:~n.indexOf("-")?M$:h1(e,n)},core:{_removeProperty:cp,_getMatrix:f1}};Ks.utils.checkPrefix=eu;(function(t,e,n,i){var s=Oi(t+","+e+","+n,function(r){ro[r]=1});Oi(e,function(r){ts.units[r]="deg",dR[r]=1}),za[s[13]]=t+","+e,Oi(i,function(r){var a=r.split(":");za[a[1]]=s[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Oi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){ts.units[t]="px"});Ks.registerPlugin(vR);var Jt=Ks.registerPlugin(vR)||Ks;Jt.core.Tween;const $$={mode:"auto",preserve:!0};function Kn(t,e={}){const n=xa(xa({},$$),e),i=JU(),s=De(!i.meta.loader),r=De(null),a=De(!1),o=De(!1),l=Cl();r.value=AC(t,([h])=>{o.value=h.isIntersecting});const c=qs(()=>l.hidden,()=>{(l.hidden||s.value)&&(r.value=AC(t,([h])=>{const p=a.value,d=h.isIntersecting;a.value=n.preserve&&p||d}),qs(a,h=>{n.mode==="auto"&&t.value&&t.value.classList.toggle("in-view",h),h&&n.preserve&&r.value&&r.value.stop()}))},{immediate:!0});return Bp(c),{intersect:a,inViewport:o}}const z$={name:"ButtonElement",components:{Icon:ua},props:{preserve:{type:Boolean,default:!1},withLabel:{type:Boolean,default:!1},withBackground:{type:Boolean,default:!1}},setup(t){const e=De(null),n=De(null),i=fV(e),{intersect:s}=Kn(e,{mode:"manual",preserve:t.preserve});return{button:e,content:n,visible:i,intersect:s}},computed:{attributes:function(){const t={};return this.$attrs.target==="_blank"&&(t.rel="noopener noreferrer"),xa({},t)}},mounted(){this.unwatch=this.$watch(t=>t.intersect,this.onceIntersect)},unmounted(){this.unwatch()},methods:{onceIntersect(){Jt.delayedCall(.1,()=>{const t=this.button.offsetWidth;this.button.classList.toggle("in-view",this.intersect),this.intersect&&this.$props.withLabel&&(Jt.set(this.button,{width:104}),Jt.set(this.content,{width:52}),Jt.delayedCall(.25,()=>{Jt.to([this.button,this.content],{ease:w$.easeInOut,width:t,duration:1,onComplete:()=>{this.button&&this.button.removeAttribute("style"),this.content&&this.content.removeAttribute("style")}})}))})}}},H$={ref:"content",class:"button__content"};function q$(t,e,n,i,s,r){return fe(),wt(jy(t.$attrs.href?"a":"button"),_r({ref:"button",class:["button",{"button--with-icon":!n.withLabel&&!n.withBackground,"button--with-label":n.withLabel,"button--with-background":n.withBackground}]},r.attributes),{default:Me(()=>[U("span",H$,[ys(t.$slots,"default")],512)]),_:3},16,["class"])}var Hp=rt(z$,[["render",q$]]);const W$={name:"SoundToggle",setup(){const t=rs(),e=De(null),{intersect:n}=Kn(e);return{sound:t,toggle:e,intersect:n}},methods:{handleSoundToggle(){this.sound.play&&(this.sound.muted=!this.sound.muted)}}},G$={ref:"toggle",class:"sound-toggle"};function K$(t,e,n,i,s,r){return fe(),Ee("div",G$,[U("button",{class:"sound-toggle__button",onClick:e[0]||(e[0]=(...a)=>r.handleSoundToggle&&r.handleSoundToggle(...a))},[U("span",{class:fn({muted:i.sound.muted||!i.sound.play})},null,2),U("span",{class:fn({muted:i.sound.muted||!i.sound.play})},null,2),U("span",{class:fn({muted:i.sound.muted||!i.sound.play})},null,2),U("span",{class:fn({muted:i.sound.muted||!i.sound.play})},null,2),U("span",{class:fn({muted:i.sound.muted||!i.sound.play})},null,2)])],512)}var m1=rt(W$,[["render",K$]]),Tv=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];var r=e.length-1;return e.slice(0,r).reduce(function(a,o,l){return a+o+i[l]},"")+e[r]};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var KC=Object.getOwnPropertySymbols,Y$=Object.prototype.hasOwnProperty,X$=Object.prototype.propertyIsEnumerable;function Q$(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function J$(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(e).map(function(r){return e[r]});if(i.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(r){s[r]=r}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Un=J$()?Object.assign:function(t,e){for(var n,i=Q$(t),s,r=1;r<arguments.length;r++){n=Object(arguments[r]);for(var a in n)Y$.call(n,a)&&(i[a]=n[a]);if(KC){s=KC(n);for(var o=0;o<s.length;o++)X$.call(n,s[o])&&(i[s[o]]=n[s[o]])}}return i},v1={},g1={},kl={},kv={};Object.defineProperty(kv,"__esModule",{value:!0});function Z$(t){return typeof t=="function"}kv.isFunction=Z$;var Pv={},qp={};Object.defineProperty(qp,"__esModule",{value:!0});var yb=!1;qp.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else yb&&console.log("RxJS: Back to a better error behavior. Thank you. <3");yb=t},get useDeprecatedSynchronousErrorHandling(){return yb}};var Av={};Object.defineProperty(Av,"__esModule",{value:!0});function ez(t){setTimeout(function(){throw t},0)}Av.hostReportError=ez;Object.defineProperty(Pv,"__esModule",{value:!0});var tz=qp,nz=Av;Pv.empty={closed:!0,next:function(t){},error:function(t){if(tz.config.useDeprecatedSynchronousErrorHandling)throw t;nz.hostReportError(t)},complete:function(){}};var b1={},_1={};Object.defineProperty(_1,"__esModule",{value:!0});_1.isArray=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();var x1={};Object.defineProperty(x1,"__esModule",{value:!0});function iz(t){return t!==null&&typeof t=="object"}x1.isObject=iz;var y1={};Object.defineProperty(y1,"__esModule",{value:!0});var sz=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}();y1.UnsubscriptionError=sz;Object.defineProperty(b1,"__esModule",{value:!0});var rz=_1,az=x1,oz=kv,Rf=y1,lz=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,i=n._parentOrParents,s=n._ctorUnsubscribe,r=n._unsubscribe,a=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(i!==null)for(var o=0;o<i.length;++o){var l=i[o];l.remove(this)}if(oz.isFunction(r)){s&&(this._unsubscribe=void 0);try{r.call(this)}catch(p){e=p instanceof Rf.UnsubscriptionError?YC(p.errors):[p]}}if(rz.isArray(a))for(var o=-1,c=a.length;++o<c;){var h=a[o];if(az.isObject(h))try{h.unsubscribe()}catch(d){e=e||[],d instanceof Rf.UnsubscriptionError?e=e.concat(YC(d.errors)):e.push(d)}}if(e)throw new Rf.UnsubscriptionError(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;n=new t,n._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var s=n._parentOrParents;if(s===null)n._parentOrParents=this;else if(s instanceof t){if(s===this)return n;n._parentOrParents=[s,this]}else if(s.indexOf(this)===-1)s.push(this);else return n;var r=this._subscriptions;return r===null?this._subscriptions=[n]:r.push(n),n},t.prototype.remove=function(e){var n=this._subscriptions;if(n){var i=n.indexOf(e);i!==-1&&n.splice(i,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();b1.Subscription=lz;function YC(t){return t.reduce(function(e,n){return e.concat(n instanceof Rf.UnsubscriptionError?n.errors:n)},[])}var w1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),t.$$rxSubscriber=t.rxSubscriber})(w1);var gR=Bn&&Bn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var r in s)s.hasOwnProperty(r)&&(i[r]=s[r])},t(e,n)};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(kl,"__esModule",{value:!0});var XC=kv,J_=Pv,cz=b1,uz=w1,Jl=qp,rf=Av,bR=function(t){gR(e,t);function e(n,i,s){var r=t.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=J_.empty;break;case 1:if(!n){r.destination=J_.empty;break}if(typeof n=="object"){n instanceof e?(r.syncErrorThrowable=n.syncErrorThrowable,r.destination=n,n.add(r)):(r.syncErrorThrowable=!0,r.destination=new Z_(r,n));break}default:r.syncErrorThrowable=!0,r.destination=new Z_(r,n,i,s);break}return r}return e.prototype[uz.rxSubscriber]=function(){return this},e.create=function(n,i,s){var r=new e(n,i,s);return r.syncErrorThrowable=!1,r},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},e}(cz.Subscription);kl.Subscriber=bR;var Z_=function(t){gR(e,t);function e(n,i,s,r){var a=t.call(this)||this;a._parentSubscriber=n;var o,l=a;return XC.isFunction(i)?o=i:i&&(o=i.next,s=i.error,r=i.complete,i!==J_.empty&&(l=Object.create(i),XC.isFunction(l.unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(a))),a._context=l,a._next=o,a._error=s,a._complete=r,a}return e.prototype.next=function(n){if(!this.isStopped&&this._next){var i=this._parentSubscriber;!Jl.config.useDeprecatedSynchronousErrorHandling||!i.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(i,this._next,n)&&this.unsubscribe()}},e.prototype.error=function(n){if(!this.isStopped){var i=this._parentSubscriber,s=Jl.config.useDeprecatedSynchronousErrorHandling;if(this._error)!s||!i.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(i,this._error,n),this.unsubscribe());else if(i.syncErrorThrowable)s?(i.syncErrorValue=n,i.syncErrorThrown=!0):rf.hostReportError(n),this.unsubscribe();else{if(this.unsubscribe(),s)throw n;rf.hostReportError(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var i=this._parentSubscriber;if(this._complete){var s=function(){return n._complete.call(n._context)};!Jl.config.useDeprecatedSynchronousErrorHandling||!i.syncErrorThrowable?(this.__tryOrUnsub(s),this.unsubscribe()):(this.__tryOrSetError(i,s),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,i){try{n.call(this._context,i)}catch(s){if(this.unsubscribe(),Jl.config.useDeprecatedSynchronousErrorHandling)throw s;rf.hostReportError(s)}},e.prototype.__tryOrSetError=function(n,i,s){if(!Jl.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{i.call(this._context,s)}catch(r){return Jl.config.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=r,n.syncErrorThrown=!0,!0):(rf.hostReportError(r),!0)}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},e}(bR);kl.SafeSubscriber=Z_;Object.defineProperty(g1,"__esModule",{value:!0});var hz=kl;function pz(t){for(;t;){var e=t,n=e.closed,i=e.destination,s=e.isStopped;if(n||s)return!1;i&&i instanceof hz.Subscriber?t=i:t=null}return!0}g1.canReportError=pz;var S1={};Object.defineProperty(S1,"__esModule",{value:!0});var wb=kl,QC=w1,dz=Pv;function fz(t,e,n){if(t){if(t instanceof wb.Subscriber)return t;if(t[QC.rxSubscriber])return t[QC.rxSubscriber]()}return!t&&!e&&!n?new wb.Subscriber(dz.empty):new wb.Subscriber(t,e,n)}S1.toSubscriber=fz;var C1={};Object.defineProperty(C1,"__esModule",{value:!0});C1.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var Mv={},E1={};Object.defineProperty(E1,"__esModule",{value:!0});function mz(t){return t}E1.identity=mz;Object.defineProperty(Mv,"__esModule",{value:!0});var vz=E1;function gz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _R(t)}Mv.pipe=gz;function _R(t){return t.length===0?vz.identity:t.length===1?t[0]:function(n){return t.reduce(function(i,s){return s(i)},n)}}Mv.pipeFromArray=_R;Object.defineProperty(v1,"__esModule",{value:!0});var bz=g1,_z=S1,xz=C1,yz=Mv,If=qp,wz=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,i){var s=this.operator,r=_z.toSubscriber(e,n,i);if(s?r.add(s.call(r,this.source)):r.add(this.source||If.config.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),If.config.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){If.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),bz.canReportError(e)?e.error(n):console.warn(n)}},t.prototype.forEach=function(e,n){var i=this;return n=JC(n),new n(function(s,r){var a;a=i.subscribe(function(o){try{e(o)}catch(l){r(l),a&&a.unsubscribe()}},r,s)})},t.prototype._subscribe=function(e){var n=this.source;return n&&n.subscribe(e)},t.prototype[xz.observable]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length===0?this:yz.pipeFromArray(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=JC(e),new e(function(i,s){var r;n.subscribe(function(a){return r=a},function(a){return s(a)},function(){return i(r)})})},t.create=function(e){return new t(e)},t}();v1.Observable=wz;function JC(t){if(t||(t=If.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var T1={},Sz=Bn&&Bn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var r in s)s.hasOwnProperty(r)&&(i[r]=s[r])},t(e,n)};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(T1,"__esModule",{value:!0});var Cz=kl;function Ez(t,e){return function(i){return i.lift(new Tz(t,e))}}T1.filter=Ez;var Tz=function(){function t(e,n){this.predicate=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new kz(e,this.predicate,this.thisArg))},t}(),kz=function(t){Sz(e,t);function e(n,i,s){var r=t.call(this,n)||this;return r.predicate=i,r.thisArg=s,r.count=0,r}return e.prototype._next=function(n){var i;try{i=this.predicate.call(this.thisArg,n,this.count++)}catch(s){this.destination.error(s);return}i&&this.destination.next(n)},e}(Cz.Subscriber),Rv={},Pz=Bn&&Bn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var r in s)s.hasOwnProperty(r)&&(i[r]=s[r])},t(e,n)};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(Rv,"__esModule",{value:!0});var Az=kl;function Mz(t,e){return function(i){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new xR(t,e))}}Rv.map=Mz;var xR=function(){function t(e,n){this.project=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new Rz(e,this.project,this.thisArg))},t}();Rv.MapOperator=xR;var Rz=function(t){Pz(e,t);function e(n,i,s){var r=t.call(this,n)||this;return r.project=i,r.count=0,r.thisArg=s||r,r}return e.prototype._next=function(n){var i;try{i=this.project.call(this.thisArg,n,this.count++)}catch(s){this.destination.error(s);return}this.destination.next(i)},e}(Az.Subscriber),Iz=v1,Oz=Iz.Observable,Nz=T1,Lz=Nz.filter,Fz=Rv,Dz=Fz.map,Wp={Observable:Oz,filter:Lz,map:Dz},yR=function(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(e&&e.query)return"params"in e?{query:e.query,params:e.params}:{query:e.query};var n=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(n))},vo={};(function(t){function e(s){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(s)}var n=["image","file"],i=["before","after","replace"];t.dataset=function(s){if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(s))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},t.projectId=function(s){if(!/^[-a-z0-9]+$/i.test(s))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},t.validateAssetType=function(s){if(n.indexOf(s)===-1)throw new Error("Invalid asset type: ".concat(s,". Must be one of ").concat(n.join(", ")))},t.validateObject=function(s,r){if(r===null||e(r)!=="object"||Array.isArray(r))throw new Error("".concat(s,"() takes an object of properties"))},t.requireDocumentId=function(s,r){if(!r._id)throw new Error("".concat(s,'() requires that the document contains an ID ("_id" property)'));t.validateDocumentId(s,r._id)},t.validateDocumentId=function(s,r){if(typeof r!="string"||!/^[a-z0-9_.-]+$/i.test(r))throw new Error("".concat(s,'(): "').concat(r,'" is not a valid document ID'))},t.validateInsert=function(s,r,a){var o="insert(at, selector, items)";if(i.indexOf(s)===-1){var l=i.map(function(c){return'"'.concat(c,'"')}).join(", ");throw new Error("".concat(o,' takes an "at"-argument which is one of: ').concat(l))}if(typeof r!="string")throw new Error("".concat(o,' takes a "selector"-argument which must be a string'));if(!Array.isArray(a))throw new Error("".concat(o,' takes an "items"-argument which must be an array'))},t.hasDataset=function(s){if(!s.dataset)throw new Error("`dataset` must be provided to perform queries");return s.dataset||""},t.requestTag=function(s){if(typeof s!="string"||!/^[a-z0-9._-]{1,75}$/i.test(s))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return s}})(vo);function Sb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ia=Un,Bz=yR,wR=vo,Cb=wR.validateObject,jz=wR.validateInsert;function ex(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.selection=t,this.operations=Ia({},e),this.client=n}Ia(ex.prototype,{clone:function(){return new ex(this.selection,Ia({},this.operations),this.client)},set:function(e){return this._assign("set",e)},diffMatchPatch:function(e){return Cb("diffMatchPatch",e),this._assign("diffMatchPatch",e)},unset:function(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Ia({},this.operations,{unset:e}),this},setIfMissing:function(e){return this._assign("setIfMissing",e)},replace:function(e){return Cb("replace",e),this._set("set",{$:e})},inc:function(e){return this._assign("inc",e)},dec:function(e){return this._assign("dec",e)},insert:function(e,n,i){var s;return jz(e,n,i),this._assign("insert",(s={},Sb(s,e,n),Sb(s,"items",i),s))},append:function(e,n){return this.insert("after","".concat(e,"[-1]"),n)},prepend:function(e,n){return this.insert("before","".concat(e,"[0]"),n)},splice:function(e,n,i,s){var r=typeof i=="undefined"||i===-1,a=n<0?n-1:n,o=r?-1:Math.max(0,n+i),l=a<0&&o>=0?"":o,c="".concat(e,"[").concat(a,":").concat(l,"]");return this.insert("replace",c,s||[])},ifRevisionId:function(e){return this.operations.ifRevisionID=e,this},serialize:function(){return Ia(Bz(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var n=typeof this.selection=="string",i=Ia({returnFirst:n,returnDocuments:!0},e);return this.client.mutate({patch:this.serialize()},i)},reset:function(){return this.operations={},this},_set:function(e,n){return this._assign(e,n,!1)},_assign:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Cb(e,n),this.operations=Ia({},this.operations,Sb({},e,Ia({},i&&this.operations[e]||{},n))),this}});var k1=ex;function ZC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Eb=Un,Zl=vo,Tb=k1,Uz={returnDocuments:!1};function tx(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.trxId=n,this.operations=t,this.client=e}Eb(tx.prototype,{clone:function(){return new tx(this.operations.slice(0),this.client,this.trxId)},create:function(e){return Zl.validateObject("create",e),this._add({create:e})},createIfNotExists:function(e){var n="createIfNotExists";return Zl.validateObject(n,e),Zl.requireDocumentId(n,e),this._add(ZC({},n,e))},createOrReplace:function(e){var n="createOrReplace";return Zl.validateObject(n,e),Zl.requireDocumentId(n,e),this._add(ZC({},n,e))},delete:function(e){return Zl.validateDocumentId("delete",e),this._add({delete:{id:e}})},patch:function(e,n){var i=typeof n=="function",s=e instanceof Tb;if(s)return this._add({patch:e.serialize()});if(i){var r=n(new Tb(e,{},this.client));if(!(r instanceof Tb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:r.serialize()})}return this._add({patch:Eb({id:e},n)})},transactionId:function(e){return e?(this.trxId=e,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(e){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),Eb({transactionId:this.trxId},Uz,e||{}))},reset:function(){return this.operations=[],this},_add:function(e){return this.operations.push(e),this}});var SR=tx,Vz=["tag"];function $z(t,e){if(t==null)return{};var n=zz(t,e),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,i)||(n[i]=t[i]))}return n}function zz(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var ec=encodeURIComponent,CR=function(t){var e=t.query,n=t.params,i=n===void 0?{}:n,s=t.options,r=s===void 0?{}:s,a=r.tag,o=$z(r,Vz),l="query=".concat(ec(e)),c=a?"?tag=".concat(ec(a),"&").concat(l):"?".concat(l),h=Object.keys(i).reduce(function(p,d){return"".concat(p,"&").concat(ec("$".concat(d)),"=").concat(ec(JSON.stringify(i[d])))},c);return Object.keys(o).reduce(function(p,d){return r[d]?"".concat(p,"&").concat(ec(d),"=").concat(ec(r[d])):p},h)},nx={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(t,e){(function(n){var i=n.setTimeout,s=n.clearTimeout,r=n.XMLHttpRequest,a=n.XDomainRequest,o=n.ActiveXObject,l=n.EventSource,c=n.document,h=n.Promise,p=n.fetch,d=n.Response,g=n.TextDecoder,x=n.TextEncoder,S=n.AbortController;if(typeof window!="undefined"&&typeof c!="undefined"&&!("readyState"in c)&&c.body==null&&(c.readyState="loading",window.addEventListener("load",function($){c.readyState="complete"},!1)),r==null&&o!=null&&(r=function(){return new o("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function($){function Q(){}return Q.prototype=$,new Q}),Date.now||(Date.now=function(){return new Date().getTime()}),S==null){var m=p;p=function($,Q){var te=Q.signal;return m($,{headers:Q.headers,credentials:Q.credentials,cache:Q.cache}).then(function(ee){var re=ee.body.getReader();return te._reader=re,te._aborted&&te._reader.cancel(),{status:ee.status,statusText:ee.statusText,headers:ee.headers,body:{getReader:function(){return re}}}})},S=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function _(){this.bitsNeeded=0,this.codePoint=0}_.prototype.decode=function($){function Q(de,he,ge){if(ge===1)return de>=128>>he&&de<<he<=2047;if(ge===2)return de>=2048>>he&&de<<he<=55295||de>=57344>>he&&de<<he<=65535;if(ge===3)return de>=65536>>he&&de<<he<=1114111;throw new Error}function te(de,he){if(de===6*1)return he>>6>15?3:he>31?2:1;if(de===6*2)return he>15?3:2;if(de===6*3)return 3;throw new Error}for(var ee=65533,re="",W=this.bitsNeeded,q=this.codePoint,oe=0;oe<$.length;oe+=1){var se=$[oe];W!==0&&(se<128||se>191||!Q(q<<6|se&63,W-6,te(W,q)))&&(W=0,q=ee,re+=String.fromCharCode(q)),W===0?(se>=0&&se<=127?(W=0,q=se):se>=192&&se<=223?(W=6*1,q=se&31):se>=224&&se<=239?(W=6*2,q=se&15):se>=240&&se<=247?(W=6*3,q=se&7):(W=0,q=ee),W!==0&&!Q(q,W,te(W,q))&&(W=0,q=ee)):(W-=6,q=q<<6|se&63),W===0&&(q<=65535?re+=String.fromCharCode(q):(re+=String.fromCharCode(55296+(q-65535-1>>10)),re+=String.fromCharCode(56320+(q-65535-1&1023))))}return this.bitsNeeded=W,this.codePoint=q,re};var y=function(){try{return new g().decode(new x().encode("test"),{stream:!0})==="test"}catch($){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+$)}return!1};(g==null||x==null||!y())&&(g=_);var T=function(){};function C($){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=T,this.onload=T,this.onerror=T,this.onreadystatechange=T,this._contentType="",this._xhr=$,this._sendTimeout=0,this._abort=T}C.prototype.open=function($,Q){this._abort(!0);var te=this,ee=this._xhr,re=1,W=0;this._abort=function(ge){te._sendTimeout!==0&&(s(te._sendTimeout),te._sendTimeout=0),(re===1||re===2||re===3)&&(re=4,ee.onload=T,ee.onerror=T,ee.onabort=T,ee.onprogress=T,ee.onreadystatechange=T,ee.abort(),W!==0&&(s(W),W=0),ge||(te.readyState=4,te.onabort(null),te.onreadystatechange())),re=0};var q=function(){if(re===1){var ge=0,_e="",Ue=void 0;if("contentType"in ee)ge=200,_e="OK",Ue=ee.contentType;else try{ge=ee.status,_e=ee.statusText,Ue=ee.getResponseHeader("Content-Type")}catch{ge=0,_e="",Ue=void 0}ge!==0&&(re=2,te.readyState=2,te.status=ge,te.statusText=_e,te._contentType=Ue,te.onreadystatechange())}},oe=function(){if(q(),re===2||re===3){re=3;var ge="";try{ge=ee.responseText}catch{}te.readyState=3,te.responseText=ge,te.onprogress()}},se=function(ge,_e){if((_e==null||_e.preventDefault==null)&&(_e={preventDefault:T}),oe(),re===1||re===2||re===3){if(re=4,W!==0&&(s(W),W=0),te.readyState=4,ge==="load")te.onload(_e);else if(ge==="error")te.onerror(_e);else if(ge==="abort")te.onabort(_e);else throw new TypeError;te.onreadystatechange()}},de=function(ge){ee!=null&&(ee.readyState===4?(!("onload"in ee)||!("onerror"in ee)||!("onabort"in ee))&&se(ee.responseText===""?"error":"load",ge):ee.readyState===3?"onprogress"in ee||oe():ee.readyState===2&&q())},he=function(){W=i(function(){he()},500),ee.readyState===3&&oe()};"onload"in ee&&(ee.onload=function(ge){se("load",ge)}),"onerror"in ee&&(ee.onerror=function(ge){se("error",ge)}),"onabort"in ee&&(ee.onabort=function(ge){se("abort",ge)}),"onprogress"in ee&&(ee.onprogress=oe),"onreadystatechange"in ee&&(ee.onreadystatechange=function(ge){de(ge)}),("contentType"in ee||!("ontimeout"in r.prototype))&&(Q+=(Q.indexOf("?")===-1?"?":"&")+"padding=true"),ee.open($,Q,!0),"readyState"in ee&&(W=i(function(){he()},0))},C.prototype.abort=function(){this._abort(!1)},C.prototype.getResponseHeader=function($){return this._contentType},C.prototype.setRequestHeader=function($,Q){var te=this._xhr;"setRequestHeader"in te&&te.setRequestHeader($,Q)},C.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},C.prototype.send=function(){if((!("ontimeout"in r.prototype)||!("sendAsBinary"in r.prototype)&&!("mozAnon"in r.prototype))&&c!=null&&c.readyState!=null&&c.readyState!=="complete"){var $=this;$._sendTimeout=i(function(){$._sendTimeout=0,$.send()},4);return}var Q=this._xhr;"withCredentials"in Q&&(Q.withCredentials=this.withCredentials);try{Q.send(void 0)}catch(te){throw te}};function A($){return $.replace(/[A-Z]/g,function(Q){return String.fromCharCode(Q.charCodeAt(0)+32)})}function k($){for(var Q=Object.create(null),te=$.split(`\r
`),ee=0;ee<te.length;ee+=1){var re=te[ee],W=re.split(": "),q=W.shift(),oe=W.join(": ");Q[A(q)]=oe}this._map=Q}k.prototype.get=function($){return this._map[A($)]},r!=null&&r.HEADERS_RECEIVED==null&&(r.HEADERS_RECEIVED=2);function P(){}P.prototype.open=function($,Q,te,ee,re,W,q){$.open("GET",re);var oe=0;$.onprogress=function(){var de=$.responseText,he=de.slice(oe);oe+=he.length,te(he)},$.onerror=function(de){de.preventDefault(),ee(new Error("NetworkError"))},$.onload=function(){ee(null)},$.onabort=function(){ee(null)},$.onreadystatechange=function(){if($.readyState===r.HEADERS_RECEIVED){var de=$.status,he=$.statusText,ge=$.getResponseHeader("Content-Type"),_e=$.getAllResponseHeaders();Q(de,he,ge,new k(_e))}},$.withCredentials=W;for(var se in q)Object.prototype.hasOwnProperty.call(q,se)&&$.setRequestHeader(se,q[se]);return $.send(),$};function N($){this._headers=$}N.prototype.get=function($){return this._headers.get($)};function I(){}I.prototype.open=function($,Q,te,ee,re,W,q){var oe=null,se=new S,de=se.signal,he=new g;return p(re,{headers:q,credentials:W?"include":"same-origin",signal:de,cache:"no-store"}).then(function(ge){return oe=ge.body.getReader(),Q(ge.status,ge.statusText,ge.headers.get("Content-Type"),new N(ge.headers)),new h(function(_e,Ue){var $e=function(){oe.read().then(function(ft){if(ft.done)_e(void 0);else{var Ct=he.decode(ft.value,{stream:!0});te(Ct),$e()}}).catch(function(ft){Ue(ft)})};$e()})}).catch(function(ge){if(ge.name!=="AbortError")return ge}).then(function(ge){ee(ge)}),{abort:function(){oe!=null&&oe.cancel(),se.abort()}}};function j(){this._listeners=Object.create(null)}function V($){i(function(){throw $},0)}j.prototype.dispatchEvent=function($){$.target=this;var Q=this._listeners[$.type];if(Q!=null)for(var te=Q.length,ee=0;ee<te;ee+=1){var re=Q[ee];try{typeof re.handleEvent=="function"?re.handleEvent($):re.call(this,$)}catch(W){V(W)}}},j.prototype.addEventListener=function($,Q){$=String($);var te=this._listeners,ee=te[$];ee==null&&(ee=[],te[$]=ee);for(var re=!1,W=0;W<ee.length;W+=1)ee[W]===Q&&(re=!0);re||ee.push(Q)},j.prototype.removeEventListener=function($,Q){$=String($);var te=this._listeners,ee=te[$];if(ee!=null){for(var re=[],W=0;W<ee.length;W+=1)ee[W]!==Q&&re.push(ee[W]);re.length===0?delete te[$]:te[$]=re}};function D($){this.type=$,this.target=void 0}function G($,Q){D.call(this,$),this.data=Q.data,this.lastEventId=Q.lastEventId}G.prototype=Object.create(D.prototype);function O($,Q){D.call(this,$),this.status=Q.status,this.statusText=Q.statusText,this.headers=Q.headers}O.prototype=Object.create(D.prototype);function J($,Q){D.call(this,$),this.error=Q.error}J.prototype=Object.create(D.prototype);var X=-1,ae=0,me=1,Ae=2,Oe=-1,Be=0,we=1,Se=2,We=3,ue=/^text\/event\-stream(;.*)?$/i,be=1e3,ve=18e6,Te=function($,Q){var te=$==null?Q:parseInt($,10);return te!==te&&(te=Q),Ne(te)},Ne=function($){return Math.min(Math.max($,be),ve)},He=function($,Q,te){try{typeof Q=="function"&&Q.call($,te)}catch(ee){V(ee)}};function z($,Q){j.call(this),Q=Q||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,B(this,$,Q)}function K(){return r!=null&&"withCredentials"in r.prototype||a==null?new r:new a}var F=p!=null&&d!=null&&"body"in d.prototype;function B($,Q,te){Q=String(Q);var ee=Boolean(te.withCredentials),re=te.lastEventIdQueryParameterName||"lastEventId",W=Ne(1e3),q=Te(te.heartbeatTimeout,45e3),oe="",se=W,de=!1,he=0,ge=te.headers||{},_e=te.Transport,Ue=F&&_e==null?void 0:new C(_e!=null?new _e:K()),$e=_e!=null&&typeof _e!="string"?new _e:Ue==null?new I:new P,ft=void 0,Ct=0,un=X,An="",Ts="",Rt="",bn="",nn=Be,Pr=0,Ui=0,Qn=function(zt,It,_n,xn){if(un===ae)if(zt===200&&_n!=null&&ue.test(_n)){un=me,de=Date.now(),se=W,$.readyState=me;var yn=new O("open",{status:zt,statusText:It,headers:xn});$.dispatchEvent(yn),He($,$.onopen,yn)}else{var hn="";zt!==200?(It&&(It=It.replace(/\s+/g," ")),hn="EventSource's response has a status "+zt+" "+It+" that is not 200. Aborting the connection."):hn="EventSource's response has a Content-Type specifying an unsupported type: "+(_n==null?"-":_n.replace(/\s+/g," "))+". Aborting the connection.",Ps();var yn=new O("error",{status:zt,statusText:It,headers:xn});$.dispatchEvent(yn),He($,$.onerror,yn),console.error(hn)}},ks=function(zt){if(un===me){for(var It=-1,_n=0;_n<zt.length;_n+=1){var xn=zt.charCodeAt(_n);(xn===`
`.charCodeAt(0)||xn==="\r".charCodeAt(0))&&(It=_n)}var yn=(It!==-1?bn:"")+zt.slice(0,It+1);bn=(It===-1?bn:"")+zt.slice(It+1),zt!==""&&(de=Date.now(),he+=zt.length);for(var hn=0;hn<yn.length;hn+=1){var xn=yn.charCodeAt(hn);if(nn===Oe&&xn===`
`.charCodeAt(0))nn=Be;else if(nn===Oe&&(nn=Be),xn==="\r".charCodeAt(0)||xn===`
`.charCodeAt(0)){if(nn!==Be){nn===we&&(Ui=hn+1);var zi=yn.slice(Pr,Ui-1),Hi=yn.slice(Ui+(Ui<hn&&yn.charCodeAt(Ui)===" ".charCodeAt(0)?1:0),hn);zi==="data"?(An+=`
`,An+=Hi):zi==="id"?Ts=Hi:zi==="event"?Rt=Hi:zi==="retry"?(W=Te(Hi,W),se=W):zi==="heartbeatTimeout"&&(q=Te(Hi,q),Ct!==0&&(s(Ct),Ct=i(function(){$i()},q)))}if(nn===Be){if(An!==""){oe=Ts,Rt===""&&(Rt="message");var cs=new G(Rt,{data:An.slice(1),lastEventId:Ts});if($.dispatchEvent(cs),Rt==="open"?He($,$.onopen,cs):Rt==="message"?He($,$.onmessage,cs):Rt==="error"&&He($,$.onerror,cs),un===Ae)return}An="",Rt=""}nn=xn==="\r".charCodeAt(0)?Oe:Be}else nn===Be&&(Pr=hn,nn=we),nn===we?xn===":".charCodeAt(0)&&(Ui=hn+1,nn=Se):nn===Se&&(nn=We)}}},Vi=function(zt){if(un===me||un===ae){un=X,Ct!==0&&(s(Ct),Ct=0),Ct=i(function(){$i()},se),se=Ne(Math.min(W*16,se*2)),$.readyState=ae;var It=new J("error",{error:zt});$.dispatchEvent(It),He($,$.onerror,It),zt!=null&&console.error(zt)}},Ps=function(){un=Ae,ft!=null&&(ft.abort(),ft=void 0),Ct!==0&&(s(Ct),Ct=0),$.readyState=Ae},$i=function(){if(Ct=0,un!==X){if(!de&&ft!=null)Vi(new Error("No activity within "+q+" milliseconds. "+(un===ae?"No response received.":he+" chars received.")+" Reconnecting.")),ft!=null&&(ft.abort(),ft=void 0);else{var zt=Math.max((de||Date.now())+q-Date.now(),1);de=!1,Ct=i(function(){$i()},zt)}return}de=!1,he=0,Ct=i(function(){$i()},q),un=ae,An="",Rt="",Ts=oe,bn="",Pr=0,Ui=0,nn=Be;var It=Q;if(Q.slice(0,5)!=="data:"&&Q.slice(0,5)!=="blob:"&&oe!==""){var _n=Q.indexOf("?");It=_n===-1?Q:Q.slice(0,_n+1)+Q.slice(_n+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Hi,cs){return cs===re?"":Hi}),It+=(Q.indexOf("?")===-1?"?":"&")+re+"="+encodeURIComponent(oe)}var xn=$.withCredentials,yn={};yn.Accept="text/event-stream";var hn=$.headers;if(hn!=null)for(var zi in hn)Object.prototype.hasOwnProperty.call(hn,zi)&&(yn[zi]=hn[zi]);try{ft=$e.open(Ue,Qn,ks,Vi,It,xn,yn)}catch(Hi){throw Ps(),Hi}};$.url=Q,$.readyState=ae,$.withCredentials=ee,$.headers=ge,$._close=Ps,$i()}z.prototype=Object.create(j.prototype),z.prototype.CONNECTING=ae,z.prototype.OPEN=me,z.prototype.CLOSED=Ae,z.prototype.close=function(){this._close()},z.CONNECTING=ae,z.OPEN=me,z.CLOSED=Ae,z.prototype.withCredentials=void 0;var Z=l;r!=null&&(l==null||!("withCredentials"in l.prototype))&&(Z=z),function($){{var Q=$(e);Q!==void 0&&(t.exports=Q)}}(function($){$.EventSourcePolyfill=z,$.NativeEventSource=l,$.EventSource=Z})})(typeof globalThis=="undefined"?typeof window!="undefined"?window:typeof self!="undefined"?self:Bn:globalThis)})(nx,nx.exports);var Hz=nx.exports,qz=Hz.EventSourcePolyfill,Wz=function(t,e){return e.reduce(function(n,i){return typeof t[i]=="undefined"||(n[i]=t[i]),n},{})},Gz=function(t,e){return Object.keys(e).concat(Object.keys(t)).reduce(function(n,i){return n[i]=typeof t[i]=="undefined"?e[i]:t[i],n},{})};function eE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function tE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(n),!0).forEach(function(i){Kz(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Kz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yz=Un,Xz=Wp,nE=Xz.Observable,Qz=qz,Jz=Wz,Zz=Gz,eH=CR,tH=16e3-1200,iE=Qz,nH=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],iH={includeResult:!0},sH=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.clientConfig,r=s.url,a=s.token,o=s.withCredentials,l=s.requestTagPrefix,c=i.tag&&l?[l,i.tag].join("."):i.tag,h=tE(tE({},Zz(i,iH)),{},{tag:c}),p=Jz(h,nH),d=eH({query:e,params:n,options:p,tag:c}),g="".concat(r).concat(this.getDataUrl("listen",d));if(g.length>tH)return new nE(function(_){return _.error(new Error("Query too large for listener"))});var x=h.events?h.events:["mutation"],S=x.indexOf("reconnect")!==-1,m={};return(a||o)&&(m.withCredentials=!0),a&&(m.headers={Authorization:"Bearer ".concat(a)}),new nE(function(_){var y=V(),T,C=!1;function A(){C||(j(),!C&&y.readyState===iE.CLOSED&&(I(),clearTimeout(T),T=setTimeout(D,100)))}function k(O){_.error(rH(O))}function P(O){var J=ER(O);return J instanceof Error?_.error(J):_.next(J)}function N(O){C=!0,I(),_.complete()}function I(){y.removeEventListener("error",A,!1),y.removeEventListener("channelError",k,!1),y.removeEventListener("disconnect",N,!1),x.forEach(function(O){return y.removeEventListener(O,P,!1)}),y.close()}function j(){S&&_.next({type:"reconnect"})}function V(){var O=new iE(g,m);return O.addEventListener("error",A,!1),O.addEventListener("channelError",k,!1),O.addEventListener("disconnect",N,!1),x.forEach(function(J){return O.addEventListener(J,P,!1)}),O}function D(){y=V()}function G(){C=!0,I()}return G})};function ER(t){try{var e=t.data&&JSON.parse(t.data)||{};return Yz({type:t.type},e)}catch(n){return n}}function rH(t){if(t instanceof Error)return t;var e=ER(t);return e instanceof Error?e:new Error(aH(e))}function aH(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}function sE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oH=Un,TR=Wp,Ju=TR.map,kb=TR.filter,Pb=vo,lH=yR,cH=CR,rE=SR,aE=k1,uH=sH,hH=function(e,n){var i=typeof e=="undefined"?n:e;return e===!1?void 0:i},pH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:hH(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},Ab=function(e){return e.type==="response"},dH=function(e){return e.body},fH=function(e,n){return e.reduce(function(i,s){return i[n(s)]=s,i},Object.create(null))},af=function(e){return e.toPromise()},mH=11264,vH={listen:uH,getDataUrl:function(e,n){var i=this.clientConfig,s=Pb.hasDataset(i),r="/".concat(e,"/").concat(s),a=n?"".concat(r,"/").concat(n):r;return"/data".concat(a).replace(/\/($|\?)/,"$1")},fetch:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.filterResponse===!1?function(a){return a}:function(a){return a.result},r=this._dataRequest("query",{query:e,params:n},i).pipe(Ju(s));return this.isPromiseAPI()?af(r):r},getDocument:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i={uri:this.getDataUrl("doc",e),json:!0,tag:n.tag},s=this._requestObservable(i).pipe(kb(Ab),Ju(function(r){return r.body.documents&&r.body.documents[0]}));return this.isPromiseAPI()?af(s):s},getDocuments:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i={uri:this.getDataUrl("doc",e.join(",")),json:!0,tag:n.tag},s=this._requestObservable(i).pipe(kb(Ab),Ju(function(r){var a=fH(r.body.documents||[],function(o){return o._id});return e.map(function(o){return a[o]||null})}));return this.isPromiseAPI()?af(s):s},create:function(e,n){return this._create(e,"create",n)},createIfNotExists:function(e,n){return Pb.requireDocumentId("createIfNotExists",e),this._create(e,"createIfNotExists",n)},createOrReplace:function(e,n){return Pb.requireDocumentId("createOrReplace",e),this._create(e,"createOrReplace",n)},patch:function(e,n){return new aE(e,n,this)},delete:function(e,n){return this.dataRequest("mutate",{mutations:[{delete:lH(e)}]},n)},mutate:function(e,n){var i=e instanceof aE||e instanceof rE?e.serialize():e,s=Array.isArray(i)?i:[i],r=n&&n.transactionId;return this.dataRequest("mutate",{mutations:s,transactionId:r},n)},transaction:function(e){return new rE(e,this)},dataRequest:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this._dataRequest(e,n,i);return this.isPromiseAPI()?af(s):s},_dataRequest:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=e==="mutate",r=e==="query",a=!s&&cH(n),o=!s&&a.length<mH,l=o?a:"",c=i.returnFirst,h=i.timeout,p=i.token,d=i.tag,g=i.headers,x=this.getDataUrl(e,l),S={method:o?"GET":"POST",uri:x,json:!0,body:o?void 0:n,query:s&&pH(i),timeout:h,headers:g,token:p,tag:d,canUseCdn:r};return this._requestObservable(S).pipe(kb(Ab),Ju(dH),Ju(function(m){if(!s)return m;var _=m.results||[];if(i.returnDocuments)return c?_[0]&&_[0].document:_.map(function(C){return C.document});var y=c?"documentId":"documentIds",T=c?_[0]&&_[0].id:_.map(function(C){return C.id});return sE({transactionId:m.transactionId,results:_},y,T)}))},_create:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=sE({},n,e),r=oH({returnFirst:!0,returnDocuments:!0},i);return this.dataRequest("mutate",{mutations:[s]},r)}},gH=Un,bH=vo;function kR(t){this.request=t.request.bind(t)}gH(kR.prototype,{create:function(e,n){return this._modify("PUT",e,n)},edit:function(e,n){return this._modify("PATCH",e,n)},delete:function(e){return this._modify("DELETE",e)},list:function(){return this.request({uri:"/datasets"})},_modify:function(e,n,i){return bH.dataset(n),this.request({method:e,uri:"/datasets/".concat(n),body:i})}});var _H=kR,xH=Un;function PR(t){this.client=t}xH(PR.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(e){return this.client.request({uri:"/projects/".concat(e)})}});var yH=PR,wH=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t[n])));return e.length>0?"?".concat(e.join("&")):""};function SH(t,e){return kH(t)||TH(t,e)||EH(t,e)||CH()}function CH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EH(t,e){if(!!t){if(typeof t=="string")return oE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oE(t,e)}}function oE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function TH(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],s=!0,r=!1,a,o;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(i.push(a.value),!(e&&i.length===e));s=!0);}catch(l){r=!0,o=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(r)throw o}}return i}}function kH(t){if(Array.isArray(t))return t}var AR=Un,MR=Wp,PH=MR.map,AH=MR.filter,MH=wH,of=vo;function RR(t){this.client=t}function RH(t,e){return typeof window=="undefined"||!(e instanceof window.File)?t:AR({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}AR(RR.prototype,{upload:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};of.validateAssetType(e);var s=i.extract||void 0;s&&!s.length&&(s=["none"]);var r=of.hasDataset(this.client.clientConfig),a=e==="image"?"images":"files",o=RH(i,n),l=o.tag,c=o.label,h=o.title,p=o.description,d=o.creditLine,g=o.filename,x=o.source,S={label:c,title:h,description:p,filename:g,meta:s,creditLine:d};x&&(S.sourceId=x.id,S.sourceName=x.name,S.sourceUrl=x.url);var m=this.client._requestObservable({tag:l,method:"POST",timeout:o.timeout||0,uri:"/assets/".concat(a,"/").concat(r),headers:o.contentType?{"Content-Type":o.contentType}:{},query:S,body:n});return this.client.isPromiseAPI()?m.pipe(AH(function(_){return _.type==="response"}),PH(function(_){return _.body.document})).toPromise():m},delete:function(e,n){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var i=n||"";return/^(image|file)-/.test(i)?e._id&&(i=e._id):i="".concat(e,"-").concat(i),of.hasDataset(this.client.clientConfig),this.client.delete(i)},getImageUrl:function(e,n){var i=e._ref||e;if(typeof i!="string")throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(i))throw new Error('Unsupported asset ID "'.concat(i,'". URL generation only works for auto-generated IDs.'));var s=i.split("-"),r=SH(s,4),a=r[1],o=r[2],l=r[3];of.hasDataset(this.client.clientConfig);var c=this.client.clientConfig,h=c.projectId,p=c.dataset,d=n?MH(n):"";return"https://cdn.sanity.io/images/".concat(h,"/").concat(p,"/").concat(a,"-").concat(o,".").concat(l).concat(d)}});var IH=RR,OH=Un;function IR(t){this.client=t}OH(IR.prototype,{getById:function(e){return this.client.request({uri:"/users/".concat(e)})}});var NH=IR,LH=Un;function OR(t){this.client=t}LH(OR.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}});var FH=OR,DH=function(){var e=[];return{subscribe:n,publish:i};function n(s){return e.push(s),function(){var a=e.indexOf(s);a>-1&&e.splice(a,1)}}function i(){for(var s=0;s<e.length;s++)e[s].apply(null,arguments)}},BH=function(t){var e=function(i,s){for(var r=i==="onError",a=s,o=arguments.length,l=new Array(o>2?o-2:0),c=2;c<o;c++)l[c-2]=arguments[c];for(var h=0;h<t[i].length;h++){var p=t[i][h];if(a=p.apply(void 0,[a].concat(l)),r&&!a)break}return a};return e},jH=function(e,n){if(n=n.split(":")[0],e=+e,!e)return!1;switch(n){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},P1={},UH=Object.prototype.hasOwnProperty,VH;function lE(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function cE(t){try{return encodeURIComponent(t)}catch{return null}}function $H(t){for(var e=/([^=?#&]+)=?([^&]*)/g,n={},i;i=e.exec(t);){var s=lE(i[1]),r=lE(i[2]);s===null||r===null||s in n||(n[s]=r)}return n}function zH(t,e){e=e||"";var n=[],i,s;typeof e!="string"&&(e="?");for(s in t)if(UH.call(t,s)){if(i=t[s],!i&&(i===null||i===VH||isNaN(i))&&(i=""),s=cE(s),i=cE(i),s===null||i===null)continue;n.push(s+"="+i)}return n.length?e+n.join("&"):""}P1.stringify=zH;P1.parse=$H;var NR=jH,Iv=P1,HH=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,LR=/[\n\r\t]/g,qH=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,FR=/:\d+$/,WH=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,GH=/^[a-zA-Z]:/;function A1(t){return(t||"").toString().replace(HH,"")}var ix=[["#","hash"],["?","query"],function(e,n){return yr(n.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],uE={hash:1,query:1};function DR(t){var e;typeof window!="undefined"?e=window:typeof Bn!="undefined"?e=Bn:typeof self!="undefined"?e=self:e={};var n=e.location||{};t=t||n;var i={},s=typeof t,r;if(t.protocol==="blob:")i=new Sr(unescape(t.pathname),{});else if(s==="string"){i=new Sr(t,{});for(r in uE)delete i[r]}else if(s==="object"){for(r in t)r in uE||(i[r]=t[r]);i.slashes===void 0&&(i.slashes=qH.test(t.href))}return i}function yr(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function BR(t,e){t=A1(t),t=t.replace(LR,""),e=e||{};var n=WH.exec(t),i=n[1]?n[1].toLowerCase():"",s=!!n[2],r=!!n[3],a=0,o;return s?r?(o=n[2]+n[3]+n[4],a=n[2].length+n[3].length):(o=n[2]+n[4],a=n[2].length):r?(o=n[3]+n[4],a=n[3].length):o=n[4],i==="file:"?a>=2&&(o=o.slice(2)):yr(i)?o=n[4]:i?s&&(o=o.slice(2)):a>=2&&yr(e.protocol)&&(o=n[4]),{protocol:i,slashes:s||yr(i),slashesCount:a,rest:o}}function KH(t,e){if(t==="")return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),i=n.length,s=n[i-1],r=!1,a=0;i--;)n[i]==="."?n.splice(i,1):n[i]===".."?(n.splice(i,1),a++):a&&(i===0&&(r=!0),n.splice(i,1),a--);return r&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function Sr(t,e,n){if(t=A1(t),t=t.replace(LR,""),!(this instanceof Sr))return new Sr(t,e,n);var i,s,r,a,o,l,c=ix.slice(),h=typeof e,p=this,d=0;for(h!=="object"&&h!=="string"&&(n=e,e=null),n&&typeof n!="function"&&(n=Iv.parse),e=DR(e),s=BR(t||"",e),i=!s.protocol&&!s.slashes,p.slashes=s.slashes||i&&e.slashes,p.protocol=s.protocol||e.protocol||"",t=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||GH.test(t))||!s.slashes&&(s.protocol||s.slashesCount<2||!yr(p.protocol)))&&(c[3]=[/(.*)/,"pathname"]);d<c.length;d++){if(a=c[d],typeof a=="function"){t=a(t,p);continue}r=a[0],l=a[1],r!==r?p[l]=t:typeof r=="string"?(o=r==="@"?t.lastIndexOf(r):t.indexOf(r),~o&&(typeof a[2]=="number"?(p[l]=t.slice(0,o),t=t.slice(o+a[2])):(p[l]=t.slice(o),t=t.slice(0,o)))):(o=r.exec(t))&&(p[l]=o[1],t=t.slice(0,o.index)),p[l]=p[l]||i&&a[3]&&e[l]||"",a[4]&&(p[l]=p[l].toLowerCase())}n&&(p.query=n(p.query)),i&&e.slashes&&p.pathname.charAt(0)!=="/"&&(p.pathname!==""||e.pathname!=="")&&(p.pathname=KH(p.pathname,e.pathname)),p.pathname.charAt(0)!=="/"&&yr(p.protocol)&&(p.pathname="/"+p.pathname),NR(p.port,p.protocol)||(p.host=p.hostname,p.port=""),p.username=p.password="",p.auth&&(o=p.auth.indexOf(":"),~o?(p.username=p.auth.slice(0,o),p.username=encodeURIComponent(decodeURIComponent(p.username)),p.password=p.auth.slice(o+1),p.password=encodeURIComponent(decodeURIComponent(p.password))):p.username=encodeURIComponent(decodeURIComponent(p.auth)),p.auth=p.password?p.username+":"+p.password:p.username),p.origin=p.protocol!=="file:"&&yr(p.protocol)&&p.host?p.protocol+"//"+p.host:"null",p.href=p.toString()}function YH(t,e,n){var i=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(n||Iv.parse)(e)),i[t]=e;break;case"port":i[t]=e,NR(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="");break;case"hostname":i[t]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[t]=e,FR.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(e){var s=t==="pathname"?"/":"#";i[t]=e.charAt(0)!==s?s+e:e}else i[t]=e;break;case"username":case"password":i[t]=encodeURIComponent(e);break;case"auth":var r=e.indexOf(":");~r?(i.username=e.slice(0,r),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=e.slice(r+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(e))}for(var a=0;a<ix.length;a++){var o=ix[a];o[4]&&(i[o[1]]=i[o[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&yr(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function XH(t){(!t||typeof t!="function")&&(t=Iv.stringify);var e,n=this,i=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var r=s+(n.protocol&&n.slashes||yr(n.protocol)?"//":"");return n.username?(r+=n.username,n.password&&(r+=":"+n.password),r+="@"):n.password?(r+=":"+n.password,r+="@"):n.protocol!=="file:"&&yr(n.protocol)&&!i&&n.pathname!=="/"&&(r+="@"),(i[i.length-1]===":"||FR.test(n.hostname)&&!n.port)&&(i+=":"),r+=i+n.pathname,e=typeof n.query=="object"?t(n.query):n.query,e&&(r+=e.charAt(0)!=="?"?"?"+e:e),n.hash&&(r+=n.hash),r}Sr.prototype={set:YH,toString:XH};Sr.extractProtocol=BR;Sr.location=DR;Sr.trimLeft=A1;Sr.qs=Iv;var QH=Sr,Mb=Un,JH=QH,ZH=typeof navigator=="undefined"?!1:navigator.product==="ReactNative",e6=Object.prototype.hasOwnProperty,sx={timeout:ZH?6e4:12e4},t6=function(t){var e=typeof t=="string"?Mb({url:t},sx):Mb({},sx,t),n=JH(e.url,{},!0);return e.timeout=jR(e.timeout),e.query&&(n.query=Mb({},n.query,i6(e.query))),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e.url=n.toString(n6),e};function n6(t){var e=[];for(var n in t)e6.call(t,n)&&i(n,t[n]);return e.length?e.join("&"):"";function i(s,r){Array.isArray(r)?r.forEach(function(a){return i(s,a)}):e.push([s,r].map(encodeURIComponent).join("="))}}function jR(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;var e=Number(t);return isNaN(e)?jR(sx.timeout):{connect:e,socket:e}}function i6(t){var e={};for(var n in t)t[n]!==void 0&&(e[n]=t[n]);return e}var s6=/^https?:\/\//i,r6=function(t){if(!s6.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))},hE=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/,a6={regex:hE,parse:function(t){var e=hE.exec(t);return e?{protocol:(e[1]||"").toLowerCase()||void 0,hostname:(e[5]||"").toLowerCase()||void 0,port:e[6]||void 0}:{}}},pE=a6,o6=function(t,e,n){if(t===e)return!0;var i=pE.parse(t,!1,!0),s=pE.parse(e,!1,!0),r=i.port|0||(i.protocol==="https"?443:80),a=s.port|0||(s.protocol==="https"?443:80),o={proto:i.protocol===s.protocol,hostname:i.hostname===s.hostname,port:r===a};return o.proto&&o.hostname&&(o.port||n)},Rb=function(t){return t.replace(/^\s+|\s+$/g,"")},l6=function(t){return Object.prototype.toString.call(t)==="[object Array]"},c6=function(t){if(!t)return{};for(var e={},n=Rb(t).split(`
`),i=0;i<n.length;i++){var s=n[i],r=s.indexOf(":"),a=Rb(s.slice(0,r)).toLowerCase(),o=Rb(s.slice(r+1));typeof e[a]=="undefined"?e[a]=o:l6(e[a])?e[a].push(o):e[a]=[e[a],o]}return e};function vu(){this.readyState=0}vu.prototype.open=function(t,e){this._method=t,this._url=e,this._resHeaders="",this.readyState=1,this.onreadystatechange()};vu.prototype.abort=function(){this._controller&&this._controller.abort()};vu.prototype.getAllResponseHeaders=function(){return this._resHeaders};vu.prototype.setRequestHeader=function(t,e){this._headers=this._headers||{},this._headers[t]=e};vu.prototype.send=function(t){var e=this,n=this._controller=typeof AbortController=="function"&&new AbortController,i=this.responseType!=="arraybuffer",s={method:this._method,headers:this._headers,signal:n&&n.signal,body:t};typeof window!="undefined"&&(s.credentials=this.withCredentials?"include":"omit"),fetch(this._url,s).then(function(r){return r.headers.forEach(function(a,o){e._resHeaders+="".concat(o,": ").concat(a,`\r
`)}),e.status=r.status,e.statusText=r.statusText,e.readyState=3,i?r.text():r.arrayBuffer()}).then(function(r){i?e.responseText=r:e.response=r,e.readyState=4,e.onreadystatechange()}).catch(function(r){if(r.name==="AbortError"){e.onabort();return}e.onerror(r)})};var u6=vu,h6=o6,p6=c6,dE=u6,d6=function(){},Da=typeof window=="undefined"?void 0:window,fE=Da?"xhr":"fetch",Ov=typeof XMLHttpRequest=="function"?XMLHttpRequest:d6,f6="withCredentials"in new Ov,m6=typeof XDomainRequest=="undefined"?void 0:XDomainRequest,UR=f6?Ov:m6;Da||(Ov=dE,UR=dE);var v6=function(t,e){var n=t.options,i=t.applyMiddleware("finalizeOptions",n),s={},r=Da&&Da.location&&!h6(Da.location.href,i.url),a=t.applyMiddleware("interceptRequest",void 0,{adapter:fE,context:t});if(a){var o=setTimeout(e,0,null,a),l=function(){return clearTimeout(o)};return{abort:l}}var c=r?new UR:new Ov,h=Da&&Da.XDomainRequest&&c instanceof Da.XDomainRequest,p=i.headers,d=i.timeout,g=!1,x=!1,S=!1;c.onerror=k,c.ontimeout=k,c.onabort=function(){A(!0),g=!0},c.onprogress=function(){};var m=h?"onload":"onreadystatechange";if(c[m]=function(){C(),!(g||c.readyState!==4&&!h)&&c.status!==0&&N()},c.open(i.method,i.url,!0),c.withCredentials=!!i.withCredentials,p&&c.setRequestHeader)for(var _ in p)p.hasOwnProperty(_)&&c.setRequestHeader(_,p[_]);else if(p&&h)throw new Error("Headers cannot be set on an XDomainRequest object");return i.rawBody&&(c.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:i,adapter:fE,request:c,context:t}),c.send(i.body||null),d&&(s.connect=setTimeout(function(){return T("ETIMEDOUT")},d.connect)),{abort:y};function y(){g=!0,c&&c.abort()}function T(I){S=!0,c.abort();var j=new Error(I==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(i.url):"Connection timed out on request to ".concat(i.url));j.code=I,t.channels.error.publish(j)}function C(){!d||(A(),s.socket=setTimeout(function(){return T("ESOCKETTIMEDOUT")},d.socket))}function A(I){(I||g||c.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function k(I){if(!x){A(!0),x=!0,c=null;var j=I||new Error("Network error while attempting to reach ".concat(i.url));j.isNetworkError=!0,j.request=i,e(j)}}function P(){var I=c.status,j=c.statusText;if(h&&I===void 0)I=200;else{if(I>12e3&&I<12156)return k();I=c.status===1223?204:c.status,j=c.status===1223?"No Content":j}return{body:c.response||c.responseText,url:i.url,method:i.method,headers:h?{}:p6(c.getAllResponseHeaders()),statusCode:I,statusMessage:j}}function N(){if(!(g||x||S)){if(c.status===0){k(new Error("Unknown XHR error"));return}A(),x=!0,e(null,P())}}},g6=v6,b6=DH,_6=BH,x6=t6,y6=r6,w6=g6,S6=["request","response","progress","error","abort"],mE=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"],C6=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w6,i=[],s=mE.reduce(function(a,o){return a[o]=a[o]||[],a},{processOptions:[x6],validateOptions:[y6]});function r(a){var o=S6.reduce(function(S,m){return S[m]=b6(),S},{}),l=_6(s),c=l("processOptions",a);l("validateOptions",c);var h={options:c,channels:o,applyMiddleware:l},p=null,d=o.request.subscribe(function(S){p=n(S,function(m,_){return x(m,_,S)})});o.abort.subscribe(function(){d(),p&&p.abort()});var g=l("onReturn",o,h);return g===o&&o.request.publish(h),g;function x(S,m,_){var y=S,T=m;if(!y)try{T=l("onResponse",m,_)}catch(C){T=null,y=C}y=y&&l("onError",y,_),y?o.error.publish(y):T&&o.response.publish(T)}}return r.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&s.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return mE.forEach(function(l){o[l]&&s[l].push(o[l])}),i.push(o),r},r.clone=function(){return t(i)},e.forEach(r.use),r},E6=C6,fc={exports:{}};typeof globalThis!="undefined"?fc.exports=globalThis:typeof window!="undefined"?fc.exports=window:typeof Bn!="undefined"?fc.exports=Bn:typeof self!="undefined"?fc.exports=self:fc.exports={};var T6=fc.exports,vE=Un,k6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.implementation||T6.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(i,s){return new e(function(r){return i.error.subscribe(function(a){return r.error(a)}),i.progress.subscribe(function(a){return r.next(vE({type:"progress"},a))}),i.response.subscribe(function(a){r.next(vE({type:"response"},a)),r.complete()}),i.request.publish(s),function(){return i.abort.publish()}})}}};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var P6=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var A6=P6;function gE(t){return A6(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var M6=function(e){var n,i;return!(gE(e)===!1||(n=e.constructor,typeof n!="function")||(i=n.prototype,gE(i)===!1)||i.hasOwnProperty("isPrototypeOf")===!1)};function rx(t){return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}var bE=Un,R6=M6,I6=["boolean","string","number"],O6=function(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)},N6=function(){return{processOptions:function(e){var n=e.body;if(!n)return e;var i=typeof n.pipe=="function",s=!i&&!O6(n)&&(I6.indexOf(rx(n))!==-1||Array.isArray(n)||R6(n));return s?bE({},e,{body:JSON.stringify(e.body),headers:bE({},e.headers,{"Content-Type":"application/json"})}):e}}},Ib=Un,L6=function(t){return{onResponse:function(n){var i=n.headers["content-type"]||"",s=t&&t.force||i.indexOf("application/json")!==-1;return!n.body||!i||!s?n:Ib({},n,{body:F6(n.body)})},processOptions:function(n){return Ib({},n,{headers:Ib({Accept:"application/json"},n.headers)})}}};function F6(t){try{return JSON.parse(t)}catch(e){throw e.message="Failed to parsed response body as JSON: ".concat(e.message),e}}var D6=function(){return{onRequest:function(e){if(e.adapter!=="xhr")return;var n=e.request,i=e.context;"upload"in n&&"onprogress"in n.upload&&(n.upload.onprogress=s("upload")),"onprogress"in n&&(n.onprogress=s("download"));function s(r){return function(a){var o=a.lengthComputable?a.loaded/a.total*100:-1;i.channels.progress.publish({stage:r,percent:o,total:a.total,loaded:a.loaded,lengthComputable:a.lengthComputable})}}}}},B6=D6,M1={},ax={exports:{}};(function(t,e){var n=typeof Reflect!="undefined"?Reflect.construct:void 0,i=Object.defineProperty,s=Error.captureStackTrace;s===void 0&&(s=function(c){var h=new Error;i(c,"stack",{configurable:!0,get:function(){var d=h.stack;return i(this,"stack",{configurable:!0,value:d,writable:!0}),d},set:function(d){i(c,"stack",{configurable:!0,value:d,writable:!0})}})});function r(l){l!==void 0&&i(this,"message",{configurable:!0,value:l,writable:!0});var c=this.constructor.name;c!==void 0&&c!==this.name&&i(this,"name",{configurable:!0,value:c,writable:!0}),s(this,this.constructor)}r.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:r,writable:!0}});var a=function(){function l(h,p){return i(h,"name",{configurable:!0,value:p})}try{var c=function(){};if(l(c,"foo"),c.name==="foo")return l}catch{}}();function o(l,c){if(c==null||c===Error)c=r;else if(typeof c!="function")throw new TypeError("super_ should be a function");var h;if(typeof l=="string")h=l,l=n!==void 0?function(){return n(c,arguments,this.constructor)}:function(){c.apply(this,arguments)},a!==void 0&&(a(l,h),h=void 0);else if(typeof l!="function")throw new TypeError("constructor should be either a string or a function");l.super_=l.super=c;var p={constructor:{configurable:!0,value:l,writable:!0}};return h!==void 0&&(p.name={configurable:!0,value:h,writable:!0}),l.prototype=Object.create(c.prototype,p),l}e=t.exports=o,e.BaseError=r})(ax,ax.exports);var VR=ax.exports,$R=Un;function R1(t){var e=zR(t);R1.super.call(this,e.message),$R(this,e)}function I1(t){var e=zR(t);I1.super.call(this,e.message),$R(this,e)}function zR(t){var e=t.body,n={response:t,statusCode:t.statusCode,responseBody:U6(e,t)};return e.error&&e.message?(n.message="".concat(e.error," - ").concat(e.message),n):e.error&&e.error.description?(n.message=e.error.description,n.details=e.error,n):(n.message=e.error||e.message||j6(t),n)}function j6(t){var e=t.statusMessage?" ".concat(t.statusMessage):"";return"".concat(t.method,"-request to ").concat(t.url," resulted in HTTP ").concat(t.statusCode).concat(e)}function U6(t,e){var n=(e.headers["content-type"]||"").toLowerCase(),i=n.indexOf("application/json")!==-1;return i?JSON.stringify(t,null,2):t}VR(R1);VR(I1);M1.ClientError=R1;M1.ServerError=I1;var V6=[],$6=E6,z6=Un,H6=k6,q6=N6,W6=L6,G6=B6,K6=Wp,Y6=K6.Observable,HR=M1,qR=HR.ClientError,WR=HR.ServerError,X6={onResponse:function(e){if(e.statusCode>=500)throw new WR(e);if(e.statusCode>=400)throw new qR(e);return e}},Q6={onResponse:function(e){var n=e.headers["x-sanity-warning"],i=Array.isArray(n)?n:[n];return i.filter(Boolean).forEach(function(s){return console.warn(s)}),e}},J6=V6,Z6=J6.concat([Q6,q6(),W6(),G6(),X6,H6({implementation:Y6})]),GR=$6(Z6);function Nv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GR;return e(z6({maxRedirects:0},t))}Nv.defaultRequester=GR;Nv.ClientError=qR;Nv.ServerError=WR;var eq=Nv,_E=Un,tq="X-Sanity-Project-ID",nq=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={},i=e.token||t.token;i&&(n.Authorization="Bearer ".concat(i)),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(n[tq]=t.projectId);var s=Boolean(typeof e.withCredentials=="undefined"?t.token||t.withCredentials:e.withCredentials),r=typeof e.timeout=="undefined"?t.timeout:e.timeout;return _E({},e,{headers:_E({},n,e.headers||{}),timeout:typeof r=="undefined"?5*60*1e3:r,proxy:e.proxy||t.proxy,json:!0,withCredentials:s})},KR={},O1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t[Symbol.toStringTag]="Module";const e="https://docs.sanity.io/help/";function n(i){return e+i}t.generateHelpUrl=n})(O1);var Lv={},iq=function(t){var e=!1,n;return function(){return e||(n=t.apply(void 0,arguments),e=!0),n}},N1=O1.generateHelpUrl,sq=iq,L1=function(e){return sq(function(){for(var n,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(n=console).warn.apply(n,[e.join(" ")].concat(s))})};Lv.printCdnWarning=L1(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see ".concat(N1("js-client-cdn-configuration"),"."),"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]);Lv.printBrowserTokenWarning=L1(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(N1("js-client-browser-token")," for more information and how to hide this warning.")]);Lv.printNoApiVersionSpecifiedWarning=L1(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(N1("js-client-api-version"))]);(function(t){var e=O1.generateHelpUrl,n=Un,i=vo,s=Lv,r="apicdn.sanity.io",a={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,isPromiseAPI:!0},o=["localhost","127.0.0.1","0.0.0.0"],l=function(h){return o.indexOf(h)!==-1};t.defaultConfig=a,t.initConfig=function(c,h){var p=n({},h,c);p.apiVersion||s.printNoApiVersionSpecifiedWarning();var d=n({},a,p),g=d.useProjectHostname;if(typeof Promise=="undefined"){var x=e("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(x))}if(g&&!d.projectId)throw new Error("Configuration must contain `projectId`");var S=typeof window!="undefined"&&window.location&&window.location.hostname,m=S&&l(window.location.hostname);S&&m&&d.token&&d.ignoreBrowserTokenWarning!==!0?s.printBrowserTokenWarning():typeof d.useCdn=="undefined"&&s.printCdnWarning(),g&&i.projectId(d.projectId),d.dataset&&i.dataset(d.dataset),"requestTagPrefix"in d&&(d.requestTagPrefix=d.requestTagPrefix?i.requestTag(d.requestTagPrefix).replace(/\.+$/,""):void 0),d.apiVersion="".concat(d.apiVersion).replace(/^v/,""),d.isDefaultApi=d.apiHost===a.apiHost,d.useCdn=Boolean(d.useCdn)&&!d.withCredentials,t.validateApiVersion(d.apiVersion);var _=d.apiHost.split("://",2),y=_[0],T=_[1],C=d.isDefaultApi?r:T;return d.useProjectHostname?(d.url="".concat(y,"://").concat(d.projectId,".").concat(T,"/v").concat(d.apiVersion),d.cdnUrl="".concat(y,"://").concat(d.projectId,".").concat(C,"/v").concat(d.apiVersion)):(d.url="".concat(d.apiHost,"/v").concat(d.apiVersion),d.cdnUrl=d.url),d},t.validateApiVersion=function(h){if(!(h==="1"||h==="X")){var p=new Date(h),d=/^\d{4}-\d{2}-\d{2}$/.test(h)&&p instanceof Date&&p.getTime()>0;if(!d)throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}}})(KR);function xE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function rq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(n),!0).forEach(function(i){aq(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function aq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yc=Un,F1=Wp,oq=F1.Observable,lq=F1.map,cq=F1.filter,uq=k1,hq=SR,pq=vH,dq=_H,fq=yH,mq=IH,vq=NH,gq=FH,Fv=eq,bq=nq,YR=KR,_q=YR.defaultConfig,xq=YR.initConfig,yq=vo,wq=function(e){return e.toPromise()};function ws(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_q;if(!(this instanceof ws))return new ws(t);if(this.config(t),this.assets=new mq(this),this.datasets=new dq(this),this.projects=new fq(this),this.users=new vq(this),this.auth=new gq(this),this.clientConfig.isPromiseAPI){var e=yc({},this.clientConfig,{isPromiseAPI:!1});this.observable=new ws(e)}}yc(ws.prototype,pq);yc(ws.prototype,{clone:function(){return new ws(this.config())},config:function(e){if(typeof e=="undefined")return yc({},this.clientConfig);if(this.observable){var n=yc({},e,{isPromiseAPI:!1});this.observable.config(n)}return this.clientConfig=xq(e,this.clientConfig||{}),this},withConfig:function(e){return this.clone().config(e)},getUrl:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n?this.clientConfig.cdnUrl:this.clientConfig.url;return"".concat(i,"/").concat(e.replace(/^\//,""))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(e){var n=this,i=e.url||e.uri,s=typeof e.canUseCdn=="undefined"?["GET","HEAD"].indexOf(e.method||"GET")>=0&&i.indexOf("/data/")===0:e.canUseCdn,r=this.clientConfig.useCdn&&s,a=e.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,e.tag].join("."):e.tag||this.clientConfig.requestTagPrefix;a&&(e.query=rq({tag:yq.requestTag(a)},e.query));var o=bq(this.clientConfig,yc({},e,{url:this.getUrl(i,r)}));return new oq(function(l){return Fv(o,n.clientConfig.requester).subscribe(l)})},request:function(e){var n=this._requestObservable(e).pipe(cq(function(i){return i.type==="response"}),lq(function(i){return i.body}));return this.isPromiseAPI()?wq(n):n}});ws.Patch=uq;ws.Transaction=hq;ws.ClientError=Fv.ClientError;ws.ServerError=Fv.ServerError;ws.requester=Fv.defaultRequester;var XR=ws;const QR="ivpmqllf",JR="production",ZR=new Date().toISOString().split("T")[0],Gp=XR({projectId:QR,dataset:JR,apiVersion:ZR,useCdn:!1});XR({projectId:QR,dataset:JR,apiVersion:ZR,useCdn:!1,withCredentials:!0});function eI(){const t=_i(),e=De(null),n=De(!1),i=si(()=>e.value===null&&n.value===null);return Ys(async()=>{e.value=null,n.value=!1;let s=t.navigation;if(!s){const r=Tv`*[_id == 'singletonNavigation'][0] {
        ...,
        "trailer": {
          "trailer720": trailer.trailer720.asset->url,
          "trailer1080": trailer.trailer1080.asset->url
        },
        "mainMenu": {
          ...mainMenu,
          "internalLinks": mainMenu.internalLinks[]{
            title,
            "path": page->path
          }
        }
      }`;s=await Gp.fetch(r),t.navigation=s}s?e.value=s:(console.warn("Query returned no results"),n.value=404)}),{page:e,errorCode:n,loading:i}}const Sq={name:"SiteMenu",components:{Icon:ua,Logo:Sv,Button:Hp,Burger:_M},setup(){const{onWideScreen:t,onMobileScreen:e}=Xn(),n=_i(),i=rs(),s=as();return eI(),{sound:i,maestro:s,data:n,onWideScreen:t,onMobileScreen:e}},data(){return{animate:!1}},computed:{logo:function(){return{width:this.onWideScreen?180:137,height:this.onWideScreen?28:21,animate:this.animate}},visible:function(){return this.maestro.showMenu},duration:function(){return{enter:this.onMobileScreen?1750:1350,leave:this.onMobileScreen?1100:300}},fashionIndex:function(){var e,n;const t=(e=this.data.navigation)==null?void 0:e.mainMenu;return!t||!t.externalLinks?{}:(n=this.data.navigation)==null?void 0:n.mainMenu.externalLinks.fashionIndex},externals:function(){var a;const t=(a=this.data.navigation)==null?void 0:a.mainMenu;if(!t||!t.externalLinks)return[];const{discord:e,opensea:n,twitter:i,more:s}=t.externalLinks;let r=[e,n,i];return s&&(r=r.concat(s)),r},internals:function(){var e;const t=(e=this.data.navigation)==null?void 0:e.mainMenu;return!t||!t.internalLinks?[]:t.internalLinks.map(({title:n,path:i},s)=>{const r=s+1<10?`0${s+1}`:s+1;return{title:n,index:r,path:i}})}},watch:{visible:"onceVisibleMutate"},methods:{handleClose(){this.maestro.showMenu=!1,this.$route.meta.sound&&this.$route.meta.webgl&&(this.sound.lower=!1),document.body.classList.remove("no-scroll")},handleTrailer(){this.maestro.showTrailer=!0},onceVisibleMutate(){Jt.delayedCall(.1,()=>{this.animate=this.visible})}}},Cq={class:"site-menu"},Eq={class:"site-menu__inner"},Tq=U("div",{class:"site-menu__space"},null,-1),kq={class:"site-menu__header"},Pq={class:"site-menu__close"},Aq={class:"text-label"},Mq={class:"site-menu__burger"},Rq={class:"site-menu__wrapper"},Iq={class:"site-menu__content"},Oq={class:"site-menu__main"},Nq={class:"line"},Lq={class:"text-eyebrow"},Fq=["href"],Dq={class:"line"},Bq={class:"site-menu__sub"},jq=["href"],Uq={class:"line"},Vq={class:"site-menu__footer"},$q={class:"site-menu__trailer"},zq={class:"text-label"},Hq={class:"site-menu__ter"},qq=["href"],Wq=["href"],Gq=U("div",{class:"site-menu__space"},null,-1),Kq=U("div",{class:"site-menu__title"},null,-1);function Yq(t,e,n,i,s,r){const a=Pe("Logo"),o=Pe("Icon"),l=Pe("Button"),c=Pe("Burger"),h=Pe("router-link");return fe(),wt(ho,{name:"menu",duration:r.duration},{default:Me(()=>[Ie(U("div",Cq,[U("div",Eq,[Tq,U("div",kq,[le(a,Rp(pu(r.logo)),null,16),Ie(U("div",Pq,[le(l,{"with-label":"",onClick:r.handleClose},{default:Me(()=>[U("span",Aq,Ve(t.$t("menu.close")),1),le(o,{name:"close",width:32,height:32})]),_:1},8,["onClick"])],512),[[je,i.onWideScreen]]),Ie(U("div",Mq,[le(l,{"with-background":"",onClick:r.handleClose},{default:Me(()=>[le(c)]),_:1},8,["onClick"])],512),[[je,i.onMobileScreen]])]),U("div",Rq,[U("div",Iq,[U("nav",Oq,[U("ul",null,[(fe(!0),Ee(it,null,Sn(r.internals,(p,d)=>(fe(),Ee("li",{key:d},[le(h,{to:p.path},{default:Me(()=>[U("span",Nq,[qn(Ve(p.title)+" ",1),U("small",Lq,Ve(p.index)+"/",1)])]),_:2},1032,["to"])]))),128)),U("li",null,[U("a",{href:r.fashionIndex.url,target:"_blank"},[U("span",Dq,[qn(Ve(r.fashionIndex.string)+" ",1),le(o,{name:"arrow-menu",width:19,height:19})])],8,Fq)])])]),U("nav",Bq,[U("ul",null,[(fe(!0),Ee(it,null,Sn(r.externals,p=>(fe(),Ee("li",{key:p.url},[U("a",{href:p.url,target:"_blank"},[U("span",Uq,[qn(Ve(p.string)+" ",1),le(o,{name:"arrow-menu",width:i.onWideScreen?19:26,height:i.onWideScreen?19:26},null,8,["width","height"])])],8,jq)]))),128))])])]),U("footer",Vq,[U("div",$q,[le(l,{"with-label":"",onClick:r.handleTrailer},{default:Me(()=>[U("span",zq,Ve(t.$t("header.trailer")),1),le(o,{name:"play",width:32,height:32})]),_:1},8,["onClick"])]),U("nav",Hq,[U("ul",null,[U("li",null,[U("a",{href:t.$t("links.termsAndConditions.url"),target:"_blank"},Ve(t.$t("links.termsAndConditions.label")),9,qq)]),U("li",null,[U("a",{href:t.$t("links.privacyPolicy.url"),target:"_blank"},Ve(t.$t("links.privacyPolicy.label")),9,Wq)])])])])]),Gq,Kq])],512),[[je,r.visible]])]),_:1},8,["duration"])}var Xq=rt(Sq,[["render",Yq]]);const Qq=600,Jq={name:"SiteHeader",components:{Icon:ua,Fade:El,Logo:Sv,Menu:Xq,Burger:_M,Button:Hp,SoundToggle:m1},setup(){const{onMobileScreen:t,onWideScreen:e}=Xn(),n=rs(),i=as(),s=_i();return{sound:n,maestro:i,data:s,onWideScreen:e,onMobileScreen:t}},data(){return{animate:!1}},computed:{logo:function(){return{width:this.onWideScreen?180:137,height:this.onWideScreen?28:21,animate:this.animate}},openSea(){var e;const t=(e=this.data.navigation)==null?void 0:e.mainMenu;return!t||!t.externalLinks?{string:"",url:""}:t.externalLinks.opensea},showLogo:function(){return this.maestro.showUI},showTrailer:function(){return this.maestro.showUI&&this.onWideScreen}},mounted(){document.addEventListener("scroll",this.handleScroll,{passive:!0})},unmounted(){document.removeEventListener("scroll",this.handleScroll)},methods:{handleMenu(){this.maestro.showMenu=this.sound.lower=!0,document.body.classList.add("no-scroll")},handleScroll(){this.animate=window.scrollY>Qq},handleTrailer:function(){this.maestro.showTrailer=!0}}},Zq={class:"site-header"},e8={class:"site-header__inner"},t8={class:"site-header__left"},n8={class:"site-header__trailer"},i8={class:"text-label"},s8={class:"site-header__right"},r8={class:"site-header__right-inner"},a8={class:"site-header__buttons"},o8={class:"text-label"},l8={class:"site-header__burger"},c8={class:"site-header__buttons"},u8={class:"site-header__sound"},h8={class:"site-header__burger"};function p8(t,e,n,i,s,r){const a=Pe("Logo"),o=Pe("Fade"),l=Pe("Icon"),c=Pe("Button"),h=Pe("Burger"),p=Pe("SoundToggle"),d=Pe("Menu");return fe(),Ee("header",Zq,[U("div",e8,[U("div",t8,[le(o,null,{default:Me(()=>[Ie(le(a,Rp(pu(r.logo)),null,16),[[je,r.showLogo]])]),_:1}),le(o,null,{default:Me(()=>[Ie(U("div",n8,[le(c,{"with-label":"",onClick:r.handleTrailer},{default:Me(()=>[U("span",i8,Ve(t.$t("header.trailer")),1),le(l,{name:"play",width:32,height:32})]),_:1},8,["onClick"])],512),[[je,r.showTrailer]])]),_:1})]),U("div",s8,[le(o,null,{default:Me(()=>[Ie(U("div",r8,[Ie(U("div",a8,[le(c,{href:r.openSea.url,target:"_blank","with-label":""},{default:Me(()=>[U("span",o8,Ve(t.$t("links.openSea.label")),1),le(l,{name:"opensea",width:32,height:32})]),_:1},8,["href"]),U("div",l8,[le(c,{"with-background":"",onClick:r.handleMenu},{default:Me(()=>[le(h)]),_:1},8,["onClick"])])],512),[[je,i.onWideScreen]]),Ie(U("div",c8,[U("div",u8,[i.maestro.showSound?(fe(),wt(p,{key:0})):Zt("",!0)]),U("div",h8,[le(c,{"with-background":"",onClick:r.handleMenu},{default:Me(()=>[le(h)]),_:1},8,["onClick"])])],512),[[je,i.onMobileScreen]])],512),[[je,i.maestro.showUI]])]),_:1})])]),le(d)])}var d8=rt(Jq,[["render",p8]]);const f8={name:"LinkElement",components:{Icon:ua},props:{size:{type:String,default:"s"},icon:{type:Boolean,default:!0},animate:{type:Boolean,default:!0}},setup(){const t=De(null),{intersect:e}=Kn(t);return{link:t,intersect:e}},computed:{external:function(){return this.$attrs.target&&this.$attrs.target==="_blank"},attributes:function(){const t={};return this.$attrs.target==="_blank"&&(t.rel="noopener noreferrer"),xa({},t)}}},m8={class:"link__content"};function v8(t,e,n,i,s,r){const a=Pe("Icon");return fe(),Ee("a",_r({ref:"link",class:["link",`link--${n.size}`,{"link--animate":n.animate,"link--external":r.external}]},r.attributes),[U("span",m8,[ys(t.$slots,"default"),n.icon?ys(t.$slots,"icon",{key:0},()=>[r.external?(fe(),wt(a,{key:0,name:"arrow",width:6,height:6})):Zt("",!0)]):Zt("",!0)])],16)}var Dv=rt(f8,[["render",v8]]);const D1=t=>{if(!t)return;const e=document.createElement("p"),n=t.split("<br>"),i=n.length,s=i-1;for(let r=0;r<i;r++){const a=n[r],o=document.createElement("span"),l=document.createElement("br");o.className=`line line--${r+1}`,o.innerHTML=a.trim(),e.append(o),r<s&&e.append(l)}return e.innerHTML},g8={mode:"lines"};function tI(t,e={}){const n=xa(xa({},g8),e);Ys(()=>{switch(n.mode){case"lines":t.value.innerHTML=D1(t.value.innerHTML)}})}var nI={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Bn,function(){var n="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function i(k){var P=k.split("-"),N=P[1],I=P[2],j=P[3];if(!N||!I||!j)throw new Error("Malformed asset _ref '"+k+`'. Expected an id like "`+n+'".');var V=I.split("x"),D=V[0],G=V[1],O=+D,J=+G,X=isFinite(O)&&isFinite(J);if(!X)throw new Error("Malformed asset _ref '"+k+`'. Expected an id like "`+n+'".');return{id:N,width:O,height:J,format:j}}var s=function(k){var P=k;return P?typeof P._ref=="string":!1},r=function(k){var P=k;return P?typeof P._id=="string":!1},a=function(k){var P=k;return P&&P.asset?typeof P.asset.url=="string":!1};function o(k){if(!k)return null;var P;if(typeof k=="string"&&l(k))P={asset:{_ref:c(k)}};else if(typeof k=="string")P={asset:{_ref:k}};else if(s(k))P={asset:k};else if(r(k))P={asset:{_ref:k._id||""}};else if(a(k))P={asset:{_ref:c(k.asset.url)}};else if(typeof k.asset=="object")P=k;else return null;var N=k;return N.crop&&(P.crop=N.crop),N.hotspot&&(P.hotspot=N.hotspot),h(P)}function l(k){return/^https?:\/\//.test(""+k)}function c(k){var P=k.split("/").slice(-1);return("image-"+P[0]).replace(/\.([a-z]+)$/,"-$1")}function h(k){if(k.crop&&k.hotspot)return k;var P=Object.assign({},k);return P.crop||(P.crop={left:0,top:0,bottom:0,right:0}),P.hotspot||(P.hotspot={x:.5,y:.5,height:1,width:1}),P}var p=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function d(k){var P=Object.assign({},k||{}),N=P.source;delete P.source;var I=o(N);if(!I)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(N)+")");var j=I.asset._ref||I.asset._id||"",V=i(j),D=Math.round(I.crop.left*V.width),G=Math.round(I.crop.top*V.height),O={left:D,top:G,width:Math.round(V.width-I.crop.right*V.width-D),height:Math.round(V.height-I.crop.bottom*V.height-G)},J=I.hotspot.height*V.height/2,X=I.hotspot.width*V.width/2,ae=I.hotspot.x*V.width,me=I.hotspot.y*V.height,Ae={left:ae-X,top:me-J,right:ae+X,bottom:me+J};return P.rect||P.focalPoint||P.ignoreImageParams||P.crop||(P=Object.assign({},P,x({crop:O,hotspot:Ae},P))),g(Object.assign({},P,{asset:V}))}function g(k){var P=k.baseUrl||"https://cdn.sanity.io",N=k.asset.id+"-"+k.asset.width+"x"+k.asset.height+"."+k.asset.format,I=P+"/images/"+k.projectId+"/"+k.dataset+"/"+N,j=[];if(k.rect){var V=k.rect,D=V.left,G=V.top,O=V.width,J=V.height,X=D!==0||G!==0||J!==k.asset.height||O!==k.asset.width;X&&j.push("rect="+D+","+G+","+O+","+J)}k.bg&&j.push("bg="+k.bg),k.focalPoint&&(j.push("fp-x="+k.focalPoint.x),j.push("fp-y="+k.focalPoint.y));var ae=[k.flipHorizontal&&"h",k.flipVertical&&"v"].filter(Boolean).join("");return ae&&j.push("flip="+ae),p.forEach(function(me){var Ae=me[0],Oe=me[1];typeof k[Ae]!="undefined"?j.push(Oe+"="+encodeURIComponent(k[Ae])):typeof k[Oe]!="undefined"&&j.push(Oe+"="+encodeURIComponent(k[Oe]))}),j.length===0?I:I+"?"+j.join("&")}function x(k,P){var N,I=P.width,j=P.height;if(!(I&&j))return{width:I,height:j,rect:k.crop};var V=k.crop,D=k.hotspot,G=I/j,O=V.width/V.height;if(O>G){var J=Math.round(V.height),X=Math.round(J*G),ae=Math.max(0,Math.round(V.top)),me=Math.round((D.right-D.left)/2+D.left),Ae=Math.max(0,Math.round(me-X/2));Ae<V.left?Ae=V.left:Ae+X>V.left+V.width&&(Ae=V.left+V.width-X),N={left:Ae,top:ae,width:X,height:J}}else{var Oe=V.width,Be=Math.round(Oe/G),we=Math.max(0,Math.round(V.left)),Se=Math.round((D.bottom-D.top)/2+D.top),We=Math.max(0,Math.round(Se-Be/2));We<V.top?We=V.top:We+Be>V.top+V.height&&(We=V.top+V.height-Be),N={left:we,top:We,width:Oe,height:Be}}return{width:I,height:j,rect:N}}var S=["clip","crop","fill","fillmax","max","scale","min"],m=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function y(k){return k?typeof k.clientConfig=="object":!1}function T(k){for(var P=p,N=0,I=P;N<I.length;N+=1){var j=I[N],V=j[0],D=j[1];if(k===V||k===D)return V}return k}function C(k){var P=k;if(y(P)){var N=P.clientConfig,I=N.apiHost,j=N.projectId,V=N.dataset,D=I||"https://api.sanity.io";return new A(null,{baseUrl:D.replace(/^https:\/\/api\./,"https://cdn."),projectId:j,dataset:V})}return new A(null,k)}var A=function(P,N){this.options=P?Object.assign({},P.options||{},N||{}):Object.assign({},N||{})};return A.prototype.withOptions=function(P){var N=P.baseUrl||this.options.baseUrl,I={baseUrl:N};for(var j in P)if(P.hasOwnProperty(j)){var V=T(j);I[V]=P[j]}return new A(this,Object.assign({},{baseUrl:N},I))},A.prototype.image=function(P){return this.withOptions({source:P})},A.prototype.dataset=function(P){return this.withOptions({dataset:P})},A.prototype.projectId=function(P){return this.withOptions({projectId:P})},A.prototype.bg=function(P){return this.withOptions({bg:P})},A.prototype.dpr=function(P){return this.withOptions(P&&P!==1?{dpr:P}:{})},A.prototype.width=function(P){return this.withOptions({width:P})},A.prototype.height=function(P){return this.withOptions({height:P})},A.prototype.focalPoint=function(P,N){return this.withOptions({focalPoint:{x:P,y:N}})},A.prototype.maxWidth=function(P){return this.withOptions({maxWidth:P})},A.prototype.minWidth=function(P){return this.withOptions({minWidth:P})},A.prototype.maxHeight=function(P){return this.withOptions({maxHeight:P})},A.prototype.minHeight=function(P){return this.withOptions({minHeight:P})},A.prototype.size=function(P,N){return this.withOptions({width:P,height:N})},A.prototype.blur=function(P){return this.withOptions({blur:P})},A.prototype.sharpen=function(P){return this.withOptions({sharpen:P})},A.prototype.rect=function(P,N,I,j){return this.withOptions({rect:{left:P,top:N,width:I,height:j}})},A.prototype.format=function(P){return this.withOptions({format:P})},A.prototype.invert=function(P){return this.withOptions({invert:P})},A.prototype.orientation=function(P){return this.withOptions({orientation:P})},A.prototype.quality=function(P){return this.withOptions({quality:P})},A.prototype.forceDownload=function(P){return this.withOptions({download:P})},A.prototype.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},A.prototype.flipVertical=function(){return this.withOptions({flipVertical:!0})},A.prototype.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},A.prototype.fit=function(P){if(S.indexOf(P)===-1)throw new Error('Invalid fit mode "'+P+'"');return this.withOptions({fit:P})},A.prototype.crop=function(P){if(m.indexOf(P)===-1)throw new Error('Invalid crop mode "'+P+'"');return this.withOptions({crop:P})},A.prototype.saturation=function(P){return this.withOptions({saturation:P})},A.prototype.auto=function(P){if(_.indexOf(P)===-1)throw new Error('Invalid auto mode "'+P+'"');return this.withOptions({auto:P})},A.prototype.pad=function(P){return this.withOptions({pad:P})},A.prototype.url=function(){return d(this.options)},A.prototype.toString=function(){return this.url()},C})})(nI);var b8=nI.exports;const _8=b8(Gp),x8={src:"/assets/images/roadmap/roadmap-default@2x.png",lazy:"/assets/images/roadmap/roadmap-default-lazy.jpg"};function pp(t,e={}){const n=t==null?void 0:t.asset._ref;if(!n)return x8;const i=_8.image(n),s=e.width?e.width:null,r=s?i.width(s).url():i.url(),a=i.width(250).blur(100).url();return{src:r,lazy:a}}const y8={name:"SinglePartner",components:{Link:Dv},props:{url:{type:String,default:null},src:{type:String,default:null},lazy:{type:String,default:null},name:{type:String,default:null}}},w8={class:"partner"},S8={class:"u-visually-hidden"},C8={key:1,class:"partner__image"},E8=["alt"],T8=["alt"],k8={class:"partner__name"},P8={key:2,class:"partner__soon"};function A8(t,e,n,i,s,r){const a=Pe("Link"),o=Up("lazy");return fe(),Ee("div",w8,[n.url?(fe(),wt(a,{key:0,href:n.url,target:"_blank",icon:!1},{default:Me(()=>[U("span",S8,Ve(n.name),1)]),_:1},8,["href"])):Zt("",!0),n.src?(fe(),Ee("figure",C8,[Ie(U("img",{alt:n.name},null,8,E8),[[o,{src:n.src,loading:n.lazy,error:n.lazy}]]),Ie(U("img",{alt:n.name},null,8,T8),[[o,{src:n.src,loading:n.lazy,error:n.lazy}]]),U("span",k8,Ve(n.name),1)])):(fe(),Ee("p",P8,[U("span",null,Ve(t.$t("partners.soon")),1)]))])}var M8=rt(y8,[["render",A8]]);const R8={name:"SitePartners",components:{Partner:M8},setup(){const t=_i(),e=De(null),n=De(null),i=De(null),s=!1,{intersect:r}=Kn(i,{preserve:s});return tI(n),{data:t,list:e,title:n,partners:i,intersect:r}},data(){return{min:0,max:0,delta:0,scroll:0,anchor:0,styles:{}}},computed:{items:function(){const t=this.data.home;return!t||!t.partners?[]:t.partners.map(({url:e,text:n,picture:i})=>{const{src:s,lazy:r}=pp(i);return{url:e,name:n,src:s,lazy:r}})}},watch:{items:function(){Jt.delayedCall(.1,()=>{this.handleResize()})}},mounted(){this.handleResize();const t=!0;this.list.addEventListener("scroll",this.handleListScroll,t),this.list.addEventListener("mouseup",this.handleMouseUp),this.list.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("resize",this.handleResize)},unmounted(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){if(this.list){const{scrollWidth:t,offsetWidth:e}=this.list;this.max=Math.max(this.min,t-e),this.scroll=Math.min(this.max,Math.max(this.min,this.scroll)),this.list.scrollTo({top:0,left:this.scroll}),this.handleListScroll()}},handleMouseUp(){this.list&&(this.scroll+=this.delta,this.scroll=Math.min(this.max,Math.max(this.min,this.scroll)),this.list.removeEventListener("mousemove",this.handleMouseMove))},handleMouseDown(t){if(this.list){this.delta=0,this.scroll=this.list.scrollLeft,this.anchor=t.clientX;const e=!0;this.list.addEventListener("mousemove",this.handleMouseMove,{passive:e})}},handleMouseMove(t){if(this.list){this.delta=-1*(t.clientX-this.anchor);const e=Math.min(this.max,Math.max(this.min,this.scroll+this.delta));this.list.scrollTo({top:0,left:e})}},handleListScroll(){if(this.list){const{scrollLeft:t,scrollWidth:e,offsetWidth:n}=this.list,i=n/e,s=i+t/e,r=Math.max(i,Math.min(1,s));this.styles.transform=`scaleX(${r})`}}}},I8={ref:"partners",class:"partners"},O8={class:"partners__header"},N8=U("p",{class:"partners__eyebrow text-eyebrow"},"03/",-1),L8={ref:"title",class:"partners__title h1"},F8=U("br",null,null,-1),D8={class:"partners__slider"},B8={ref:"list",class:"partners__slider-list"},j8={class:"partners__slider-items"},U8=U("div",{class:"partners__slider-track"},null,-1),V8={class:"partners__slider-thumb"};function $8(t,e,n,i,s,r){const a=Pe("i18n-t"),o=Pe("Partner");return fe(),Ee("div",I8,[U("header",O8,[N8,U("h2",L8,[le(a,{keypath:"partners.title",scope:"global"},{br:Me(()=>[F8]),_:1})],512)]),U("div",D8,[U("div",B8,[U("div",j8,[(fe(!0),Ee(it,null,Sn(r.items,l=>(fe(),wt(o,_r(l,{key:l.name}),null,16))),128)),le(o),le(o),le(o),le(o),le(o),le(o),le(o)])],512),U8,U("div",V8,[U("div",{class:"partners__slider-handle",style:ai(s.styles)},null,4)])])],512)}var z8=rt(R8,[["render",$8]]),ox={exports:{}},iI={exports:{}},H8=void 0,sI=function(t){return t!==H8&&t!==null},q8=sI,W8={object:!0,function:!0,undefined:!0},G8=function(t){return q8(t)?hasOwnProperty.call(W8,typeof t):!1},K8=G8,Y8=function(t){if(!K8(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},X8=Y8,Q8=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!X8(t)},J8=Q8,Z8=/^\s*class[\s{/}]/,eW=Function.prototype.toString,tW=function(t){return!(!J8(t)||Z8.test(eW.call(t)))},nW=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},iW=function(){try{return Object.keys("primitive"),!0}catch{return!1}},sW=function(){},rW=sW(),B1=function(t){return t!==rW&&t!==null},aW=B1,oW=Object.keys,lW=function(t){return oW(aW(t)?Object(t):t)},cW=iW()?Object.keys:lW,uW=B1,hW=function(t){if(!uW(t))throw new TypeError("Cannot use null or undefined");return t},pW=cW,dW=hW,fW=Math.max,mW=function(t,e){var n,i,s=fW(arguments.length,2),r;for(t=Object(dW(t)),r=function(a){try{t[a]=e[a]}catch(o){n||(n=o)}},i=1;i<s;++i)e=arguments[i],pW(e).forEach(r);if(n!==void 0)throw n;return t},vW=nW()?Object.assign:mW,gW=B1,bW=Array.prototype.forEach,_W=Object.create,xW=function(t,e){var n;for(n in t)e[n]=t[n]},yW=function(t){var e=_W(null);return bW.call(arguments,function(n){!gW(n)||xW(Object(n),e)}),e},Ob="razdwatrzy",wW=function(){return typeof Ob.contains!="function"?!1:Ob.contains("dwa")===!0&&Ob.contains("foo")===!1},SW=String.prototype.indexOf,CW=function(t){return SW.call(this,t,arguments[1])>-1},EW=wW()?String.prototype.contains:CW,Of=sI,yE=tW,rI=vW,aI=yW,Lh=EW,TW=iI.exports=function(t,e){var n,i,s,r,a;return arguments.length<2||typeof t!="string"?(r=e,e=t,t=null):r=arguments[2],Of(t)?(n=Lh.call(t,"c"),i=Lh.call(t,"e"),s=Lh.call(t,"w")):(n=s=!0,i=!1),a={value:e,configurable:n,enumerable:i,writable:s},r?rI(aI(r),a):a};TW.gs=function(t,e,n){var i,s,r,a;return typeof t!="string"?(r=n,n=e,e=t,t=null):r=arguments[3],Of(e)?yE(e)?Of(n)?yE(n)||(r=n,n=void 0):n=void 0:(r=e,e=n=void 0):e=void 0,Of(t)?(i=Lh.call(t,"c"),s=Lh.call(t,"e")):(i=!0,s=!1),a={get:e,set:n,configurable:i,enumerable:s},r?rI(aI(r),a):a};var kW=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t};(function(t,e){var n=iI.exports,i=kW,s=Function.prototype.apply,r=Function.prototype.call,a=Object.create,o=Object.defineProperty,l=Object.defineProperties,c=Object.prototype.hasOwnProperty,h={configurable:!0,enumerable:!1,writable:!0},p,d,g,x,S,m,_;p=function(y,T){var C;return i(T),c.call(this,"__ee__")?C=this.__ee__:(C=h.value=a(null),o(this,"__ee__",h),h.value=null),C[y]?typeof C[y]=="object"?C[y].push(T):C[y]=[C[y],T]:C[y]=T,this},d=function(y,T){var C,A;return i(T),A=this,p.call(this,y,C=function(){g.call(A,y,C),s.call(T,this,arguments)}),C.__eeOnceListener__=T,this},g=function(y,T){var C,A,k,P;if(i(T),!c.call(this,"__ee__"))return this;if(C=this.__ee__,!C[y])return this;if(A=C[y],typeof A=="object")for(P=0;k=A[P];++P)(k===T||k.__eeOnceListener__===T)&&(A.length===2?C[y]=A[P?0:1]:A.splice(P,1));else(A===T||A.__eeOnceListener__===T)&&delete C[y];return this},x=function(y){var T,C,A,k,P;if(!!c.call(this,"__ee__")&&(k=this.__ee__[y],!!k))if(typeof k=="object"){for(C=arguments.length,P=new Array(C-1),T=1;T<C;++T)P[T-1]=arguments[T];for(k=k.slice(),T=0;A=k[T];++T)s.call(A,this,P)}else switch(arguments.length){case 1:r.call(k,this);break;case 2:r.call(k,this,arguments[1]);break;case 3:r.call(k,this,arguments[1],arguments[2]);break;default:for(C=arguments.length,P=new Array(C-1),T=1;T<C;++T)P[T-1]=arguments[T];s.call(k,this,P)}},S={on:p,once:d,off:g,emit:x},m={on:n(p),once:n(d),off:n(g),emit:n(x)},_=l({},m),t.exports=e=function(y){return y==null?a(_):l(Object(y),m)},e.methods=S})(ox,ox.exports);var gu=ox.exports,PW=1e-6,gi=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function oI(){var t=new gi(9);return gi!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Wn(){var t=new gi(16);return gi!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function cm(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function AW(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function MW(t,e){if(t===e){var n=e[1],i=e[2],s=e[3],r=e[6],a=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=r,t[11]=e[14],t[12]=s,t[13]=a,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function lx(t,e){var n=e[0],i=e[1],s=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],h=e[8],p=e[9],d=e[10],g=e[11],x=e[12],S=e[13],m=e[14],_=e[15],y=n*o-i*a,T=n*l-s*a,C=n*c-r*a,A=i*l-s*o,k=i*c-r*o,P=s*c-r*l,N=h*S-p*x,I=h*m-d*x,j=h*_-g*x,V=p*m-d*S,D=p*_-g*S,G=d*_-g*m,O=y*G-T*D+C*V+A*j-k*I+P*N;return O?(O=1/O,t[0]=(o*G-l*D+c*V)*O,t[1]=(s*D-i*G-r*V)*O,t[2]=(S*P-m*k+_*A)*O,t[3]=(d*k-p*P-g*A)*O,t[4]=(l*j-a*G-c*I)*O,t[5]=(n*G-s*j+r*I)*O,t[6]=(m*C-x*P-_*T)*O,t[7]=(h*P-d*C+g*T)*O,t[8]=(a*D-o*j+c*N)*O,t[9]=(i*j-n*D-r*N)*O,t[10]=(x*k-S*C+_*y)*O,t[11]=(p*C-h*k-g*y)*O,t[12]=(o*I-a*V-l*N)*O,t[13]=(n*V-i*I+s*N)*O,t[14]=(S*T-x*A-m*y)*O,t[15]=(h*A-p*T+d*y)*O,t):null}function lI(t,e,n){var i=e[0],s=e[1],r=e[2],a=e[3],o=e[4],l=e[5],c=e[6],h=e[7],p=e[8],d=e[9],g=e[10],x=e[11],S=e[12],m=e[13],_=e[14],y=e[15],T=n[0],C=n[1],A=n[2],k=n[3];return t[0]=T*i+C*o+A*p+k*S,t[1]=T*s+C*l+A*d+k*m,t[2]=T*r+C*c+A*g+k*_,t[3]=T*a+C*h+A*x+k*y,T=n[4],C=n[5],A=n[6],k=n[7],t[4]=T*i+C*o+A*p+k*S,t[5]=T*s+C*l+A*d+k*m,t[6]=T*r+C*c+A*g+k*_,t[7]=T*a+C*h+A*x+k*y,T=n[8],C=n[9],A=n[10],k=n[11],t[8]=T*i+C*o+A*p+k*S,t[9]=T*s+C*l+A*d+k*m,t[10]=T*r+C*c+A*g+k*_,t[11]=T*a+C*h+A*x+k*y,T=n[12],C=n[13],A=n[14],k=n[15],t[12]=T*i+C*o+A*p+k*S,t[13]=T*s+C*l+A*d+k*m,t[14]=T*r+C*c+A*g+k*_,t[15]=T*a+C*h+A*x+k*y,t}function lf(t,e,n,i){var s=e[0],r=e[1],a=e[2],o=e[3],l=s+s,c=r+r,h=a+a,p=s*l,d=s*c,g=s*h,x=r*c,S=r*h,m=a*h,_=o*l,y=o*c,T=o*h,C=i[0],A=i[1],k=i[2];return t[0]=(1-(x+m))*C,t[1]=(d+T)*C,t[2]=(g-y)*C,t[3]=0,t[4]=(d-T)*A,t[5]=(1-(p+m))*A,t[6]=(S+_)*A,t[7]=0,t[8]=(g+y)*k,t[9]=(S-_)*k,t[10]=(1-(p+x))*k,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}var cx=lI;function En(){var t=new gi(3);return gi!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function zr(t){var e=new gi(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function RW(t){var e=t[0],n=t[1],i=t[2];return Math.hypot(e,n,i)}function Tn(t,e,n){var i=new gi(3);return i[0]=t,i[1]=e,i[2]=n,i}function cr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Us(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function ux(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function IW(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Hr(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function OW(t,e){var n=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2];return Math.hypot(n,i,s)}function ll(t,e){var n=e[0],i=e[1],s=e[2],r=n*n+i*i+s*s;return r>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function NW(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Qr(t,e,n){var i=e[0],s=e[1],r=e[2],a=n[0],o=n[1],l=n[2];return t[0]=s*l-r*o,t[1]=r*a-i*l,t[2]=i*o-s*a,t}function cI(t,e,n,i){var s=e[0],r=e[1],a=e[2];return t[0]=s+i*(n[0]-s),t[1]=r+i*(n[1]-r),t[2]=a+i*(n[2]-a),t}function LW(t,e,n){var i=e[0],s=e[1],r=e[2],a=n[3]*i+n[7]*s+n[11]*r+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*s+n[8]*r+n[12])/a,t[1]=(n[1]*i+n[5]*s+n[9]*r+n[13])/a,t[2]=(n[2]*i+n[6]*s+n[10]*r+n[14])/a,t}var tu=ux,wE=IW,FW=RW;(function(){var t=En();return function(e,n,i,s,r,a){var o,l;for(n||(n=3),i||(i=0),s?l=Math.min(s*n+i,e.length):l=e.length,o=i;o<l;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],r(t,t,a),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2];return e}})();function DW(){var t=new gi(4);return gi!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function BW(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function jW(t,e){var n=e[0],i=e[1],s=e[2],r=e[3],a=n*n+i*i+s*s+r*r;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=i*a,t[2]=s*a,t[3]=r*a,t}(function(){var t=DW();return function(e,n,i,s,r,a){var o,l;for(n||(n=4),i||(i=0),s?l=Math.min(s*n+i,e.length):l=e.length,o=i;o<l;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],r(t,t,a),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}})();function ia(){var t=new gi(4);return gi!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function SE(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function UW(t,e,n){n=n*.5;var i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t}function um(t,e,n){n*=.5;var i=e[0],s=e[1],r=e[2],a=e[3],o=Math.sin(n),l=Math.cos(n);return t[0]=i*l+a*o,t[1]=s*l+r*o,t[2]=r*l-s*o,t[3]=a*l-i*o,t}function hm(t,e,n){n*=.5;var i=e[0],s=e[1],r=e[2],a=e[3],o=Math.sin(n),l=Math.cos(n);return t[0]=i*l-r*o,t[1]=s*l+a*o,t[2]=r*l+i*o,t[3]=a*l-s*o,t}function pm(t,e,n){n*=.5;var i=e[0],s=e[1],r=e[2],a=e[3],o=Math.sin(n),l=Math.cos(n);return t[0]=i*l+s*o,t[1]=s*l-i*o,t[2]=r*l+a*o,t[3]=a*l-r*o,t}function Fh(t,e,n,i){var s=e[0],r=e[1],a=e[2],o=e[3],l=n[0],c=n[1],h=n[2],p=n[3],d,g,x,S,m;return g=s*l+r*c+a*h+o*p,g<0&&(g=-g,l=-l,c=-c,h=-h,p=-p),1-g>PW?(d=Math.acos(g),x=Math.sin(d),S=Math.sin((1-i)*d)/x,m=Math.sin(i*d)/x):(S=1-i,m=i),t[0]=S*s+m*l,t[1]=S*r+m*c,t[2]=S*a+m*h,t[3]=S*o+m*p,t}function uI(t,e){var n=e[0]+e[4]+e[8],i;if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{var s=0;e[4]>e[0]&&(s=1),e[8]>e[s*3+s]&&(s=2);var r=(s+1)%3,a=(s+2)%3;i=Math.sqrt(e[s*3+s]-e[r*3+r]-e[a*3+a]+1),t[s]=.5*i,i=.5/i,t[3]=(e[r*3+a]-e[a*3+r])*i,t[r]=(e[r*3+s]+e[s*3+r])*i,t[a]=(e[a*3+s]+e[s*3+a])*i}return t}var CE=BW,hI=jW;(function(){var t=En(),e=Tn(1,0,0),n=Tn(0,1,0);return function(i,s,r){var a=NW(s,r);return a<-.999999?(Qr(t,e,s),FW(t)<1e-6&&Qr(t,n,s),ll(t,t),UW(i,t,Math.PI),i):a>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(Qr(t,s,r),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1+a,hI(i,i))}})();(function(){var t=ia(),e=ia();return function(n,i,s,r,a,o){return Fh(t,i,a,o),Fh(e,s,r,o),Fh(n,t,e,2*o*(1-o)),n}})();(function(){var t=oI();return function(e,n,i,s){return t[0]=i[0],t[3]=i[1],t[6]=i[2],t[1]=s[0],t[4]=s[1],t[7]=s[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],hI(e,uI(e,t))}})();function pI(){var t=new gi(2);return gi!=Float32Array&&(t[0]=0,t[1]=0),t}function Ro(t,e){var n=new gi(2);return n[0]=t,n[1]=e,n}function VW(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function $W(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function zW(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}var HW=$W;(function(){var t=pI();return function(e,n,i,s,r,a){var o,l;for(n||(n=2),i||(i=0),s?l=Math.min(s*n+i,e.length):l=e.length,o=i;o<l;o+=n)t[0]=e[o],t[1]=e[o+1],r(t,t,a),e[o]=t[0],e[o+1]=t[1];return e}})();var dI={exports:{}};(function(t){(function(e,n){var i=e.KonamiCode,s=e.KonamiCode=n;s.noConflict=function(){return e.KonamiCode=i,s},t.exports&&(t.exports=n)})(Bn,function e(n){var i=this,s={},r=e;r.getNumberOfInstance=function(){return r._numberOfInstance},i.enable=function(){return s.listenCodeCharSequence(),s.listenCodeGestureSequence(),s.debug&&s.debug("Listener enabled for all."),i},i.enableKeyboardKeys=function(){return s.listenCodeCharSequence(),s.debug&&s.debug("Listener enabled for Keyboard Keys."),i},i.enableTouchGesture=function(){return s.listenCodeGestureSequence(),s.debug&&s.debug("Listener enabled for Touch Gesture."),i},i.disable=function(){return s.stopCodeCharSequence(),s.stopCodeGestureSequence(),s.debug&&s.debug("Listener disabled for all."),i},i.disableKeyboardKeys=function(){return s.stopCodeCharSequence(),s.debug&&s.debug("Listener disabled for Keyboard Keys."),i},i.disableTouchGesture=function(){return s.stopCodeGestureSequence(),s.debug&&s.debug("Listener disabled for Touch Gesture."),i},i.setListener=function(a){return s.stopCodeCharSequence(),s.stopCodeGestureSequence(),s.listener=a||document,s.listenCodeCharSequence(),s.listenCodeGestureSequence(),s.debug&&s.debug("Listener changed.",a),i},i.setCallback=function(a){return s.afterCodeSequenceCallback=typeof a=="function"&&a||s.defaultCallback,s.debug&&s.debug("Callback changed.",a),i},i.setOptions=function(a){return s.initOptions(a),i},s.keptLastCodeChar=function(){s.input.length>s.konamiCodeChar.length&&(s.input=s.input.substr(s.input.length-s.konamiCodeChar.length))},s.defaultCallback=function(){s.debug&&s.debug("Konami Code Sequence Entered. There is no action defined.")},s.checkIfCodeCharIsValid=function(){s.input===s.konamiCodeChar&&s.afterCodeSequenceCallback(i)},s.codeSequenceEventKeyDown=function(a){s.input+=a.keyCode,s.keptLastCodeChar(),s.checkIfCodeCharIsValid()},s.codeSequenceEventTouchMove=function(a){var o;a.touches.length===1&&s.capture===!0&&(o=a.touches[0],s.stopX=o.pageX,s.stopY=o.pageY,s.tap=!1,s.capture=!1,s.checkIfCodeGestureIsValid())},s.codeSequenceEventTouchEnd=function(){s.tap===!0&&s.checkIfCodeGestureIsValid()},s.codeSequenceEventTouchStart=function(a){s.startX=a.changedTouches[0].pageX,s.startY=a.changedTouches[0].pageY,s.tap=!0,s.capture=!0},s.stopCodeCharSequence=function(){s.listener.removeEventListener("keydown",s.codeSequenceEventKeyDown)},s.stopCodeGestureSequence=function(){s.listener.removeEventListener("touchstart",s.codeSequenceEventTouchStart),s.listener.removeEventListener("touchmove",s.codeSequenceEventTouchMove),s.listener.removeEventListener("touchend",s.codeSequenceEventTouchEnd)},s.listenCodeCharSequence=function(){s.stopCodeCharSequence(),s.listener.addEventListener("keydown",s.codeSequenceEventKeyDown)},s.listenCodeGestureSequence=function(){s.originalCodeGesture=s.konamiCodeGesture,s.stopCodeGestureSequence(),s.listener.addEventListener("touchstart",s.codeSequenceEventTouchStart),s.listener.addEventListener("touchmove",s.codeSequenceEventTouchMove),s.listener.addEventListener("touchend",s.codeSequenceEventTouchEnd,!1)},s.checkIfCodeGestureIsValid=function(){var a=Math.abs(s.startX-s.stopX),o=Math.abs(s.startY-s.stopY),l=s.startX-s.stopX<0?"rt":"lt",c=s.startY-s.stopY<0?"dn":"up",h=a>o?l:c;h=s.tap===!0?"tp":h,h===s.konamiCodeGesture.substr(0,2)?s.konamiCodeGesture=s.konamiCodeGesture.substr(2,s.konamiCodeGesture.length-2):s.konamiCodeGesture=s.originalCodeGesture,s.konamiCodeGesture.length===0&&(s.konamiCodeGesture=s.originalCodeGesture,s.afterCodeSequenceCallback(i))},s.checkDebugMode=function(a){a&&a.debug===!0?(s.debug=function(o,l){l!==void 0?console.log(o,l):console.log(o)},s.debug&&s.debug("Debug Mode On.")):s.debug=!1},s.initOptions=function(a){s.checkDebugMode(a),s.listener=a&&a.listener||document,s.afterCodeSequenceCallback=typeof a=="function"&&a||a&&typeof a.callback=="function"&&a.callback||s.defaultCallback},s.init=function(){s.input="",s.konamiCodeChar="38384040373937396665",s.konamiCodeGesture="upupdndnltrtltrttptp",s.startX=0,s.startY=0,s.stopX=0,s.stopY=0,s.tap=!1,s.capture=!1,r._numberOfInstance=r._numberOfInstance?r._numberOfInstance+1:1,s.initOptions(n),s.listenCodeCharSequence(),s.listenCodeGestureSequence()},s.init()})})(dI);var qW=dI.exports;const Bv=oI(),cf=new Float32Array(Bv.buffer,0*4,3),WW=new Float32Array(Bv.buffer,3*4,3),tc=new Float32Array(Bv.buffer,6*4,3),GW=Tn(0,1,0),Nb=ia(),ka=En();class Kp{constructor(e=!1){return this.parent=null,this.children=[],this.position=Tn(0,0,0),this.positionDamped=Tn(0,0,0),this.scale=Tn(1,1,1),this.rotation=Tn(0,0,0),this.rotationDamped=Tn(0,0,0),this.quaternion=ia(),this.matrix=Wn(),this.lmatrix=Wn(),this.damped=!1,this.dampedRot=!1,this.damping=.03,this.rotDamping=.03,this.lookAtNode=null,this.needUpdate=!0,this.forceUpdate=!1,this.manualRot=!1,this.isCamera=e,li.nextFrame(()=>{this.getMatrix()}),this}setPosition(e,n,i){this.needUpdate=!0,this.position[0]=e,this.position[1]=n,this.position[2]=i}setRotation(e,n,i){this.needUpdate=!0,this.rotation[0]=e,this.rotation[1]=n,this.rotation[2]=i}setScale(e){this.needUpdate=!0,this.scale[0]=e,this.scale[1]=e,this.scale[2]=e}activateDamping(e){this.positionDamped=zr(this.position),this.damped=!0,this.damping=e,this.needUpdate=!0,this.getMatrix()}registerNodeToLookAt(e){this.lookAtNode=e,this.needUpdate=!0}lookAt(e){this.damped?ux(tc,this.positionDamped,e):ux(tc,this.position,e),ll(tc,tc),Qr(cf,GW,tc),ll(cf,cf),Qr(WW,tc,cf),uI(Nb,Bv),this.damped?lf(this.matrix,Nb,this.positionDamped,this.scale):lf(this.matrix,Nb,this.position,this.scale),this.parent!==null&&cx(this.matrix,this.parent.getMatrix(),this.matrix),this.needUpdate=!1}getMatrix(){return!this.forceUpdate&&!this.needUpdate&&!this.damped&&this.lookAtNode==null?this.matrix:(AW(this.matrix),this.manualRot==!1&&(this.quaternion=ia(),this.dampedRot?(tu(ka,this.rotation,this.rotationDamped),Hr(ka,ka,this.rotDamping),Us(this.rotationDamped,this.rotationDamped,ka),hm(this.quaternion,this.quaternion,this.rotationDamped[1]),um(this.quaternion,this.quaternion,this.rotationDamped[0]),pm(this.quaternion,this.quaternion,this.rotationDamped[2])):(hm(this.quaternion,this.quaternion,this.rotation[1]),um(this.quaternion,this.quaternion,this.rotation[0]),pm(this.quaternion,this.quaternion,this.rotation[2]))),this.damped?(tu(ka,this.position,this.positionDamped),Hr(ka,ka,this.damping),Us(this.positionDamped,this.positionDamped,ka),lf(this.matrix,this.quaternion,this.positionDamped,this.scale)):lf(this.matrix,this.quaternion,this.position,this.scale),this.parent!==null&&cx(this.matrix,this.parent.getMatrix(),this.matrix),this.lookAtNode!==null&&(this.lookAtNode.getMatrix(),this.lookAtNode.damped?this.lookAt(this.lookAtNode.positionDamped):this.lookAt(this.lookAtNode.position),li.postFrame(()=>{this.needUpdate=!0})),this.needUpdate=!1,this.matrix)}getChildByName(e){for(let n=0;n<this.children.length;n++){const i=this.children[n];if(i.name&&i.name===e)return i}}addChildNode(e){this.children.push(e),e.parent=this}fromPositionRotationScale(e,n,i){return this.position=zr(e),this.scale=zr(i),this.rotation=zr(n),this}}class KW{constructor(e,n){this.mobile=typeof window.orientation!="undefined"||navigator.userAgent.indexOf("IEMobile")!==-1,this.dpr=n.dpr,this.width=e.offsetWidth*this.dpr,this.height=e.offsetHeight*this.dpr,this.container=e,this.active=!1,this.time=0,this.dt=0,this.passes=[],n!==null?(this.manager=n,this.canvas=this.manager.canvas,this.gl=this.manager.gl):this.catchContext(),this.inTransition=!1,this.root=new Kp,this._emitter={},gu(this._emitter),this.on=this._emitter.on.bind(this._emitter),window.addEventListener("resize",this.onResize.bind(this))}getNode(e){for(let n=0;n<this.nodes.length;n++)if(this.nodes[n].name==e)return this.nodes[n]}getMesh(e){for(let n=0;n<this.meshes.length;n++)if(this.meshes[n].name==e)return this.meshes[n]}getMeshes(e){let n=[];for(let i=0;i<this.meshes.length;i++)this.meshes[i].name==e&&n.push(this.meshes[i]);return n}catchContext(){if(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.maxWidth=this.container.offsetWidth+"px",this.canvas.style.maxHeight=this.container.offsetHeight+"px",this.container.appendChild(this.canvas),this.gl=this.canvas.getContext("webgl",{}),this.gl===void 0)return;let e=this.gl.getExtension("OES_vertex_array_object");e&&(this.gl.createVertexArray=function(){return e.createVertexArrayOES()},this.gl.deleteVertexArray=function(n){e.deleteVertexArrayOES(n)},this.gl.bindVertexArray=function(n){e.bindVertexArrayOES(n)},this.gl.isVertexArray=function(n){return e.isVertexArrayOES(n)}),this.gl.getExtension("OES_standard_derivatives"),this.gl.getExtension("EXT_shader_texture_lod"),this.gl.getExtension("OES_texture_float"),this.gl.getExtension("OES_texture_float_linear"),this.gl.getExtension("OES_texture_half_float"),this.gl.getExtension("OES_texture_half_float_linear"),this.gl.getExtension("EXT_color_buffer_half_float")}resize(){for(let e=0;e<this.passes.length;e++)this.passes[e].onResize()}onResize(){this.inTransition&&this.mobile||(this.width=this.container.offsetWidth*this.dpr,this.height=this.container.offsetHeight*this.dpr,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.maxWidth=this.container.offsetWidth+"px",this.canvas.style.maxHeight=this.container.offsetHeight+"px",this.gl.viewport(0,0,this.width,this.height),this.resize&&this.resize())}}const EE=new Uint8Array(4);function TE(t){return(t&t-1)===0}let YW=1;class Kt{constructor(e,{image:n,target:i=e.TEXTURE_2D,type:s=e.UNSIGNED_BYTE,format:r=e.RGBA,internalFormat:a=r,rt:o=null,depth:l=!1,pass:c=null,wrapS:h=e.CLAMP_TO_EDGE,wrapT:p=e.CLAMP_TO_EDGE,generateMipmaps:d=!0,minFilter:g=d?e.NEAREST_MIPMAP_LINEAR:e.LINEAR,magFilter:x=e.LINEAR,premultiplyAlpha:S=!1,unpackAlignment:m=4,flipY:_=i==e.TEXTURE_2D,anisotropy:y=0,level:T=0,width:C,height:A=C}={}){this.gl=e,this.id=YW++,this.image=n,this.target=i,this.type=s,this.format=r,this.rt=o,this.depth=l,this.pass=c,this.internalFormat=a,this.minFilter=g,this.magFilter=x,this.wrapS=h,this.wrapT=p,this.generateMipmaps=d,this.premultiplyAlpha=S,this.unpackAlignment=m,this.flipY=_,this.anisotropy=Math.min(y,this.gl.renderer.parameters.maxAnisotropy),this.level=T,this.width=C,this.height=A,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.rt!==null?this.depth?this.gl.bindTexture(this.target,this.rt.getDepthTexture()):this.gl.bindTexture(this.target,this.rt.getTexture()):this.pass!==null?this.gl.bindTexture(this.target,this.pass.getTexture()):this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id}update(e=0){const n=!(this.image===this.store.image&&!this.needsUpdate);if((n||this.glState.textureUnits[e]!==this.id)&&(this.gl.renderer.activeTexture(e),this.bind()),!!n){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,this.level,this.internalFormat,this.format,this.type,this.image[i]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let i=0;i<this.image.length;i++)this.gl.compressedTexImage2D(this.target,i,this.internalFormat,this.image[i].width,this.image[i].height,0,this.image[i].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!TE(this.image.width)||!TE(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,EE);else this.width?this.rt===null&&this.pass===null&&this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.rt===null&&this.pass===null&&this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,EE);this.store.image=this.image}}}let Lb,Fb=0;class XW{constructor(e){Lb||(Lb=this.getSupportedFormat()),this.onMessage=this.onMessage.bind(this),this.queue=new Map,this.initWorker(e)}getSupportedFormat(){const e=document.createElement("canvas").getContext("webgl");return e.getExtension("WEBGL_compressed_texture_etc")?"etc2":e.getExtension("WEBGL_compressed_texture_astc")?"astc":e.getExtension("EXT_texture_compression_bptc")?"bptc":e.getExtension("WEBGL_compressed_texture_s3tc")?"s3tc":e.getExtension("WEBGL_compressed_texture_etc1")?"etc1":!!e.getExtension("WEBGL_compressed_texture_pvrtc")||!!e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc")?"pvrtc":"none"}initWorker(e){this.worker=new Worker(e),this.worker.onmessage=this.onMessage}onMessage({data:e}){const{id:n,error:i,image:s}=e;if(i){console.log(i,n);return}const r=this.queue.get(n);this.queue.delete(n),s.isBasis=!0,r(s)}parseTexture(e){Fb++,this.worker.postMessage({id:Fb,buffer:e,supportedFormat:Lb});let n;const i=new Promise(s=>n=s);return this.queue.set(Fb,n),i}}class QW{constructor(e){this.scene=e,this.gl=e.gl,this.textures={},this.currentUnit=0;let n=this.gl;this.isCompressedSupport=!1;const i={astcSupported:!!n.renderer.getExtension("WEBGL_compressed_texture_astc"),etc1Supported:!!n.renderer.getExtension("WEBGL_compressed_texture_etc1"),etc2Supported:!!n.renderer.getExtension("WEBGL_compressed_texture_etc"),dxtSupported:!!n.renderer.getExtension("WEBGL_compressed_texture_s3tc"),bptcSupported:!!n.renderer.getExtension("EXT_texture_compression_bptc"),pvrtcSupported:!!n.renderer.getExtension("WEBGL_compressed_texture_pvrtc")||!!n.renderer.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc")};for(const[s,r]of Object.entries(i))r&&(this.isCompressedSupport=!0);this.basisManager=new XW("/vendors/basis/BasisWorker.js")}load(e,n,i){let s=i.indexOf("compressed")>-1,r=i.indexOf("transparent")>-1,a=i.filter(p=>{if(p.indexOf("lodTarget")!==-1)return!0})[0];a=a!==void 0?a.replace("lodTarget=",""):null;let o=a!==null,l=e.replace(/^.*[\\\/]/,""),c=e.replace(l,""),h=e;if(o&&(h=`${c}${a}/${l}${r?".png":".jpg"}`),s&&this.isCompressedSupport)return o?h=`${c}${a}/${l}.ktx2`:h=`${c}${l.replace(/\.[^/.]+$/,"")}.ktx2`,this.textures[n]={options:i},new Promise(d=>{fetch(h).then(g=>{g.arrayBuffer().then(x=>{this.basisManager.parseTexture(x).then(S=>{const m=this.initCompressedTexture(S,i);this.textures[n].texture=m,this.textures[n].unit=this.currentUnit,m.update(),this.currentUnit++,d(m)})})})});{let p=new Image;p.crossOrigin="anonymous";const d=new Promise(g=>{p.onload=()=>{let x=this.initTexture(p,i);this.textures[n].texture=x,this.textures[n].unit=this.currentUnit,this.currentUnit++,g(x)}});return p.src=h,this.textures[n]={img:p,options:i},d}}initCompressedTexture(e,n){const i=this.gl,s=new Kt(i,{generateMipmaps:n.indexOf("mipmap")>-1,internalFormat:e.internalFormat});return s.image=e,s.flipY=!n.indexOf("flipY")>-1,s.wrapS=n.indexOf("mirror")>-1?i.MIRRORED_REPEAT:i.CLAMP_TO_EDGE,s.wrapT=n.indexOf("mirror")>-1?i.MIRRORED_REPEAT:i.CLAMP_TO_EDGE,s.wrapS=n.indexOf("repeat")>-1?i.REPEAT:s.wrapS,s.wrapT=n.indexOf("repeat")>-1?i.REPEAT:s.wrapT,s.wrapS=n.indexOf("clamp")>-1?i.CLAMP_TO_EDGE:s.wrapS,s.wrapT=n.indexOf("clamp")>-1?i.CLAMP_TO_EDGE:s.wrapT,s.minFilter=n.indexOf("nearest")>-1?i.NEAREST:s.minFilter,s.magFilter=n.indexOf("nearest")>-1?i.NEAREST:s.magFilter,s.needsUpdate=!0,s}initTexture(e,n){const i=this.gl,s=new Kt(i,{generateMipmaps:n.indexOf("mipmap")>-1,flipY:n.indexOf("flipY")>-1});return s.image=e,s.wrapS=n.indexOf("mirror")>-1?i.MIRRORED_REPEAT:i.CLAMP_TO_EDGE,s.wrapT=n.indexOf("mirror")>-1?i.MIRRORED_REPEAT:i.CLAMP_TO_EDGE,s.wrapS=n.indexOf("repeat")>-1?i.REPEAT:s.wrapS,s.wrapT=n.indexOf("repeat")>-1?i.REPEAT:s.wrapT,s.wrapS=n.indexOf("clamp")>-1?i.CLAMP_TO_EDGE:s.wrapS,s.wrapT=n.indexOf("clamp")>-1?i.CLAMP_TO_EDGE:s.wrapT,s.minFilter=n.indexOf("nearest")>-1?i.NEAREST:s.minFilter,s.magFilter=n.indexOf("nearest")>-1?i.NEAREST:s.magFilter,s}get(e){if(this.textures[e])return this.textures[e]}getTexture(e){if(this.textures[e])return this.textures[e].texture}getImage(e){return this.textures[e]?this.textures[e].img:null}}const JW=()=>{const t=window.matchMedia("(pointer:coarse)");return!!(t&&t.matches)},ZW=window.navigator.userAgent;navigator.userAgent.indexOf("Firefox")>-1;!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;/constructor/i.test(window.HTMLElement)||function(t){return t.toString()==="[object SafariRemoteNotification]"}(!window.safari||typeof safari!="undefined"&&safari.pushNotification);window.chrome&&(window.chrome.webstore||window.chrome.runtime);const dm=JW(),eG=ZW.match(/(iPad)/)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,tG=!dm&&!eG;function nG(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}nG();var fr={main:{test:{url:"/glxp/UV_Grid.ktx2",options:["compressed"]},testPng:{url:"/glxp/UV_Grid.png",options:[]},brdfLUT:{url:"/glxp/brdfLUT.png",options:["clamp"]},LightWhite:{url:"/glxp/environment/LightWhite.jpg",options:["repeat","nearest","compressed"]},LightBlack:{url:"/glxp/environment/LightBlack.jpg",options:["repeat","nearest","compressed"]},LightRed:{url:"/glxp/environment/LightRed3.jpg",options:["repeat","nearest"]},SkyboxWhite:{url:"/glxp/environment/SkyboxWhite.jpg",options:["repeat","nearest"]},SkyboxBlack:{url:"/glxp/environment/SkyboxBlack.jpg",options:["repeat","nearest"]},SkyboxRed:{url:"/glxp/environment/SkyboxRed.jpg",options:["repeat","nearest"]},noiseGroundTest:{url:"/glxp/concrete_disp.jpg",options:["repeat","compressed"]},env_diffuse:{url:"/glxp/environment/diffuse.png",options:["repeat","nearest","compressed"]},env_default:{url:"/glxp/environment/oberer_kuhberg.jpg",options:["repeat","nearest","compressed"]},env_diffuse_grey:{url:"/glxp/environment/diffuse-grey.jpg",options:["repeat","nearest"]},env_studio:{url:"/glxp/environment/studio.jpg",options:["repeat","nearest"]},"fur-density":{url:"/textures/Common/fur-density.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},"header-title-sdf":{url:"/textures/Common/logo-anim-spritesheet.png",options:["flipY","repeat","compressed","linear"]},"header-title-mobile-sdf":{url:"/textures/Common/logo-anim-spritesheet-mobile.png",options:["flipY","repeat","compressed","linear"]},"anotations-01":{url:"/textures/Common/ornement-spritesheet-01.png",options:["flipY","repeat","lodTarget=512","transparent"]},"anotations-02":{url:"/textures/Common/ornement-spritesheet-02.png",options:["flipY","repeat","lodTarget=512","transparent"]},"blue-noise":{url:"/textures/Common/blue-noise.jpg",options:["repeat","mipmap"]},"ape-lowpoly_brown_Normal":{url:"/textures/Hape_0002/ape-lowpoly_brown_Normal.png",options:["repeat","flipY","lodTarget=2048"]},White_Hape_AO:{url:"/textures/Hape_0002/White_Hape_Mixed_AO.png",options:["repeat","flipY","compressed","lodTarget=512"]},Eyes_Oblivion:{url:"/textures/Hape_0002/Eyes_Oblivion.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},Eyes_Oblivion_Lumi:{url:"/textures/Hape_0002/Eyes_Oblivion_Lumi.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},Jersey_Color:{url:"/textures/Hape_0002/Jersey_Leather_small_FABRIC_Color.1001.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},Jersey_Normal:{url:"/textures/Hape_0002/Jersey_Leather_small_FABRIC_Normal.1001.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Jersey_AO:{url:"/textures/Hape_0002/Jersey_AO_02.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},Jersey_MetalicRoughness:{url:"/textures/Hape_0002/Jersey_Leather_small_FABRIC_MetalicRoughness.1001.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},Shorts_BaseColor:{url:"/textures/Hape_0002/Shorts_leather_FRONT_839862_BaseColor.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},Shorts_Normal:{url:"/textures/Hape_0002/Shorts_leather_FRONT_839862_Normal.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Shorts_AO:{url:"/textures/Hape_0002/Shorts_Mixed_AO.png",options:["repeat","flipY","compressed","lodTarget=512"]},Plastic_AO:{url:"/textures/Hape_0002/Plastic_AO.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},Plastic_Matte_AO:{url:"/textures/Hape_0002/Plastic_Matte_Mixed_AO.png",options:["repeat","flipY","compressed","lodTarget=256"]},chilli_l_BaseColor:{url:"/textures/Hape_0002/uploads_files_312697_chilli_l_BaseColor.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},chilli_l_Normal:{url:"/textures/Hape_0002/uploads_files_312697_chilli_l_Normal.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},chilli_r_BaseColor:{url:"/textures/Hape_0002/uploads_files_312697_chilli_r_BaseColor.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},chilli_r_Normal:{url:"/textures/Hape_0002/uploads_files_312697_chilli_r_Normal.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Shoe_R_AO:{url:"/textures/Hape_0002/Shoe_R_AO.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},Shoe_L_AO:{url:"/textures/Hape_0002/Shoe_L_AO.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},FABRIC_AO:{url:"/textures/Hape_0002/FABRIC_AO.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Snapback_Eyelets_AO:{url:"/textures/Hape_0002/Snapback_Eyelets_AO.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},"Snapback-Cap-1-Normal":{url:"/textures/Hape_0002/Snapback-Cap_FBX_NOLOGO_Cloth-Grey_1_Normal.1001.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},"Snapback-Cap-2-Normal":{url:"/textures/Hape_0002/Snapback-Cap_FBX_NOLOGO_Cloth-Grey_2_Normal.1001.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Snapback_Tapping_AO:{url:"/textures/Hape_0002/Snapback_Tapping_AO.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},Snapback_Brim_AO:{url:"/textures/Hape_0002/Snapback_Brim_AO.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},Obsidian_BaseColor:{url:"/textures/Hape_0003/fbx-ape-lores_Obsidian_BaseColor.1001A.jpg",options:["repeat","flipY","lodTarget=2048"]},Obsidian_Normal:{url:"/textures/Hape_0003/fbx-ape-lores_Obsidian_Normal.1001.jpg",options:["repeat","flipY","lodTarget=2048"]},Mat_AO:{url:"/textures/Hape_0003/Mat_AO.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},DefaultMaterial_Base_color_1:{url:"/textures/Hape_0003/DefaultMaterial_Base_color_1.png",options:["repeat","flipY","compressed","lodTarget=512"]},DefaultMaterial_Normal_OpenGL:{url:"/textures/Hape_0003/DefaultMaterial_Normal_OpenGL.png",options:["repeat","flipY","compressed","lodTarget=1024"]},"Mat.2_AO":{url:"/textures/Hape_0003/Mat.2_AO.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},FivePanel_Black_Color:{url:"/textures/Hape_0003/uploads_files_2938648_High(FBX)_FivePanel_Black_Color.1001.png",options:["repeat","flipY","compressed","lodTarget=512"]},Hat_FivePanel_AO:{url:"/textures/Hape_0003/Hat_FivePanel_AO.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Hat_FivePanel_Normal:{url:"/textures/Hape_0003/uploads_files_2938648_HighFBX_FivePanel_Black_Normal.1001.png",options:["repeat","flipY","lodTarget=1024"]},Laces_AO:{url:"/textures/Hape_0003/Laces_AO.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Bronx_BaseColor_A:{url:"/textures/Hape_0003/Bronx_Fixed_Bronx_Black_BaseColor_A.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},Bronx_BaseColor_Normal:{url:"/textures/Hape_0003/Bronx_Fixed_Bronx_Black_Normal.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Bronx_BaseColor_MR:{url:"/textures/Hape_0003/Bronx_Fixed_Bronx_Black_Invert_Metallic_Roughness.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},Shoe_Left_AO:{url:"/textures/Hape_0003/Shoe_Left_AO.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Model_B2_Shirt_Colorb:{url:"/textures/Hape_0003/Model_B2_Shirt_Colorb.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},Model_B2_Shirt_Normal:{url:"/textures/Hape_0003/Model_B2_Shirt_Normal.jpg",options:["repeat","flipY","lodTarget=2048"]},Shirt_AO:{url:"/textures/Hape_0003/Shirt_AO.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},Eyes_Red:{url:"/textures/Hape_0003/Eyes_Red.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Fleece_Terry_Base_Color:{url:"/textures/Hape_0001/Fleece_Terry_FCL1PSK002_Base_Color_1001.png",options:["repeat","flipY","compressed","lodTarget=512"]},Fleece_Terry_Base_Normal:{url:"/textures/Hape_0001/Fleece_Terry_FCL1PSK002_Normal_DirectX_1001.png",options:["repeat","flipY","compressed","lodTarget=512"]},Beanie_01_AO:{url:"/textures/Hape_0001/Beanie_01_AO.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Fleece_Terry_FCL1PSK002_Metallic_1001:{url:"/textures/Hape_0001/Fleece_Terry_FCL1PSK002_Metallic_1001.png",options:["repeat","flipY","compressed","lodTarget=512"]},Fleece_Terry_FCL1PSK002_FRONT_3990_Normal:{url:"/textures/Hape_0001/Fleece_Terry_FCL1PSK002_FRONT_3990_Normal_DirectX_1001.png",options:["repeat","flipY","compressed","lodTarget=512"]},"Beanie_01.1_AO":{url:"/textures/Hape_0001/Beanie_01.1_AO.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},uploads_files_312697_chilli_l_BaseColor:{url:"/textures/Hape_0001/uploads_files_312697_chilli_l_BaseColor.jpg",options:["repeat","flipY","compressed","lodTarget=256"]},Shoe_L_AO:{url:"/textures/Hape_0001/Shoe_L_AO.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Joggers_pants_stripes_FRONT_559276_Color:{url:"/textures/Hape_0001/Joggers_pants_stripes_FRONT_559276_Color.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},Joggers_pants_stripes_FRONT_559276_Normal:{url:"/textures/Hape_0001/Joggers_pants_stripes_FRONT_559276_Normal.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},Pants2_AO:{url:"/textures/Hape_0001/Pants2_AO.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},Pants1_AO:{url:"/textures/Hape_0001/Pants1_AO.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Joggers_pants_FRONT_559266_Color:{url:"/textures/Hape_0001/Joggers_pants_FRONT_559266_Color.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Joggers_pants_FRONT_559266_Normal:{url:"/textures/Hape_0001/Joggers_pants_FRONT_559266_Normal.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},Crewneck_02_Rib_1X1_486gsm_FRONT_275635_Color:{url:"/textures/Hape_0001/Crewneck_02_Rib_1X1_486gsm_FRONT_275635_Color.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},Crewneck_02_Rib_1X1_486gsm_FRONT_275635_Normal:{url:"/textures/Hape_0001/Crewneck_02_Rib_1X1_486gsm_FRONT_275635_Normal.jpg",options:["repeat","flipY","lodTarget=2048"]},Crewneck_AO:{url:"/textures/Hape_0001/Crewneck_AO.jpg",options:["repeat","flipY","compressed","lodTarget=1024"]},Mat_AO_02:{url:"/textures/Hape_0001/Mat_AO.jpg",options:["repeat","flipY","compressed","lodTarget=512"]},"fbx-ape-lores_Obsidian_Color.1001_A":{url:"/textures/Hape_0001/fbx-ape-lores_Obsidian_Color.1001_A.jpg",options:["repeat","flipY","lodTarget=1024"]},"fbx-ape-lores_Obsidian_Normal.1001":{url:"/textures/Hape_0001/fbx-ape-lores_Obsidian_Normal.1001.jpg",options:["repeat","flipY","lodTarget=1024"]}},audio:{},mp3:{},materials:{Exemple:{albedoColor:"#ffffff",albedoMap:"#ffffff",metallicRoughnessTexture:"foo",emissiveTexture:"foo",emissiveFactor:"#FFFFFF",occlusionTexture:"foo",normalTexture:"foo",IBL:1,NormalScale:1,MetalicFactor:1e-5,RoughnessFactor:1,OcclusionFactor:1},Alpha_Surface:{albedoColor:"#ffaa27",IBL:4.1,NormalScale:1,MetalicFactor:2,RoughnessFactor:1e-5},Alpha_Joints:{albedoColor:"#000000",IBL:4.1,NormalScale:1,MetalicFactor:2,RoughnessFactor:1e-5},Hape_002_Body_ALL:{albedoColor:"#ffffff",normalTexture:"ape-lowpoly_brown_Normal",occlusionTexture:"White_Hape_AO",IBL:1,NormalScale:1,MetalicFactor:1e-5,RoughnessFactor:1,OcclusionFactor:1},Hape_002_Eyes:{albedoColor:"#ffffff",albedoMap:"Eyes_Oblivion",emissiveTexture:"Eyes_Oblivion_Lumi",emissiveFactor:"#FFFFFF",IBL:3.5,NormalScale:1,MetalicFactor:.8,RoughnessFactor:0,OcclusionFactor:0},Hape_002_Shorts:{albedoColor:"#ffffff",albedoMap:"Shorts_BaseColor",normalTexture:"Shorts_Normal",occlusionTexture:"Shorts_AO",IBL:1,NormalScale:1,MetalicFactor:1e-5,RoughnessFactor:1.6,OcclusionFactor:1},Hape_002_Tee_shirt_part1:{albedoColor:"#ffffff",albedoMap:"Jersey_Color",metallicRoughnessTexture:"Jersey_MetalicRoughness",normalTexture:"Jersey_Normal",occlusionTexture:"Jersey_AO",IBL:1,NormalScale:1,MetalicFactor:1e-5,RoughnessFactor:1.6,OcclusionFactor:0},Hape_002_Gold:{albedoColor:"#ffaa27",occlusionTexture:"Plastic_AO",IBL:4.1,NormalScale:1,MetalicFactor:2,RoughnessFactor:1e-5},Hape_002_Tee_shirt_part2:{albedoColor:"#ffffff",IBL:1,NormalScale:1,MetalicFactor:.33,RoughnessFactor:2.38},Hape_002_Chain_01:{albedoColor:"#ffffff",occlusionTexture:"Plastic_Matte_AO",IBL:2.75,NormalScale:1,MetalicFactor:.7,RoughnessFactor:.5},Hape_002_Shoe_R:{albedoColor:"#ffffff",albedoMap:"chilli_r_BaseColor",normalTexture:"chilli_r_Normal",occlusionTexture:"Shoe_R_AO",IBL:1.8,NormalScale:.2,MetalicFactor:.4,RoughnessFactor:1.2},Hape_002_Shoe_L:{albedoColor:"#ffffff",albedoMap:"chilli_l_BaseColor",normalTexture:"chilli_l_Normal",occlusionTexture:"Shoe_L_AO",IBL:1.8,NormalScale:.2,MetalicFactor:.4,RoughnessFactor:1.2},Hape_002_Snapback_Cap_Part1:{albedoColor:"#ffffff",occlusionTexture:"Snapback_Eyelets_AO",IBL:2,NormalScale:.5,MetalicFactor:.4,RoughnessFactor:.75},Hape_002_Snapback_Cap_Part2:{albedoColor:"#ffffff",normalTexture:"Snapback-Cap-1-Normal",occlusionTexture:"Snapback_Tapping_AO",IBL:2,NormalScale:.5,MetalicFactor:.4,RoughnessFactor:.75},Hape_002_Snapback_Cap_Part3:{albedoColor:"#ffffff",normalTexture:"Snapback-Cap-2-Normal",occlusionTexture:"Snapback_Brim_AO",IBL:2,NormalScale:.5,MetalicFactor:.4,RoughnessFactor:.75},Hape_002_Snapback_Cap_Part4:{albedoColor:"#ffffff",IBL:2,NormalScale:.5,MetalicFactor:.4,RoughnessFactor:.75},Hape_002_Glasses:{albedoColor:"#ffffff",IBL:4.5,NormalScale:.5,MetalicFactor:.85,RoughnessFactor:.75},Hape_002_Arm_L_000:{albedoColor:"#ffffff",IBL:4.5,NormalScale:.5,MetalicFactor:.85,RoughnessFactor:.75},Hape_002_Arm_R_000:{albedoColor:"#ffffff",IBL:4.5,NormalScale:.5,MetalicFactor:.85,RoughnessFactor:.75},Hape_003_Body:{albedoColor:"#ffffff",albedoMap:"Obsidian_BaseColor",normalTexture:"Obsidian_Normal",occlusionTexture:"Mat_AO",IBL:1,NormalScale:2,MetalicFactor:1e-5,RoughnessFactor:1,OcclusionFactor:1},Hape_003_Pants:{albedoColor:"#ffffff",albedoMap:"DefaultMaterial_Base_color_1",normalTexture:"DefaultMaterial_Normal_OpenGL",occlusionTexture:"Mat.2_AO",IBL:1.85,NormalScale:1.5,MetalicFactor:.4,RoughnessFactor:.75,OcclusionFactor:1},Hape_003_FivePanel_Black:{albedoColor:"#ffffff",albedoMap:"FivePanel_Black_Color",occlusionTexture:"Hat_FivePanel_AO",normalTexture:"Hat_FivePanel_Normal",IBL:1.85,NormalScale:1.5,MetalicFactor:.3,RoughnessFactor:1.6,OcclusionFactor:1},Hape_003_Laces_2:{albedoColor:"#000000",IBL:5,NormalScale:1,MetalicFactor:.5,RoughnessFactor:.3,OcclusionFactor:1},Hape_003_Laces_1:{albedoColor:"#ff0000",occlusionTexture:"Laces_AO",IBL:1.75,NormalScale:1,MetalicFactor:.5,RoughnessFactor:2,OcclusionFactor:1},Hape_003_Default:{albedoColor:"#ffffff",albedoMap:"Bronx_BaseColor_A",normalTexture:"Bronx_BaseColor_Normal",metallicRoughnessTexture:"Bronx_BaseColor_MR",occlusionTexture:"Shoe_Left_AO",IBL:3,NormalScale:1.8,MetalicFactor:.6,RoughnessFactor:.88,OcclusionFactor:1},Hape_003_Default_2:{albedoColor:"#ffffff",albedoMap:"Bronx_BaseColor_A",normalTexture:"Bronx_BaseColor_Normal",metallicRoughnessTexture:"Bronx_BaseColor_MR",occlusionTexture:"Shoe_Left_AO",IBL:3,NormalScale:1.8,MetalicFactor:.6,RoughnessFactor:.88,OcclusionFactor:1},Hape_003_Default_3_2:{albedoColor:"#ffffff",albedoMap:"Model_B2_Shirt_Colorb",normalTexture:"Model_B2_Shirt_Normal",occlusionTexture:"Shirt_AO",IBL:2,NormalScale:1.5,MetalicFactor:.7,RoughnessFactor:.75,OcclusionFactor:1},Hape_003_Default_3_1:{albedoColor:"#000000",IBL:5,NormalScale:1,MetalicFactor:.5,RoughnessFactor:.3,OcclusionFactor:1},Hape_003_D_Print_Smooth_Ape_Model_eye_r:{albedoColor:"#ffffff",albedoMap:"Eyes_Red",IBL:5,NormalScale:1,MetalicFactor:.5,RoughnessFactor:.3,OcclusionFactor:1},Hape_003_D_Print_Smooth_Ape_Model_eye_l:{albedoColor:"#ffffff",albedoMap:"Eyes_Red",IBL:5,NormalScale:1,MetalicFactor:.5,RoughnessFactor:.3,OcclusionFactor:1},Hape_001_beanie_part1:{albedoColor:"#ffffff",albedoMap:"Fleece_Terry_Base_Color",normalTexture:"Fleece_Terry_Base_Normal",occlusionTexture:"Beanie_01_AO",IBL:2,NormalScale:.5,MetalicFactor:.4,RoughnessFactor:.75},Hape_001_beanie_part2:{albedoColor:"#ffffff",albedoMap:"Fleece_Terry_FCL1PSK002_Metallic_1001",normalTexture:"Fleece_Terry_FCL1PSK002_FRONT_3990_Normal",occlusionTexture:"Beanie_01.1_AO",IBL:2,NormalScale:.5,MetalicFactor:.4,RoughnessFactor:.75},Hape_001_gold_piercing_glass:{albedoColor:"#ffaa27",IBL:4.1,NormalScale:1,MetalicFactor:2,RoughnessFactor:1e-5},Hape_001_gold_piercing_glass:{albedoColor:"#ffaa27",IBL:4.1,NormalScale:1,MetalicFactor:2,RoughnessFactor:1e-5},Hape_001_glasses_monture:{albedoColor:"#060606",IBL:4.5,NormalScale:.5,MetalicFactor:.85,RoughnessFactor:.75},Hape_001_glasses_glass:{albedoColor:"#000000",IBL:4.5,NormalScale:.5,MetalicFactor:.85,RoughnessFactor:.75,Alpha:.5},Hape_001_eye_r:{albedoColor:"#ffffff",albedoMap:"Eyes_Oblivion",IBL:5,NormalScale:1,MetalicFactor:.5,RoughnessFactor:.3,OcclusionFactor:1},Hape_001_eye_l:{albedoColor:"#ffffff",albedoMap:"Eyes_Oblivion",IBL:5,NormalScale:1,MetalicFactor:.5,RoughnessFactor:.3,OcclusionFactor:1},Hape_001_shoes_l:{albedoColor:"#ffffff",albedoMap:"uploads_files_312697_chilli_l_BaseColor",occlusionTexture:"Shoe_L_AO",IBL:3,NormalScale:1,MetalicFactor:.3,RoughnessFactor:.6,OcclusionFactor:1},Hape_001_shoes_r:{albedoColor:"#ffffff",albedoMap:"uploads_files_312697_chilli_l_BaseColor",occlusionTexture:"Shoe_L_AO",IBL:3,NormalScale:1,MetalicFactor:.3,RoughnessFactor:.6,OcclusionFactor:1},Hape_001_pants_border:{albedoColor:"#ffffff",albedoMap:"Joggers_pants_stripes_FRONT_559276_Color",normalTexture:"Joggers_pants_stripes_FRONT_559276_Normal",occlusionTexture:"Pants2_AO",IBL:2,NormalScale:.5,MetalicFactor:.4,RoughnessFactor:.75},Hape_001_pants:{albedoColor:"#ffffff",albedoMap:"Joggers_pants_FRONT_559266_Color",normalTexture:"Joggers_pants_FRONT_559266_Normal",occlusionTexture:"Pants1_AO",IBL:2,NormalScale:.5,MetalicFactor:.4,RoughnessFactor:.75},Hape_001_pull:{albedoColor:"#ffffff",albedoMap:"Crewneck_02_Rib_1X1_486gsm_FRONT_275635_Color",normalTexture:"Crewneck_02_Rib_1X1_486gsm_FRONT_275635_Normal",occlusionTexture:"Crewneck_AO",IBL:2,NormalScale:.5,MetalicFactor:.4,RoughnessFactor:.75},Hape_001_body:{albedoColor:"#ffffff",albedoMap:"fbx-ape-lores_Obsidian_Color.1001_A",normalTexture:"fbx-ape-lores_Obsidian_Normal.1001",occlusionTexture:"Mat_AO_02",IBL:2,NormalScale:.5,MetalicFactor:.4,RoughnessFactor:.75},"Tube-01":{albedoColor:"#f89090",emissiveColor:"#ff2613",emissivePower:2.5,IBL:10,MetalicFactor:.2,RoughnessFactor:.5},"Tube-02":{albedoColor:"#f89090",emissiveColor:"#ff2613",emissivePower:2.5,IBL:10,MetalicFactor:.2,RoughnessFactor:.5},"Tube-03":{albedoColor:"#f89090",emissiveColor:"#ff2613",emissivePower:2.5,IBL:10,MetalicFactor:.2,RoughnessFactor:.5},"Tube-04":{albedoColor:"#f89090",emissiveColor:"#ff2613",emissivePower:2.5,IBL:10,MetalicFactor:.2,RoughnessFactor:.5},"Tube-05":{albedoColor:"#f89090",emissiveColor:"#ff2613",emissivePower:2.5,IBL:10,MetalicFactor:.2,RoughnessFactor:.5},"Tube-06":{albedoColor:"#f89090",emissiveColor:"#ff2613",emissivePower:2.5,IBL:10,MetalicFactor:.2,RoughnessFactor:.5}}},fI={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function(){function n(i,s,r){function a(c,h){if(!s[c]){if(!i[c]){var p=typeof tf=="function"&&tf;if(!h&&p)return p(c,!0);if(o)return o(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var g=s[c]={exports:{}};i[c][0].call(g.exports,function(x){var S=i[c][1][x];return a(S||x)},g,g.exports,n,i,s,r)}return s[c].exports}for(var o=typeof tf=="function"&&tf,l=0;l<r.length;l++)a(r[l]);return a}return n}()({1:[function(n,i,s){/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var r=n("fs"),a=n("path"),o=n("./utils"),l=!1,c=n("../package.json").version,h="<",p=">",d="%",g="locals",x="ejs",S="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",m=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],_=m.concat("cache"),y=/^\uFEFF/;s.cache=o.cache,s.fileLoader=r.readFileSync,s.localsName=g,s.promiseImpl=new Function("return this;")().Promise,s.resolveInclude=function(D,G,O){var J=a.dirname,X=a.extname,ae=a.resolve,me=ae(O?G:J(G),D),Ae=X(D);return Ae||(me+=".ejs"),me};function T(D,G){var O;if(G.some(function(J){return O=s.resolveInclude(D,J,!0),r.existsSync(O)}))return O}function C(D,G){var O,J,X=G.views,ae=/^[A-Za-z]+:\\|^\//.exec(D);if(ae&&ae.length)D=D.replace(/^\/*/,""),Array.isArray(G.root)?O=T(D,G.root):O=s.resolveInclude(D,G.root||"/",!0);else if(G.filename&&(J=s.resolveInclude(D,G.filename),r.existsSync(J)&&(O=J)),!O&&Array.isArray(X)&&(O=T(D,X)),!O&&typeof G.includer!="function")throw new Error('Could not find the include file "'+G.escapeFunction(D)+'"');return O}function A(D,G){var O,J=D.filename,X=arguments.length>1;if(D.cache){if(!J)throw new Error("cache option requires a filename");if(O=s.cache.get(J),O)return O;X||(G=P(J).toString().replace(y,""))}else if(!X){if(!J)throw new Error("Internal EJS error: no file name or template provided");G=P(J).toString().replace(y,"")}return O=s.compile(G,D),D.cache&&s.cache.set(J,O),O}function k(D,G,O){var J;if(O){try{J=A(D)(G)}catch(X){return O(X)}O(null,J)}else{if(typeof s.promiseImpl=="function")return new s.promiseImpl(function(X,ae){try{J=A(D)(G),X(J)}catch(me){ae(me)}});throw new Error("Please provide a callback function")}}function P(D){return s.fileLoader(D)}function N(D,G){var O=o.shallowCopy({},G);if(O.filename=C(D,O),typeof G.includer=="function"){var J=G.includer(D,O.filename);if(J&&(J.filename&&(O.filename=J.filename),J.template))return A(O,J.template)}return A(O)}function I(D,G,O,J,X){var ae=G.split(`
`),me=Math.max(J-3,0),Ae=Math.min(ae.length,J+3),Oe=X(O),Be=ae.slice(me,Ae).map(function(we,Se){var We=Se+me+1;return(We==J?" >> ":"    ")+We+"| "+we}).join(`
`);throw D.path=Oe,D.message=(Oe||"ejs")+":"+J+`
`+Be+`

`+D.message,D}function j(D){return D.replace(/;(\s*$)/,"$1")}s.compile=function(G,O){var J;return O&&O.scope&&(l||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),l=!0),O.context||(O.context=O.scope),delete O.scope),J=new V(G,O),J.compile()},s.render=function(D,G,O){var J=G||{},X=O||{};return arguments.length==2&&o.shallowCopyFromList(X,J,m),A(X,D)(J)},s.renderFile=function(){var D=Array.prototype.slice.call(arguments),G=D.shift(),O,J={filename:G},X,ae;return typeof arguments[arguments.length-1]=="function"&&(O=D.pop()),D.length?(X=D.shift(),D.length?o.shallowCopy(J,D.pop()):(X.settings&&(X.settings.views&&(J.views=X.settings.views),X.settings["view cache"]&&(J.cache=!0),ae=X.settings["view options"],ae&&o.shallowCopy(J,ae)),o.shallowCopyFromList(J,X,_)),J.filename=G):X={},k(J,X,O)},s.Template=V,s.clearCache=function(){s.cache.reset()};function V(D,G){G=G||{};var O={};this.templateText=D,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",O.client=G.client||!1,O.escapeFunction=G.escape||G.escapeFunction||o.escapeXML,O.compileDebug=G.compileDebug!==!1,O.debug=!!G.debug,O.filename=G.filename,O.openDelimiter=G.openDelimiter||s.openDelimiter||h,O.closeDelimiter=G.closeDelimiter||s.closeDelimiter||p,O.delimiter=G.delimiter||s.delimiter||d,O.strict=G.strict||!1,O.context=G.context,O.cache=G.cache||!1,O.rmWhitespace=G.rmWhitespace,O.root=G.root,O.includer=G.includer,O.outputFunctionName=G.outputFunctionName,O.localsName=G.localsName||s.localsName||g,O.views=G.views,O.async=G.async,O.destructuredLocals=G.destructuredLocals,O.legacyInclude=typeof G.legacyInclude!="undefined"?!!G.legacyInclude:!0,O.strict?O._with=!1:O._with=typeof G._with!="undefined"?G._with:!0,this.opts=O,this.regex=this.createRegex()}V.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},V.prototype={createRegex:function(){var D=S,G=o.escapeRegExpChars(this.opts.delimiter),O=o.escapeRegExpChars(this.opts.openDelimiter),J=o.escapeRegExpChars(this.opts.closeDelimiter);return D=D.replace(/%/g,G).replace(/</g,O).replace(/>/g,J),new RegExp(D)},compile:function(){var D,G,O=this.opts,J="",X="",ae=O.escapeFunction,me,Ae=O.filename?JSON.stringify(O.filename):"undefined";if(!this.source){if(this.generateSource(),J+=`  var __output = "";
  function __append(s) { if (s !== undefined && s !== null) __output += s }
`,O.outputFunctionName&&(J+="  var "+O.outputFunctionName+` = __append;
`),O.destructuredLocals&&O.destructuredLocals.length){for(var Oe="  var __locals = ("+O.localsName+` || {}),
`,Be=0;Be<O.destructuredLocals.length;Be++){var we=O.destructuredLocals[Be];Be>0&&(Oe+=`,
  `),Oe+=we+" = __locals."+we}J+=Oe+`;
`}O._with!==!1&&(J+="  with ("+O.localsName+` || {}) {
`,X+=`  }
`),X+=`  return __output;
`,this.source=J+this.source+X}O.compileDebug?D=`var __line = 1
  , __lines = `+JSON.stringify(this.templateText)+`
  , __filename = `+Ae+`;
try {
`+this.source+`} catch (e) {
  rethrow(e, __lines, __filename, __line, escapeFn);
}
`:D=this.source,O.client&&(D="escapeFn = escapeFn || "+ae.toString()+`;
`+D,O.compileDebug&&(D="rethrow = rethrow || "+I.toString()+`;
`+D)),O.strict&&(D=`"use strict";
`+D),O.debug&&console.log(D),O.compileDebug&&O.filename&&(D=D+`
//# sourceURL=`+Ae+`
`);try{if(O.async)try{me=new Function("return (async function(){}).constructor;")()}catch(be){throw be instanceof SyntaxError?new Error("This environment does not support async/await"):be}else me=Function;G=new me(O.localsName+", escapeFn, include, rethrow",D)}catch(be){throw be instanceof SyntaxError&&(O.filename&&(be.message+=" in "+O.filename),be.message+=` while compiling ejs

`,be.message+=`If the above error is not helpful, you may want to try EJS-Lint:
`,be.message+="https://github.com/RyanZim/EJS-Lint",O.async||(be.message+=`
`,be.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),be}var Se=O.client?G:function(ve){var Te=function(Ne,He){var z=o.shallowCopy({},ve);return He&&(z=o.shallowCopy(z,He)),N(Ne,O)(z)};return G.apply(O.context,[ve||{},ae,Te,I])};if(O.filename&&typeof Object.defineProperty=="function"){var We=O.filename,ue=a.basename(We,a.extname(We));try{Object.defineProperty(Se,"name",{value:ue,writable:!1,enumerable:!1,configurable:!0})}catch{}}return Se},generateSource:function(){var D=this.opts;D.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,`
`).replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var G=this,O=this.parseTemplateText(),J=this.opts.delimiter,X=this.opts.openDelimiter,ae=this.opts.closeDelimiter;O&&O.length&&O.forEach(function(me,Ae){var Oe;if(me.indexOf(X+J)===0&&me.indexOf(X+J+J)!==0&&(Oe=O[Ae+2],!(Oe==J+ae||Oe=="-"+J+ae||Oe=="_"+J+ae)))throw new Error('Could not find matching close tag for "'+me+'".');G.scanLine(me)})},parseTemplateText:function(){for(var D=this.templateText,G=this.regex,O=G.exec(D),J=[],X;O;)X=O.index,X!==0&&(J.push(D.substring(0,X)),D=D.slice(X)),J.push(O[0]),D=D.slice(O[0].length),O=G.exec(D);return D&&J.push(D),J},_addOutput:function(D){if(this.truncate&&(D=D.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!D)return D;D=D.replace(/\\/g,"\\\\"),D=D.replace(/\n/g,"\\n"),D=D.replace(/\r/g,"\\r"),D=D.replace(/"/g,'\\"'),this.source+='    ; __append("'+D+`")
`},scanLine:function(D){var G=this,O=this.opts.delimiter,J=this.opts.openDelimiter,X=this.opts.closeDelimiter,ae=0;switch(ae=D.split(`
`).length-1,D){case J+O:case J+O+"_":this.mode=V.modes.EVAL;break;case J+O+"=":this.mode=V.modes.ESCAPED;break;case J+O+"-":this.mode=V.modes.RAW;break;case J+O+"#":this.mode=V.modes.COMMENT;break;case J+O+O:this.mode=V.modes.LITERAL,this.source+='    ; __append("'+D.replace(J+O+O,J+O)+`")
`;break;case O+O+X:this.mode=V.modes.LITERAL,this.source+='    ; __append("'+D.replace(O+O+X,O+X)+`")
`;break;case O+X:case"-"+O+X:case"_"+O+X:this.mode==V.modes.LITERAL&&this._addOutput(D),this.mode=null,this.truncate=D.indexOf("-")===0||D.indexOf("_")===0;break;default:if(this.mode){switch(this.mode){case V.modes.EVAL:case V.modes.ESCAPED:case V.modes.RAW:D.lastIndexOf("//")>D.lastIndexOf(`
`)&&(D+=`
`)}switch(this.mode){case V.modes.EVAL:this.source+="    ; "+D+`
`;break;case V.modes.ESCAPED:this.source+="    ; __append(escapeFn("+j(D)+`))
`;break;case V.modes.RAW:this.source+="    ; __append("+j(D)+`)
`;break;case V.modes.COMMENT:break;case V.modes.LITERAL:this._addOutput(D);break}}else this._addOutput(D)}G.opts.compileDebug&&ae&&(this.currentLine+=ae,this.source+="    ; __line = "+this.currentLine+`
`)}},s.escapeXML=o.escapeXML,s.__express=s.renderFile,s.VERSION=c,s.name=x,typeof window!="undefined"&&(window.ejs=s)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(n,i,s){var r=/[|\\{}()[\]^$+*?.]/g;s.escapeRegExpChars=function(h){return h?String(h).replace(r,"\\$&"):""};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},o=/[&<>'"]/g;function l(h){return a[h]||h}var c=`var _ENCODE_HTML_RULES = {
      "&": "&amp;"
    , "<": "&lt;"
    , ">": "&gt;"
    , '"': "&#34;"
    , "'": "&#39;"
    }
  , _MATCH_HTML = /[&<>'"]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
`;s.escapeXML=function(h){return h==null?"":String(h).replace(o,l)},s.escapeXML.toString=function(){return Function.prototype.toString.call(this)+`;
`+c},s.shallowCopy=function(h,p){p=p||{};for(var d in p)h[d]=p[d];return h},s.shallowCopyFromList=function(h,p,d){for(var g=0;g<d.length;g++){var x=d[g];typeof p[x]!="undefined"&&(h[x]=p[x])}return h},s.cache={_data:{},set:function(h,p){this._data[h]=p},get:function(h){return this._data[h]},remove:function(h){delete this._data[h]},reset:function(){this._data={}}},s.hyphenToCamel=function(h){return h.replace(/-[a-z]/g,function(p){return p[1].toUpperCase()})}},{}],3:[function(n,i,s){},{}],4:[function(n,i,s){(function(r){function a(h,p){for(var d=0,g=h.length-1;g>=0;g--){var x=h[g];x==="."?h.splice(g,1):x===".."?(h.splice(g,1),d++):d&&(h.splice(g,1),d--)}if(p)for(;d--;d)h.unshift("..");return h}s.resolve=function(){for(var h="",p=!1,d=arguments.length-1;d>=-1&&!p;d--){var g=d>=0?arguments[d]:r.cwd();if(typeof g!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!g)continue;h=g+"/"+h,p=g.charAt(0)==="/"}return h=a(l(h.split("/"),function(x){return!!x}),!p).join("/"),(p?"/":"")+h||"."},s.normalize=function(h){var p=s.isAbsolute(h),d=c(h,-1)==="/";return h=a(l(h.split("/"),function(g){return!!g}),!p).join("/"),!h&&!p&&(h="."),h&&d&&(h+="/"),(p?"/":"")+h},s.isAbsolute=function(h){return h.charAt(0)==="/"},s.join=function(){var h=Array.prototype.slice.call(arguments,0);return s.normalize(l(h,function(p,d){if(typeof p!="string")throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},s.relative=function(h,p){h=s.resolve(h).substr(1),p=s.resolve(p).substr(1);function d(T){for(var C=0;C<T.length&&T[C]==="";C++);for(var A=T.length-1;A>=0&&T[A]==="";A--);return C>A?[]:T.slice(C,A-C+1)}for(var g=d(h.split("/")),x=d(p.split("/")),S=Math.min(g.length,x.length),m=S,_=0;_<S;_++)if(g[_]!==x[_]){m=_;break}for(var y=[],_=m;_<g.length;_++)y.push("..");return y=y.concat(x.slice(m)),y.join("/")},s.sep="/",s.delimiter=":",s.dirname=function(h){if(typeof h!="string"&&(h=h+""),h.length===0)return".";for(var p=h.charCodeAt(0),d=p===47,g=-1,x=!0,S=h.length-1;S>=1;--S)if(p=h.charCodeAt(S),p===47){if(!x){g=S;break}}else x=!1;return g===-1?d?"/":".":d&&g===1?"/":h.slice(0,g)};function o(h){typeof h!="string"&&(h=h+"");var p=0,d=-1,g=!0,x;for(x=h.length-1;x>=0;--x)if(h.charCodeAt(x)===47){if(!g){p=x+1;break}}else d===-1&&(g=!1,d=x+1);return d===-1?"":h.slice(p,d)}s.basename=function(h,p){var d=o(h);return p&&d.substr(-1*p.length)===p&&(d=d.substr(0,d.length-p.length)),d},s.extname=function(h){typeof h!="string"&&(h=h+"");for(var p=-1,d=0,g=-1,x=!0,S=0,m=h.length-1;m>=0;--m){var _=h.charCodeAt(m);if(_===47){if(!x){d=m+1;break}continue}g===-1&&(x=!1,g=m+1),_===46?p===-1?p=m:S!==1&&(S=1):p!==-1&&(S=-1)}return p===-1||g===-1||S===0||S===1&&p===g-1&&p===d+1?"":h.slice(p,g)};function l(h,p){if(h.filter)return h.filter(p);for(var d=[],g=0;g<h.length;g++)p(h[g],g,h)&&d.push(h[g]);return d}var c="ab".substr(-1)==="b"?function(h,p,d){return h.substr(p,d)}:function(h,p,d){return p<0&&(p=h.length+p),h.substr(p,d)}}).call(this,n("_process"))},{_process:5}],5:[function(n,i,s){var r=i.exports={},a,o;function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=l}catch{a=l}try{typeof clearTimeout=="function"?o=clearTimeout:o=c}catch{o=c}})();function h(C){if(a===setTimeout)return setTimeout(C,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(C,0);try{return a(C,0)}catch{try{return a.call(null,C,0)}catch{return a.call(this,C,0)}}}function p(C){if(o===clearTimeout)return clearTimeout(C);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(C);try{return o(C)}catch{try{return o.call(null,C)}catch{return o.call(this,C)}}}var d=[],g=!1,x,S=-1;function m(){!g||!x||(g=!1,x.length?d=x.concat(d):S=-1,d.length&&_())}function _(){if(!g){var C=h(m);g=!0;for(var A=d.length;A;){for(x=d,d=[];++S<A;)x&&x[S].run();S=-1,A=d.length}x=null,g=!1,p(C)}}r.nextTick=function(C){var A=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)A[k-1]=arguments[k];d.push(new y(C,A)),d.length===1&&!g&&h(_)};function y(C,A){this.fun=C,this.array=A}y.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function T(){}r.on=T,r.addListener=T,r.once=T,r.off=T,r.removeListener=T,r.removeAllListeners=T,r.emit=T,r.prependListener=T,r.prependOnceListener=T,r.listeners=function(C){return[]},r.binding=function(C){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(C){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],6:[function(n,i,s){i.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.6",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.6.1"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^3.6.4","lru-cache":"^4.0.1",mocha:"^7.1.1","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"mocha"}}},{}]},{},[1])(1)})})(fI);var Db=fI.exports,iG=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform float uTime;

    varying vec2 vUv;

    void main(){
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform float uTime;

    void main() { 
        vec4 t = texture2D( uTexture, vUv );
        gl_FragColor = vec4(t); 
        gl_FragColor = vec4(vUv, 0., 1.); 
    } 
        
<% } %>`,sG=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 seeds;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform float uTime;
    uniform float uPixelRatio;
    uniform float uParticleScale;

    varying float vAlpha;

    vec2 rotate2d(vec2 v, float a){
        mat2 m = mat2(cos(a), -sin(a), sin(a),  cos(a));
        return m * v;
    }

    void main(){

        vec3 pos = position;
        float t = uTime * -(.1 + pow(1. - (length(pos.xy) * .05), 3.)) * .15;
        pos.xy = rotate2d(pos.xy, t);

        vec4 viewSpace  = modelViewMatrix * vec4(pos, 1.0);
        float dist = length(viewSpace);

        vAlpha = smoothstep(0.1, .3, (length(pos.xy) * .05));

        gl_Position = projectionMatrix * viewSpace;
        gl_PointSize = uPixelRatio * (uParticleScale * (1. + pow(seeds.x * 2., 2.5)));
        gl_PointSize = gl_PointSize / length(dist);

    }

<% } %>

<% if (frag) { %>

    precision highp float; 
    uniform float uTime;
    uniform float uOpacity;
    uniform vec3 uColor;

    varying float vAlpha;

    const float border_size = 0.01;
    const float disc_radius = 0.5;

    void main() { 
        vec2 uv = gl_PointCoord.xy;
        uv -= vec2(0.5);
        float dist = sqrt(dot(uv, uv));

        float dr = disc_radius;
        float t = smoothstep(dr+border_size, dr-border_size, dist);

        vec3 color = uColor;

        gl_FragColor = vec4(color, t * uOpacity * vAlpha); 
    } 
        
<% } %>`,rG=`<% if (vert) { %>

   precision highp float;

    attribute vec3 position;
    attribute vec2 uv;

    varying vec2 vUv;

    void main(void) {
        vUv = uv;
        gl_Position = vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float;

    uniform sampler2D uTexture;
    uniform sampler2D uBloom;
    uniform sampler2D uNoise;
    varying vec2 vUv;

    uniform vec2 uRez;
    uniform vec2 uMouse;
    uniform float uTime;
    uniform float uHueShift;
    uniform float uVignette;
    uniform float uNoiseOpacity;
    uniform float uChromaticAberations;
    uniform float uGamma;
    uniform float uExposure;
    uniform float uBloomOpacity;
    uniform float uContrast;
    uniform float uKonami;
    uniform float uVignetteStrength;

    <%= commons.allBlendModes %>

    vec3 linearToneMapping(vec3 color)
    {
        float exposure = 1.;
        color = clamp(exposure * color, 0., 1.);
        color = pow(color, vec3(1. / uGamma));
        return color;
    }

    vec3 contrast(vec3 color, float value) {
        return 0.5 + (1.0 + value) * (color - 0.5);
    }

    vec3 exposure(vec3 color, float value) {
        return (1.0 + value) * color;
    }

    float random (in vec2 st) {
        return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
    }

    vec3 hueShift(vec3 color, float hue)
    {
        const vec3 k = vec3(0.57735, 0.57735, 0.57735);
        float cosAngle = cos(hue);
        return vec3(color * cosAngle + cross(k, color) * sin(hue) + k * dot(k, color) * (1.0 - cosAngle));
    }

    void main() {

        vec2 uv = vUv;
        vec4 color;

        float maxDistort = uChromaticAberations * .1;
        float scalar = 1.0 * maxDistort;
        vec4 colourScalar = vec4(700.0, 560.0, 490.0, 1.0);	
        colourScalar /= max(max(colourScalar.x, colourScalar.y), colourScalar.z);
        colourScalar /= 100.;
        colourScalar *= scalar;

        color.r += texture2D(uTexture, uv + colourScalar.r).r;
        color.g += texture2D(uTexture, uv + -colourScalar.g).g;
        color.b += texture2D(uTexture, uv + colourScalar.b).b;

        vec4 bloom = texture2D(uBloom, uv);
        vec2 vgnUv = vUv;
        vgnUv *= (1.0 - vgnUv.yx);
        float vig = vgnUv.x*vgnUv.y * 15.0;
        vig = pow(vig, uVignette);

        vec2 gUv = vUv;
        

        vec2 nUv = vUv;
        nUv.x *= uRez.x/uRez.y;
        nUv.y += mod(uTime * 46.54687, 1.);
        nUv.x -= mod(uTime * 12.68655, 1.);
        
        
        float dith = texture2D( uNoise, nUv * 4.).x;

        color.rgb = blendScreen_21_19(color.rgb, bloom.rgb, uBloomOpacity);
        if(uKonami > .5){
            color.rgb = hueShift(color.rgb, uTime * 5.);
        }

        
        color.rgb = blendOverlay_9_12(color.rgb, vec3(dith), uNoiseOpacity);
        
        color.rgb = linearToneMapping(color.rgb);
        color.rgb = contrast(color.rgb, uContrast);
        color.rgb = exposure(color.rgb, uExposure);
        color.rgb = mix(color.rgb, color.rgb * vig, uVignetteStrength);

        color.a = 1.;
        
        
        

        gl_FragColor = color;
    }

<% } %>`,aG=`<% if (vert) { %>
    precision highp float;
    attribute vec3 aPos;
    attribute vec2 aUvs;
    varying vec2 vUv;
    void main(void) {
        vUv = aUvs;
        gl_Position = vec4(aPos, 1.0);
    }
<% } %>

<% if (passes.pass_1) { %>
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vUv;
    uniform vec2 uRez;
    uniform vec2 uDir;
    uniform vec3 uTint;
    uniform float uPower;
    uniform float uIsFirstPass;
    uniform float uThresold;
    uniform float uSimilarity;
    uniform float uDebug;
    uniform float uOverdrive;

    <%= commons.blur %>
    void main() {
        vec4 color = blur5(uTexture, vUv, uRez, uDir * uPower);
        gl_FragColor = vec4(color.rgb * color.a, color.a);
        if(uIsFirstPass > 0.5){
            float brightness = dot(color.rgb, vec3(0.2126, 0.7152, 0.0722));
            float highlights = smoothstep(uThresold, uThresold+uSimilarity, brightness);
            gl_FragColor = vec4((color.rgb * (1. + uOverdrive)) * vec3(highlights) * uTint, 1.);
        }
    }
<% } %>

<% if (frag) { %>
    precision highp float;
    uniform sampler2D uBlur;
    varying vec2 vUv;
    uniform vec2 uRez;

 <%if (defines["COLOR_CORRECTION"] >= 1) { %>
    uniform float uShift;
    uniform float uBrightness;
    uniform float uContrast;

    vec3 hueShift(vec3 color, float hue)
    {
        const vec3 k = vec3(0.57735, 0.57735, 0.57735);
        float cosAngle = cos(hue);
        return vec3(color * cosAngle + cross(k, color) * sin(hue) + k * dot(k, color) * (1.0 - cosAngle));
    }
<% } %>

    void main() {
        
        vec4 blur = texture2D( uBlur, vUv);
        gl_FragColor = blur;

        <%if (defines["TRANSPARENT"] >= 1) { %>
            
            float a = smoothstep(1., 0.2, blur.z);
            a = pow(a, 2.);
            blur.z = 0.;
            gl_FragColor = vec4(blur.rgb, a);
        <% } %>

        <%if (defines["COLOR_CORRECTION"] >= 1) { %>
            vec3 color = hueShift(gl_FragColor.rgb, uShift);
            vec3 colorContrasted = (color) * uContrast;
            vec3 bright = colorContrasted + vec3(uBrightness);
            gl_FragColor.rgb = bright;
        <% } %>

    }
<% } %>`,oG=`<% if (vert) { %>
    needES300
    precision highp float;

    in vec3 position;
    #ifdef HAS_NORMALS
        in vec3 normal;
    #endif
    #ifdef HAS_TANGENTS
        in vec3 tangents;
    #endif
    #ifdef HAS_UV
        in vec2 uv;
    #endif

    uniform mat4 modelMatrix;
    uniform mat4 modelViewMatrix;
    uniform mat4 normalMatrix;
    uniform mat4 projectionMatrix;

    out vec3 vPosition;
    out vec2 vUv;

    #ifdef HAS_NORMALS
        #ifdef HAS_TANGENTS
            out mat3 vTBN;
        #else
            out vec3 vNormal;
        #endif
    #endif

    void main(){

        vec4 pos = modelMatrix * vec4(position, 1.0);
        vPosition = vec3(pos.xyz) / pos.w;

        #ifdef HAS_NORMALS
            #ifdef HAS_TANGENTS
                vec3 normalW = normalize(vec3(normalMatrix * vec4(normal.xyz, 0.0)));
                vec3 tangentW = normalize(vec3(modelMatrix * vec4(tangents.xyz, 0.0)));
                vec3 bitangentW = cross(normalW, tangentW) * tangents.w;
                vTBN = mat3(tangentW, bitangentW, normalW);
            #else 
                vNormal = normalize(vec3(modelMatrix * vec4(normal.xyz, 0.0)));
            #endif
        #endif

        #ifdef HAS_UV
            vUv = uv;
        #else
            vUv = vec2(0.,0.);
        #endif

        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);

    }

<% } %>

<% if (frag) { %>
    
    precision highp float; 

    uniform vec3 uLightDirection;
    uniform vec3 uLightColor;

    #ifdef USE_IBL
        uniform sampler2D uDiffuseEnvSampler;
        uniform sampler2D uSpecularEnvSampler;
        uniform sampler2D uBrdfLUT;
    #endif

    #ifdef HAS_BASECOLORMAP
        uniform sampler2D uBaseColorSampler;
    #endif
    #ifdef HAS_NORMALMAP
        uniform sampler2D uNormalSampler;
        uniform float uNormalScale;
    #endif
    #ifdef HAS_EMISSIVEMAP
        uniform sampler2D uEmissiveSampler;
        uniform vec3 uEmissiveFactor;
    #endif
    #ifdef HAS_EMISSIVECOLOR
        uniform vec3 uEmissiveColor;
        uniform float uEmissivePower;
    #endif
    #ifdef HAS_METALROUGHNESSMAP
        uniform sampler2D uMetallicRoughnessSampler;
    #endif
    #ifdef HAS_OCCLUSIONMAP
        uniform sampler2D uOcclusionSampler;
        uniform float uOcclusionStrength;
    #endif

    uniform vec2 uMetallicRoughnessValues;
    uniform vec4 uBaseColorFactor;
    uniform vec3 uCamera;

    
    uniform vec4 uScaleDiffBaseMR;
    uniform vec4 uScaleFGDSpec;
    uniform vec4 uScaleIBLAmbient;

    in vec2 vUv;
    in vec3 vPosition;

    out vec4 outColor;

    #ifdef HAS_NORMALS
        #ifdef HAS_TANGENTS
            in mat3 vTBN;
        #else
            in vec3 vNormal;
        #endif
    #endif

    struct PBRInfo
    {
        float NdotL;                  
        float NdotV;                  
        float NdotH;                  
        float LdotH;                  
        float VdotH;                  
        float perceptualRoughness;    
        float metalness;              
        vec3 reflectance0;            
        vec3 reflectance90;           
        float alphaRoughness;         
        vec3 diffuseColor;            
        vec3 specularColor;           
    };

    const float M_PI = 3.141592653589793;
    const float c_MinRoughness = 0.04;
    const vec2 invAtan = vec2(0.1591, 0.3183);

    vec4 SRGBtoLINEAR(vec4 srgbIn)
    {
        #ifdef MANUAL_SRGB
            #ifdef SRGB_FAST_APPROXIMATION
                vec3 linOut = pow(srgbIn.xyz,vec3(2.2));
            #else 
                vec3 bLess = step(vec3(0.04045),srgbIn.xyz);
                vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );
            #endif 
                return vec4(linOut,srgbIn.w);;
        #else 
            return srgbIn;
        #endif 
    }

    vec3 getNormal()
    {
        
        #ifndef HAS_TANGENTS
            vec3 pos_dx = dFdx(vPosition);
            vec3 pos_dy = dFdy(vPosition);
            vec3 tex_dx = dFdx(vec3(vUv, 0.0));
            vec3 tex_dy = dFdy(vec3(vUv, 0.0));
            vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);

        #ifdef HAS_NORMALS
            vec3 ng = normalize(vNormal);
        #else
            vec3 ng = cross(pos_dx, pos_dy);
        #endif

            t = normalize(t - ng * dot(ng, t));
            vec3 b = normalize(cross(ng, t));
            mat3 tbn = mat3(t, b, ng);
        #else 
            mat3 tbn = vTBN;
        #endif

        #ifdef HAS_NORMALMAP
            vec3 n = texture(uNormalSampler, vUv).rgb;
            n = normalize(tbn * ((2.0 * n - 1.0) * vec3(uNormalScale, uNormalScale, 1.0)));
        #else
            
            vec3 n = normalize(tbn[2].xyz);
        #endif

        return n;
    }

    vec2 SampleSphericalMap(vec3 direction)
    {
        vec2 uv = vec2(atan(direction.z, direction.x), asin(direction.y));
        uv *= invAtan;
        uv += 0.5;
        uv.y = 1. - uv.y;
        return uv;
    }

    
    
    #ifdef USE_IBL
        vec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)
        {
            float mipCount = 9.0; 
            float lod = (pbrInputs.perceptualRoughness * mipCount);
            
            vec3 brdf = SRGBtoLINEAR(texture(uBrdfLUT, vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;
            vec3 diffuseLight = SRGBtoLINEAR(texture(uDiffuseEnvSampler, SampleSphericalMap(n))).rgb;

            vec3 specularLight = SRGBtoLINEAR(texture(uSpecularEnvSampler, SampleSphericalMap(reflection))).rgb;

            vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;
            vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);

            
            diffuse *= uScaleIBLAmbient.x;
            specular *= uScaleIBLAmbient.y;

            return diffuse + specular;
        }
    #endif

    
    
    vec3 diffuse(PBRInfo pbrInputs)
    {
        return pbrInputs.diffuseColor / M_PI;
    }

    
    vec3 specularReflection(PBRInfo pbrInputs)
    {
        return pbrInputs.reflectance0 + (pbrInputs.reflectance90 - pbrInputs.reflectance0) * pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);
    }

    
    
    float geometricOcclusion(PBRInfo pbrInputs)
    {
        float NdotL = pbrInputs.NdotL;
        float NdotV = pbrInputs.NdotV;
        float r = pbrInputs.alphaRoughness;

        float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));
        float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));
        return attenuationL * attenuationV;
    }

    
    
    
    float microfacetDistribution(PBRInfo pbrInputs)
    {
        float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;
        float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;
        return roughnessSq / (M_PI * f * f);
    }

    void main() {   

        
        
        
        float perceptualRoughness = uMetallicRoughnessValues.y;
        float metallic = uMetallicRoughnessValues.x;

        #ifdef HAS_METALROUGHNESSMAP
            
            
            vec4 mrSample = texture(uMetallicRoughnessSampler, vUv);
            perceptualRoughness = mrSample.g * perceptualRoughness;
            metallic = mrSample.b * metallic;
        #endif

        perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);
        metallic = clamp(metallic, 0.0, 1.0);
        
        
        float alphaRoughness = perceptualRoughness * perceptualRoughness;

        
        #ifdef HAS_BASECOLORMAP
            vec4 baseColor = SRGBtoLINEAR(texture(uBaseColorSampler, vUv)) * uBaseColorFactor;
        #else
            vec4 baseColor = uBaseColorFactor;
        #endif

        vec3 f0 = vec3(0.04);
        vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);
        diffuseColor *= 1.0 - metallic;
        vec3 specularColor = mix(f0, baseColor.rgb, metallic);

        
        float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);

        
        
        float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);
        vec3 specularEnvironmentR0 = specularColor.rgb;
        vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;

        vec3 n = getNormal();                             
        vec3 v = normalize(uCamera - vPosition);          
        vec3 l = normalize(uLightDirection);              
        vec3 h = normalize(l+v);                          
        vec3 reflection = -normalize(reflect(v, n));

        float NdotL = clamp(dot(n, l), 0.001, 1.0);
        float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);
        float NdotH = clamp(dot(n, h), 0.0, 1.0);
        float LdotH = clamp(dot(l, h), 0.0, 1.0);
        float VdotH = clamp(dot(v, h), 0.0, 1.0);

        PBRInfo pbrInputs = PBRInfo(
            NdotL,
            NdotV,
            NdotH,
            LdotH,
            VdotH,
            perceptualRoughness,
            metallic,
            specularEnvironmentR0,
            specularEnvironmentR90,
            alphaRoughness,
            diffuseColor,
            specularColor
        );

        
        vec3 F = specularReflection(pbrInputs);
        float G = geometricOcclusion(pbrInputs);
        float D = microfacetDistribution(pbrInputs);

        
        vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);
        vec3 specContrib = F * G * D / (4.0 * NdotL * NdotV);
        
        vec3 color = NdotL * uLightColor * (diffuseContrib + specContrib);

        
        #ifdef USE_IBL
            color += getIBLContribution(pbrInputs, n, reflection);
        #endif

        
        #ifdef HAS_OCCLUSIONMAP
            float ao = texture(uOcclusionSampler, vUv).r;
            color = mix(color, color * ao, uOcclusionStrength);
        #endif

        #ifdef HAS_EMISSIVEMAP
            vec3 emissive = SRGBtoLINEAR(texture(uEmissiveSampler, vUv)).rgb * uEmissiveFactor;
            color += emissive;
        #endif

        
        
        color = mix(color, F, uScaleFGDSpec.x);
        color = mix(color, vec3(G), uScaleFGDSpec.y);
        color = mix(color, vec3(D), uScaleFGDSpec.z);
        color = mix(color, specContrib, uScaleFGDSpec.w);

        color = mix(color, diffuseContrib, uScaleDiffBaseMR.x);
        color = mix(color, baseColor.rgb, uScaleDiffBaseMR.y);
        color = mix(color, vec3(metallic), uScaleDiffBaseMR.z);
        color = mix(color, vec3(perceptualRoughness), uScaleDiffBaseMR.w);

        #ifdef IS_WEBGL_1
            gl_FragColor = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);
            #ifdef HAS_EMISSIVECOLOR
                gl_FragColor.rgb = mix(gl_FragColor.rgb, uEmissiveColor * uEmissivePower, min(uEmissivePower, 1.));
            #endif
        #else
            outColor = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);
            #ifdef HAS_EMISSIVECOLOR
                outColor.rgb = mix(outColor.rgb, uEmissiveColor * uEmissivePower, min(uEmissivePower, 1.));
            #endif
        #endif

        

        
        
        
        
        

    } 
        
<% } %>`,lG=`<% if (vert) { %>
    needES300
    precision highp float;

    in vec4 aWeights_0;         
    in vec4 aBoneNdx_0;         

    <%if (defines["ATTRIB_STACK"] >= 2) { %>
        in vec4 aWeights_1;         
        in vec4 aBoneNdx_1;         
    <% } %>
    <%if (defines["ATTRIB_STACK"] >= 3) { %>
        in vec4 aWeights_2;         
        in vec4 aBoneNdx_2;         
    <% } %>

    uniform mat4 uBones[MAX_BONES];   

    in vec3 position;
    #ifdef HAS_NORMALS
        in vec3 normal;
    #endif
    #ifdef HAS_TANGENTS
        in vec3 tangents;
    #endif
    #ifdef HAS_UV
        in vec2 uv;
    #endif

    uniform mat4 modelMatrix;
    uniform mat4 modelViewMatrix;
    uniform mat4 normalMatrix;
    uniform mat4 projectionMatrix;

    out vec3 vPosition;
    out vec2 vUv;

    #ifdef HAS_NORMALS
        #ifdef HAS_TANGENTS
            out mat3 vTBN;
        #else
            out vec3 vNormal;
        #endif
    #endif

    mat4 extractRotationFromMat4(mat4 t){
        mat4 rotMat = t;
        rotMat[3][0] = 0.;
        rotMat[3][1] = 0.;
        rotMat[3][2] = 0.;
        rotMat[3][3] = 1.;
        return rotMat;
    }

    void main(){

        vec4 skinedPos = vec4(0.);
        vec4 skinedNorm = vec4(0.);

        skinedPos += uBones[int(aBoneNdx_0[0])] * vec4(position, 1.0) * aWeights_0[0];
        skinedPos += uBones[int(aBoneNdx_0[1])] * vec4(position, 1.0) * aWeights_0[1];
        skinedPos += uBones[int(aBoneNdx_0[2])] * vec4(position, 1.0) * aWeights_0[2];
        skinedPos += uBones[int(aBoneNdx_0[3])] * vec4(position, 1.0) * aWeights_0[3];

        #ifdef HAS_NORMALS
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[0])] ) * vec4(normal, 1.0) * aWeights_0[0];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[1])] ) * vec4(normal, 1.0) * aWeights_0[1];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[2])] ) * vec4(normal, 1.0) * aWeights_0[2];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[3])] ) * vec4(normal, 1.0) * aWeights_0[3];
        #endif

        <%if (defines["ATTRIB_STACK"] >= 2) { %>
            skinedPos += uBones[int(aBoneNdx_1[0])] * vec4(position, 1.0) * aWeights_1[0];
            skinedPos += uBones[int(aBoneNdx_1[1])] * vec4(position, 1.0) * aWeights_1[1];
            skinedPos += uBones[int(aBoneNdx_1[2])] * vec4(position, 1.0) * aWeights_1[2];
            skinedPos += uBones[int(aBoneNdx_1[3])] * vec4(position, 1.0) * aWeights_1[3];

            #ifdef HAS_NORMALS
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[0])] ) * vec4(normal, 1.0) * aWeights_1[0];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[1])] ) * vec4(normal, 1.0) * aWeights_1[1];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[2])] ) * vec4(normal, 1.0) * aWeights_1[2];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[3])] ) * vec4(normal, 1.0) * aWeights_1[3];
            #endif
        <% } %>

        <%if (defines["ATTRIB_STACK"] >= 3) { %>
            skinedPos += uBones[int(aBoneNdx_2[0])] * vec4(position, 1.0) * aWeights_2[0];
            skinedPos += uBones[int(aBoneNdx_2[1])] * vec4(position, 1.0) * aWeights_2[1];
            skinedPos += uBones[int(aBoneNdx_2[2])] * vec4(position, 1.0) * aWeights_2[2];
            skinedPos += uBones[int(aBoneNdx_2[3])] * vec4(position, 1.0) * aWeights_2[3];

            #ifdef HAS_NORMALS
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[0])] ) * vec4(normal, 1.0) * aWeights_2[0];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[1])] ) * vec4(normal, 1.0) * aWeights_2[1];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[2])] ) * vec4(normal, 1.0) * aWeights_2[2];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[3])] ) * vec4(normal, 1.0) * aWeights_2[3];
            #endif
        <% } %>

        vec4 pos = modelMatrix * skinedPos;
        vPosition = vec3(pos.xyz) / pos.w;

        #ifdef HAS_NORMALS
            #ifdef HAS_TANGENTS
                vec3 normalW = normalize(vec3(normalMatrix * vec4(skinedNorm.xyz, 0.0)));
                vec3 tangentW = normalize(vec3(modelMatrix * vec4(tangents.xyz, 0.0)));
                vec3 bitangentW = cross(normalW, tangentW) * tangents.w;
                vTBN = mat3(tangentW, bitangentW, normalW);
            #else 
                vNormal = normalize(vec3(modelMatrix * vec4(skinedNorm.xyz, 0.0)));
            #endif
        #endif

        #ifdef HAS_UV
            vUv = uv;
        #else
            vUv = vec2(0.,0.);
        #endif

        gl_Position = projectionMatrix * modelViewMatrix * skinedPos;

    }

<% } %>

<% if (frag) { %>
    
    precision highp float; 

    uniform vec3 uLightDirection;
    uniform vec3 uLightColor;
    uniform float uReflectionHeightAlphaLimit;
    uniform float uReflectionHeightAlphaMin;

    #ifdef USE_IBL
        uniform sampler2D uDiffuseEnvSampler;
        uniform sampler2D uSpecularEnvSampler;
        uniform sampler2D uBrdfLUT;
    #endif

    #ifdef HAS_BASECOLORMAP
        uniform sampler2D uBaseColorSampler;
    #endif
    #ifdef HAS_NORMALMAP
        uniform sampler2D uNormalSampler;
        uniform float uNormalScale;
    #endif
    #ifdef HAS_EMISSIVEMAP
        uniform sampler2D uEmissiveSampler;
        uniform vec3 uEmissiveFactor;
    #endif
    #ifdef HAS_METALROUGHNESSMAP
        uniform sampler2D uMetallicRoughnessSampler;
    #endif
    #ifdef HAS_OCCLUSIONMAP
        uniform sampler2D uOcclusionSampler;
        uniform float uOcclusionStrength;
    #endif

    uniform vec2 uMetallicRoughnessValues;
    uniform vec4 uBaseColorFactor;
    uniform vec3 uCamera;

    
    uniform vec4 uScaleDiffBaseMR;
    uniform vec4 uScaleFGDSpec;
    uniform vec4 uScaleIBLAmbient;

    in vec2 vUv;
    in vec3 vPosition;

    out vec4 outColor;

    #ifdef HAS_NORMALS
        #ifdef HAS_TANGENTS
            in mat3 vTBN;
        #else
            in vec3 vNormal;
        #endif
    #endif

    struct PBRInfo
    {
        float NdotL;                  
        float NdotV;                  
        float NdotH;                  
        float LdotH;                  
        float VdotH;                  
        float perceptualRoughness;    
        float metalness;              
        vec3 reflectance0;            
        vec3 reflectance90;           
        float alphaRoughness;         
        vec3 diffuseColor;            
        vec3 specularColor;           
    };

    const float M_PI = 3.141592653589793;
    const float c_MinRoughness = 0.04;
    const vec2 invAtan = vec2(0.1591, 0.3183);

    vec4 SRGBtoLINEAR(vec4 srgbIn)
    {
        #ifdef MANUAL_SRGB
            #ifdef SRGB_FAST_APPROXIMATION
                vec3 linOut = pow(srgbIn.xyz,vec3(2.2));
            #else 
                vec3 bLess = step(vec3(0.04045),srgbIn.xyz);
                vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );
            #endif 
                return vec4(linOut,srgbIn.w);;
        #else 
            return srgbIn;
        #endif 
    }

    vec3 getNormal()
    {
        
        #ifndef HAS_TANGENTS
            vec3 pos_dx = dFdx(vPosition);
            vec3 pos_dy = dFdy(vPosition);
            vec3 tex_dx = dFdx(vec3(vUv, 0.0));
            vec3 tex_dy = dFdy(vec3(vUv, 0.0));
            vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);

        #ifdef HAS_NORMALS
            vec3 ng = normalize(vNormal);
        #else
            vec3 ng = cross(pos_dx, pos_dy);
        #endif

            t = normalize(t - ng * dot(ng, t));
            vec3 b = normalize(cross(ng, t));
            mat3 tbn = mat3(t, b, ng);
        #else 
            mat3 tbn = vTBN;
        #endif

        #ifdef HAS_NORMALMAP
            vec3 n = texture(uNormalSampler, vUv).rgb;
            n = normalize(tbn * ((2.0 * n - 1.0) * vec3(uNormalScale, uNormalScale, 1.0)));
        #else
            
            vec3 n = normalize(tbn[2].xyz);
        #endif

        return n;
    }

    vec2 SampleSphericalMap(vec3 direction)
    {
        vec2 uv = vec2(atan(direction.z, direction.x), asin(direction.y));
        uv *= invAtan;
        uv += 0.5;
        uv.y = 1. - uv.y;
        return uv;
    }

    
    
    #ifdef USE_IBL
        vec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)
        {
            float mipCount = 9.0; 
            float lod = (pbrInputs.perceptualRoughness * mipCount);
            
            vec3 brdf = SRGBtoLINEAR(texture(uBrdfLUT, vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;
            vec3 diffuseLight = SRGBtoLINEAR(texture(uDiffuseEnvSampler, SampleSphericalMap(n))).rgb;

            vec3 specularLight = SRGBtoLINEAR(texture(uSpecularEnvSampler, SampleSphericalMap(reflection))).rgb;

            vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;
            vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);

            
            diffuse *= uScaleIBLAmbient.x;
            specular *= uScaleIBLAmbient.y;

            return diffuse + specular;
        }
    #endif

    
    
    vec3 diffuse(PBRInfo pbrInputs)
    {
        return pbrInputs.diffuseColor / M_PI;
    }

    
    vec3 specularReflection(PBRInfo pbrInputs)
    {
        return pbrInputs.reflectance0 + (pbrInputs.reflectance90 - pbrInputs.reflectance0) * pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);
    }

    
    
    float geometricOcclusion(PBRInfo pbrInputs)
    {
        float NdotL = pbrInputs.NdotL;
        float NdotV = pbrInputs.NdotV;
        float r = pbrInputs.alphaRoughness;

        float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));
        float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));
        return attenuationL * attenuationV;
    }

    
    
    
    float microfacetDistribution(PBRInfo pbrInputs)
    {
        float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;
        float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;
        return roughnessSq / (M_PI * f * f);
    }

    void main() {   

        
        
        
        float perceptualRoughness = uMetallicRoughnessValues.y;
        float metallic = uMetallicRoughnessValues.x;

        #ifdef HAS_METALROUGHNESSMAP
            
            
            vec4 mrSample = texture(uMetallicRoughnessSampler, vUv);
            perceptualRoughness = mrSample.g * perceptualRoughness;
            metallic = mrSample.b * metallic;
        #endif

        perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);
        metallic = clamp(metallic, 0.0, 1.0);
        
        
        float alphaRoughness = perceptualRoughness * perceptualRoughness;

        
        #ifdef HAS_BASECOLORMAP
            vec4 baseColor = SRGBtoLINEAR(texture(uBaseColorSampler, vUv)) * uBaseColorFactor;
        #else
            vec4 baseColor = uBaseColorFactor;
        #endif

        vec3 f0 = vec3(0.04);
        vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);
        diffuseColor *= 1.0 - metallic;
        vec3 specularColor = mix(f0, baseColor.rgb, metallic);

        
        float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);

        
        
        float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);
        vec3 specularEnvironmentR0 = specularColor.rgb;
        vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;

        vec3 n = getNormal();                             
        vec3 v = normalize(uCamera - vPosition);          
        vec3 l = normalize(uLightDirection);              
        vec3 h = normalize(l+v);                          
        vec3 reflection = -normalize(reflect(v, n));

        float NdotL = clamp(dot(n, l), 0.001, 1.0);
        float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);
        float NdotH = clamp(dot(n, h), 0.0, 1.0);
        float LdotH = clamp(dot(l, h), 0.0, 1.0);
        float VdotH = clamp(dot(v, h), 0.0, 1.0);

        PBRInfo pbrInputs = PBRInfo(
            NdotL,
            NdotV,
            NdotH,
            LdotH,
            VdotH,
            perceptualRoughness,
            metallic,
            specularEnvironmentR0,
            specularEnvironmentR90,
            alphaRoughness,
            diffuseColor,
            specularColor
        );

        
        vec3 F = specularReflection(pbrInputs);
        float G = geometricOcclusion(pbrInputs);
        float D = microfacetDistribution(pbrInputs);

        
        vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);
        vec3 specContrib = F * G * D / (4.0 * NdotL * NdotV);
        
        vec3 color = NdotL * uLightColor * (diffuseContrib + specContrib);

        
        #ifdef USE_IBL
            color += getIBLContribution(pbrInputs, n, reflection);
        #endif

        
        #ifdef HAS_OCCLUSIONMAP
            float ao = texture(uOcclusionSampler, vUv).r;
            color = mix(color, color * ao, uOcclusionStrength);
        #endif

        #ifdef HAS_EMISSIVEMAP
            vec3 emissive = SRGBtoLINEAR(texture(uEmissiveSampler, vUv)).rgb * uEmissiveFactor;
            color += emissive;
        #endif

        
        
        color = mix(color, F, uScaleFGDSpec.x);
        color = mix(color, vec3(G), uScaleFGDSpec.y);
        color = mix(color, vec3(D), uScaleFGDSpec.z);
        color = mix(color, specContrib, uScaleFGDSpec.w);

        color = mix(color, diffuseContrib, uScaleDiffBaseMR.x);
        color = mix(color, baseColor.rgb, uScaleDiffBaseMR.y);
        color = mix(color, vec3(metallic), uScaleDiffBaseMR.z);
        color = mix(color, vec3(perceptualRoughness), uScaleDiffBaseMR.w);

        baseColor.a *= smoothstep(uReflectionHeightAlphaLimit, uReflectionHeightAlphaMin, vPosition.y);

        #ifdef IS_WEBGL_1
            gl_FragColor = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);
        #else
            outColor = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);
        #endif
        

        
        
        
        
        

        
        
        
        
        

    } 
        
<% } %>`,cG=`<% if (vert) { %>
    needES300
    precision highp float;

    in vec4 aWeights_0;         
    in vec4 aBoneNdx_0;         

    <%if (defines["ATTRIB_STACK"] >= 2) { %>
        in vec4 aWeights_1;         
        in vec4 aBoneNdx_1;         
    <% } %>
    <%if (defines["ATTRIB_STACK"] >= 3) { %>
        in vec4 aWeights_2;         
        in vec4 aBoneNdx_2;         
    <% } %>

    uniform mat4 uBones[MAX_BONES];   

    in vec3 position;
    #ifdef HAS_NORMALS
        in vec3 normal;
    #endif
    #ifdef HAS_TANGENTS
        in vec3 tangents;
    #endif
    #ifdef HAS_UV
        in vec2 uv;
    #endif

    uniform mat4 modelMatrix;
    uniform mat4 modelViewMatrix;
    uniform mat4 normalMatrix;
    uniform mat4 projectionMatrix;
    uniform float uTime;
    uniform float uPass;
    uniform float uFurOffset;
    uniform sampler2D uFurDensity;

    out vec3 vPosition;
    out vec2 vUv;

    #ifdef HAS_NORMALS
        #ifdef HAS_TANGENTS
            out mat3 vTBN;
        #else
            out vec3 vNormal;
        #endif
    #endif

    mat4 extractRotationFromMat4(mat4 t){
        mat4 rotMat = t;
        rotMat[3][0] = 0.;
        rotMat[3][1] = 0.;
        rotMat[3][2] = 0.;
        rotMat[3][3] = 1.;
        return rotMat;
    }

    void main(){

        vec4 skinedPos = vec4(0.);
        vec4 skinedNorm = vec4(0.);

        vec3 initialPos = position;
        initialPos += normal * uPass * uFurOffset * texture(uFurDensity, uv).r;

        skinedPos += uBones[int(aBoneNdx_0[0])] * vec4(initialPos, 1.0) * aWeights_0[0];
        skinedPos += uBones[int(aBoneNdx_0[1])] * vec4(initialPos, 1.0) * aWeights_0[1];
        skinedPos += uBones[int(aBoneNdx_0[2])] * vec4(initialPos, 1.0) * aWeights_0[2];
        skinedPos += uBones[int(aBoneNdx_0[3])] * vec4(initialPos, 1.0) * aWeights_0[3];

        #ifdef HAS_NORMALS
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[0])] ) * vec4(normal, 1.0) * aWeights_0[0];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[1])] ) * vec4(normal, 1.0) * aWeights_0[1];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[2])] ) * vec4(normal, 1.0) * aWeights_0[2];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[3])] ) * vec4(normal, 1.0) * aWeights_0[3];
        #endif

        <%if (defines["ATTRIB_STACK"] >= 2) { %>
            skinedPos += uBones[int(aBoneNdx_1[0])] * vec4(initialPos, 1.0) * aWeights_1[0];
            skinedPos += uBones[int(aBoneNdx_1[1])] * vec4(initialPos, 1.0) * aWeights_1[1];
            skinedPos += uBones[int(aBoneNdx_1[2])] * vec4(initialPos, 1.0) * aWeights_1[2];
            skinedPos += uBones[int(aBoneNdx_1[3])] * vec4(initialPos, 1.0) * aWeights_1[3];

            #ifdef HAS_NORMALS
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[0])] ) * vec4(normal, 1.0) * aWeights_1[0];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[1])] ) * vec4(normal, 1.0) * aWeights_1[1];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[2])] ) * vec4(normal, 1.0) * aWeights_1[2];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[3])] ) * vec4(normal, 1.0) * aWeights_1[3];
            #endif
        <% } %>

        <%if (defines["ATTRIB_STACK"] >= 3) { %>
            skinedPos += uBones[int(aBoneNdx_2[0])] * vec4(initialPos, 1.0) * aWeights_2[0];
            skinedPos += uBones[int(aBoneNdx_2[1])] * vec4(initialPos, 1.0) * aWeights_2[1];
            skinedPos += uBones[int(aBoneNdx_2[2])] * vec4(initialPos, 1.0) * aWeights_2[2];
            skinedPos += uBones[int(aBoneNdx_2[3])] * vec4(initialPos, 1.0) * aWeights_2[3];

            #ifdef HAS_NORMALS
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[0])] ) * vec4(normal, 1.0) * aWeights_2[0];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[1])] ) * vec4(normal, 1.0) * aWeights_2[1];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[2])] ) * vec4(normal, 1.0) * aWeights_2[2];
                skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[3])] ) * vec4(normal, 1.0) * aWeights_2[3];
            #endif
        <% } %>

        vec4 pos = modelMatrix * skinedPos;
        vPosition = vec3(pos.xyz) / pos.w;

        #ifdef HAS_NORMALS
            #ifdef HAS_TANGENTS
                vec3 normalW = normalize(vec3(normalMatrix * vec4(skinedNorm.xyz, 0.0)));
                vec3 tangentW = normalize(vec3(modelMatrix * vec4(tangents.xyz, 0.0)));
                vec3 bitangentW = cross(normalW, tangentW) * tangents.w;
                vTBN = mat3(tangentW, bitangentW, normalW);
            #else 
                vNormal = normalize(vec3(modelMatrix * vec4(skinedNorm.xyz, 0.0)));
            #endif
        #endif

        #ifdef HAS_UV
            vUv = uv;
        #else
            vUv = vec2(0.,0.);
        #endif

        gl_Position = projectionMatrix * modelViewMatrix * skinedPos;

    }

<% } %>

<% if (frag) { %>
    
    precision highp float; 

    uniform vec3 uLightDirection;
    uniform vec3 uLightColor;
    uniform float uReflectionHeightAlphaLimit;
    uniform float uReflectionHeightAlphaMin;

    #ifdef USE_IBL
        uniform sampler2D uDiffuseEnvSampler;
        uniform sampler2D uSpecularEnvSampler;
        uniform sampler2D uBrdfLUT;
    #endif

    #ifdef HAS_BASECOLORMAP
        uniform sampler2D uBaseColorSampler;
    #endif
    #ifdef HAS_NORMALMAP
        uniform sampler2D uNormalSampler;
        uniform float uNormalScale;
    #endif
    #ifdef HAS_EMISSIVEMAP
        uniform sampler2D uEmissiveSampler;
        uniform vec3 uEmissiveFactor;
    #endif
    #ifdef HAS_METALROUGHNESSMAP
        uniform sampler2D uMetallicRoughnessSampler;
    #endif
    #ifdef HAS_OCCLUSIONMAP
        uniform sampler2D uOcclusionSampler;
        uniform float uOcclusionStrength;
    #endif

    uniform vec2 uMetallicRoughnessValues;
    uniform vec4 uBaseColorFactor;
    uniform vec3 uCamera;
    uniform float uPass;

    uniform float uFurOffset;
    uniform float uFurNoiseScale;
    uniform float uFurSampleRange;
    uniform float uFurSampleOffset;
    uniform float uFurOcclusion;

    
    uniform vec4 uScaleDiffBaseMR;
    uniform vec4 uScaleFGDSpec;
    uniform vec4 uScaleIBLAmbient;

    in vec2 vUv;
    in vec3 vPosition;

    out vec4 outColor;

    #ifdef HAS_NORMALS
        #ifdef HAS_TANGENTS
            in mat3 vTBN;
        #else
            in vec3 vNormal;
        #endif
    #endif

    <%= commons.noise %>

    struct PBRInfo
    {
        float NdotL;                  
        float NdotV;                  
        float NdotH;                  
        float LdotH;                  
        float VdotH;                  
        float perceptualRoughness;    
        float metalness;              
        vec3 reflectance0;            
        vec3 reflectance90;           
        float alphaRoughness;         
        vec3 diffuseColor;            
        vec3 specularColor;           
    };

    const float M_PI = 3.141592653589793;
    const float c_MinRoughness = 0.04;
    const vec2 invAtan = vec2(0.1591, 0.3183);

    vec4 SRGBtoLINEAR(vec4 srgbIn)
    {
        #ifdef MANUAL_SRGB
            #ifdef SRGB_FAST_APPROXIMATION
                vec3 linOut = pow(srgbIn.xyz,vec3(2.2));
            #else 
                vec3 bLess = step(vec3(0.04045),srgbIn.xyz);
                vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );
            #endif 
                return vec4(linOut,srgbIn.w);;
        #else 
            return srgbIn;
        #endif 
    }

    vec3 getNormal()
    {
        
        #ifndef HAS_TANGENTS
            vec3 pos_dx = dFdx(vPosition);
            vec3 pos_dy = dFdy(vPosition);
            vec3 tex_dx = dFdx(vec3(vUv, 0.0));
            vec3 tex_dy = dFdy(vec3(vUv, 0.0));
            vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);

        #ifdef HAS_NORMALS
            vec3 ng = normalize(vNormal);
        #else
            vec3 ng = cross(pos_dx, pos_dy);
        #endif

            t = normalize(t - ng * dot(ng, t));
            vec3 b = normalize(cross(ng, t));
            mat3 tbn = mat3(t, b, ng);
        #else 
            mat3 tbn = vTBN;
        #endif

        #ifdef HAS_NORMALMAP
            vec3 n = texture(uNormalSampler, vUv).rgb;
            n = normalize(tbn * ((2.0 * n - 1.0) * vec3(uNormalScale, uNormalScale, 1.0)));
        #else
            
            vec3 n = normalize(tbn[2].xyz);
        #endif

        return n;
    }

    vec2 SampleSphericalMap(vec3 direction)
    {
        vec2 uv = vec2(atan(direction.z, direction.x), asin(direction.y));
        uv *= invAtan;
        uv += 0.5;
        uv.y = 1. - uv.y;
        return uv;
    }

    
    
    #ifdef USE_IBL
        vec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)
        {
            float mipCount = 9.0; 
            float lod = (pbrInputs.perceptualRoughness * mipCount);
            
            vec3 brdf = SRGBtoLINEAR(texture(uBrdfLUT, vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;
            vec3 diffuseLight = SRGBtoLINEAR(texture(uDiffuseEnvSampler, SampleSphericalMap(n))).rgb;

            vec3 specularLight = SRGBtoLINEAR(texture(uSpecularEnvSampler, SampleSphericalMap(reflection))).rgb;

            vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;
            vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);

            
            diffuse *= uScaleIBLAmbient.x;
            specular *= uScaleIBLAmbient.y;

            return diffuse + specular;
        }
    #endif

    
    
    vec3 diffuse(PBRInfo pbrInputs)
    {
        return pbrInputs.diffuseColor / M_PI;
    }

    
    vec3 specularReflection(PBRInfo pbrInputs)
    {
        return pbrInputs.reflectance0 + (pbrInputs.reflectance90 - pbrInputs.reflectance0) * pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);
    }

    
    
    float geometricOcclusion(PBRInfo pbrInputs)
    {
        float NdotL = pbrInputs.NdotL;
        float NdotV = pbrInputs.NdotV;
        float r = pbrInputs.alphaRoughness;

        float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));
        float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));
        return attenuationL * attenuationV;
    }

    
    
    
    float microfacetDistribution(PBRInfo pbrInputs)
    {
        float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;
        float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;
        return roughnessSq / (M_PI * f * f);
    }

    void main() {   

        
        
        
        float perceptualRoughness = uMetallicRoughnessValues.y;
        float metallic = uMetallicRoughnessValues.x;

        #ifdef HAS_METALROUGHNESSMAP
            
            
            vec4 mrSample = texture(uMetallicRoughnessSampler, vUv);
            perceptualRoughness = mrSample.g * perceptualRoughness;
            metallic = mrSample.b * metallic;
        #endif

        perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);
        metallic = clamp(metallic, 0.0, 1.0);
        
        
        float alphaRoughness = perceptualRoughness * perceptualRoughness;

        
        #ifdef HAS_BASECOLORMAP
            vec4 baseColor = SRGBtoLINEAR(texture(uBaseColorSampler, vUv)) * uBaseColorFactor;
        #else
            vec4 baseColor = uBaseColorFactor;
        #endif

        vec3 f0 = vec3(0.04);
        vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);
        diffuseColor *= 1.0 - metallic;
        vec3 specularColor = mix(f0, baseColor.rgb, metallic);

        
        float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);

        
        
        float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);
        vec3 specularEnvironmentR0 = specularColor.rgb;
        vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;

        vec3 n = getNormal();                             
        vec3 v = normalize(uCamera - vPosition);          
        vec3 l = normalize(uLightDirection);              
        vec3 h = normalize(l+v);                          
        vec3 reflection = -normalize(reflect(v, n));

        float NdotL = clamp(dot(n, l), 0.001, 1.0);
        float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);
        float NdotH = clamp(dot(n, h), 0.0, 1.0);
        float LdotH = clamp(dot(l, h), 0.0, 1.0);
        float VdotH = clamp(dot(v, h), 0.0, 1.0);

        PBRInfo pbrInputs = PBRInfo(
            NdotL,
            NdotV,
            NdotH,
            LdotH,
            VdotH,
            perceptualRoughness,
            metallic,
            specularEnvironmentR0,
            specularEnvironmentR90,
            alphaRoughness,
            diffuseColor,
            specularColor
        );

        
        vec3 F = specularReflection(pbrInputs);
        float G = geometricOcclusion(pbrInputs);
        float D = microfacetDistribution(pbrInputs);

        
        vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);
        vec3 specContrib = F * G * D / (4.0 * NdotL * NdotV);
        
        vec3 color = NdotL * uLightColor * (diffuseContrib + specContrib);

        
        #ifdef USE_IBL
            color += getIBLContribution(pbrInputs, n, reflection);
        #endif

        
        #ifdef HAS_OCCLUSIONMAP
            float ao = texture(uOcclusionSampler, vUv).r;
            color = mix(color, color * ao, uOcclusionStrength);
        #endif

        #ifdef HAS_EMISSIVEMAP
            vec3 emissive = SRGBtoLINEAR(texture(uEmissiveSampler, vUv)).rgb * uEmissiveFactor;
            color += emissive;
        #endif

        
        
        color = mix(color, F, uScaleFGDSpec.x);
        color = mix(color, vec3(G), uScaleFGDSpec.y);
        color = mix(color, vec3(D), uScaleFGDSpec.z);
        color = mix(color, specContrib, uScaleFGDSpec.w);

        color = mix(color, diffuseContrib, uScaleDiffBaseMR.x);
        color = mix(color, baseColor.rgb, uScaleDiffBaseMR.y);
        color = mix(color, vec3(metallic), uScaleDiffBaseMR.z);
        color = mix(color, vec3(perceptualRoughness), uScaleDiffBaseMR.w);

        baseColor.a *= smoothstep(uReflectionHeightAlphaLimit, uReflectionHeightAlphaMin, vPosition.y);

        float noise = (snoise(vec4(vUv * uFurNoiseScale * 100., 0., 0.)) + 1.) * .5;

        float furMask = smoothstep(uFurSampleOffset+(uFurSampleRange * (uPass + 0.) * 2.), uFurSampleOffset+(uFurSampleRange * (uPass + 1.) * 2.), noise);
        baseColor.a *= mix(1., furMask, min(uPass, 1.));
        color.rgb -= (1. - (uPass/4.)) * (uFurOcclusion * .1);

        #ifdef IS_WEBGL_1
            gl_FragColor = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);
        #else
            outColor = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);
        #endif
        

        
        
        
        
        

        
        
        
        
        

    } 
        
<% } %>`,uG=`<% if (vert) { %>

    precision highp float; 

    attribute vec3 position;
    attribute vec3 normal;
    attribute vec2 uv;
    attribute vec4 aWeights_0;         
    attribute vec4 aBoneNdx_0;         

    <%if (defines["ATTRIB_STACK"] >= 2) { %>
        attribute vec4 aWeights_1;         
        attribute vec4 aBoneNdx_1;         
    <% } %>
    <%if (defines["ATTRIB_STACK"] >= 3) { %>
        attribute vec4 aWeights_2;         
        attribute vec4 aBoneNdx_2;         
    <% } %>

    uniform mat4 uBones[MAX_BONES];   

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform float uTime;

    varying vec2 vUv;
    varying vec3 vDebug;
    varying vec3 vNormal;

    mat4 extractRotationFromMat4(mat4 t){
        mat4 rotMat = t;
        rotMat[3][0] = 0.;
        rotMat[3][1] = 0.;
        rotMat[3][2] = 0.;
        rotMat[3][3] = 1.;
        return rotMat;
    }

    void main(){
        vUv = uv;        
        vec4 skinedPos = vec4(0.);
        vec4 skinedNorm = vec4(0.);

        skinedPos += uBones[int(aBoneNdx_0[0])] * vec4(position, 1.0) * aWeights_0[0];
        skinedPos += uBones[int(aBoneNdx_0[1])] * vec4(position, 1.0) * aWeights_0[1];
        skinedPos += uBones[int(aBoneNdx_0[2])] * vec4(position, 1.0) * aWeights_0[2];
        skinedPos += uBones[int(aBoneNdx_0[3])] * vec4(position, 1.0) * aWeights_0[3];

        skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[0])] ) * vec4(normal, 1.0) * aWeights_0[0];
        skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[1])] ) * vec4(normal, 1.0) * aWeights_0[1];
        skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[2])] ) * vec4(normal, 1.0) * aWeights_0[2];
        skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_0[3])] ) * vec4(normal, 1.0) * aWeights_0[3];

        <%if (defines["ATTRIB_STACK"] >= 2) { %>
            skinedPos += uBones[int(aBoneNdx_1[0])] * vec4(position, 1.0) * aWeights_1[0];
            skinedPos += uBones[int(aBoneNdx_1[1])] * vec4(position, 1.0) * aWeights_1[1];
            skinedPos += uBones[int(aBoneNdx_1[2])] * vec4(position, 1.0) * aWeights_1[2];
            skinedPos += uBones[int(aBoneNdx_1[3])] * vec4(position, 1.0) * aWeights_1[3];

            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[0])] ) * vec4(normal, 1.0) * aWeights_1[0];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[1])] ) * vec4(normal, 1.0) * aWeights_1[1];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[2])] ) * vec4(normal, 1.0) * aWeights_1[2];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_1[3])] ) * vec4(normal, 1.0) * aWeights_1[3];
        <% } %>

        <%if (defines["ATTRIB_STACK"] >= 3) { %>
            skinedPos += uBones[int(aBoneNdx_2[0])] * vec4(position, 1.0) * aWeights_2[0];
            skinedPos += uBones[int(aBoneNdx_2[1])] * vec4(position, 1.0) * aWeights_2[1];
            skinedPos += uBones[int(aBoneNdx_2[2])] * vec4(position, 1.0) * aWeights_2[2];
            skinedPos += uBones[int(aBoneNdx_2[3])] * vec4(position, 1.0) * aWeights_2[3];

            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[0])] ) * vec4(normal, 1.0) * aWeights_2[0];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[1])] ) * vec4(normal, 1.0) * aWeights_2[1];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[2])] ) * vec4(normal, 1.0) * aWeights_2[2];
            skinedNorm += extractRotationFromMat4( uBones[int(aBoneNdx_2[3])] ) * vec4(normal, 1.0) * aWeights_2[3];
        <% } %>

        vNormal = skinedNorm.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * skinedPos;

    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    varying vec3 vNormal;

    uniform sampler2D uTexture;
    uniform float uAlpha;
    uniform float uBright;

    void main() {   
        vec4 t = texture2D( uTexture, vUv );
        t.rgb *= uBright;
        t.a *= uAlpha;

        gl_FragColor = t; 
        gl_FragColor = vec4(vNormal, 1.); 
    } 
        
<% } %>`,hG=`<% if (vert) { %>

   precision highp float;

    attribute vec3 position;
    attribute vec2 uv;

    varying vec2 vUv;

    void main(void) {
        vUv = uv;
        gl_Position = vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    #define PI 3.14159

    precision highp float;

    uniform sampler2D uTexture0;
    uniform sampler2D uTexture1;
    uniform sampler2D uTexture2;

    varying vec2 vUv;

    uniform vec2 uRez;
    uniform vec2 uMouse;
    uniform float uTime;
    uniform float uProgress;
    uniform float uMaskProgress;

    uniform float uVignette;
    uniform float uContrast;
    uniform float uGamma;
    uniform float uExposure;
    uniform float uVignetteStrength;
    uniform float uNoiseOpacity;
    uniform float uHapeWalk;

    uniform int uActiveTexture;
    uniform int uPendingTexture;

    const float borderSize = 0.2;
    const float borderSizeOffset = 0.05;
    const float dispBorderSize = 0.5;
    const vec4 discColor = vec4(1.0, 1.0, 1.0, 1.0);
    const vec2 discCenter = vec2(0.5, 0.5);

    <%= commons.allBlendModes %>

    float random (in vec2 st) {
        return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
    }

    vec3 linearToneMapping(vec3 color)
    {
        float exposure = 1.;
        color = clamp(exposure * color, 0., 1.);
        color = pow(color, vec3(1. / uGamma));
        return color;
    }

    vec3 contrast(vec3 color, float value) {
        return 0.5 + (1.0 + value) * (color - 0.5);
    }

    vec3 exposure(vec3 color, float value) {
        return (1.0 + value) * color;
    }

    vec3 margins(vec3 color, vec2 uv, float marginSize)
    {
        if(uv.y < marginSize || uv.y > 1.0-marginSize)
        {
            return vec3(0.0);
        }else{
            return color;
        }
    }

    vec3 multiplyWithSlope( vec3 a, vec3 b )
    {
        return vec3( a.xy * b.z + b.xy * a.z, a.z * b.z );
    }

    vec3 ripple( vec2 v, float p )
    {
        
        float time = p;
        
        float radiusSqared = 2.0 * 2.0 * time;
        
        float lengthSquared = dot( v, v );
        if ( lengthSquared > radiusSqared ) return vec3(0.0);
        
        float frequency = 2.;
        float phase = (lengthSquared - radiusSqared) * frequency;
        vec3 result = vec3( cos( phase ) * frequency * v * 2.0, sin( phase ) );
        
        
        vec3 ratio = -vec3( v * 2.0, lengthSquared - radiusSqared ) / radiusSqared;
        ratio = multiplyWithSlope( ratio, ratio );
        result = multiplyWithSlope( result, ratio );
        
        return result * 0.2;
    }

    void main() {

        vec2 cUv = vUv - discCenter;
        cUv.y /= uRez.x/uRez.y;

        float dist = sqrt(dot(cUv, cUv));
        float p = ((uProgress + (uMaskProgress * 5.)) * (1. + borderSize)) * .1 - borderSize;
        float t = smoothstep(p+borderSize, p-borderSize, dist - borderSizeOffset);
        float t1 = smoothstep(p+(dispBorderSize * p), p-(dispBorderSize * p), dist);

        vec4 pass0Color;

        vec2 v = vUv;
        v -= vec2(0.5,0.5); 
        v.x *= uRez.x/uRez.y;
        v *= 5.0 - (uMaskProgress * 5.0); 
        vec3 result = ripple( v, max(uProgress, 0.) );

        vec2 uv = vUv;
        vec2 uv1 = vUv;

        uv += vec2(result.x, result.z) * result.y;
        uv1 += vec2(result.x, result.z) * result.y * .2 * (1. - uMaskProgress);

        if(uActiveTexture == 0){
            pass0Color = texture2D(uTexture0, uv);
        } else if (uActiveTexture == 1) {
            pass0Color = texture2D(uTexture1, uv);
        } else if (uActiveTexture == 2) {
            pass0Color = texture2D(uTexture2, uv);
        }

        vec4 pass1Color;
        if(uPendingTexture == 0){
            pass1Color = texture2D(uTexture0, uv1);
        } else if (uPendingTexture == 1) {
            pass1Color = texture2D(uTexture1, uv1);
        } else if (uPendingTexture == 2) {
            pass1Color = texture2D(uTexture2, uv1);
        }

        vec3 color = mix(pass0Color.xyz, pass1Color.xyz, t * smoothstep(.05, .5, t));
        color = margins(color, vUv, .15 * uHapeWalk);
        

        gl_FragColor = vec4(color, 1.);

    }

<% } %>`,pG=`<% if (vert) { %>
    precision highp float;

      attribute vec2 uv;
      attribute vec3 position;
      uniform mat4 modelViewMatrix;
      uniform mat4 projectionMatrix;

      void main() {
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
<% } %>

<% if (frag) { %>
    precision highp float;
    uniform vec3 uColor;
    uniform float uAlpha;

    void main() {
        gl_FragColor = vec4(uColor, uAlpha);
    }
<% } %>`,dG=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    varying vec2 vUv;
    varying vec4 vPosition;

    void main(){
        vUv = uv;
        gl_Position = vec4(position, 1.0);
        vPosition = vec4(position, 1.0);
        gl_Position.z = 1.;
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    varying vec4 vPosition;

    uniform sampler2D uTexture;
    uniform float uTime;
    uniform float uYpow;
    uniform mat4 uViewDirProjInverse;
    
    const vec2 invAtan = vec2(0.1591, 0.3183);
    vec2 SampleSphericalMap(vec3 direction)
    {
        vec2 uv = vec2(atan(direction.z, direction.x), asin(direction.y));
        uv *= invAtan;
        uv += 0.5;
        uv.y = 1. - uv.y;
        return uv;
    }

    void main() { 

        vec4 d = uViewDirProjInverse * vPosition;
        vec3 dir = normalize(d.xyz / d.w);
        vec4 t = texture2D( uTexture, SampleSphericalMap(dir) );

        gl_FragColor = vec4(t); 
    } 
        
<% } %>`,fG=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 modelMatrix;
    uniform mat4 projectionMatrix;
    uniform float uTime;

    varying vec2 vUv;
    varying vec4 vPos;

    void main(){
        vec4 wPos = modelMatrix * vec4(position, 1.0);
        vPos = wPos;
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    varying vec4 vPos;

    uniform mat4 projectionMatrix;
    uniform mat4 viewMatrix;

    uniform float uReflectionScale;
    uniform float uReflectionSize;
    uniform float uReflectionOpacity;
    uniform float uCircleRadius;
    uniform float uFeather;
    uniform float uScrollSpeed;

    uniform vec3 uColor;

    uniform sampler2D uTexture;
    uniform sampler2D uNoiseTexture;
    uniform float uTime;

    float blendScreen(float base, float blend) {
        return 1.0-((1.0-base)*(1.0-blend));
    }

    vec3 blendScreen(vec3 base, vec3 blend) {
        return vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));
    }

    vec3 blendScreen(vec3 base, vec3 blend, float opacity) {
        return (blendScreen(base, blend) * opacity + base * (1.0 - opacity));
    }

    void main() { 

        vec4 clipSpace = projectionMatrix * (viewMatrix * vPos);
        vec3 ndc = clipSpace.xyz / clipSpace.w;
        vec2 ssUv = (ndc.xy * .5 + .5);

        vec2 uv = vUv;
        uv -= vec2(0.5);
        float dist = sqrt(dot(uv, uv)) * 2.;

        float dr = uCircleRadius;
        float alpha = smoothstep(dr+uFeather, dr-uFeather, dist);

        vec2 fUv = (vUv + vec2(0., uTime * uScrollSpeed)) * uReflectionSize;
        vec2 d = ((texture2D( uNoiseTexture, fUv ).xy));
        vec4 t = texture2D( uTexture, ssUv + (d * uReflectionScale) );

        vec3 color = uColor;
        color.xyz = blendScreen(color, t.xyz * uReflectionOpacity, 1.);
        color -= (d.x + d.y) * .05;

        gl_FragColor = vec4(color, alpha); 
        
    } 
        
<% } %>`,mG=`<% if (vert) { %>

    precision highp float;

    
    
    
    
    
    
    
    
    
    
    
    

    vec3 mod289(vec3 x)
    {
    return x - floor(x * (1.0 / 289.0)) * 289.0;
    }

    vec4 mod289(vec4 x)
    {
    return x - floor(x * (1.0 / 289.0)) * 289.0;
    }

    vec4 permute(vec4 x)
    {
    return mod289(((x*34.0)+1.0)*x);
    }

    vec4 taylorInvSqrt(vec4 r)
    {
    return 1.79284291400159 - 0.85373472095314 * r;
    }

    vec3 fade(vec3 t) {
    return t*t*t*(t*(t*6.0-15.0)+10.0);
    }

    
    float pnoise(vec3 P, vec3 rep)
    {
    vec3 Pi0 = mod(floor(P), rep); 
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); 
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); 
    vec3 Pf1 = Pf0 - vec3(1.0); 
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;

    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);

    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);

    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);

    vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
    vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
    vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
    vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
    vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
    vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
    vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
    vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;

    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);

    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
    }

    
    
    
    #define M_PI 3.1415926535897932384626433832795

    attribute vec3 position;
    attribute vec4 seeds;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;

    uniform vec3  uColor;
    uniform vec3  uVolumeCorner;
    uniform vec3  uVolumeSize;
    uniform vec3  uOffset;
    uniform float uPixelRatio;
    uniform float uTime;
    uniform float uTimeScale;
    uniform float speed;
    uniform float uNoiseIntensity;
    uniform float uNoiseFrequency;
    uniform float uFadeDistance;
    uniform float uParticleScale;
    uniform float uParticleOpacity;

    varying vec4  vColor;
    varying vec4  vSeeds;

    uniform float uSize;

    mat4 rotationMatrix(vec3 axis, float angle) {
        axis = normalize(axis);
        float s = sin(angle);
        float c = cos(angle);
        float oc = 1.0 - c;
        
        return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,
                    oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,
                    oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,
                    0.0,                                0.0,                                0.0,                                1.0);
    }

    vec3 rotate(vec3 v, vec3 axis, float angle) {
        mat4 m = rotationMatrix(axis, angle);
        return (m * vec4(v, 1.0)).xyz;
    }

    void main(void) {

        vSeeds = seeds;

        
        vec3 newPosition  = position;
        vec3 displacement = vec3(
            pnoise(uNoiseFrequency * position + vec3(0., uTime * uTimeScale, 0.), vec3(101.0)) * uNoiseIntensity,
            pnoise(uNoiseFrequency * position + vec3(0., uTime * uTimeScale, 0.), vec3(202.0)) * uNoiseIntensity,
            pnoise(uNoiseFrequency * position + vec3(0., uTime * uTimeScale, 0.), vec3(303.0)) * uNoiseIntensity
        );
        newPosition += displacement;

        
        newPosition += uOffset;

        newPosition.x = mod(mod(newPosition.x, uVolumeSize.x) + uVolumeSize.y, uVolumeSize.x) + uVolumeCorner.x;
        newPosition.y = mod(mod(newPosition.y, uVolumeSize.y) + uVolumeSize.y, uVolumeSize.y) + uVolumeCorner.y;
        newPosition.z = mod(mod(newPosition.z, uVolumeSize.z) + uVolumeSize.z, uVolumeSize.z) + uVolumeCorner.z;

        
        float alphaFade = 1.0;
        vec3 distanceToLimits;
        distanceToLimits.y = min(clamp(abs(newPosition.y - uVolumeCorner.y),0.0,uFadeDistance),clamp(abs(newPosition.y - (uVolumeCorner.y + uVolumeSize.y)),0.0,uFadeDistance));
        distanceToLimits.x = min(clamp(abs(newPosition.x - uVolumeCorner.x),0.0,uFadeDistance),clamp(abs(newPosition.x - (uVolumeCorner.x + uVolumeSize.x)),0.0,uFadeDistance));
        distanceToLimits.z = min(clamp(abs(newPosition.z - uVolumeCorner.z),0.0,uFadeDistance),clamp(abs(newPosition.z - (uVolumeCorner.z + uVolumeSize.z)),0.0,uFadeDistance));
        alphaFade = min(min(distanceToLimits.x,distanceToLimits.y),distanceToLimits.z)/uFadeDistance;

        vec4 viewSpace  = modelViewMatrix * vec4(newPosition, 1.0);
        float dist = length(viewSpace);
        vColor = vec4(uColor, alphaFade * uParticleOpacity);

        gl_Position = projectionMatrix * viewSpace;
        gl_PointSize = uPixelRatio * uParticleScale;
        gl_PointSize = gl_PointSize / length(dist);

    }

<% } %>

<% if (frag) { %>

    precision highp float;

    varying vec4  vColor;
    varying vec4  vSeeds;

    uniform float uTime;
    uniform float uAlpha;
    uniform vec3 uColor1;

    const float border_size = 0.01;
    const float disc_radius = 0.1;
    const float border_size1 = 0.6;
    const float disc_radius1 = 0.1;

    void main() {
        vec2 uv = gl_PointCoord.xy;
        uv -= vec2(0.5);
        float dist = sqrt(dot(uv, uv));

        float dr = disc_radius * vSeeds.x;
        float t = smoothstep(dr+border_size, dr-border_size, dist);
        float t1 = smoothstep(disc_radius1+border_size1, disc_radius1-border_size1, dist);
        
        vec3 color = mix(vColor.xyz, uColor1, vSeeds.z);
        float a = vColor.a * (t+t1) * uAlpha;
        a *= .3 + ((sin(((uTime * 1.) + vSeeds.w) * 6.28) + 1.) * .5) * .7;
        a *= .6 + ((sin(((uTime * 2.) + vSeeds.z) * 6.28) + 1.) * .5) * .5;
        color += a;

        gl_FragColor = vec4(color, a);
    }

<% } %>`,vG=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec3 normal;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform mat4 modelMatrix;
    uniform float uTime;

    uniform float uHeight;
    uniform float uWidth;

    varying vec2 vUv;
    varying vec3 vPosition;
    varying vec3 vPositionW;
    varying vec3 vNormalW;

    void main(){
        vUv = uv;
        vPosition = position;
        vec3 pos = position;
        pos.xz *= 1. + (-pos.y + 1.);
        pos.xz *= uWidth;
        pos.y *= uHeight;

        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);

        vPositionW = vec3( modelViewMatrix * vec4( pos, 1.0 ) );
        vNormalW = normalize( vec3(modelViewMatrix * vec4( normal, 0.0 )) );

    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    varying vec3 vPosition;
    varying vec3 vPositionW;
    varying vec3 vNormalW;

    uniform float uTime;
    uniform vec2 uScale;
    uniform vec3 uColor;
    uniform vec3 uCamera;
    uniform float uFade;
    uniform float uOpacity;

    const float M_PI = 3.141592653589793;

    <%= commons.noise %>

    void main() { 

        vec3 pos = vPosition;
        pos.xz *= uScale.x;
        pos.y = 1./uScale.x;

        vec2 uv = vUv;
        uv.x *= uScale.x;
        float t = uTime;

        float noise = snoise(vec4(pos, t));
        
        vec3 color = uColor;
        float alpha = noise;
        float fade = pow(sin(uv.y*M_PI), 1.+uFade);

        vec3 viewDirectionW = normalize(uCamera - vPositionW);
	    float fresnelTerm = dot(viewDirectionW, -vNormalW);
	    fresnelTerm = clamp(fresnelTerm, 0., 1.);

        alpha *= fresnelTerm;
        alpha *= fade;
        alpha *= uOpacity;

        gl_FragColor = vec4(color * alpha, alpha); 

    } 
        
<% } %>`,gG=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform float uTime;

    varying vec2 vUv;

    void main(){
        vUv = uv;
        gl_Position = vec4(position, 1.0);
        gl_Position.z = 1.;
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    uniform float uTime;
    uniform vec2 uRez;
    uniform float uOpacity;
    uniform float uOffset;
    uniform mat4 modelViewMatrix;
    uniform float uSpacing;
    uniform vec3 uColor;

    const float M_PI = 3.141592653589793;
    const float border_size = 0.02;
    const float disc_radius = 0.01;

    vec2 rotate2d(vec2 v, float a){
        mat2 m = mat2(cos(a), -sin(a), sin(a),  cos(a));
        return m * v;
    }

    void main() { 

        float scale = uSpacing;
        vec2 uv = vUv;
        uv.x *= uRez.x/uRez.y;
        uv.y += uOffset;
        uv = mod(uv * scale, 1.);

        float b = 0.;
        vec2 px = (1./uRez) * 1.5;

        vec2 dUv = uv;
        float dist = sqrt(dot(dUv, dUv));
        float dr = disc_radius;
        float bs = border_size;
        float t = smoothstep(dr+bs, dr-bs, dist);

        b += (smoothstep(0., scale*px.x, uv.x) - smoothstep(scale*px.x, 2.*scale*px.x, uv.x)) * uOpacity;
        b += (smoothstep(0., scale*px.y, uv.y) - smoothstep(scale*px.y, 2.*scale*px.y, uv.y)) * uOpacity;
        uv = rotate2d(uv, M_PI*-.25);
        uv.y -= .7;
        b += (smoothstep(0., scale*px.y, uv.y) - smoothstep(scale*px.y, 2.*scale*px.y, uv.y)) * uOpacity;
        b += t * .5;

        float fade = smoothstep(.1, .5, vUv.y);
        gl_FragColor = vec4(uColor, b * fade); 
        
    } 
        
<% } %>`,bG=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;
    uniform float uTime;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;

    varying vec2 vUv;

    void main(){
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform float uTime;
    uniform vec2 uRez;
    uniform vec3 uColor;
    uniform float uOpacity;
    uniform float uFrames;
    uniform float uFrame;
    uniform float uCollums;
    uniform float uRows;

    void main() { 

        vec2 uv = vUv;
        float f = max(uFrame - 1., 0.);
        uv.x += mod(f, uCollums);
        uv.y -= floor(uRows * (f/uFrames)) + 1.;
        uv.y /= uRows;
        uv.x /= uCollums;    
        float sdf = texture2D( uTexture, uv ).r;
        float alpha = smoothstep(.3, .8, sdf);

        vec3 color = mix(uColor, vec3(smoothstep(.3, .29, f/uFrames) * uColor), smoothstep(.15, .14, vUv.y));
        gl_FragColor = vec4(color, alpha * uOpacity); 
        

    } 
        
<% } %>`,_G=`<% if (vert) { %>
  
    precision highp float; 

    attribute vec3 position;
    attribute vec2 uv;
    uniform float uTime;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;

    varying vec2 vUv;

    void main(){
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }

<% } %>

<% if (frag) { %>

    precision highp float; 

    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform float uTime;
    uniform vec2 uRez;
    uniform vec3 uColor;
    uniform float uOpacity;
    uniform float uFrames;
    uniform float uFrame;
    uniform float uCollums;
    uniform float uRows;

    void main() { 

        vec2 uv = vUv;
        float f = max(uFrame - 1., 0.);
        uv.x += mod(f, uCollums);
        uv.y -= floor(uRows * (f/uFrames)) + 1.;
        uv.y /= uRows;
        uv.x /= uCollums;    
        gl_FragColor = texture2D( uTexture, uv ); 

    } 
        
<% } %>`,xG=`vec3 blendNormal(vec3 normal){
    vec3 blending = abs(normal);
    blending = normalize(max(blending, 0.00001));
    blending /= vec3(blending.x + blending.y + blending.z);
    return blending;
}

vec3 triplanarMapping (sampler2D texture, vec3 normal, vec3 position) {
    vec3 normalBlend = blendNormal(normal);
    vec3 xColor = texture2D(texture, position.yz).rgb;
    vec3 yColor = texture2D(texture, position.xz).rgb;
    vec3 zColor = texture2D(texture, position.xy).rgb;
    return (xColor * normalBlend.x + yColor * normalBlend.y + zColor * normalBlend.z);
}`,yG=`float blendColorBurn(float base, float blend) {
    return (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);
}

vec3 blendColorBurn(vec3 base, vec3 blend) {
    return vec3(blendColorBurn(base.r,blend.r),blendColorBurn(base.g,blend.g),blendColorBurn(base.b,blend.b));
}`,wG=`mat4 rotationMatrix(vec3 axis, float angle) {
    axis = normalize(axis);
    float s = sin(angle);
    float c = cos(angle);
    float oc = 1.0 - c;
    
    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,
                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,
                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,
                0.0,                                0.0,                                0.0,                                1.0);
}

vec3 rotate(vec3 v, vec3 axis, float angle) {
    mat4 m = rotationMatrix(axis, angle);
    return (m * vec4(v, 1.0)).xyz;
}`,SG=`vec3 blendNormal(vec3 base, vec3 blend) {
	return blend;
}

vec3 blendNormal(vec3 base, vec3 blend, float opacity) {
	return (blendNormal(base, blend) * opacity + base * (1.0 - opacity));
}`,CG=`float blendScreen(float base, float blend) {
	return 1.0-((1.0-base)*(1.0-blend));
}

vec3 blendScreen(vec3 base, vec3 blend) {
	return vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));
}

vec3 blendScreen(vec3 base, vec3 blend, float opacity) {
	return (blendScreen(base, blend) * opacity + base * (1.0 - opacity));
}`,EG=`vec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3333333333333333) * direction;
  color += texture2D(image, uv) * 0.29411764705882354;
  color += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;
  color += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;
  return color; 
}`,TG=`precision highp float;

vec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3333333333333333) * direction;
  color += texture2D(image, uv) * 0.29411764705882354;
  color += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;
  color += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;
  return color;
}

vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

uniform sampler2D tMap;
uniform vec2 u_direction;
uniform vec2 u_resolution;
varying vec2 vUv;
void main() {
  
  
  gl_FragColor = blur5(tMap, vUv, u_resolution, u_direction);
}`,kG=`precision highp float;

uniform sampler2D tMap;
uniform sampler2D t_bloom;
uniform vec2 u_resolution;
uniform float u_bloomStrength;

varying vec2 vUv;

void main() {
  vec4 color = texture2D(tMap, vUv) + texture2D(t_bloom, vUv) * u_bloomStrength;
  
  gl_FragColor = color;
}`,PG=`precision highp float;

uniform sampler2D tMap;
uniform float u_threshold;

varying vec2 vUv;

void main() {
  vec4 tex = texture2D(tMap, vUv);
  vec4 bright = tex * step(u_threshold, length(tex.rgb) / 1.73205);
  
  gl_FragColor = bright;
}`,AG=`vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
float permute(float x){return floor(mod(((x*34.0)+1.0)*x, 289.0));}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}
float taylorInvSqrt(float r){return 1.79284291400159 - 0.85373472095314 * r;}

vec4 grad4(float j, vec4 ip){
  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);
  vec4 p,s;

  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;
  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);
  s = vec4(lessThan(p, vec4(0.0)));
  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www; 

  return p;
}

float snoise(vec4 v){
  const vec2  C = vec2( 0.138196601125010504,  
                        0.309016994374947451); 

  vec4 i  = floor(v + dot(v, C.yyyy) );
  vec4 x0 = v -   i + dot(i, C.xxxx);

  vec4 i0;

  vec3 isX = step( x0.yzw, x0.xxx );
  vec3 isYZ = step( x0.zww, x0.yyz );

  i0.x = isX.x + isX.y + isX.z;
  i0.yzw = 1.0 - isX;

  i0.y += isYZ.x + isYZ.y;
  i0.zw += 1.0 - isYZ.xy;

  i0.z += isYZ.z;
  i0.w += 1.0 - isYZ.z;

  
  vec4 i3 = clamp( i0, 0.0, 1.0 );
  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );
  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );

  
  vec4 x1 = x0 - i1 + 1.0 * C.xxxx;
  vec4 x2 = x0 - i2 + 2.0 * C.xxxx;
  vec4 x3 = x0 - i3 + 3.0 * C.xxxx;
  vec4 x4 = x0 - 1.0 + 4.0 * C.xxxx;

  i = mod(i, 289.0); 
  float j0 = permute( permute( permute( permute(i.w) + i.z) + i.y) + i.x);
  vec4 j1 = permute( permute( permute( permute (
             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))
           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))
           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))
           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));

  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;

  vec4 p0 = grad4(j0,   ip);
  vec4 p1 = grad4(j1.x, ip);
  vec4 p2 = grad4(j1.y, ip);
  vec4 p3 = grad4(j1.z, ip);
  vec4 p4 = grad4(j1.w, ip);

  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;
  p4 *= taylorInvSqrt(dot(p4,p4));

  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);
  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);
  m0 = m0 * m0;
  m1 = m1 * m1;
  return 49.0 * ( dot(m0*m0, vec3( dot( p0, x0 ), dot( p1, x1 ), dot( p2, x2 )))
               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;

}`,MG=`float blendColorDodge_14_0(float base, float blend) {
	return (blend==1.0)?blend:min(base/(1.0-blend),1.0);
}

vec3 blendColorDodge_14_0(vec3 base, vec3 blend) {
	return vec3(blendColorDodge_14_0(base.r,blend.r),blendColorDodge_14_0(base.g,blend.g),blendColorDodge_14_0(base.b,blend.b));
}

vec3 blendColorDodge_14_0(vec3 base, vec3 blend, float opacity) {
	return (blendColorDodge_14_0(base, blend) * opacity + base * (1.0 - opacity));
}

float blendColorBurn_15_1(float base, float blend) {
	return (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);
}

vec3 blendColorBurn_15_1(vec3 base, vec3 blend) {
	return vec3(blendColorBurn_15_1(base.r,blend.r),blendColorBurn_15_1(base.g,blend.g),blendColorBurn_15_1(base.b,blend.b));
}

vec3 blendColorBurn_15_1(vec3 base, vec3 blend, float opacity) {
	return (blendColorBurn_15_1(base, blend) * opacity + base * (1.0 - opacity));
}

float blendVividLight_3_2(float base, float blend) {
	return (blend<0.5)?blendColorBurn_15_1(base,(2.0*blend)):blendColorDodge_14_0(base,(2.0*(blend-0.5)));
}

vec3 blendVividLight_3_2(vec3 base, vec3 blend) {
	return vec3(blendVividLight_3_2(base.r,blend.r),blendVividLight_3_2(base.g,blend.g),blendVividLight_3_2(base.b,blend.b));
}

vec3 blendVividLight_3_2(vec3 base, vec3 blend, float opacity) {
	return (blendVividLight_3_2(base, blend) * opacity + base * (1.0 - opacity));
}

float blendHardMix_2_3(float base, float blend) {
	return (blendVividLight_3_2(base,blend)<0.5)?0.0:1.0;
}

vec3 blendHardMix_2_3(vec3 base, vec3 blend) {
	return vec3(blendHardMix_2_3(base.r,blend.r),blendHardMix_2_3(base.g,blend.g),blendHardMix_2_3(base.b,blend.b));
}

vec3 blendHardMix_2_3(vec3 base, vec3 blend, float opacity) {
	return (blendHardMix_2_3(base, blend) * opacity + base * (1.0 - opacity));
}

float blendLinearDodge_12_4(float base, float blend) {
	
	return min(base+blend,1.0);
}

vec3 blendLinearDodge_12_4(vec3 base, vec3 blend) {
	
	return min(base+blend,vec3(1.0));
}

vec3 blendLinearDodge_12_4(vec3 base, vec3 blend, float opacity) {
	return (blendLinearDodge_12_4(base, blend) * opacity + base * (1.0 - opacity));
}

float blendLinearBurn_13_5(float base, float blend) {
	
	return max(base+blend-1.0,0.0);
}

vec3 blendLinearBurn_13_5(vec3 base, vec3 blend) {
	
	return max(base+blend-vec3(1.0),vec3(0.0));
}

vec3 blendLinearBurn_13_5(vec3 base, vec3 blend, float opacity) {
	return (blendLinearBurn_13_5(base, blend) * opacity + base * (1.0 - opacity));
}

float blendLinearLight_4_6(float base, float blend) {
	return blend<0.5?blendLinearBurn_13_5(base,(2.0*blend)):blendLinearDodge_12_4(base,(2.0*(blend-0.5)));
}

vec3 blendLinearLight_4_6(vec3 base, vec3 blend) {
	return vec3(blendLinearLight_4_6(base.r,blend.r),blendLinearLight_4_6(base.g,blend.g),blendLinearLight_4_6(base.b,blend.b));
}

vec3 blendLinearLight_4_6(vec3 base, vec3 blend, float opacity) {
	return (blendLinearLight_4_6(base, blend) * opacity + base * (1.0 - opacity));
}

float blendLighten_16_7(float base, float blend) {
	return max(blend,base);
}

vec3 blendLighten_16_7(vec3 base, vec3 blend) {
	return vec3(blendLighten_16_7(base.r,blend.r),blendLighten_16_7(base.g,blend.g),blendLighten_16_7(base.b,blend.b));
}

vec3 blendLighten_16_7(vec3 base, vec3 blend, float opacity) {
	return (blendLighten_16_7(base, blend) * opacity + base * (1.0 - opacity));
}

float blendDarken_17_8(float base, float blend) {
	return min(blend,base);
}

vec3 blendDarken_17_8(vec3 base, vec3 blend) {
	return vec3(blendDarken_17_8(base.r,blend.r),blendDarken_17_8(base.g,blend.g),blendDarken_17_8(base.b,blend.b));
}

vec3 blendDarken_17_8(vec3 base, vec3 blend, float opacity) {
	return (blendDarken_17_8(base, blend) * opacity + base * (1.0 - opacity));
}

float blendPinLight_5_9(float base, float blend) {
	return (blend<0.5)?blendDarken_17_8(base,(2.0*blend)):blendLighten_16_7(base,(2.0*(blend-0.5)));
}

vec3 blendPinLight_5_9(vec3 base, vec3 blend) {
	return vec3(blendPinLight_5_9(base.r,blend.r),blendPinLight_5_9(base.g,blend.g),blendPinLight_5_9(base.b,blend.b));
}

vec3 blendPinLight_5_9(vec3 base, vec3 blend, float opacity) {
	return (blendPinLight_5_9(base, blend) * opacity + base * (1.0 - opacity));
}

float blendReflect_18_10(float base, float blend) {
	return (blend==1.0)?blend:min(base*base/(1.0-blend),1.0);
}

vec3 blendReflect_18_10(vec3 base, vec3 blend) {
	return vec3(blendReflect_18_10(base.r,blend.r),blendReflect_18_10(base.g,blend.g),blendReflect_18_10(base.b,blend.b));
}

vec3 blendReflect_18_10(vec3 base, vec3 blend, float opacity) {
	return (blendReflect_18_10(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendGlow_6_11(vec3 base, vec3 blend) {
	return blendReflect_18_10(blend,base);
}

vec3 blendGlow_6_11(vec3 base, vec3 blend, float opacity) {
	return (blendGlow_6_11(base, blend) * opacity + base * (1.0 - opacity));
}

float blendOverlay_9_12(float base, float blend) {
	return base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));
}

vec3 blendOverlay_9_12(vec3 base, vec3 blend) {
	return vec3(blendOverlay_9_12(base.r,blend.r),blendOverlay_9_12(base.g,blend.g),blendOverlay_9_12(base.b,blend.b));
}

vec3 blendOverlay_9_12(vec3 base, vec3 blend, float opacity) {
	return (blendOverlay_9_12(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendHardLight_7_13(vec3 base, vec3 blend) {
	return blendOverlay_9_12(blend,base);
}

vec3 blendHardLight_7_13(vec3 base, vec3 blend, float opacity) {
	return (blendHardLight_7_13(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendPhoenix_8_14(vec3 base, vec3 blend) {
	return min(base,blend)-max(base,blend)+vec3(1.0);
}

vec3 blendPhoenix_8_14(vec3 base, vec3 blend, float opacity) {
	return (blendPhoenix_8_14(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendNormal_10_15(vec3 base, vec3 blend) {
	return blend;
}

vec3 blendNormal_10_15(vec3 base, vec3 blend, float opacity) {
	return (blendNormal_10_15(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendNegation_11_16(vec3 base, vec3 blend) {
	return vec3(1.0)-abs(vec3(1.0)-base-blend);
}

vec3 blendNegation_11_16(vec3 base, vec3 blend, float opacity) {
	return (blendNegation_11_16(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendMultiply_19_17(vec3 base, vec3 blend) {
	return base*blend;
}

vec3 blendMultiply_19_17(vec3 base, vec3 blend, float opacity) {
	return (blendMultiply_19_17(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendAverage_20_18(vec3 base, vec3 blend) {
	return (base+blend)/2.0;
}

vec3 blendAverage_20_18(vec3 base, vec3 blend, float opacity) {
	return (blendAverage_20_18(base, blend) * opacity + base * (1.0 - opacity));
}

float blendScreen_21_19(float base, float blend) {
	return 1.0-((1.0-base)*(1.0-blend));
}

vec3 blendScreen_21_19(vec3 base, vec3 blend) {
	return vec3(blendScreen_21_19(base.r,blend.r),blendScreen_21_19(base.g,blend.g),blendScreen_21_19(base.b,blend.b));
}

vec3 blendScreen_21_19(vec3 base, vec3 blend, float opacity) {
	return (blendScreen_21_19(base, blend) * opacity + base * (1.0 - opacity));
}

float blendSoftLight_22_20(float base, float blend) {
	return (blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));
}

vec3 blendSoftLight_22_20(vec3 base, vec3 blend) {
	return vec3(blendSoftLight_22_20(base.r,blend.r),blendSoftLight_22_20(base.g,blend.g),blendSoftLight_22_20(base.b,blend.b));
}

vec3 blendSoftLight_22_20(vec3 base, vec3 blend, float opacity) {
	return (blendSoftLight_22_20(base, blend) * opacity + base * (1.0 - opacity));
}

float blendSubtract_23_21(float base, float blend) {
	return max(base+blend-1.0,0.0);
}

vec3 blendSubtract_23_21(vec3 base, vec3 blend) {
	return max(base+blend-vec3(1.0),vec3(0.0));
}

vec3 blendSubtract_23_21(vec3 base, vec3 blend, float opacity) {
	return (blendSubtract_23_21(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendExclusion_24_22(vec3 base, vec3 blend) {
	return base+blend-2.0*base*blend;
}

vec3 blendExclusion_24_22(vec3 base, vec3 blend, float opacity) {
	return (blendExclusion_24_22(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendDifference_25_23(vec3 base, vec3 blend) {
	return abs(base-blend);
}

vec3 blendDifference_25_23(vec3 base, vec3 blend, float opacity) {
	return (blendDifference_25_23(base, blend) * opacity + base * (1.0 - opacity));
}

float blendAdd_26_24(float base, float blend) {
	return min(base+blend,1.0);
}

vec3 blendAdd_26_24(vec3 base, vec3 blend) {
	return min(base+blend,vec3(1.0));
}

vec3 blendAdd_26_24(vec3 base, vec3 blend, float opacity) {
	return (blendAdd_26_24(base, blend) * opacity + base * (1.0 - opacity));
}

vec3 blendMode_1_25( int mode, vec3 base, vec3 blend ){
	if( mode == 1 ){
		return blendAdd_26_24( base, blend );
	}else
	if( mode == 2 ){
		return blendAverage_20_18( base, blend );
	}else
	if( mode == 3 ){
		return blendColorBurn_15_1( base, blend );
	}else
	if( mode == 4 ){
		return blendColorDodge_14_0( base, blend );
	}else
	if( mode == 5 ){
		return blendDarken_17_8( base, blend );
	}else
	if( mode == 6 ){
		return blendDifference_25_23( base, blend );
	}else
	if( mode == 7 ){
		return blendExclusion_24_22( base, blend );
	}else
	if( mode == 8 ){
		return blendGlow_6_11( base, blend );
	}else
	if( mode == 9 ){
		return blendHardLight_7_13( base, blend );
	}else
	if( mode == 10 ){
		return blendHardMix_2_3( base, blend );
	}else
	if( mode == 11 ){
		return blendLighten_16_7( base, blend );
	}else
	if( mode == 12 ){
		return blendLinearBurn_13_5( base, blend );
	}else
	if( mode == 13 ){
		return blendLinearDodge_12_4( base, blend );
	}else
	if( mode == 14 ){
		return blendLinearLight_4_6( base, blend );
	}else
	if( mode == 15 ){
		return blendMultiply_19_17( base, blend );
	}else
	if( mode == 16 ){
		return blendNegation_11_16( base, blend );
	}else
	if( mode == 17 ){
		return blendNormal_10_15( base, blend );
	}else
	if( mode == 18 ){
		return blendOverlay_9_12( base, blend );
	}else
	if( mode == 19 ){
		return blendPhoenix_8_14( base, blend );
	}else
	if( mode == 20 ){
		return blendPinLight_5_9( base, blend );
	}else
	if( mode == 21 ){
		return blendReflect_18_10( base, blend );
	}else
	if( mode == 22 ){
		return blendScreen_21_19( base, blend );
	}else
	if( mode == 23 ){
		return blendSoftLight_22_20( base, blend );
	}else
	if( mode == 24 ){
		return blendSubtract_23_21( base, blend );
	}else
	if( mode == 25 ){
		return blendVividLight_3_2( base, blend );
	}
}

vec3 blendMode_1_25( int mode, vec3 base, vec3 blend, float opacity ){
	if( mode == 1 ){
		return blendAdd_26_24( base, blend, opacity );
	}else
	if( mode == 2 ){
		return blendAverage_20_18( base, blend, opacity );
	}else
	if( mode == 3 ){
		return blendColorBurn_15_1( base, blend, opacity );
	}else
	if( mode == 4 ){
		return blendColorDodge_14_0( base, blend, opacity );
	}else
	if( mode == 5 ){
		return blendDarken_17_8( base, blend, opacity );
	}else
	if( mode == 6 ){
		return blendDifference_25_23( base, blend, opacity );
	}else
	if( mode == 7 ){
		return blendExclusion_24_22( base, blend, opacity );
	}else
	if( mode == 8 ){
		return blendGlow_6_11( base, blend, opacity );
	}else
	if( mode == 9 ){
		return blendHardLight_7_13( base, blend, opacity );
	}else
	if( mode == 10 ){
		return blendHardMix_2_3( base, blend, opacity );
	}else
	if( mode == 11 ){
		return blendLighten_16_7( base, blend, opacity );
	}else
	if( mode == 12 ){
		return blendLinearBurn_13_5( base, blend, opacity );
	}else
	if( mode == 13 ){
		return blendLinearDodge_12_4( base, blend, opacity );
	}else
	if( mode == 14 ){
		return blendLinearLight_4_6( base, blend, opacity );
	}else
	if( mode == 15 ){
		return blendMultiply_19_17( base, blend, opacity );
	}else
	if( mode == 16 ){
		return blendNegation_11_16( base, blend, opacity );
	}else
	if( mode == 17 ){
		return blendNormal_10_15( base, blend, opacity );
	}else
	if( mode == 18 ){
		return blendOverlay_9_12( base, blend, opacity );
	}else
	if( mode == 19 ){
		return blendPhoenix_8_14( base, blend, opacity );
	}else
	if( mode == 20 ){
		return blendPinLight_5_9( base, blend, opacity );
	}else
	if( mode == 21 ){
		return blendReflect_18_10( base, blend, opacity );
	}else
	if( mode == 22 ){
		return blendScreen_21_19( base, blend, opacity );
	}else
	if( mode == 23 ){
		return blendSoftLight_22_20( base, blend, opacity );
	}else
	if( mode == 24 ){
		return blendSubtract_23_21( base, blend, opacity );
	}else
	if( mode == 25 ){
		return blendVividLight_3_2( base, blend, opacity );
	}
}`,Gn={unlit:iG,particles:sG,standard:oG,"skined-standard":lG,"skined-standard-fur":cG,post:rG,skin:uG,ground:fG,postBlur:aG,compositing:hG,debugUnlit:pG,skybox:dG,fairyDust:mG,rays:vG,grid:gG,title:bG,spritesheet:_G,commons:{triplanar:xG,colorBurn:yG,rotation:wG,blur:EG,noise:AG,blurPost:TG,composite:kG,bright:PG,allBlendModes:MG,normalBlending:SG,screenBlending:CG}};class Bi{constructor(e,n=1,i={}){this.string=e,this.defines=i;let s=function(h){let p="";for(let d in h)p+="#define "+d+" "+h[d]+`
`;return p},r={},a=Db.render(this.string,{frag:!0,vert:!1,passes:r,commons:Gn.commons,defines:i}),o=Db.render(this.string,{frag:!1,vert:!0,passes:r,commons:Gn.commons,defines:i});mi.gl;let l="";a=a.replaceAll("&lt;","<"),o=o.replaceAll("&lt;","<"),e.includes("needES300")&&(e=e.replaceAll("needES300",""),a=a.replaceAll("needES300",""),o=o.replaceAll("needES300",""),mi.renderer.isWebgl2?l+=`#version 300 es
`:(this.defines.IS_WEBGL_1=1,l+=`#extension GL_OES_standard_derivatives : enable
`,o=o.replaceAll("texture(","texture2D("),o=o.replaceAll("in ","attribute "),o=o.replaceAll("out ","varying "),a=a.replaceAll("texture(","texture2D("),a=a.replaceAll("in ","varying "),a=a.replaceAll("out ","// ")));let c=s(this.defines);if(n>1){this.passes=[];for(let h=0;h<n-1;h++){r["pass_"+(h+1)]=!0;let p=Db.render(this.string,{frag:!1,vert:!1,passes:r,commons:Gn.commons,defines:i});p=p.replaceAll("&lt;","<"),this.passes.push(l+c+p),r["pass_"+(h+1)]=!1}}this.frag=l+c+a,this.vert=l+c+o}}function kE(t){let e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)}function hx(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function RG(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t}function PE(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function AE(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function IG(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function OG(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Bb(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function NG(t,e){let n=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(n*n+i*i+s*s)}function LG(t,e){let n=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2];return n*n+i*i+s*s}function ME(t){let e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function FG(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function DG(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function px(t,e){let n=e[0],i=e[1],s=e[2],r=n*n+i*i+s*s;return r>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function mI(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function RE(t,e,n){let i=e[0],s=e[1],r=e[2],a=n[0],o=n[1],l=n[2];return t[0]=s*l-r*o,t[1]=r*a-i*l,t[2]=i*o-s*a,t}function BG(t,e,n,i){let s=e[0],r=e[1],a=e[2];return t[0]=s+i*(n[0]-s),t[1]=r+i*(n[1]-r),t[2]=a+i*(n[2]-a),t}function jG(t,e,n){let i=e[0],s=e[1],r=e[2],a=n[3]*i+n[7]*s+n[11]*r+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*s+n[8]*r+n[12])/a,t[1]=(n[1]*i+n[5]*s+n[9]*r+n[13])/a,t[2]=(n[2]*i+n[6]*s+n[10]*r+n[14])/a,t}function UG(t,e,n){let i=e[0],s=e[1],r=e[2],a=n[3]*i+n[7]*s+n[11]*r+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*s+n[8]*r)/a,t[1]=(n[1]*i+n[5]*s+n[9]*r)/a,t[2]=(n[2]*i+n[6]*s+n[10]*r)/a,t}function VG(t,e,n){let i=e[0],s=e[1],r=e[2],a=n[0],o=n[1],l=n[2],c=n[3],h=o*r-l*s,p=l*i-a*r,d=a*s-o*i,g=o*d-l*p,x=l*h-a*d,S=a*p-o*h,m=c*2;return h*=m,p*=m,d*=m,g*=2,x*=2,S*=2,t[0]=i+h+g,t[1]=s+p+x,t[2]=r+d+S,t}const $G=function(){const t=[0,0,0],e=[0,0,0];return function(n,i){hx(t,n),hx(e,i),px(t,t),px(e,e);let s=mI(t,e);return s>1?0:s<-1?Math.PI:Math.acos(s)}}();function zG(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Je extends Array{constructor(e=0,n=e,i=e){super(e,n,i);return this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,i=e){return e.length?this.copy(e):(RG(this,e,n,i),this)}copy(e){return hx(this,e),this}add(e,n){return n?PE(this,e,n):PE(this,this,e),this}sub(e,n){return n?AE(this,e,n):AE(this,this,e),this}multiply(e){return e.length?IG(this,this,e):Bb(this,this,e),this}divide(e){return e.length?OG(this,this,e):Bb(this,this,1/e),this}inverse(e=this){return DG(this,e),this}len(){return kE(this)}distance(e){return e?NG(this,e):kE(this)}squaredLen(){return ME(this)}squaredDistance(e){return e?LG(this,e):ME(this)}negate(e=this){return FG(this,e),this}cross(e,n){return n?RE(this,e,n):RE(this,this,e),this}scale(e){return Bb(this,this,e),this}normalize(){return px(this,this),this}dot(e){return mI(this,e)}equals(e){return zG(this,e)}applyMatrix4(e){return jG(this,this,e),this}scaleRotateMatrix4(e){return UG(this,this,e),this}applyQuaternion(e){return VG(this,this,e),this}angle(e){return $G(this,e)}lerp(e,n){return BG(this,this,e,n),this}clone(){return new Je(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],i=this[1],s=this[2];return this[0]=e[0]*n+e[4]*i+e[8]*s,this[1]=e[1]*n+e[5]*i+e[9]*s,this[2]=e[2]*n+e[6]*i+e[10]*s,this.normalize()}}const IE=new Je;let HG=1,qG=1,OE=!1;class ji{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=HG++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in n)this.addAttribute(i,n[i])}addAttribute(e,n){if(this.attributes[e]=n,n.id=qG++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.buffer||(n.buffer=this.gl.createBuffer(),this.updateAttribute(n)),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),this.gl.bufferData(e.target,e.data,this.gl.STATIC_DRAW),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:i,type:s})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const r=this.attributes[i];this.gl.bindBuffer(r.target,r.buffer),this.glState.boundBuffer=r.buffer;let a=1;s===35674&&(a=2),s===35675&&(a=3),s===35676&&(a=4);const o=r.size/a,l=a===1?0:a*a*a,c=a===1?0:a*a;for(let h=0;h<a;h++)this.gl.vertexAttribPointer(n+h,o,r.type,r.normalized,r.stride+l,r.offset+h*c),this.gl.enableVertexAttribArray(n+h),this.gl.renderer.vertexAttribDivisor(n+h,r.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((i,{name:s})=>{const r=this.attributes[s];r.needsUpdate&&this.updateAttribute(r)}),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!OE)return console.warn("No position buffer data found to compute bounds"),OE=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,i=e.offset||0,s=e.stride||e.size;this.bounds||(this.bounds={min:new Je,max:new Je,center:new Je,scale:new Je,radius:1/0});const r=this.bounds.min,a=this.bounds.max,o=this.bounds.center,l=this.bounds.scale;r.set(1/0),a.set(-1/0);for(let c=i,h=n.length;c<h;c+=s){const p=n[c],d=n[c+1],g=n[c+2];r.x=Math.min(p,r.x),r.y=Math.min(d,r.y),r.z=Math.min(g,r.z),a.x=Math.max(p,a.x),a.y=Math.max(d,a.y),a.z=Math.max(g,a.z)}l.sub(a,r),o.add(r,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,i=e.offset||0,s=e.stride||e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let a=i,o=n.length;a<o;a+=s)IE.fromArray(n,a),r=Math.max(r,this.bounds.center.squaredDistance(IE));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}class fi extends ji{constructor(e,{width:n=1,height:i=1,widthSegments:s=1,heightSegments:r=1,attributes:a={}}={}){const o=s,l=r,c=(o+1)*(l+1),h=o*l*6,p=new Float32Array(c*3),d=new Float32Array(c*3),g=new Float32Array(c*2),x=h>65536?new Uint32Array(h):new Uint16Array(h);fi.buildPlane(p,d,g,x,n,i,0,o,l),Object.assign(a,{position:{size:3,data:p},normal:{size:3,data:d},uv:{size:2,data:g},index:{data:x}});super(e,a)}static buildPlane(e,n,i,s,r,a,o,l,c,h=0,p=1,d=2,g=1,x=-1,S=0,m=0){const _=S,y=r/l,T=a/c;for(let C=0;C<=c;C++){let A=C*T-a/2;for(let k=0;k<=l;k++,S++){let P=k*y-r/2;if(e[S*3+h]=P*g,e[S*3+p]=A*x,e[S*3+d]=o/2,n[S*3+h]=0,n[S*3+p]=0,n[S*3+d]=o>=0?1:-1,i[S*2]=k/l,i[S*2+1]=1-C/c,C===c||k===l)continue;let N=_+k+C*(l+1),I=_+k+(C+1)*(l+1),j=_+k+(C+1)*(l+1)+1,V=_+k+C*(l+1)+1;s[m*6]=N,s[m*6+1]=I,s[m*6+2]=V,s[m*6+3]=I,s[m*6+4]=j,s[m*6+5]=V,m++}}}}let WG=1;const NE={};class bi{constructor(e,{vertex:n,fragment:i,uniforms:s={},transparent:r=!1,cullFace:a=e.BACK,frontFace:o=e.CCW,depthTest:l=!0,depthWrite:c=!0,depthFunc:h=e.LESS}={}){e.canvas||console.error("gl not passed as fist argument to Program"),this.gl=e,this.uniforms=s,this.id=WG++,n||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=r,this.cullFace=a,this.frontFace=o,this.depthTest=l,this.depthWrite=c,this.depthFunc=h,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));const p=e.createShader(e.VERTEX_SHADER);e.shaderSource(p,n),e.compileShader(p),e.getShaderInfoLog(p)!==""&&console.warn(`${e.getShaderInfoLog(p)}
Vertex Shader
${LE(n)}`);const d=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(d,i),e.compileShader(d),e.getShaderInfoLog(d)!==""&&console.warn(`${e.getShaderInfoLog(d)}
Fragment Shader
${LE(i)}`),this.program=e.createProgram(),e.attachShader(this.program,p),e.attachShader(this.program,d),e.linkProgram(this.program),!e.getProgramParameter(this.program,e.LINK_STATUS))return console.warn(e.getProgramInfoLog(this.program));e.deleteShader(p),e.deleteShader(d),this.uniformLocations=new Map;let g=e.getProgramParameter(this.program,e.ACTIVE_UNIFORMS);for(let m=0;m<g;m++){let _=e.getActiveUniform(this.program,m);this.uniformLocations.set(_,e.getUniformLocation(this.program,_.name));const y=_.name.match(/(\w+)/g);_.uniformName=y[0],y.length===3?(_.isStructArray=!0,_.structIndex=Number(y[1]),_.structProperty=y[2]):y.length===2&&isNaN(Number(y[1]))&&(_.isStruct=!0,_.structProperty=y[1])}this.attributeLocations=new Map;const x=[],S=e.getProgramParameter(this.program,e.ACTIVE_ATTRIBUTES);for(let m=0;m<S;m++){const _=e.getActiveAttrib(this.program,m),y=e.getAttribLocation(this.program,_.name);x[y]=_.name,this.attributeLocations.set(_,y)}this.attributeOrder=x.join("")}setBlendFunc(e,n,i,s){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=s,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.currentProgram=this.id),this.uniformLocations.forEach((s,r)=>{let a=r.uniformName,o=this.uniforms[a];if(r.isStruct&&(o=o[r.structProperty],a+=`.${r.structProperty}`),r.isStructArray&&(o=o[r.structIndex][r.structProperty],a+=`[${r.structIndex}].${r.structProperty}`),!o)return FE(`Active uniform ${a} has not been supplied`);if(o&&o.value===void 0)return FE(`${a} uniform is missing a value parameter`);if(o.value.texture)return n=n+1,o.value.update(n),jb(this.gl,r.type,s,n);if(o.value.length&&o.value[0].texture){const l=[];return o.value.forEach(c=>{n=n+1,c.update(n),l.push(n)}),jb(this.gl,r.type,s,l)}jb(this.gl,r.type,s,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function jb(t,e,n,i){i=i.length?GG(i):i;const s=t.renderer.state.uniformLocations.get(n);if(i.length)if(s===void 0||s.length!==i.length)t.renderer.state.uniformLocations.set(n,i.slice(0));else{if(KG(s,i))return;s.set?s.set(i):YG(s,i),t.renderer.state.uniformLocations.set(n,s)}else{if(s===i)return;t.renderer.state.uniformLocations.set(n,i)}switch(e){case 5126:return i.length?t.uniform1fv(n,i):t.uniform1f(n,i);case 35664:return t.uniform2fv(n,i);case 35665:return t.uniform3fv(n,i);case 35666:return t.uniform4fv(n,i);case 35670:case 5124:case 35678:case 35680:return i.length?t.uniform1iv(n,i):t.uniform1i(n,i);case 35671:case 35667:return t.uniform2iv(n,i);case 35672:case 35668:return t.uniform3iv(n,i);case 35673:case 35669:return t.uniform4iv(n,i);case 35674:return t.uniformMatrix2fv(n,!1,i);case 35675:return t.uniformMatrix3fv(n,!1,i);case 35676:return t.uniformMatrix4fv(n,!1,i)}}function LE(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function GG(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const i=e*n;let s=NE[i];s||(NE[i]=s=new Float32Array(i));for(let r=0;r<e;r++)s.set(t[r],r*n);return s}function KG(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function YG(t,e){for(let n=0,i=t.length;n<i;n++)t[n]=e[n]}let Ub=0;function FE(t){Ub>100||(console.warn(t),Ub++,Ub>100&&console.warn("More than 100 program warnings - stopping logs."))}function XG(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function QG(t,e,n,i,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=s,t}function JG(t,e){let n=e[0],i=e[1],s=e[2],r=e[3],a=n*n+i*i+s*s+r*r;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=i*a,t[2]=s*a,t[3]=r*a,t}function ZG(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function e9(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function t9(t,e,n){n=n*.5;let i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t}function DE(t,e,n){let i=e[0],s=e[1],r=e[2],a=e[3],o=n[0],l=n[1],c=n[2],h=n[3];return t[0]=i*h+a*o+s*c-r*l,t[1]=s*h+a*l+r*o-i*c,t[2]=r*h+a*c+i*l-s*o,t[3]=a*h-i*o-s*l-r*c,t}function n9(t,e,n){n*=.5;let i=e[0],s=e[1],r=e[2],a=e[3],o=Math.sin(n),l=Math.cos(n);return t[0]=i*l+a*o,t[1]=s*l+r*o,t[2]=r*l-s*o,t[3]=a*l-i*o,t}function i9(t,e,n){n*=.5;let i=e[0],s=e[1],r=e[2],a=e[3],o=Math.sin(n),l=Math.cos(n);return t[0]=i*l-r*o,t[1]=s*l+a*o,t[2]=r*l+i*o,t[3]=a*l-s*o,t}function s9(t,e,n){n*=.5;let i=e[0],s=e[1],r=e[2],a=e[3],o=Math.sin(n),l=Math.cos(n);return t[0]=i*l+s*o,t[1]=s*l-i*o,t[2]=r*l+a*o,t[3]=a*l-r*o,t}function r9(t,e,n,i){let s=e[0],r=e[1],a=e[2],o=e[3],l=n[0],c=n[1],h=n[2],p=n[3],d,g,x,S,m;return g=s*l+r*c+a*h+o*p,g<0&&(g=-g,l=-l,c=-c,h=-h,p=-p),1-g>1e-6?(d=Math.acos(g),x=Math.sin(d),S=Math.sin((1-i)*d)/x,m=Math.sin(i*d)/x):(S=1-i,m=i),t[0]=S*s+m*l,t[1]=S*r+m*c,t[2]=S*a+m*h,t[3]=S*o+m*p,t}function a9(t,e){let n=e[0],i=e[1],s=e[2],r=e[3],a=n*n+i*i+s*s+r*r,o=a?1/a:0;return t[0]=-n*o,t[1]=-i*o,t[2]=-s*o,t[3]=r*o,t}function o9(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function l9(t,e){let n=e[0]+e[4]+e[8],i;if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{let s=0;e[4]>e[0]&&(s=1),e[8]>e[s*3+s]&&(s=2);let r=(s+1)%3,a=(s+2)%3;i=Math.sqrt(e[s*3+s]-e[r*3+r]-e[a*3+a]+1),t[s]=.5*i,i=.5/i,t[3]=(e[r*3+a]-e[a*3+r])*i,t[r]=(e[r*3+s]+e[s*3+r])*i,t[a]=(e[a*3+s]+e[s*3+a])*i}return t}function c9(t,e,n="YXZ"){let i=Math.sin(e[0]*.5),s=Math.cos(e[0]*.5),r=Math.sin(e[1]*.5),a=Math.cos(e[1]*.5),o=Math.sin(e[2]*.5),l=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=i*a*l+s*r*o,t[1]=s*r*l-i*a*o,t[2]=s*a*o+i*r*l,t[3]=s*a*l-i*r*o):n==="YXZ"?(t[0]=i*a*l+s*r*o,t[1]=s*r*l-i*a*o,t[2]=s*a*o-i*r*l,t[3]=s*a*l+i*r*o):n==="ZXY"?(t[0]=i*a*l-s*r*o,t[1]=s*r*l+i*a*o,t[2]=s*a*o+i*r*l,t[3]=s*a*l-i*r*o):n==="ZYX"?(t[0]=i*a*l-s*r*o,t[1]=s*r*l+i*a*o,t[2]=s*a*o-i*r*l,t[3]=s*a*l+i*r*o):n==="YZX"?(t[0]=i*a*l+s*r*o,t[1]=s*r*l+i*a*o,t[2]=s*a*o-i*r*l,t[3]=s*a*l-i*r*o):n==="XZY"&&(t[0]=i*a*l-s*r*o,t[1]=s*r*l-i*a*o,t[2]=s*a*o+i*r*l,t[3]=s*a*l+i*r*o),t}const u9=XG,h9=QG,p9=ZG,d9=JG;class f9 extends Array{constructor(e=0,n=0,i=0,s=1){super(e,n,i,s);return this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this[0]=e,this.onChange()}set y(e){this[1]=e,this.onChange()}set z(e){this[2]=e,this.onChange()}set w(e){this[3]=e,this.onChange()}identity(){return e9(this),this.onChange(),this}set(e,n,i,s){return e.length?this.copy(e):(h9(this,e,n,i,s),this.onChange(),this)}rotateX(e){return n9(this,this,e),this.onChange(),this}rotateY(e){return i9(this,this,e),this.onChange(),this}rotateZ(e){return s9(this,this,e),this.onChange(),this}inverse(e=this){return a9(this,e),this.onChange(),this}conjugate(e=this){return o9(this,e),this.onChange(),this}copy(e){return u9(this,e),this.onChange(),this}normalize(e=this){return d9(this,e),this.onChange(),this}multiply(e,n){return n?DE(this,e,n):DE(this,this,e),this.onChange(),this}dot(e){return p9(this,e)}fromMatrix3(e){return l9(this,e),this.onChange(),this}fromEuler(e){return c9(this,e,e.order),this}fromAxisAngle(e,n){return t9(this,e,n),this}slerp(e,n){return r9(this,this,e,n),this}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const m9=1e-6;function v9(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function g9(t,e,n,i,s,r,a,o,l,c,h,p,d,g,x,S,m){return t[0]=e,t[1]=n,t[2]=i,t[3]=s,t[4]=r,t[5]=a,t[6]=o,t[7]=l,t[8]=c,t[9]=h,t[10]=p,t[11]=d,t[12]=g,t[13]=x,t[14]=S,t[15]=m,t}function b9(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _9(t,e){let n=e[0],i=e[1],s=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],h=e[8],p=e[9],d=e[10],g=e[11],x=e[12],S=e[13],m=e[14],_=e[15],y=n*o-i*a,T=n*l-s*a,C=n*c-r*a,A=i*l-s*o,k=i*c-r*o,P=s*c-r*l,N=h*S-p*x,I=h*m-d*x,j=h*_-g*x,V=p*m-d*S,D=p*_-g*S,G=d*_-g*m,O=y*G-T*D+C*V+A*j-k*I+P*N;return O?(O=1/O,t[0]=(o*G-l*D+c*V)*O,t[1]=(s*D-i*G-r*V)*O,t[2]=(S*P-m*k+_*A)*O,t[3]=(d*k-p*P-g*A)*O,t[4]=(l*j-a*G-c*I)*O,t[5]=(n*G-s*j+r*I)*O,t[6]=(m*C-x*P-_*T)*O,t[7]=(h*P-d*C+g*T)*O,t[8]=(a*D-o*j+c*N)*O,t[9]=(i*j-n*D-r*N)*O,t[10]=(x*k-S*C+_*y)*O,t[11]=(p*C-h*k-g*y)*O,t[12]=(o*I-a*V-l*N)*O,t[13]=(n*V-i*I+s*N)*O,t[14]=(S*T-x*A-m*y)*O,t[15]=(h*A-p*T+d*y)*O,t):null}function x9(t){let e=t[0],n=t[1],i=t[2],s=t[3],r=t[4],a=t[5],o=t[6],l=t[7],c=t[8],h=t[9],p=t[10],d=t[11],g=t[12],x=t[13],S=t[14],m=t[15],_=e*a-n*r,y=e*o-i*r,T=e*l-s*r,C=n*o-i*a,A=n*l-s*a,k=i*l-s*o,P=c*x-h*g,N=c*S-p*g,I=c*m-d*g,j=h*S-p*x,V=h*m-d*x,D=p*m-d*S;return _*D-y*V+T*j+C*I-A*N+k*P}function BE(t,e,n){let i=e[0],s=e[1],r=e[2],a=e[3],o=e[4],l=e[5],c=e[6],h=e[7],p=e[8],d=e[9],g=e[10],x=e[11],S=e[12],m=e[13],_=e[14],y=e[15],T=n[0],C=n[1],A=n[2],k=n[3];return t[0]=T*i+C*o+A*p+k*S,t[1]=T*s+C*l+A*d+k*m,t[2]=T*r+C*c+A*g+k*_,t[3]=T*a+C*h+A*x+k*y,T=n[4],C=n[5],A=n[6],k=n[7],t[4]=T*i+C*o+A*p+k*S,t[5]=T*s+C*l+A*d+k*m,t[6]=T*r+C*c+A*g+k*_,t[7]=T*a+C*h+A*x+k*y,T=n[8],C=n[9],A=n[10],k=n[11],t[8]=T*i+C*o+A*p+k*S,t[9]=T*s+C*l+A*d+k*m,t[10]=T*r+C*c+A*g+k*_,t[11]=T*a+C*h+A*x+k*y,T=n[12],C=n[13],A=n[14],k=n[15],t[12]=T*i+C*o+A*p+k*S,t[13]=T*s+C*l+A*d+k*m,t[14]=T*r+C*c+A*g+k*_,t[15]=T*a+C*h+A*x+k*y,t}function y9(t,e,n){let i=n[0],s=n[1],r=n[2],a,o,l,c,h,p,d,g,x,S,m,_;return e===t?(t[12]=e[0]*i+e[4]*s+e[8]*r+e[12],t[13]=e[1]*i+e[5]*s+e[9]*r+e[13],t[14]=e[2]*i+e[6]*s+e[10]*r+e[14],t[15]=e[3]*i+e[7]*s+e[11]*r+e[15]):(a=e[0],o=e[1],l=e[2],c=e[3],h=e[4],p=e[5],d=e[6],g=e[7],x=e[8],S=e[9],m=e[10],_=e[11],t[0]=a,t[1]=o,t[2]=l,t[3]=c,t[4]=h,t[5]=p,t[6]=d,t[7]=g,t[8]=x,t[9]=S,t[10]=m,t[11]=_,t[12]=a*i+h*s+x*r+e[12],t[13]=o*i+p*s+S*r+e[13],t[14]=l*i+d*s+m*r+e[14],t[15]=c*i+g*s+_*r+e[15]),t}function w9(t,e,n){let i=n[0],s=n[1],r=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function S9(t,e,n,i){let s=i[0],r=i[1],a=i[2],o=Math.hypot(s,r,a),l,c,h,p,d,g,x,S,m,_,y,T,C,A,k,P,N,I,j,V,D,G,O,J;return Math.abs(o)<m9?null:(o=1/o,s*=o,r*=o,a*=o,l=Math.sin(n),c=Math.cos(n),h=1-c,p=e[0],d=e[1],g=e[2],x=e[3],S=e[4],m=e[5],_=e[6],y=e[7],T=e[8],C=e[9],A=e[10],k=e[11],P=s*s*h+c,N=r*s*h+a*l,I=a*s*h-r*l,j=s*r*h-a*l,V=r*r*h+c,D=a*r*h+s*l,G=s*a*h+r*l,O=r*a*h-s*l,J=a*a*h+c,t[0]=p*P+S*N+T*I,t[1]=d*P+m*N+C*I,t[2]=g*P+_*N+A*I,t[3]=x*P+y*N+k*I,t[4]=p*j+S*V+T*D,t[5]=d*j+m*V+C*D,t[6]=g*j+_*V+A*D,t[7]=x*j+y*V+k*D,t[8]=p*G+S*O+T*J,t[9]=d*G+m*O+C*J,t[10]=g*G+_*O+A*J,t[11]=x*G+y*O+k*J,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function C9(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function vI(t,e){let n=e[0],i=e[1],s=e[2],r=e[4],a=e[5],o=e[6],l=e[8],c=e[9],h=e[10];return t[0]=Math.hypot(n,i,s),t[1]=Math.hypot(r,a,o),t[2]=Math.hypot(l,c,h),t}function E9(t){let e=t[0],n=t[1],i=t[2],s=t[4],r=t[5],a=t[6],o=t[8],l=t[9],c=t[10];const h=e*e+n*n+i*i,p=s*s+r*r+a*a,d=o*o+l*l+c*c;return Math.sqrt(Math.max(h,p,d))}const T9=function(){const t=[0,0,0];return function(e,n){let i=t;vI(i,n);let s=1/i[0],r=1/i[1],a=1/i[2],o=n[0]*s,l=n[1]*r,c=n[2]*a,h=n[4]*s,p=n[5]*r,d=n[6]*a,g=n[8]*s,x=n[9]*r,S=n[10]*a,m=o+p+S,_=0;return m>0?(_=Math.sqrt(m+1)*2,e[3]=.25*_,e[0]=(d-x)/_,e[1]=(g-c)/_,e[2]=(l-h)/_):o>p&&o>S?(_=Math.sqrt(1+o-p-S)*2,e[3]=(d-x)/_,e[0]=.25*_,e[1]=(l+h)/_,e[2]=(g+c)/_):p>S?(_=Math.sqrt(1+p-o-S)*2,e[3]=(g-c)/_,e[0]=(l+h)/_,e[1]=.25*_,e[2]=(d+x)/_):(_=Math.sqrt(1+S-o-p)*2,e[3]=(l-h)/_,e[0]=(g+c)/_,e[1]=(d+x)/_,e[2]=.25*_),e}}();function k9(t,e,n,i){let s=e[0],r=e[1],a=e[2],o=e[3],l=s+s,c=r+r,h=a+a,p=s*l,d=s*c,g=s*h,x=r*c,S=r*h,m=a*h,_=o*l,y=o*c,T=o*h,C=i[0],A=i[1],k=i[2];return t[0]=(1-(x+m))*C,t[1]=(d+T)*C,t[2]=(g-y)*C,t[3]=0,t[4]=(d-T)*A,t[5]=(1-(p+m))*A,t[6]=(S+_)*A,t[7]=0,t[8]=(g+y)*k,t[9]=(S-_)*k,t[10]=(1-(p+x))*k,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function P9(t,e){let n=e[0],i=e[1],s=e[2],r=e[3],a=n+n,o=i+i,l=s+s,c=n*a,h=i*a,p=i*o,d=s*a,g=s*o,x=s*l,S=r*a,m=r*o,_=r*l;return t[0]=1-p-x,t[1]=h+_,t[2]=d-m,t[3]=0,t[4]=h-_,t[5]=1-c-x,t[6]=g+S,t[7]=0,t[8]=d+m,t[9]=g-S,t[10]=1-c-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A9(t,e,n,i,s){let r=1/Math.tan(e/2),a=1/(i-s);return t[0]=r/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+i)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*i*a,t[15]=0,t}function M9(t,e,n,i,s,r,a){let o=1/(e-n),l=1/(i-s),c=1/(r-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*o,t[13]=(s+i)*l,t[14]=(a+r)*c,t[15]=1,t}function R9(t,e,n,i){let s=e[0],r=e[1],a=e[2],o=i[0],l=i[1],c=i[2],h=s-n[0],p=r-n[1],d=a-n[2],g=h*h+p*p+d*d;g===0?d=1:(g=1/Math.sqrt(g),h*=g,p*=g,d*=g);let x=l*d-c*p,S=c*h-o*d,m=o*p-l*h;return g=x*x+S*S+m*m,g===0&&(c?o+=1e-6:l?c+=1e-6:l+=1e-6,x=l*d-c*p,S=c*h-o*d,m=o*p-l*h,g=x*x+S*S+m*m),g=1/Math.sqrt(g),x*=g,S*=g,m*=g,t[0]=x,t[1]=S,t[2]=m,t[3]=0,t[4]=p*m-d*S,t[5]=d*x-h*m,t[6]=h*S-p*x,t[7]=0,t[8]=h,t[9]=p,t[10]=d,t[11]=0,t[12]=s,t[13]=r,t[14]=a,t[15]=1,t}class Xa extends Array{constructor(e=1,n=0,i=0,s=0,r=0,a=1,o=0,l=0,c=0,h=0,p=1,d=0,g=0,x=0,S=0,m=1){super(e,n,i,s,r,a,o,l,c,h,p,d,g,x,S,m);return this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,i,s,r,a,o,l,c,h,p,d,g,x,S,m){return e.length?this.copy(e):(g9(this,e,n,i,s,r,a,o,l,c,h,p,d,g,x,S,m),this)}translate(e,n=this){return y9(this,n,e),this}rotate(e,n,i=this){return S9(this,i,e,n),this}scale(e,n=this){return w9(this,n,typeof e=="number"?[e,e,e]:e),this}multiply(e,n){return n?BE(this,e,n):BE(this,this,e),this}identity(){return b9(this),this}copy(e){return v9(this,e),this}fromPerspective({fov:e,aspect:n,near:i,far:s}={}){return A9(this,e,n,i,s),this}fromOrthogonal({left:e,right:n,bottom:i,top:s,near:r,far:a}){return M9(this,e,n,i,s,r,a),this}fromQuaternion(e){return P9(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return _9(this,e),this}compose(e,n,i){return k9(this,e,n,i),this}getRotation(e){return T9(e,this),this}getTranslation(e){return C9(e,this),this}getScaling(e){return vI(e,this),this}getMaxScaleOnAxis(){return E9(this)}lookAt(e,n,i){return R9(this,e,n,i),this}determinant(){return x9(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function I9(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const jE=new Xa;class O9 extends Array{constructor(e=0,n=e,i=e,s="YXZ"){super(e,n,i);return this.order=s,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e,this.onChange()}set y(e){this[1]=e,this.onChange()}set z(e){this[2]=e,this.onChange()}set(e,n=e,i=e){return e.length?this.copy(e):(this[0]=e,this[1]=n,this[2]=i,this.onChange(),this)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.onChange(),this}reorder(e){return this.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return I9(this,e,n),this}fromQuaternion(e,n=this.order){return jE.fromQuaternion(e),this.fromRotationMatrix(jE,n)}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class gn{constructor({scale:e=1}={}){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Xa,this.worldMatrix=new Xa,this.matrixAutoUpdate=!0,this.position=new Je,this.quaternion=new f9,this.scale=new Je(e,e,e),this.rotation=new O9,this.up=new Je(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,i=this.children.length;n<i;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,i=this.children.length;n<i;n++)this.children[n].traverse(e)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}lookAtWorld(e,n=!1){const i=[this.worldMatrix[12],this.worldMatrix[13],this.worldMatrix[14]];n?this.matrix.lookAt(i,e,this.up):this.matrix.lookAt(e,i,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}function N9(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function L9(t,e){let n=e[0],i=e[1],s=e[2],r=e[3],a=n+n,o=i+i,l=s+s,c=n*a,h=i*a,p=i*o,d=s*a,g=s*o,x=s*l,S=r*a,m=r*o,_=r*l;return t[0]=1-p-x,t[3]=h-_,t[6]=d+m,t[1]=h+_,t[4]=1-c-x,t[7]=g-S,t[2]=d-m,t[5]=g+S,t[8]=1-c-p,t}function F9(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function D9(t,e,n,i,s,r,a,o,l,c){return t[0]=e,t[1]=n,t[2]=i,t[3]=s,t[4]=r,t[5]=a,t[6]=o,t[7]=l,t[8]=c,t}function B9(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function j9(t,e){let n=e[0],i=e[1],s=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],h=e[8],p=h*a-o*c,d=-h*r+o*l,g=c*r-a*l,x=n*p+i*d+s*g;return x?(x=1/x,t[0]=p*x,t[1]=(-h*i+s*c)*x,t[2]=(o*i-s*a)*x,t[3]=d*x,t[4]=(h*n-s*l)*x,t[5]=(-o*n+s*r)*x,t[6]=g*x,t[7]=(-c*n+i*l)*x,t[8]=(a*n-i*r)*x,t):null}function UE(t,e,n){let i=e[0],s=e[1],r=e[2],a=e[3],o=e[4],l=e[5],c=e[6],h=e[7],p=e[8],d=n[0],g=n[1],x=n[2],S=n[3],m=n[4],_=n[5],y=n[6],T=n[7],C=n[8];return t[0]=d*i+g*a+x*c,t[1]=d*s+g*o+x*h,t[2]=d*r+g*l+x*p,t[3]=S*i+m*a+_*c,t[4]=S*s+m*o+_*h,t[5]=S*r+m*l+_*p,t[6]=y*i+T*a+C*c,t[7]=y*s+T*o+C*h,t[8]=y*r+T*l+C*p,t}function U9(t,e,n){let i=e[0],s=e[1],r=e[2],a=e[3],o=e[4],l=e[5],c=e[6],h=e[7],p=e[8],d=n[0],g=n[1];return t[0]=i,t[1]=s,t[2]=r,t[3]=a,t[4]=o,t[5]=l,t[6]=d*i+g*a+c,t[7]=d*s+g*o+h,t[8]=d*r+g*l+p,t}function V9(t,e,n){let i=e[0],s=e[1],r=e[2],a=e[3],o=e[4],l=e[5],c=e[6],h=e[7],p=e[8],d=Math.sin(n),g=Math.cos(n);return t[0]=g*i+d*a,t[1]=g*s+d*o,t[2]=g*r+d*l,t[3]=g*a-d*i,t[4]=g*o-d*s,t[5]=g*l-d*r,t[6]=c,t[7]=h,t[8]=p,t}function $9(t,e,n){let i=n[0],s=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function z9(t,e){let n=e[0],i=e[1],s=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],h=e[8],p=e[9],d=e[10],g=e[11],x=e[12],S=e[13],m=e[14],_=e[15],y=n*o-i*a,T=n*l-s*a,C=n*c-r*a,A=i*l-s*o,k=i*c-r*o,P=s*c-r*l,N=h*S-p*x,I=h*m-d*x,j=h*_-g*x,V=p*m-d*S,D=p*_-g*S,G=d*_-g*m,O=y*G-T*D+C*V+A*j-k*I+P*N;return O?(O=1/O,t[0]=(o*G-l*D+c*V)*O,t[1]=(l*j-a*G-c*I)*O,t[2]=(a*D-o*j+c*N)*O,t[3]=(s*D-i*G-r*V)*O,t[4]=(n*G-s*j+r*I)*O,t[5]=(i*j-n*D-r*N)*O,t[6]=(S*P-m*k+_*A)*O,t[7]=(m*C-x*P-_*T)*O,t[8]=(x*k-S*C+_*y)*O,t):null}class H9 extends Array{constructor(e=1,n=0,i=0,s=0,r=1,a=0,o=0,l=0,c=1){super(e,n,i,s,r,a,o,l,c);return this}set(e,n,i,s,r,a,o,l,c){return e.length?this.copy(e):(D9(this,e,n,i,s,r,a,o,l,c),this)}translate(e,n=this){return U9(this,n,e),this}rotate(e,n=this){return V9(this,n,e),this}scale(e,n=this){return $9(this,n,e),this}multiply(e,n){return n?UE(this,e,n):UE(this,this,e),this}identity(){return B9(this),this}copy(e){return F9(this,e),this}fromMatrix4(e){return N9(this,e),this}fromQuaternion(e){return L9(this,e),this}fromBasis(e,n,i){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],i[0],i[1],i[2]),this}inverse(e=this){return j9(this,e),this}getNormalMatrix(e){return z9(this,e),this}}let q9=0;class ui extends gn{constructor(e,{geometry:n,program:i,mode:s=e.TRIANGLES,frustumCulled:r=!0,renderOrder:a=0,forceRenderOrder:o=!1,transform:l=null}={}){super();e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=q9++,l!==null&&(this.position.copy(l.position),this.scale.copy(l.scale),this.rotation.copy(l.rotation)),this.geometry=n,this.program=i,this.mode=s,this.forceRenderOrder=o,this.frustumCulled=r,this.renderOrder=a,this.modelViewMatrix=new Xa,this.normalMatrix=new H9,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e})),e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix);let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}))}}var Dh={exports:{}};/*! Tweakpane 3.0.7 (c) 2016 cocopon, licensed under the MIT license. */(function(t,e){(function(n,i){i(e)})(Bn,function(n){class i{constructor(u){const[f,w]=u.split("-"),L=f.split(".");this.major=parseInt(L[0],10),this.minor=parseInt(L[1],10),this.patch=parseInt(L[2],10),this.prerelease=w!=null?w:null}toString(){const u=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[u,this.prerelease].join("-"):u}}class s{constructor(u){this.controller_=u}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(u){this.controller_.viewProps.set("disabled",u)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(u){this.controller_.viewProps.set("hidden",u)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class r{constructor(u){this.target=u}}class a extends r{constructor(u,f,w,L){super(u);this.value=f,this.presetKey=w,this.last=L!=null?L:!0}}class o extends r{constructor(u,f,w){super(u);this.value=f,this.presetKey=w}}class l extends r{constructor(u,f){super(u);this.expanded=f}}function c(v){return v}function h(v){return v==null}function p(v,u){if(v.length!==u.length)return!1;for(let f=0;f<v.length;f++)if(v[f]!==u[f])return!1;return!0}const d={alreadydisposed:()=>"View has been already disposed",invalidparams:v=>`Invalid parameters for '${v.name}'`,nomatchingcontroller:v=>`No matching controller for '${v.key}'`,nomatchingview:v=>`No matching view for '${JSON.stringify(v.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:v=>`Property '${v.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class g{constructor(u){var f;this.message=(f=d[u.type](u.context))!==null&&f!==void 0?f:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=u.type}static alreadyDisposed(){return new g({type:"alreadydisposed"})}static notBindable(){return new g({type:"notbindable"})}static propertyNotFound(u){return new g({type:"propertynotfound",context:{name:u}})}static shouldNeverHappen(){return new g({type:"shouldneverhappen"})}}class x{constructor(u,f,w){this.obj_=u,this.key_=f,this.presetKey_=w!=null?w:f}static isBindable(u){return!(u===null||typeof u!="object")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(u){this.obj_[this.key_]=u}writeProperty(u,f){const w=this.read();if(!x.isBindable(w))throw g.notBindable();if(!(u in w))throw g.propertyNotFound(u);w[u]=f}}class S extends s{get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}get title(){var u;return(u=this.controller_.valueController.props.get("title"))!==null&&u!==void 0?u:""}set title(u){this.controller_.valueController.props.set("title",u)}on(u,f){const w=f.bind(this);return this.controller_.valueController.emitter.on(u,()=>{w(new r(this))}),this}}class m{constructor(){this.observers_={}}on(u,f){let w=this.observers_[u];return w||(w=this.observers_[u]=[]),w.push({handler:f}),this}off(u,f){const w=this.observers_[u];return w&&(this.observers_[u]=w.filter(L=>L.handler!==f)),this}emit(u,f){const w=this.observers_[u];!w||w.forEach(L=>{L.handler(f)})}}const _="tp";function y(v){return(f,w)=>[_,"-",v,"v",f?`_${f}`:"",w?`-${w}`:""].join("")}function T(v,u){return f=>u(v(f))}function C(v){return v.rawValue}function A(v,u){v.emitter.on("change",T(C,u)),u(v.rawValue)}function k(v,u,f){A(v.value(u),f)}function P(v,u,f){f?v.classList.add(u):v.classList.remove(u)}function N(v,u){return f=>{P(v,u,f)}}function I(v,u){A(v,f=>{u.textContent=f!=null?f:""})}const j=y("btn");class V{constructor(u,f){this.element=u.createElement("div"),this.element.classList.add(j()),f.viewProps.bindClassModifiers(this.element);const w=u.createElement("button");w.classList.add(j("b")),f.viewProps.bindDisabled(w),this.element.appendChild(w),this.buttonElement=w;const L=u.createElement("div");L.classList.add(j("t")),I(f.props.value("title"),L),this.buttonElement.appendChild(L)}}class D{constructor(u,f){this.emitter=new m,this.onClick_=this.onClick_.bind(this),this.props=f.props,this.viewProps=f.viewProps,this.view=new V(u,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class G{constructor(u,f){var w;this.constraint_=f==null?void 0:f.constraint,this.equals_=(w=f==null?void 0:f.equals)!==null&&w!==void 0?w:(L,Y)=>L===Y,this.emitter=new m,this.rawValue_=u}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(u){this.setRawValue(u,{forceEmit:!1,last:!0})}setRawValue(u,f){const w=f!=null?f:{forceEmit:!1,last:!0},L=this.constraint_?this.constraint_.constrain(u):u;!!this.equals_(this.rawValue_,L)&&!w.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=L,this.emitter.emit("change",{options:w,rawValue:L,sender:this}))}}class O{constructor(u){this.emitter=new m,this.value_=u}get rawValue(){return this.value_}set rawValue(u){this.setRawValue(u,{forceEmit:!1,last:!0})}setRawValue(u,f){const w=f!=null?f:{forceEmit:!1,last:!0};this.value_===u&&!w.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=u,this.emitter.emit("change",{options:w,rawValue:this.value_,sender:this}))}}function J(v,u){const f=u==null?void 0:u.constraint,w=u==null?void 0:u.equals;return!f&&!w?new O(v):new G(v,u)}class X{constructor(u){this.emitter=new m,this.valMap_=u;for(const f in this.valMap_)this.valMap_[f].emitter.on("change",()=>{this.emitter.emit("change",{key:f,sender:this})})}static createCore(u){return Object.keys(u).reduce((w,L)=>Object.assign(w,{[L]:J(u[L])}),{})}static fromObject(u){const f=this.createCore(u);return new X(f)}get(u){return this.valMap_[u].rawValue}set(u,f){this.valMap_[u].rawValue=f}value(u){return this.valMap_[u]}}function ae(v,u){const w=Object.keys(u).reduce((L,Y)=>{if(L===void 0)return;const ye=u[Y](v[Y]);return ye.succeeded?Object.assign(Object.assign({},L),{[Y]:ye.value}):void 0},{});return w}function me(v,u){return v.reduce((f,w)=>{if(f===void 0)return;const L=u(w);if(!(!L.succeeded||L.value===void 0))return[...f,L.value]},[])}function Ae(v){return v===null?!1:typeof v=="object"}function Oe(v){return u=>f=>{if(!u&&f===void 0)return{succeeded:!1,value:void 0};if(u&&f===void 0)return{succeeded:!0,value:void 0};const w=v(f);return w!==void 0?{succeeded:!0,value:w}:{succeeded:!1,value:void 0}}}function Be(v){return{custom:u=>Oe(u)(v),boolean:Oe(u=>typeof u=="boolean"?u:void 0)(v),number:Oe(u=>typeof u=="number"?u:void 0)(v),string:Oe(u=>typeof u=="string"?u:void 0)(v),function:Oe(u=>typeof u=="function"?u:void 0)(v),constant:u=>Oe(f=>f===u?u:void 0)(v),raw:Oe(u=>u)(v),object:u=>Oe(f=>{if(!!Ae(f))return ae(f,u)})(v),array:u=>Oe(f=>{if(!!Array.isArray(f))return me(f,u)})(v)}}const we={optional:Be(!0),required:Be(!1)};function Se(v,u){const f=we.required.object(u)(v);return f.succeeded?f.value:void 0}function We(v){return v&&v.parentElement&&v.parentElement.removeChild(v),null}function ue(){return["veryfirst","first","last","verylast"]}const be=y(""),ve={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class Te{constructor(u){this.parent_=null,this.blade=u.blade,this.view=u.view,this.viewProps=u.viewProps;const f=this.view.element;this.blade.value("positions").emitter.on("change",()=>{ue().forEach(w=>{f.classList.remove(be(void 0,ve[w]))}),this.blade.get("positions").forEach(w=>{f.classList.add(be(void 0,ve[w]))})}),this.viewProps.handleDispose(()=>{We(f)})}get parent(){return this.parent_}}const Ne="http://www.w3.org/2000/svg";function He(v){v.offsetHeight}function z(v,u){const f=v.style.transition;v.style.transition="none",u(),v.style.transition=f}function K(v){return v.ontouchstart!==void 0}function F(){return new Function("return this")()}function B(){return F().document}function Z(v){const u=v.ownerDocument.defaultView;return u&&"document"in u?v.getContext("2d"):null}const $={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Q(v,u){const f=v.createElementNS(Ne,"svg");return f.innerHTML=$[u],f}function te(v,u,f){v.insertBefore(u,v.children[f])}function ee(v){v.parentElement&&v.parentElement.removeChild(v)}function re(v){for(;v.children.length>0;)v.removeChild(v.children[0])}function W(v){for(;v.childNodes.length>0;)v.removeChild(v.childNodes[0])}function q(v){return v.relatedTarget?v.relatedTarget:"explicitOriginalTarget"in v?v.explicitOriginalTarget:null}const oe=y("lbl");function se(v,u){const f=v.createDocumentFragment();return u.split(`
`).map(L=>v.createTextNode(L)).forEach((L,Y)=>{Y>0&&f.appendChild(v.createElement("br")),f.appendChild(L)}),f}class de{constructor(u,f){this.element=u.createElement("div"),this.element.classList.add(oe()),f.viewProps.bindClassModifiers(this.element);const w=u.createElement("div");w.classList.add(oe("l")),k(f.props,"label",Y=>{h(Y)?this.element.classList.add(oe(void 0,"nol")):(this.element.classList.remove(oe(void 0,"nol")),W(w),w.appendChild(se(u,Y)))}),this.element.appendChild(w),this.labelElement=w;const L=u.createElement("div");L.classList.add(oe("v")),this.element.appendChild(L),this.valueElement=L}}class he extends Te{constructor(u,f){const w=f.valueController.viewProps;super(Object.assign(Object.assign({},f),{view:new de(u,{props:f.props,viewProps:w}),viewProps:w}));this.props=f.props,this.valueController=f.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const ge={id:"button",type:"blade",accept(v){const u=we,f=Se(v,{title:u.required.string,view:u.required.constant("button"),label:u.optional.string});return f?{params:f}:null},controller(v){return new he(v.document,{blade:v.blade,props:X.fromObject({label:v.params.label}),valueController:new D(v.document,{props:X.fromObject({title:v.params.title}),viewProps:v.viewProps})})},api(v){return!(v.controller instanceof he)||!(v.controller.valueController instanceof D)?null:new S(v.controller)}};class _e extends Te{constructor(u){super(u);this.value=u.value}}function Ue(){return new X({positions:J([],{equals:p})})}class $e extends X{constructor(u){super(u)}static create(u){const f={completed:!0,expanded:u,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},w=X.createCore(f);return new $e(w)}get styleExpanded(){var u;return(u=this.get("temporaryExpanded"))!==null&&u!==void 0?u:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const u=this.get("expandedHeight");return this.get("shouldFixHeight")&&!h(u)?`${u}px`:"auto"}bindExpandedClass(u,f){k(this,"expanded",()=>{this.styleExpanded?u.classList.add(f):u.classList.remove(f)})}}function ft(v,u){let f=0;return z(u,()=>{v.set("expandedHeight",null),v.set("temporaryExpanded",!0),He(u),f=u.clientHeight,v.set("temporaryExpanded",null),He(u)}),f}function Ct(v,u){u.style.height=v.styleHeight}function un(v,u){v.value("expanded").emitter.on("beforechange",()=>{v.set("completed",!1),h(v.get("expandedHeight"))&&v.set("expandedHeight",ft(v,u)),v.set("shouldFixHeight",!0),He(u)}),v.emitter.on("change",()=>{Ct(v,u)}),Ct(v,u),u.addEventListener("transitionend",f=>{f.propertyName==="height"&&(v.set("shouldFixHeight",!1),v.set("expandedHeight",null),v.set("completed",!0))})}class An extends s{constructor(u,f){super(u);this.rackApi_=f}}function Ts(v,u){return v.addBlade(Object.assign(Object.assign({},u),{view:"button"}))}function Rt(v,u){return v.addBlade(Object.assign(Object.assign({},u),{view:"folder"}))}function bn(v,u){const f=u||{};return v.addBlade(Object.assign(Object.assign({},f),{view:"separator"}))}function nn(v,u){return v.addBlade(Object.assign(Object.assign({},u),{view:"tab"}))}class Pr{constructor(u){this.emitter=new m,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=u}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(u){for(const f of this.allItems())if(u(f))return f;return null}includes(u){return this.cache_.has(u)}add(u,f){if(this.includes(u))throw g.shouldNeverHappen();const w=f!==void 0?f:this.items_.length;this.items_.splice(w,0,u),this.cache_.add(u);const L=this.extract_(u);L&&(L.emitter.on("add",this.onSubListAdd_),L.emitter.on("remove",this.onSubListRemove_),L.allItems().forEach(Y=>{this.cache_.add(Y)})),this.emitter.emit("add",{index:w,item:u,root:this,target:this})}remove(u){const f=this.items_.indexOf(u);if(f<0)return;this.items_.splice(f,1),this.cache_.delete(u);const w=this.extract_(u);w&&(w.emitter.off("add",this.onSubListAdd_),w.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:f,item:u,root:this,target:this})}onSubListAdd_(u){this.cache_.add(u.item),this.emitter.emit("add",{index:u.index,item:u.item,root:this,target:u.target})}onSubListRemove_(u){this.cache_.delete(u.item),this.emitter.emit("remove",{index:u.index,item:u.item,root:this,target:u.target})}}class Ui extends s{constructor(u){super(u);this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new m,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}on(u,f){const w=f.bind(this);return this.emitter_.on(u,L=>{w(L.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(u){const f=u.sender.target.read();this.emitter_.emit("change",{event:new a(this,f,this.controller_.binding.target.presetKey,u.options.last)})}}class Qn extends he{constructor(u,f){super(u,f);this.binding=f.binding}}class ks extends s{constructor(u){super(u);this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new m,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}on(u,f){const w=f.bind(this);return this.emitter_.on(u,L=>{w(L.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(u){const f=u.sender.target.read();this.emitter_.emit("update",{event:new o(this,f,this.controller_.binding.target.presetKey)})}}class Vi extends he{constructor(u,f){super(u,f);this.binding=f.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function Ps(v){return v instanceof It?v.apiSet_:v instanceof An?v.rackApi_.apiSet_:null}function $i(v,u){const f=v.find(w=>w.controller_===u);if(!f)throw g.shouldNeverHappen();return f}function zt(v,u,f){if(!x.isBindable(v))throw g.notBindable();return new x(v,u,f)}class It extends s{constructor(u,f){super(u);this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new m,this.apiSet_=new Pr(Ps),this.pool_=f;const w=this.controller_.rack;w.emitter.on("add",this.onRackAdd_),w.emitter.on("remove",this.onRackRemove_),w.emitter.on("inputchange",this.onRackInputChange_),w.emitter.on("monitorupdate",this.onRackMonitorUpdate_),w.children.forEach(L=>{this.setUpApi_(L)})}get children(){return this.controller_.rack.children.map(u=>$i(this.apiSet_,u))}addInput(u,f,w){const L=w||{},Y=this.controller_.view.element.ownerDocument,ie=this.pool_.createInput(Y,zt(u,f,L.presetKey),L),ye=new Ui(ie);return this.add(ye,L.index)}addMonitor(u,f,w){const L=w||{},Y=this.controller_.view.element.ownerDocument,ie=this.pool_.createMonitor(Y,zt(u,f),L),ye=new ks(ie);return this.add(ye,L.index)}addFolder(u){return Rt(this,u)}addButton(u){return Ts(this,u)}addSeparator(u){return bn(this,u)}addTab(u){return nn(this,u)}add(u,f){this.controller_.rack.add(u.controller_,f);const w=this.apiSet_.find(L=>L.controller_===u.controller_);return w&&this.apiSet_.remove(w),this.apiSet_.add(u),u}remove(u){this.controller_.rack.remove(u.controller_)}addBlade(u){const f=this.controller_.view.element.ownerDocument,w=this.pool_.createBlade(f,u),L=this.pool_.createBladeApi(w);return this.add(L,u.index)}on(u,f){const w=f.bind(this);return this.emitter_.on(u,L=>{w(L.event)}),this}setUpApi_(u){this.apiSet_.find(w=>w.controller_===u)||this.apiSet_.add(this.pool_.createBladeApi(u))}onRackAdd_(u){this.setUpApi_(u.bladeController)}onRackRemove_(u){if(u.isRoot){const f=$i(this.apiSet_,u.bladeController);this.apiSet_.remove(f)}}onRackInputChange_(u){const f=u.bladeController;if(f instanceof Qn){const w=$i(this.apiSet_,f),L=f.binding;this.emitter_.emit("change",{event:new a(w,L.target.read(),L.target.presetKey,u.options.last)})}else if(f instanceof _e){const w=$i(this.apiSet_,f);this.emitter_.emit("change",{event:new a(w,f.value.rawValue,void 0,u.options.last)})}}onRackMonitorUpdate_(u){if(!(u.bladeController instanceof Vi))throw g.shouldNeverHappen();const f=$i(this.apiSet_,u.bladeController),w=u.bladeController.binding;this.emitter_.emit("update",{event:new o(f,w.target.read(),w.target.presetKey)})}}class _n extends An{constructor(u,f){super(u,new It(u.rackController,f));this.emitter_=new m,this.controller_.foldable.value("expanded").emitter.on("change",w=>{this.emitter_.emit("fold",{event:new l(this,w.sender.rawValue)})}),this.rackApi_.on("change",w=>{this.emitter_.emit("change",{event:w})}),this.rackApi_.on("update",w=>{this.emitter_.emit("update",{event:w})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(u){this.controller_.foldable.set("expanded",u)}get title(){return this.controller_.props.get("title")}set title(u){this.controller_.props.set("title",u)}get children(){return this.rackApi_.children}addInput(u,f,w){return this.rackApi_.addInput(u,f,w)}addMonitor(u,f,w){return this.rackApi_.addMonitor(u,f,w)}addFolder(u){return this.rackApi_.addFolder(u)}addButton(u){return this.rackApi_.addButton(u)}addSeparator(u){return this.rackApi_.addSeparator(u)}addTab(u){return this.rackApi_.addTab(u)}add(u,f){return this.rackApi_.add(u,f)}remove(u){this.rackApi_.remove(u)}addBlade(u){return this.rackApi_.addBlade(u)}on(u,f){const w=f.bind(this);return this.emitter_.on(u,L=>{w(L.event)}),this}}class xn extends Te{constructor(u){super({blade:u.blade,view:u.view,viewProps:u.rackController.viewProps});this.rackController=u.rackController}}class yn{constructor(u,f){const w=y(f.viewName);this.element=u.createElement("div"),this.element.classList.add(w()),f.viewProps.bindClassModifiers(this.element)}}function hn(v,u){for(let f=0;f<v.length;f++){const w=v[f];if(w instanceof Qn&&w.binding===u)return w}return null}function zi(v,u){for(let f=0;f<v.length;f++){const w=v[f];if(w instanceof Vi&&w.binding===u)return w}return null}function Hi(v,u){for(let f=0;f<v.length;f++){const w=v[f];if(w instanceof _e&&w.value===u)return w}return null}function cs(v){return v instanceof _o?v.rack:v instanceof xn?v.rackController.rack:null}function og(v){const u=cs(v);return u?u.bcSet_:null}class lg{constructor(u){var f;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new m,this.blade_=u!=null?u:null,(f=this.blade_)===null||f===void 0||f.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new Pr(og),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(u,f){u.parent&&u.parent.remove(u),u.parent_=this,this.bcSet_.add(u,f)}remove(u){u.parent_=null,this.bcSet_.remove(u)}find(u){return this.bcSet_.allItems().filter(f=>f instanceof u)}onSetAdd_(u){this.updatePositions_();const f=u.target===u.root;if(this.emitter.emit("add",{bladeController:u.item,index:u.index,isRoot:f,sender:this}),!f)return;const w=u.item;if(w.viewProps.emitter.on("change",this.onChildViewPropsChange_),w.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),w.viewProps.handleDispose(this.onChildDispose_),w instanceof Qn)w.binding.emitter.on("change",this.onChildInputChange_);else if(w instanceof Vi)w.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(w instanceof _e)w.value.emitter.on("change",this.onChildValueChange_);else{const L=cs(w);if(L){const Y=L.emitter;Y.on("layout",this.onDescendantLayout_),Y.on("inputchange",this.onDescendantInputChange_),Y.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(u){this.updatePositions_();const f=u.target===u.root;if(this.emitter.emit("remove",{bladeController:u.item,isRoot:f,sender:this}),!f)return;const w=u.item;if(w instanceof Qn)w.binding.emitter.off("change",this.onChildInputChange_);else if(w instanceof Vi)w.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(w instanceof _e)w.value.emitter.off("change",this.onChildValueChange_);else{const L=cs(w);if(L){const Y=L.emitter;Y.off("layout",this.onDescendantLayout_),Y.off("inputchange",this.onDescendantInputChange_),Y.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const u=this.bcSet_.items.filter(L=>!L.viewProps.get("hidden")),f=u[0],w=u[u.length-1];this.bcSet_.items.forEach(L=>{const Y=[];L===f&&(Y.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&Y.push("veryfirst")),L===w&&(Y.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&Y.push("verylast")),L.blade.set("positions",Y)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(u){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(f=>f.viewProps.get("disposed")).forEach(f=>{this.bcSet_.remove(f)})}onChildInputChange_(u){const f=hn(this.find(Qn),u.sender);if(!f)throw g.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:f,options:u.options,sender:this})}onChildMonitorUpdate_(u){const f=zi(this.find(Vi),u.sender);if(!f)throw g.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:f,sender:this})}onChildValueChange_(u){const f=Hi(this.find(_e),u.sender);if(!f)throw g.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:f,options:u.options,sender:this})}onDescendantLayout_(u){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(u){this.emitter.emit("inputchange",{bladeController:u.bladeController,options:u.options,sender:this})}onDescendantMonitorUpdate_(u){this.emitter.emit("monitorupdate",{bladeController:u.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class _o extends Te{constructor(u,f){super(Object.assign(Object.assign({},f),{view:new yn(u,{viewName:"brk",viewProps:f.viewProps})}));this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const w=new lg(f.root?void 0:f.blade);w.emitter.on("add",this.onRackAdd_),w.emitter.on("remove",this.onRackRemove_),this.rack=w,this.viewProps.handleDispose(()=>{for(let L=this.rack.children.length-1;L>=0;L--)this.rack.children[L].viewProps.set("disposed",!0)})}onRackAdd_(u){!u.isRoot||te(this.view.element,u.bladeController.view.element,u.index)}onRackRemove_(u){!u.isRoot||ee(u.bladeController.view.element)}}const hd=y("cnt");class cg{constructor(u,f){this.className_=y(f.viewName||"fld"),this.element=u.createElement("div"),this.element.classList.add(this.className_(),hd()),f.viewProps.bindClassModifiers(this.element),this.foldable_=f.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),k(this.foldable_,"completed",N(this.element,this.className_(void 0,"cpl")));const w=u.createElement("button");w.classList.add(this.className_("b")),k(f.props,"title",ye=>{h(ye)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),f.viewProps.bindDisabled(w),this.element.appendChild(w),this.buttonElement=w;const L=u.createElement("div");L.classList.add(this.className_("t")),I(f.props.value("title"),L),this.buttonElement.appendChild(L),this.titleElement=L;const Y=u.createElement("div");Y.classList.add(this.className_("m")),this.buttonElement.appendChild(Y);const ie=f.containerElement;ie.classList.add(this.className_("c")),this.element.appendChild(ie),this.containerElement=ie}}class Cu extends xn{constructor(u,f){var w;const L=$e.create((w=f.expanded)!==null&&w!==void 0?w:!0),Y=new _o(u,{blade:f.blade,root:f.root,viewProps:f.viewProps});super(Object.assign(Object.assign({},f),{rackController:Y,view:new cg(u,{containerElement:Y.view.element,foldable:L,props:f.props,viewName:f.root?"rot":void 0,viewProps:f.viewProps})}));this.onTitleClick_=this.onTitleClick_.bind(this),this.props=f.props,this.foldable=L,un(this.foldable,this.view.containerElement),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const ug={id:"folder",type:"blade",accept(v){const u=we,f=Se(v,{title:u.required.string,view:u.required.constant("folder"),expanded:u.optional.boolean});return f?{params:f}:null},controller(v){return new Cu(v.document,{blade:v.blade,expanded:v.params.expanded,props:X.fromObject({title:v.params.title}),viewProps:v.viewProps})},api(v){return v.controller instanceof Cu?new _n(v.controller,v.pool):null}};class da extends _e{constructor(u,f){const w=f.valueController.viewProps;super(Object.assign(Object.assign({},f),{value:f.valueController.value,view:new de(u,{props:f.props,viewProps:w}),viewProps:w}));this.props=f.props,this.valueController=f.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Eu extends s{}const pd=y("spr");class hg{constructor(u,f){this.element=u.createElement("div"),this.element.classList.add(pd()),f.viewProps.bindClassModifiers(this.element);const w=u.createElement("hr");w.classList.add(pd("r")),this.element.appendChild(w)}}class dd extends Te{constructor(u,f){super(Object.assign(Object.assign({},f),{view:new hg(u,{viewProps:f.viewProps})}))}}const fd={id:"separator",type:"blade",accept(v){const f=Se(v,{view:we.required.constant("separator")});return f?{params:f}:null},controller(v){return new dd(v.document,{blade:v.blade,viewProps:v.viewProps})},api(v){return v.controller instanceof dd?new Eu(v.controller):null}},pg=y("");function xo(v,u){return N(v,pg(void 0,u))}class Xs extends X{constructor(u){super(u)}static create(u){var f,w;const L=u!=null?u:{},Y={disabled:(f=L.disabled)!==null&&f!==void 0?f:!1,disposed:!1,hidden:(w=L.hidden)!==null&&w!==void 0?w:!1},ie=X.createCore(Y);return new Xs(ie)}bindClassModifiers(u){k(this,"disabled",xo(u,"disabled")),k(this,"hidden",xo(u,"hidden"))}bindDisabled(u){k(this,"disabled",f=>{u.disabled=f})}bindTabIndex(u){k(this,"disabled",f=>{u.tabIndex=f?-1:0})}handleDispose(u){this.value("disposed").emitter.on("change",f=>{f&&u()})}}const Qs=y("tbi");class md{constructor(u,f){this.element=u.createElement("div"),this.element.classList.add(Qs()),f.viewProps.bindClassModifiers(this.element),k(f.props,"selected",Y=>{Y?this.element.classList.add(Qs(void 0,"sel")):this.element.classList.remove(Qs(void 0,"sel"))});const w=u.createElement("button");w.classList.add(Qs("b")),f.viewProps.bindDisabled(w),this.element.appendChild(w),this.buttonElement=w;const L=u.createElement("div");L.classList.add(Qs("t")),I(f.props.value("title"),L),this.buttonElement.appendChild(L),this.titleElement=L}}class dg{constructor(u,f){this.emitter=new m,this.onClick_=this.onClick_.bind(this),this.props=f.props,this.viewProps=f.viewProps,this.view=new md(u,{props:f.props,viewProps:f.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class vd{constructor(u,f){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new dg(u,{props:f.itemProps,viewProps:Xs.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new _o(u,{blade:Ue(),viewProps:Xs.create()}),this.props=f.props,k(this.props,"selected",w=>{this.itemController.props.set("selected",w),this.contentController.viewProps.set("hidden",!w)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class gd{constructor(u,f){this.controller_=u,this.rackApi_=f}get title(){var u;return(u=this.controller_.itemController.props.get("title"))!==null&&u!==void 0?u:""}set title(u){this.controller_.itemController.props.set("title",u)}get selected(){return this.controller_.props.get("selected")}set selected(u){this.controller_.props.set("selected",u)}get children(){return this.rackApi_.children}addButton(u){return this.rackApi_.addButton(u)}addFolder(u){return this.rackApi_.addFolder(u)}addSeparator(u){return this.rackApi_.addSeparator(u)}addTab(u){return this.rackApi_.addTab(u)}add(u,f){this.rackApi_.add(u,f)}remove(u){this.rackApi_.remove(u)}addInput(u,f,w){return this.rackApi_.addInput(u,f,w)}addMonitor(u,f,w){return this.rackApi_.addMonitor(u,f,w)}addBlade(u){return this.rackApi_.addBlade(u)}}class Tu extends An{constructor(u,f){super(u,new It(u.rackController,f));this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.emitter_=new m,this.pageApiMap_=new Map,this.rackApi_.on("change",w=>{this.emitter_.emit("change",{event:w})}),this.rackApi_.on("update",w=>{this.emitter_.emit("update",{event:w})}),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(w=>{this.setUpPageApi_(w)})}get pages(){return this.controller_.pageSet.items.map(u=>{const f=this.pageApiMap_.get(u);if(!f)throw g.shouldNeverHappen();return f})}addPage(u){const f=this.controller_.view.element.ownerDocument,w=new vd(f,{itemProps:X.fromObject({selected:!1,title:u.title}),props:X.fromObject({selected:!1})});this.controller_.add(w,u.index);const L=this.pageApiMap_.get(w);if(!L)throw g.shouldNeverHappen();return L}removePage(u){this.controller_.remove(u)}on(u,f){const w=f.bind(this);return this.emitter_.on(u,L=>{w(L.event)}),this}setUpPageApi_(u){const f=this.rackApi_.apiSet_.find(L=>L.controller_===u.contentController);if(!f)throw g.shouldNeverHappen();const w=new gd(u,f);this.pageApiMap_.set(u,w)}onPageAdd_(u){this.setUpPageApi_(u.item)}onPageRemove_(u){if(!this.pageApiMap_.get(u.item))throw g.shouldNeverHappen();this.pageApiMap_.delete(u.item)}}const As=y("tab");class Fl{constructor(u,f){this.element=u.createElement("div"),this.element.classList.add(As(),hd()),f.viewProps.bindClassModifiers(this.element),A(f.empty,N(this.element,As(void 0,"nop")));const w=u.createElement("div");w.classList.add(As("i")),this.element.appendChild(w),this.itemsElement=w;const L=f.contentsElement;L.classList.add(As("c")),this.element.appendChild(L),this.contentsElement=L}}class ku extends xn{constructor(u,f){const w=new _o(u,{blade:f.blade,viewProps:f.viewProps}),L=J(!0);super({blade:f.blade,rackController:w,view:new Fl(u,{contentsElement:w.view.element,empty:L,viewProps:f.viewProps})});this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onPageSelectedChange_=this.onPageSelectedChange_.bind(this),this.pageSet_=new Pr(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.empty_=L,this.applyPages_()}get pageSet(){return this.pageSet_}add(u,f){this.pageSet_.add(u,f!=null?f:this.pageSet_.items.length)}remove(u){this.pageSet_.remove(this.pageSet_.items[u])}applyPages_(){this.keepSelection_(),this.empty_.rawValue=this.pageSet_.items.length===0}onPageAdd_(u){const f=u.item;te(this.view.itemsElement,f.itemController.view.element,u.index),this.rackController.rack.add(f.contentController,u.index),f.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}onPageRemove_(u){const f=u.item;ee(f.itemController.view.element),this.rackController.rack.remove(f.contentController),f.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}keepSelection_(){if(this.pageSet_.items.length===0)return;const u=this.pageSet_.items.findIndex(f=>f.props.get("selected"));u<0?this.pageSet_.items.forEach((f,w)=>{f.props.set("selected",w===0)}):this.pageSet_.items.forEach((f,w)=>{f.props.set("selected",w===u)})}onPageSelectedChange_(u){if(u.rawValue){const f=this.pageSet_.items.findIndex(w=>w.props.value("selected")===u.sender);this.pageSet_.items.forEach((w,L)=>{w.props.set("selected",L===f)})}else this.keepSelection_()}}const bd={id:"tab",type:"blade",accept(v){const u=we,f=Se(v,{pages:u.required.array(u.required.object({title:u.required.string})),view:u.required.constant("tab")});return!f||f.pages.length===0?null:{params:f}},controller(v){const u=new ku(v.document,{blade:v.blade,viewProps:v.viewProps});return v.params.pages.forEach(f=>{const w=new vd(v.document,{itemProps:X.fromObject({selected:!1,title:f.title}),props:X.fromObject({selected:!1})});u.add(w)}),u},api(v){return v.controller instanceof ku?new Tu(v.controller,v.pool):null}};function _d(v,u){const f=v.accept(u.params);if(!f)return null;const w=we.optional.boolean(u.params.disabled).value,L=we.optional.boolean(u.params.hidden).value;return v.controller({blade:Ue(),document:u.document,params:Object.assign(Object.assign({},f.params),{disabled:w,hidden:L}),viewProps:Xs.create({disabled:w,hidden:L})})}class Pu{constructor(){this.disabled=!1,this.emitter=new m}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class Dl{constructor(u,f){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=u,this.emitter=new m,this.interval_=f,this.setTimer_()}get disabled(){return this.disabled_}set disabled(u){this.disabled_=u,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const u=this.doc_.defaultView;u&&u.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const u=this.doc_.defaultView;u&&(this.timerId_=u.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class Ot{constructor(u){this.constraints=u}constrain(u){return this.constraints.reduce((f,w)=>w.constrain(f),u)}}function qi(v,u){if(v instanceof u)return v;if(v instanceof Ot){const f=v.constraints.reduce((w,L)=>w||(L instanceof u?L:null),null);if(f)return f}return null}class Ms{constructor(u){this.options=u}constrain(u){const f=this.options;return f.length===0||f.filter(L=>L.value===u).length>0?u:f[0].value}}class jt{constructor(u){this.maxValue=u.max,this.minValue=u.min}constrain(u){let f=u;return h(this.minValue)||(f=Math.max(f,this.minValue)),h(this.maxValue)||(f=Math.min(f,this.maxValue)),f}}class Ar{constructor(u){this.step=u}constrain(u){return(u<0?-Math.round(-u/this.step):Math.round(u/this.step))*this.step}}const Au=y("lst");class fg{constructor(u,f){this.onValueChange_=this.onValueChange_.bind(this),this.props_=f.props,this.element=u.createElement("div"),this.element.classList.add(Au()),f.viewProps.bindClassModifiers(this.element);const w=u.createElement("select");w.classList.add(Au("s")),k(this.props_,"options",Y=>{re(w),Y.forEach((ie,ye)=>{const ze=u.createElement("option");ze.dataset.index=String(ye),ze.textContent=ie.text,ze.value=String(ie.value),w.appendChild(ze)})}),f.viewProps.bindDisabled(w),this.element.appendChild(w),this.selectElement=w;const L=u.createElement("div");L.classList.add(Au("m")),L.appendChild(Q(u,"dropdown")),this.element.appendChild(L),f.value.emitter.on("change",this.onValueChange_),this.value_=f.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class yo{constructor(u,f){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=f.props,this.value=f.value,this.viewProps=f.viewProps,this.view=new fg(u,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(u){const w=u.currentTarget.selectedOptions.item(0);if(!w)return;const L=Number(w.dataset.index);this.value.rawValue=this.props.get("options")[L].value}}const xd=y("pop");class yd{constructor(u,f){this.element=u.createElement("div"),this.element.classList.add(xd()),f.viewProps.bindClassModifiers(this.element),A(f.shows,N(this.element,xd(void 0,"v")))}}class wd{constructor(u,f){this.shows=J(!1),this.viewProps=f.viewProps,this.view=new yd(u,{shows:this.shows,viewProps:this.viewProps})}}const Sd=y("txt");class Cd{constructor(u,f){this.onChange_=this.onChange_.bind(this),this.element=u.createElement("div"),this.element.classList.add(Sd()),f.viewProps.bindClassModifiers(this.element),this.props_=f.props,this.props_.emitter.on("change",this.onChange_);const w=u.createElement("input");w.classList.add(Sd("i")),w.type="text",f.viewProps.bindDisabled(w),this.element.appendChild(w),this.inputElement=w,f.value.emitter.on("change",this.onChange_),this.value_=f.value,this.refresh()}refresh(){const u=this.props_.get("formatter");this.inputElement.value=u(this.value_.rawValue)}onChange_(){this.refresh()}}class Bl{constructor(u,f){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=f.parser,this.props=f.props,this.value=f.value,this.viewProps=f.viewProps,this.view=new Cd(u,{props:f.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(u){const w=u.currentTarget.value,L=this.parser_(w);h(L)||(this.value.rawValue=L),this.view.refresh()}}function mg(v){return String(v)}function jl(v){return v==="false"?!1:!!v}function Ed(v){return mg(v)}class vg{constructor(u){this.text=u}evaluate(){return Number(this.text)}toString(){return this.text}}const gg={"**":(v,u)=>Math.pow(v,u),"*":(v,u)=>v*u,"/":(v,u)=>v/u,"%":(v,u)=>v%u,"+":(v,u)=>v+u,"-":(v,u)=>v-u,"<<":(v,u)=>v<<u,">>":(v,u)=>v>>u,">>>":(v,u)=>v>>>u,"&":(v,u)=>v&u,"^":(v,u)=>v^u,"|":(v,u)=>v|u};class bg{constructor(u,f,w){this.left=f,this.operator=u,this.right=w}evaluate(){const u=gg[this.operator];if(!u)throw new Error(`unexpected binary operator: '${this.operator}`);return u(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Js={"+":v=>v,"-":v=>-v,"~":v=>~v};class _g{constructor(u,f){this.operator=u,this.expression=f}evaluate(){const u=Js[this.operator];if(!u)throw new Error(`unexpected unary operator: '${this.operator}`);return u(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Mu(v){return(u,f)=>{for(let w=0;w<v.length;w++){const L=v[w](u,f);if(L!=="")return L}return""}}function wo(v,u){var f;const w=v.substr(u).match(/^\s+/);return(f=w&&w[0])!==null&&f!==void 0?f:""}function xg(v,u){const f=v.substr(u,1);return f.match(/^[1-9]$/)?f:""}function So(v,u){var f;const w=v.substr(u).match(/^[0-9]+/);return(f=w&&w[0])!==null&&f!==void 0?f:""}function Td(v,u){const f=So(v,u);if(f!=="")return f;const w=v.substr(u,1);if(u+=1,w!=="-"&&w!=="+")return"";const L=So(v,u);return L===""?"":w+L}function Ru(v,u){const f=v.substr(u,1);if(u+=1,f.toLowerCase()!=="e")return"";const w=Td(v,u);return w===""?"":f+w}function kd(v,u){const f=v.substr(u,1);if(f==="0")return f;const w=xg(v,u);return u+=w.length,w===""?"":w+So(v,u)}function wi(v,u){const f=kd(v,u);if(u+=f.length,f==="")return"";const w=v.substr(u,1);if(u+=w.length,w!==".")return"";const L=So(v,u);return u+=L.length,f+w+L+Ru(v,u)}function yg(v,u){const f=v.substr(u,1);if(u+=f.length,f!==".")return"";const w=So(v,u);return u+=w.length,w===""?"":f+w+Ru(v,u)}function wg(v,u){const f=kd(v,u);return u+=f.length,f===""?"":f+Ru(v,u)}const Iu=Mu([wi,yg,wg]);function Sg(v,u){var f;const w=v.substr(u).match(/^[01]+/);return(f=w&&w[0])!==null&&f!==void 0?f:""}function Zs(v,u){const f=v.substr(u,2);if(u+=f.length,f.toLowerCase()!=="0b")return"";const w=Sg(v,u);return w===""?"":f+w}function Pd(v,u){var f;const w=v.substr(u).match(/^[0-7]+/);return(f=w&&w[0])!==null&&f!==void 0?f:""}function Cg(v,u){const f=v.substr(u,2);if(u+=f.length,f.toLowerCase()!=="0o")return"";const w=Pd(v,u);return w===""?"":f+w}function Ad(v,u){var f;const w=v.substr(u).match(/^[0-9a-f]+/i);return(f=w&&w[0])!==null&&f!==void 0?f:""}function Eg(v,u){const f=v.substr(u,2);if(u+=f.length,f.toLowerCase()!=="0x")return"";const w=Ad(v,u);return w===""?"":f+w}const Mr=Mu([Zs,Cg,Eg]),Tg=Mu([Mr,Iu]);function Ou(v,u){const f=Tg(v,u);return u+=f.length,f===""?null:{evaluable:new vg(f),cursor:u}}function kg(v,u){const f=v.substr(u,1);if(u+=f.length,f!=="(")return null;const w=Nu(v,u);if(!w)return null;u=w.cursor,u+=wo(v,u).length;const L=v.substr(u,1);return u+=L.length,L!==")"?null:{evaluable:w.evaluable,cursor:u}}function Md(v,u){return Ou(v,u)||kg(v,u)}function Rs(v,u){const f=Md(v,u);if(f)return f;const w=v.substr(u,1);if(u+=w.length,w!=="+"&&w!=="-"&&w!=="~")return null;const L=Rs(v,u);return L?(u=L.cursor,{cursor:u,evaluable:new _g(w,L.evaluable)}):null}function Pg(v,u,f){f+=wo(u,f).length;const w=v.filter(L=>u.startsWith(L,f))[0];return w?(f+=w.length,f+=wo(u,f).length,{cursor:f,operator:w}):null}function Ag(v,u){return(f,w)=>{const L=v(f,w);if(!L)return null;w=L.cursor;let Y=L.evaluable;for(;;){const ie=Pg(u,f,w);if(!ie)break;w=ie.cursor;const ye=v(f,w);if(!ye)return null;w=ye.cursor,Y=new bg(ie.operator,Y,ye.evaluable)}return Y?{cursor:w,evaluable:Y}:null}}const Rd=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((v,u)=>Ag(v,u),Rs);function Nu(v,u){return u+=wo(v,u).length,Rd(v,u)}function Id(v){const u=Nu(v,0);return!u||u.cursor+wo(v,u.cursor).length!==v.length?null:u.evaluable}function Jn(v){var u;const f=Id(v);return(u=f==null?void 0:f.evaluate())!==null&&u!==void 0?u:null}function Od(v){if(typeof v=="number")return v;if(typeof v=="string"){const u=Jn(v);if(!h(u))return u}return 0}function Lu(v){return String(v)}function Zn(v){return u=>u.toFixed(Math.max(Math.min(v,20),0))}const Mg=Zn(0);function Ul(v){return Mg(v)+"%"}function Fu(v){return String(v)}function Du(v){return v}function Nd(v,u){for(;v.length<u;)v.push(void 0)}function Rg(v){const u=[];return Nd(u,v),J(u)}function Ld(v){const u=v.indexOf(void 0);return u<0?v:v.slice(0,u)}function Ig(v,u){const f=[...Ld(v),u];return f.length>v.length?f.splice(0,f.length-v.length):Nd(f,v.length),f}function Is({primary:v,secondary:u,forward:f,backward:w}){let L=!1;function Y(ie){L||(L=!0,ie(),L=!1)}v.emitter.on("change",ie=>{Y(()=>{u.setRawValue(f(v,u),ie.options)})}),u.emitter.on("change",ie=>{Y(()=>{v.setRawValue(w(v,u),ie.options)}),Y(()=>{u.setRawValue(f(v,u),ie.options)})}),Y(()=>{u.setRawValue(f(v,u),{forceEmit:!1,last:!0})})}function ei(v,u){const f=v*(u.altKey?.1:1)*(u.shiftKey?10:1);return u.upKey?+f:u.downKey?-f:0}function fa(v){return{altKey:v.altKey,downKey:v.key==="ArrowDown",shiftKey:v.shiftKey,upKey:v.key==="ArrowUp"}}function Os(v){return{altKey:v.altKey,downKey:v.key==="ArrowLeft",shiftKey:v.shiftKey,upKey:v.key==="ArrowRight"}}function Og(v){return v==="ArrowUp"||v==="ArrowDown"}function hi(v){return Og(v)||v==="ArrowLeft"||v==="ArrowRight"}function Vl(v,u){const f=u.ownerDocument.defaultView,w=u.getBoundingClientRect();return{x:v.pageX-((f&&f.scrollX||0)+w.left),y:v.pageY-((f&&f.scrollY||0)+w.top)}}class er{constructor(u){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=u,this.emitter=new m,u.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),u.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),u.addEventListener("touchend",this.onTouchEnd_),u.addEventListener("mousedown",this.onMouseDown_)}computePosition_(u){const f=this.elem_.getBoundingClientRect();return{bounds:{width:f.width,height:f.height},point:u?{x:u.x,y:u.y}:null}}onMouseDown_(u){var f;u.preventDefault(),(f=u.currentTarget)===null||f===void 0||f.focus();const w=this.elem_.ownerDocument;w.addEventListener("mousemove",this.onDocumentMouseMove_),w.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:u.altKey,data:this.computePosition_(Vl(u,this.elem_)),sender:this,shiftKey:u.shiftKey})}onDocumentMouseMove_(u){this.emitter.emit("move",{altKey:u.altKey,data:this.computePosition_(Vl(u,this.elem_)),sender:this,shiftKey:u.shiftKey})}onDocumentMouseUp_(u){const f=this.elem_.ownerDocument;f.removeEventListener("mousemove",this.onDocumentMouseMove_),f.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:u.altKey,data:this.computePosition_(Vl(u,this.elem_)),sender:this,shiftKey:u.shiftKey})}onTouchStart_(u){u.preventDefault();const f=u.targetTouches.item(0),w=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:u.altKey,data:this.computePosition_(f?{x:f.clientX-w.left,y:f.clientY-w.top}:void 0),sender:this,shiftKey:u.shiftKey}),this.lastTouch_=f}onTouchMove_(u){const f=u.targetTouches.item(0),w=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:u.altKey,data:this.computePosition_(f?{x:f.clientX-w.left,y:f.clientY-w.top}:void 0),sender:this,shiftKey:u.shiftKey}),this.lastTouch_=f}onTouchEnd_(u){var f;const w=(f=u.targetTouches.item(0))!==null&&f!==void 0?f:this.lastTouch_,L=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:u.altKey,data:this.computePosition_(w?{x:w.clientX-L.left,y:w.clientY-L.top}:void 0),sender:this,shiftKey:u.shiftKey})}}function Pt(v,u,f,w,L){const Y=(v-u)/(f-u);return w+Y*(L-w)}function Fd(v){return String(v.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function mt(v,u,f){return Math.min(Math.max(v,u),f)}function Bu(v,u){return(v%u+u)%u}const Si=y("txt");class Ng{constructor(u,f){this.onChange_=this.onChange_.bind(this),this.props_=f.props,this.props_.emitter.on("change",this.onChange_),this.element=u.createElement("div"),this.element.classList.add(Si(),Si(void 0,"num")),f.arrayPosition&&this.element.classList.add(Si(void 0,f.arrayPosition)),f.viewProps.bindClassModifiers(this.element);const w=u.createElement("input");w.classList.add(Si("i")),w.type="text",f.viewProps.bindDisabled(w),this.element.appendChild(w),this.inputElement=w,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=f.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Si()),this.inputElement.classList.add(Si("i"));const L=u.createElement("div");L.classList.add(Si("k")),this.element.appendChild(L),this.knobElement=L;const Y=u.createElementNS(Ne,"svg");Y.classList.add(Si("g")),this.knobElement.appendChild(Y);const ie=u.createElementNS(Ne,"path");ie.classList.add(Si("gb")),Y.appendChild(ie),this.guideBodyElem_=ie;const ye=u.createElementNS(Ne,"path");ye.classList.add(Si("gh")),Y.appendChild(ye),this.guideHeadElem_=ye;const ze=u.createElement("div");ze.classList.add(y("tt")()),this.knobElement.appendChild(ze),this.tooltipElem_=ze,f.value.emitter.on("change",this.onChange_),this.value=f.value,this.refresh()}onDraggingChange_(u){if(u.rawValue===null){this.element.classList.remove(Si(void 0,"drg"));return}this.element.classList.add(Si(void 0,"drg"));const f=u.rawValue/this.props_.get("draggingScale"),w=f+(f>0?-1:f<0?1:0),L=mt(-w,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${w+L},0 L${w},4 L${w+L},8`,`M ${f},-1 L${f},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${f},4`);const Y=this.props_.get("formatter");this.tooltipElem_.textContent=Y(this.value.rawValue),this.tooltipElem_.style.left=`${f}px`}refresh(){const u=this.props_.get("formatter");this.inputElement.value=u(this.value.rawValue)}onChange_(){this.refresh()}}class Co{constructor(u,f){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=f.baseStep,this.parser_=f.parser,this.props=f.props,this.value=f.value,this.viewProps=f.viewProps,this.dragging_=J(null),this.view=new Ng(u,{arrayPosition:f.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const w=new er(this.view.knobElement);w.emitter.on("down",this.onPointerDown_),w.emitter.on("move",this.onPointerMove_),w.emitter.on("up",this.onPointerUp_)}onInputChange_(u){const w=u.currentTarget.value,L=this.parser_(w);h(L)||(this.value.rawValue=L),this.view.refresh()}onInputKeyDown_(u){const f=ei(this.baseStep_,fa(u));f!==0&&this.value.setRawValue(this.value.rawValue+f,{forceEmit:!1,last:!1})}onInputKeyUp_(u){ei(this.baseStep_,fa(u))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(u){if(!u.point)return null;const f=u.point.x-u.bounds.width/2;return this.originRawValue_+f*this.props.get("draggingScale")}onPointerMove_(u){const f=this.computeDraggingValue_(u.data);f!==null&&(this.value.setRawValue(f,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(u){const f=this.computeDraggingValue_(u.data);f!==null&&(this.value.setRawValue(f,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const ju=y("sld");class Lg{constructor(u,f){this.onChange_=this.onChange_.bind(this),this.props_=f.props,this.props_.emitter.on("change",this.onChange_),this.element=u.createElement("div"),this.element.classList.add(ju()),f.viewProps.bindClassModifiers(this.element);const w=u.createElement("div");w.classList.add(ju("t")),f.viewProps.bindTabIndex(w),this.element.appendChild(w),this.trackElement=w;const L=u.createElement("div");L.classList.add(ju("k")),this.trackElement.appendChild(L),this.knobElement=L,f.value.emitter.on("change",this.onChange_),this.value=f.value,this.update_()}update_(){const u=mt(Pt(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${u}%`}onChange_(){this.update_()}}class Fg{constructor(u,f){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=f.baseStep,this.value=f.value,this.viewProps=f.viewProps,this.props=f.props,this.view=new Lg(u,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new er(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(u,f){!u.point||this.value.setRawValue(Pt(mt(u.point.x,0,u.bounds.width),0,u.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),f)}onPointerDownOrMove_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerUp_(u){this.handlePointerEvent_(u.data,{forceEmit:!0,last:!0})}onKeyDown_(u){const f=ei(this.baseStep_,Os(u));f!==0&&this.value.setRawValue(this.value.rawValue+f,{forceEmit:!1,last:!1})}onKeyUp_(u){ei(this.baseStep_,Os(u))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Uu=y("sldtxt");class Dg{constructor(u,f){this.element=u.createElement("div"),this.element.classList.add(Uu());const w=u.createElement("div");w.classList.add(Uu("s")),this.sliderView_=f.sliderView,w.appendChild(this.sliderView_.element),this.element.appendChild(w);const L=u.createElement("div");L.classList.add(Uu("t")),this.textView_=f.textView,L.appendChild(this.textView_.element),this.element.appendChild(L)}}class Vu{constructor(u,f){this.value=f.value,this.viewProps=f.viewProps,this.sliderC_=new Fg(u,{baseStep:f.baseStep,props:f.sliderProps,value:f.value,viewProps:this.viewProps}),this.textC_=new Co(u,{baseStep:f.baseStep,parser:f.parser,props:f.textProps,value:f.value,viewProps:f.viewProps}),this.view=new Dg(u,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function Ns(v,u){v.write(u)}function $l(v){const u=we;if(Array.isArray(v))return u.required.array(u.required.object({text:u.required.string,value:u.required.raw}))(v).value;if(typeof v=="object")return u.required.raw(v).value}function Dd(v){if(v==="inline"||v==="popup")return v}function us(v){const u=we;return u.required.object({max:u.optional.number,min:u.optional.number,step:u.optional.number})(v).value}function Bd(v){if(Array.isArray(v))return v;const u=[];return Object.keys(v).forEach(f=>{u.push({text:f,value:v[f]})}),u}function jd(v){return h(v)?null:new Ms(Bd(v))}function $u(v){const u=v?qi(v,Ms):null;return u?u.options:null}function M(v){const u=v?qi(v,Ar):null;return u?u.step:null}function b(v,u){const f=v&&qi(v,Ar);return f?Fd(f.step):Math.max(Fd(u),2)}function E(v){const u=M(v);return u!=null?u:1}function R(v,u){var f;const w=v&&qi(v,Ar),L=Math.abs((f=w==null?void 0:w.step)!==null&&f!==void 0?f:u);return L===0?.1:Math.pow(10,Math.floor(Math.log10(L))-1)}const H=y("ckb");class ne{constructor(u,f){this.onValueChange_=this.onValueChange_.bind(this),this.element=u.createElement("div"),this.element.classList.add(H()),f.viewProps.bindClassModifiers(this.element);const w=u.createElement("label");w.classList.add(H("l")),this.element.appendChild(w);const L=u.createElement("input");L.classList.add(H("i")),L.type="checkbox",w.appendChild(L),this.inputElement=L,f.viewProps.bindDisabled(this.inputElement);const Y=u.createElement("div");Y.classList.add(H("w")),w.appendChild(Y);const ie=Q(u,"check");Y.appendChild(ie),f.value.emitter.on("change",this.onValueChange_),this.value=f.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class ce{constructor(u,f){this.onInputChange_=this.onInputChange_.bind(this),this.value=f.value,this.viewProps=f.viewProps,this.view=new ne(u,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(u){const f=u.currentTarget;this.value.rawValue=f.checked}}function ke(v){const u=[],f=jd(v.options);return f&&u.push(f),new Ot(u)}const Nt={id:"input-bool",type:"input",accept:(v,u)=>{if(typeof v!="boolean")return null;const w=Se(u,{options:we.optional.custom($l)});return w?{initialValue:v,params:w}:null},binding:{reader:v=>jl,constraint:v=>ke(v.params),writer:v=>Ns},controller:v=>{var u;const f=v.document,w=v.value,L=v.constraint;return L&&qi(L,Ms)?new yo(f,{props:X.fromObject({options:(u=$u(L))!==null&&u!==void 0?u:[]}),value:w,viewProps:v.viewProps}):new ce(f,{value:w,viewProps:v.viewProps})}},vn=y("col");class Ls{constructor(u,f){this.element=u.createElement("div"),this.element.classList.add(vn()),f.foldable.bindExpandedClass(this.element,vn(void 0,"expanded")),k(f.foldable,"completed",N(this.element,vn(void 0,"cpl")));const w=u.createElement("div");w.classList.add(vn("h")),this.element.appendChild(w);const L=u.createElement("div");L.classList.add(vn("s")),w.appendChild(L),this.swatchElement=L;const Y=u.createElement("div");if(Y.classList.add(vn("t")),w.appendChild(Y),this.textElement=Y,f.pickerLayout==="inline"){const ie=u.createElement("div");ie.classList.add(vn("p")),this.element.appendChild(ie),this.pickerElement=ie}else this.pickerElement=null}}function zu(v,u,f){const w=mt(v/255,0,1),L=mt(u/255,0,1),Y=mt(f/255,0,1),ie=Math.max(w,L,Y),ye=Math.min(w,L,Y),ze=ie-ye;let Xe=0,vt=0;const xt=(ye+ie)/2;return ze!==0&&(vt=ze/(1-Math.abs(ie+ye-1)),w===ie?Xe=(L-Y)/ze:L===ie?Xe=2+(Y-w)/ze:Xe=4+(w-L)/ze,Xe=Xe/6+(Xe<0?1:0)),[Xe*360,vt*100,xt*100]}function Bg(v,u,f){const w=(v%360+360)%360,L=mt(u/100,0,1),Y=mt(f/100,0,1),ie=(1-Math.abs(2*Y-1))*L,ye=ie*(1-Math.abs(w/60%2-1)),ze=Y-ie/2;let Xe,vt,xt;return w>=0&&w<60?[Xe,vt,xt]=[ie,ye,0]:w>=60&&w<120?[Xe,vt,xt]=[ye,ie,0]:w>=120&&w<180?[Xe,vt,xt]=[0,ie,ye]:w>=180&&w<240?[Xe,vt,xt]=[0,ye,ie]:w>=240&&w<300?[Xe,vt,xt]=[ye,0,ie]:[Xe,vt,xt]=[ie,0,ye],[(Xe+ze)*255,(vt+ze)*255,(xt+ze)*255]}function jg(v,u,f){const w=mt(v/255,0,1),L=mt(u/255,0,1),Y=mt(f/255,0,1),ie=Math.max(w,L,Y),ye=Math.min(w,L,Y),ze=ie-ye;let Xe;ze===0?Xe=0:ie===w?Xe=60*(((L-Y)/ze%6+6)%6):ie===L?Xe=60*((Y-w)/ze+2):Xe=60*((w-L)/ze+4);const vt=ie===0?0:ze/ie,xt=ie;return[Xe,vt*100,xt*100]}function Hw(v,u,f){const w=Bu(v,360),L=mt(u/100,0,1),Y=mt(f/100,0,1),ie=Y*L,ye=ie*(1-Math.abs(w/60%2-1)),ze=Y-ie;let Xe,vt,xt;return w>=0&&w<60?[Xe,vt,xt]=[ie,ye,0]:w>=60&&w<120?[Xe,vt,xt]=[ye,ie,0]:w>=120&&w<180?[Xe,vt,xt]=[0,ie,ye]:w>=180&&w<240?[Xe,vt,xt]=[0,ye,ie]:w>=240&&w<300?[Xe,vt,xt]=[ye,0,ie]:[Xe,vt,xt]=[ie,0,ye],[(Xe+ze)*255,(vt+ze)*255,(xt+ze)*255]}function BL(v,u,f){const w=f+u*(100-Math.abs(2*f-100))/200;return[v,w!==0?u*(100-Math.abs(2*f-100))/w:0,f+u*(100-Math.abs(2*f-100))/(2*100)]}function jL(v,u,f){const w=100-Math.abs(f*(200-u)/100-100);return[v,w!==0?u*f/w:0,f*(200-u)/(2*100)]}function zl(v){return[v[0],v[1],v[2]]}function qw(v,u){return[v[0],v[1],v[2],u]}const UL={hsl:{hsl:(v,u,f)=>[v,u,f],hsv:BL,rgb:Bg},hsv:{hsl:jL,hsv:(v,u,f)=>[v,u,f],rgb:Hw},rgb:{hsl:zu,hsv:jg,rgb:(v,u,f)=>[v,u,f]}};function VL(v,u,f){return UL[u][f](...v)}const $L={hsl:v=>{var u;return[Bu(v[0],360),mt(v[1],0,100),mt(v[2],0,100),mt((u=v[3])!==null&&u!==void 0?u:1,0,1)]},hsv:v=>{var u;return[Bu(v[0],360),mt(v[1],0,100),mt(v[2],0,100),mt((u=v[3])!==null&&u!==void 0?u:1,0,1)]},rgb:v=>{var u;return[mt(v[0],0,255),mt(v[1],0,255),mt(v[2],0,255),mt((u=v[3])!==null&&u!==void 0?u:1,0,1)]}};function Ud(v,u){return typeof v!="object"||h(v)?!1:u in v&&typeof v[u]=="number"}class lt{constructor(u,f){this.mode_=f,this.comps_=$L[f](u)}static black(){return new lt([0,0,0],"rgb")}static fromObject(u){const f="a"in u?[u.r,u.g,u.b,u.a]:[u.r,u.g,u.b];return new lt(f,"rgb")}static toRgbaObject(u){return u.toRgbaObject()}static isRgbColorObject(u){return Ud(u,"r")&&Ud(u,"g")&&Ud(u,"b")}static isRgbaColorObject(u){return this.isRgbColorObject(u)&&Ud(u,"a")}static isColorObject(u){return this.isRgbColorObject(u)}static equals(u,f){if(u.mode_!==f.mode_)return!1;const w=u.comps_,L=f.comps_;for(let Y=0;Y<w.length;Y++)if(w[Y]!==L[Y])return!1;return!0}get mode(){return this.mode_}getComponents(u){return qw(VL(zl(this.comps_),this.mode_,u||this.mode_),this.comps_[3])}toRgbaObject(){const u=this.getComponents("rgb");return{r:u[0],g:u[1],b:u[2],a:u[3]}}}const ma=y("colp");class zL{constructor(u,f){this.alphaViews_=null,this.element=u.createElement("div"),this.element.classList.add(ma());const w=u.createElement("div");w.classList.add(ma("hsv"));const L=u.createElement("div");L.classList.add(ma("sv")),this.svPaletteView_=f.svPaletteView,L.appendChild(this.svPaletteView_.element),w.appendChild(L);const Y=u.createElement("div");Y.classList.add(ma("h")),this.hPaletteView_=f.hPaletteView,Y.appendChild(this.hPaletteView_.element),w.appendChild(Y),this.element.appendChild(w);const ie=u.createElement("div");if(ie.classList.add(ma("rgb")),this.textView_=f.textView,ie.appendChild(this.textView_.element),this.element.appendChild(ie),f.alphaViews){this.alphaViews_={palette:f.alphaViews.palette,text:f.alphaViews.text};const ye=u.createElement("div");ye.classList.add(ma("a"));const ze=u.createElement("div");ze.classList.add(ma("ap")),ze.appendChild(this.alphaViews_.palette.element),ye.appendChild(ze);const Xe=u.createElement("div");Xe.classList.add(ma("at")),Xe.appendChild(this.alphaViews_.text.element),ye.appendChild(Xe),this.element.appendChild(ye)}}get allFocusableElements(){const u=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(f=>f.inputElement)];return this.alphaViews_&&u.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),u}}function Ug(v){const u=we;return Se(v,{alpha:u.optional.boolean,expanded:u.optional.boolean,picker:u.optional.custom(Dd)})}function Eo(v){return v?.1:1}function hs(v,u){const f=v.match(/^(.+)%$/);return Math.min(f?parseFloat(f[1])*.01*u:parseFloat(v),u)}const HL={deg:v=>v,grad:v=>v*360/400,rad:v=>v*360/(2*Math.PI),turn:v=>v*360};function Ww(v){const u=v.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!u)return parseFloat(v);const f=parseFloat(u[1]),w=u[2];return HL[w](f)}const Vg={"func.rgb":v=>{const u=v.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!u)return null;const f=[hs(u[1],255),hs(u[2],255),hs(u[3],255)];return isNaN(f[0])||isNaN(f[1])||isNaN(f[2])?null:new lt(f,"rgb")},"func.rgba":v=>{const u=v.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!u)return null;const f=[hs(u[1],255),hs(u[2],255),hs(u[3],255),hs(u[4],1)];return isNaN(f[0])||isNaN(f[1])||isNaN(f[2])||isNaN(f[3])?null:new lt(f,"rgb")},"func.hsl":v=>{const u=v.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!u)return null;const f=[Ww(u[1]),hs(u[2],100),hs(u[3],100)];return isNaN(f[0])||isNaN(f[1])||isNaN(f[2])?null:new lt(f,"hsl")},"func.hsla":v=>{const u=v.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!u)return null;const f=[Ww(u[1]),hs(u[2],100),hs(u[3],100),hs(u[4],1)];return isNaN(f[0])||isNaN(f[1])||isNaN(f[2])||isNaN(f[3])?null:new lt(f,"hsl")},"hex.rgb":v=>{const u=v.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(u)return new lt([parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)],"rgb");const f=v.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return f?new lt([parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)],"rgb"):null},"hex.rgba":v=>{const u=v.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(u)return new lt([parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16),Pt(parseInt(u[4]+u[4],16),0,255,0,1)],"rgb");const f=v.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return f?new lt([parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16),Pt(parseInt(f[4],16),0,255,0,1)],"rgb"):null}};function Vd(v){return Object.keys(Vg).reduce((f,w)=>f||(Vg[w](v)?w:null),null)}const $d=v=>{const u=Vd(v);return u?Vg[u](v):null};function qL(v){return v==="func.hsla"||v==="func.rgba"||v==="hex.rgba"}function WL(v){if(typeof v=="string"){const u=$d(v);if(u)return u}return lt.black()}function Gw(v){const u=mt(Math.floor(v),0,255).toString(16);return u.length===1?`0${u}`:u}function $g(v,u="#"){const f=zl(v.getComponents("rgb")).map(Gw).join("");return`${u}${f}`}function zd(v,u="#"){const f=v.getComponents("rgb"),w=[f[0],f[1],f[2],f[3]*255].map(Gw).join("");return`${u}${w}`}function Kw(v){const u=Zn(0);return`rgb(${zl(v.getComponents("rgb")).map(w=>u(w)).join(", ")})`}function Hd(v){const u=Zn(2),f=Zn(0);return`rgba(${v.getComponents("rgb").map((L,Y)=>(Y===3?u:f)(L)).join(", ")})`}function GL(v){const u=[Zn(0),Ul,Ul];return`hsl(${zl(v.getComponents("hsl")).map((w,L)=>u[L](w)).join(", ")})`}function KL(v){const u=[Zn(0),Ul,Ul,Zn(2)];return`hsla(${v.getComponents("hsl").map((w,L)=>u[L](w)).join(", ")})`}const YL={"func.hsl":GL,"func.hsla":KL,"func.rgb":Kw,"func.rgba":Hd,"hex.rgb":$g,"hex.rgba":zd};function Yw(v){return YL[v]}const Hu=y("apl");class XL{constructor(u,f){this.onValueChange_=this.onValueChange_.bind(this),this.value=f.value,this.value.emitter.on("change",this.onValueChange_),this.element=u.createElement("div"),this.element.classList.add(Hu()),f.viewProps.bindTabIndex(this.element);const w=u.createElement("div");w.classList.add(Hu("b")),this.element.appendChild(w);const L=u.createElement("div");L.classList.add(Hu("c")),w.appendChild(L),this.colorElem_=L;const Y=u.createElement("div");Y.classList.add(Hu("m")),this.element.appendChild(Y),this.markerElem_=Y;const ie=u.createElement("div");ie.classList.add(Hu("p")),this.markerElem_.appendChild(ie),this.previewElem_=ie,this.update_()}update_(){const u=this.value.rawValue,f=u.getComponents("rgb"),w=new lt([f[0],f[1],f[2],0],"rgb"),L=new lt([f[0],f[1],f[2],255],"rgb"),Y=["to right",Hd(w),Hd(L)];this.colorElem_.style.background=`linear-gradient(${Y.join(",")})`,this.previewElem_.style.backgroundColor=Hd(u);const ie=Pt(f[3],0,1,0,100);this.markerElem_.style.left=`${ie}%`}onValueChange_(){this.update_()}}class QL{constructor(u,f){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=f.value,this.viewProps=f.viewProps,this.view=new XL(u,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new er(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(u,f){if(!u.point)return;const w=u.point.x/u.bounds.width,L=this.value.rawValue,[Y,ie,ye]=L.getComponents("hsv");this.value.setRawValue(new lt([Y,ie,ye,w],"hsv"),f)}onPointerDown_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerMove_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerUp_(u){this.handlePointerEvent_(u.data,{forceEmit:!0,last:!0})}onKeyDown_(u){const f=ei(Eo(!0),Os(u));if(f===0)return;const w=this.value.rawValue,[L,Y,ie,ye]=w.getComponents("hsv");this.value.setRawValue(new lt([L,Y,ie,ye+f],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(u){ei(Eo(!0),Os(u))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Hl=y("coltxt");function JL(v){const u=v.createElement("select"),f=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return u.appendChild(f.reduce((w,L)=>{const Y=v.createElement("option");return Y.textContent=L.text,Y.value=L.value,w.appendChild(Y),w},v.createDocumentFragment())),u}class ZL{constructor(u,f){this.element=u.createElement("div"),this.element.classList.add(Hl());const w=u.createElement("div");w.classList.add(Hl("m")),this.modeElem_=JL(u),this.modeElem_.classList.add(Hl("ms")),w.appendChild(this.modeSelectElement);const L=u.createElement("div");L.classList.add(Hl("mm")),L.appendChild(Q(u,"dropdown")),w.appendChild(L),this.element.appendChild(w);const Y=u.createElement("div");Y.classList.add(Hl("w")),this.element.appendChild(Y),this.textsElem_=Y,this.textViews_=f.textViews,this.applyTextViews_(),A(f.colorMode,ie=>{this.modeElem_.value=ie})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(u){this.textViews_=u,this.applyTextViews_()}applyTextViews_(){re(this.textsElem_);const u=this.element.ownerDocument;this.textViews_.forEach(f=>{const w=u.createElement("div");w.classList.add(Hl("c")),w.appendChild(f.element),this.textsElem_.appendChild(w)})}}const e3=Zn(0),t3={rgb:()=>new jt({min:0,max:255}),hsl:v=>v===0?new jt({min:0,max:360}):new jt({min:0,max:100}),hsv:v=>v===0?new jt({min:0,max:360}):new jt({min:0,max:100})};function zg(v,u,f){return new Co(v,{arrayPosition:f===0?"fst":f===3-1?"lst":"mid",baseStep:Eo(!1),parser:u.parser,props:X.fromObject({draggingScale:1,formatter:e3}),value:J(0,{constraint:t3[u.colorMode](f)}),viewProps:u.viewProps})}class n3{constructor(u,f){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=f.parser,this.value=f.value,this.viewProps=f.viewProps,this.colorMode=J(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(u),this.view=new ZL(u,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(u){const f={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},w=[zg(u,f,0),zg(u,f,1),zg(u,f,2)];return w.forEach((L,Y)=>{Is({primary:this.value,secondary:L.value,forward:ie=>ie.rawValue.getComponents(this.colorMode.rawValue)[Y],backward:(ie,ye)=>{const ze=this.colorMode.rawValue,Xe=ie.rawValue.getComponents(ze);return Xe[Y]=ye.rawValue,new lt(qw(zl(Xe),Xe[3]),ze)}})}),w}onModeSelectChange_(u){const f=u.currentTarget;this.colorMode.rawValue=f.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Hg=y("hpl");class i3{constructor(u,f){this.onValueChange_=this.onValueChange_.bind(this),this.value=f.value,this.value.emitter.on("change",this.onValueChange_),this.element=u.createElement("div"),this.element.classList.add(Hg()),f.viewProps.bindTabIndex(this.element);const w=u.createElement("div");w.classList.add(Hg("c")),this.element.appendChild(w);const L=u.createElement("div");L.classList.add(Hg("m")),this.element.appendChild(L),this.markerElem_=L,this.update_()}update_(){const u=this.value.rawValue,[f]=u.getComponents("hsv");this.markerElem_.style.backgroundColor=Kw(new lt([f,100,100],"hsv"));const w=Pt(f,0,360,0,100);this.markerElem_.style.left=`${w}%`}onValueChange_(){this.update_()}}class s3{constructor(u,f){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=f.value,this.viewProps=f.viewProps,this.view=new i3(u,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new er(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(u,f){if(!u.point)return;const w=Pt(u.point.x,0,u.bounds.width,0,360),L=this.value.rawValue,[,Y,ie,ye]=L.getComponents("hsv");this.value.setRawValue(new lt([w,Y,ie,ye],"hsv"),f)}onPointerDown_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerMove_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerUp_(u){this.handlePointerEvent_(u.data,{forceEmit:!0,last:!0})}onKeyDown_(u){const f=ei(Eo(!1),Os(u));if(f===0)return;const w=this.value.rawValue,[L,Y,ie,ye]=w.getComponents("hsv");this.value.setRawValue(new lt([L+f,Y,ie,ye],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(u){ei(Eo(!1),Os(u))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const qg=y("svp"),Xw=64;class r3{constructor(u,f){this.onValueChange_=this.onValueChange_.bind(this),this.value=f.value,this.value.emitter.on("change",this.onValueChange_),this.element=u.createElement("div"),this.element.classList.add(qg()),f.viewProps.bindTabIndex(this.element);const w=u.createElement("canvas");w.height=Xw,w.width=Xw,w.classList.add(qg("c")),this.element.appendChild(w),this.canvasElement=w;const L=u.createElement("div");L.classList.add(qg("m")),this.element.appendChild(L),this.markerElem_=L,this.update_()}update_(){const u=Z(this.canvasElement);if(!u)return;const w=this.value.rawValue.getComponents("hsv"),L=this.canvasElement.width,Y=this.canvasElement.height,ie=u.getImageData(0,0,L,Y),ye=ie.data;for(let vt=0;vt<Y;vt++)for(let xt=0;xt<L;xt++){const To=Pt(xt,0,L,0,100),Wu=Pt(vt,0,Y,100,0),Gu=Hw(w[0],To,Wu),Kl=(vt*L+xt)*4;ye[Kl]=Gu[0],ye[Kl+1]=Gu[1],ye[Kl+2]=Gu[2],ye[Kl+3]=255}u.putImageData(ie,0,0);const ze=Pt(w[1],0,100,0,100);this.markerElem_.style.left=`${ze}%`;const Xe=Pt(w[2],0,100,100,0);this.markerElem_.style.top=`${Xe}%`}onValueChange_(){this.update_()}}class a3{constructor(u,f){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=f.value,this.viewProps=f.viewProps,this.view=new r3(u,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new er(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(u,f){if(!u.point)return;const w=Pt(u.point.x,0,u.bounds.width,0,100),L=Pt(u.point.y,0,u.bounds.height,100,0),[Y,,,ie]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new lt([Y,w,L,ie],"hsv"),f)}onPointerDown_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerMove_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerUp_(u){this.handlePointerEvent_(u.data,{forceEmit:!0,last:!0})}onKeyDown_(u){hi(u.key)&&u.preventDefault();const[f,w,L,Y]=this.value.rawValue.getComponents("hsv"),ie=Eo(!1),ye=ei(ie,Os(u)),ze=ei(ie,fa(u));ye===0&&ze===0||this.value.setRawValue(new lt([f,w+ye,L+ze,Y],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(u){const f=Eo(!1),w=ei(f,Os(u)),L=ei(f,fa(u));w===0&&L===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class o3{constructor(u,f){this.value=f.value,this.viewProps=f.viewProps,this.hPaletteC_=new s3(u,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new a3(u,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=f.supportsAlpha?{palette:new QL(u,{value:this.value,viewProps:this.viewProps}),text:new Co(u,{parser:Jn,baseStep:.1,props:X.fromObject({draggingScale:.01,formatter:Zn(2)}),value:J(0,{constraint:new jt({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&Is({primary:this.value,secondary:this.alphaIcs_.text.value,forward:w=>w.rawValue.getComponents()[3],backward:(w,L)=>{const Y=w.rawValue.getComponents();return Y[3]=L.rawValue,new lt(Y,w.rawValue.mode)}}),this.textC_=new n3(u,{parser:Jn,value:this.value,viewProps:this.viewProps}),this.view=new zL(u,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:f.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const Wg=y("colsw");class l3{constructor(u,f){this.onValueChange_=this.onValueChange_.bind(this),f.value.emitter.on("change",this.onValueChange_),this.value=f.value,this.element=u.createElement("div"),this.element.classList.add(Wg()),f.viewProps.bindClassModifiers(this.element);const w=u.createElement("div");w.classList.add(Wg("sw")),this.element.appendChild(w),this.swatchElem_=w;const L=u.createElement("button");L.classList.add(Wg("b")),f.viewProps.bindDisabled(L),this.element.appendChild(L),this.buttonElement=L,this.update_()}update_(){const u=this.value.rawValue;this.swatchElem_.style.backgroundColor=zd(u)}onValueChange_(){this.update_()}}class c3{constructor(u,f){this.value=f.value,this.viewProps=f.viewProps,this.view=new l3(u,{value:this.value,viewProps:this.viewProps})}}class Gg{constructor(u,f){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=f.value,this.viewProps=f.viewProps,this.foldable_=$e.create(f.expanded),this.swatchC_=new c3(u,{value:this.value,viewProps:this.viewProps});const w=this.swatchC_.view.buttonElement;w.addEventListener("blur",this.onButtonBlur_),w.addEventListener("click",this.onButtonClick_),this.textC_=new Bl(u,{parser:f.parser,props:X.fromObject({formatter:f.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new Ls(u,{foldable:this.foldable_,pickerLayout:f.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=f.pickerLayout==="popup"?new wd(u,{viewProps:this.viewProps}):null;const L=new o3(u,{supportsAlpha:f.supportsAlpha,value:this.value,viewProps:this.viewProps});L.view.allFocusableElements.forEach(Y=>{Y.addEventListener("blur",this.onPopupChildBlur_),Y.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=L,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(L.view.element),Is({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:Y=>Y.rawValue,backward:(Y,ie)=>ie.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),un(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(u){if(!this.popC_)return;const f=this.view.element,w=u.relatedTarget;(!w||!f.contains(w))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(u){if(!this.popC_)return;const f=this.popC_.view.element,w=q(u);w&&f.contains(w)||w&&w===this.swatchC_.view.buttonElement&&!K(f.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(u){this.popC_?u.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&u.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function u3(v){return lt.isColorObject(v)?lt.fromObject(v):lt.black()}function h3(v){return zl(v.getComponents("rgb")).reduce((u,f)=>u<<8|Math.floor(f)&255,0)}function p3(v){return v.getComponents("rgb").reduce((u,f,w)=>{const L=Math.floor(w===3?f*255:f)&255;return u<<8|L},0)>>>0}function d3(v){return new lt([v>>16&255,v>>8&255,v&255],"rgb")}function f3(v){return new lt([v>>24&255,v>>16&255,v>>8&255,Pt(v&255,0,255,0,1)],"rgb")}function m3(v){return typeof v!="number"?lt.black():d3(v)}function v3(v){return typeof v!="number"?lt.black():f3(v)}function g3(v){const u=Yw(v);return(f,w)=>{Ns(f,u(w))}}function b3(v){const u=v?p3:h3;return(f,w)=>{Ns(f,u(w))}}function _3(v,u){const f=u.toRgbaObject();v.writeProperty("r",f.r),v.writeProperty("g",f.g),v.writeProperty("b",f.b),v.writeProperty("a",f.a)}function x3(v,u){const f=u.toRgbaObject();v.writeProperty("r",f.r),v.writeProperty("g",f.g),v.writeProperty("b",f.b)}function y3(v){return v?_3:x3}function Kg(v){return"alpha"in v&&v.alpha===!0}function w3(v){return v?u=>zd(u,"0x"):u=>$g(u,"0x")}const S3={id:"input-color-number",type:"input",accept:(v,u)=>{if(typeof v!="number"||!("view"in u)||u.view!=="color")return null;const f=Ug(u);return f?{initialValue:v,params:f}:null},binding:{reader:v=>Kg(v.params)?v3:m3,equals:lt.equals,writer:v=>b3(Kg(v.params))},controller:v=>{const u=Kg(v.params),f="expanded"in v.params?v.params.expanded:void 0,w="picker"in v.params?v.params.picker:void 0;return new Gg(v.document,{expanded:f!=null?f:!1,formatter:w3(u),parser:$d,pickerLayout:w!=null?w:"popup",supportsAlpha:u,value:v.value,viewProps:v.viewProps})}};function C3(v){return lt.isRgbaColorObject(v)}const E3={id:"input-color-object",type:"input",accept:(v,u)=>{if(!lt.isColorObject(v))return null;const f=Ug(u);return f?{initialValue:v,params:f}:null},binding:{reader:v=>u3,equals:lt.equals,writer:v=>y3(C3(v.initialValue))},controller:v=>{const u=lt.isRgbaColorObject(v.initialValue),f="expanded"in v.params?v.params.expanded:void 0,w="picker"in v.params?v.params.picker:void 0,L=u?zd:$g;return new Gg(v.document,{expanded:f!=null?f:!1,formatter:L,parser:$d,pickerLayout:w!=null?w:"popup",supportsAlpha:u,value:v.value,viewProps:v.viewProps})}},T3={id:"input-color-string",type:"input",accept:(v,u)=>{if(typeof v!="string"||"view"in u&&u.view==="text"||!Vd(v))return null;const w=Ug(u);return w?{initialValue:v,params:w}:null},binding:{reader:v=>WL,equals:lt.equals,writer:v=>{const u=Vd(v.initialValue);if(!u)throw g.shouldNeverHappen();return g3(u)}},controller:v=>{const u=Vd(v.initialValue);if(!u)throw g.shouldNeverHappen();const f=Yw(u),w="expanded"in v.params?v.params.expanded:void 0,L="picker"in v.params?v.params.picker:void 0;return new Gg(v.document,{expanded:w!=null?w:!1,formatter:f,parser:$d,pickerLayout:L!=null?L:"popup",supportsAlpha:qL(u),value:v.value,viewProps:v.viewProps})}};class va{constructor(u){this.components=u.components,this.asm_=u.assembly}constrain(u){const f=this.asm_.toComponents(u).map((w,L)=>{var Y,ie;return(ie=(Y=this.components[L])===null||Y===void 0?void 0:Y.constrain(w))!==null&&ie!==void 0?ie:w});return this.asm_.fromComponents(f)}}const Qw=y("pndtxt");class k3{constructor(u,f){this.textViews=f.textViews,this.element=u.createElement("div"),this.element.classList.add(Qw()),this.textViews.forEach(w=>{const L=u.createElement("div");L.classList.add(Qw("a")),L.appendChild(w.element),this.element.appendChild(L)})}}function P3(v,u,f){return new Co(v,{arrayPosition:f===0?"fst":f===u.axes.length-1?"lst":"mid",baseStep:u.axes[f].baseStep,parser:u.parser,props:u.axes[f].textProps,value:J(0,{constraint:u.axes[f].constraint}),viewProps:u.viewProps})}class Yg{constructor(u,f){this.value=f.value,this.viewProps=f.viewProps,this.acs_=f.axes.map((w,L)=>P3(u,f,L)),this.acs_.forEach((w,L)=>{Is({primary:this.value,secondary:w.value,forward:Y=>f.assembly.toComponents(Y.rawValue)[L],backward:(Y,ie)=>{const ye=f.assembly.toComponents(Y.rawValue);return ye[L]=ie.rawValue,f.assembly.fromComponents(ye)}})}),this.view=new k3(u,{textViews:this.acs_.map(w=>w.view)})}}function A3(v){return"step"in v&&!h(v.step)?new Ar(v.step):null}function M3(v){return"max"in v&&!h(v.max)||"min"in v&&!h(v.min)?new jt({max:v.max,min:v.min}):null}function R3(v){const u=[],f=A3(v);f&&u.push(f);const w=M3(v);w&&u.push(w);const L=jd(v.options);return L&&u.push(L),new Ot(u)}function I3(v){const u=v?qi(v,jt):null;return u?[u.minValue,u.maxValue]:[void 0,void 0]}function O3(v){const[u,f]=I3(v);return[u!=null?u:0,f!=null?f:100]}const N3={id:"input-number",type:"input",accept:(v,u)=>{if(typeof v!="number")return null;const f=we,w=Se(u,{format:f.optional.function,max:f.optional.number,min:f.optional.number,options:f.optional.custom($l),step:f.optional.number});return w?{initialValue:v,params:w}:null},binding:{reader:v=>Od,constraint:v=>R3(v.params),writer:v=>Ns},controller:v=>{var u,f;const w=v.value,L=v.constraint;if(L&&qi(L,Ms))return new yo(v.document,{props:X.fromObject({options:(u=$u(L))!==null&&u!==void 0?u:[]}),value:w,viewProps:v.viewProps});const Y=(f="format"in v.params?v.params.format:void 0)!==null&&f!==void 0?f:Zn(b(L,w.rawValue));if(L&&qi(L,jt)){const[ie,ye]=O3(L);return new Vu(v.document,{baseStep:E(L),parser:Jn,sliderProps:X.fromObject({maxValue:ye,minValue:ie}),textProps:X.fromObject({draggingScale:R(L,w.rawValue),formatter:Y}),value:w,viewProps:v.viewProps})}return new Co(v.document,{baseStep:E(L),parser:Jn,props:X.fromObject({draggingScale:R(L,w.rawValue),formatter:Y}),value:w,viewProps:v.viewProps})}};class ga{constructor(u=0,f=0){this.x=u,this.y=f}getComponents(){return[this.x,this.y]}static isObject(u){if(h(u))return!1;const f=u.x,w=u.y;return!(typeof f!="number"||typeof w!="number")}static equals(u,f){return u.x===f.x&&u.y===f.y}toObject(){return{x:this.x,y:this.y}}}const Jw={toComponents:v=>v.getComponents(),fromComponents:v=>new ga(...v)},ql=y("p2d");class L3{constructor(u,f){this.element=u.createElement("div"),this.element.classList.add(ql()),f.viewProps.bindClassModifiers(this.element),A(f.expanded,N(this.element,ql(void 0,"expanded")));const w=u.createElement("div");w.classList.add(ql("h")),this.element.appendChild(w);const L=u.createElement("button");L.classList.add(ql("b")),L.appendChild(Q(u,"p2dpad")),f.viewProps.bindDisabled(L),w.appendChild(L),this.buttonElement=L;const Y=u.createElement("div");if(Y.classList.add(ql("t")),w.appendChild(Y),this.textElement=Y,f.pickerLayout==="inline"){const ie=u.createElement("div");ie.classList.add(ql("p")),this.element.appendChild(ie),this.pickerElement=ie}else this.pickerElement=null}}const ba=y("p2dp");class F3{constructor(u,f){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=f.invertsY,this.maxValue_=f.maxValue,this.element=u.createElement("div"),this.element.classList.add(ba()),f.layout==="popup"&&this.element.classList.add(ba(void 0,"p"));const w=u.createElement("div");w.classList.add(ba("p")),f.viewProps.bindTabIndex(w),this.element.appendChild(w),this.padElement=w;const L=u.createElementNS(Ne,"svg");L.classList.add(ba("g")),this.padElement.appendChild(L),this.svgElem_=L;const Y=u.createElementNS(Ne,"line");Y.classList.add(ba("ax")),Y.setAttributeNS(null,"x1","0"),Y.setAttributeNS(null,"y1","50%"),Y.setAttributeNS(null,"x2","100%"),Y.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(Y);const ie=u.createElementNS(Ne,"line");ie.classList.add(ba("ax")),ie.setAttributeNS(null,"x1","50%"),ie.setAttributeNS(null,"y1","0"),ie.setAttributeNS(null,"x2","50%"),ie.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(ie);const ye=u.createElementNS(Ne,"line");ye.classList.add(ba("l")),ye.setAttributeNS(null,"x1","50%"),ye.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(ye),this.lineElem_=ye;const ze=u.createElement("div");ze.classList.add(ba("m")),this.padElement.appendChild(ze),this.markerElem_=ze,f.value.emitter.on("change",this.onValueChange_),this.value=f.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[u,f]=this.value.rawValue.getComponents(),w=this.maxValue_,L=Pt(u,-w,+w,0,100),Y=Pt(f,-w,+w,0,100),ie=this.invertsY_?100-Y:Y;this.lineElem_.setAttributeNS(null,"x2",`${L}%`),this.lineElem_.setAttributeNS(null,"y2",`${ie}%`),this.markerElem_.style.left=`${L}%`,this.markerElem_.style.top=`${ie}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Zw(v,u,f){return[ei(u[0],Os(v)),ei(u[1],fa(v))*(f?1:-1)]}class D3{constructor(u,f){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=f.value,this.viewProps=f.viewProps,this.baseSteps_=f.baseSteps,this.maxValue_=f.maxValue,this.invertsY_=f.invertsY,this.view=new F3(u,{invertsY:this.invertsY_,layout:f.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new er(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(u,f){if(!u.point)return;const w=this.maxValue_,L=Pt(u.point.x,0,u.bounds.width,-w,+w),Y=Pt(this.invertsY_?u.bounds.height-u.point.y:u.point.y,0,u.bounds.height,-w,+w);this.value.setRawValue(new ga(L,Y),f)}onPointerDown_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerMove_(u){this.handlePointerEvent_(u.data,{forceEmit:!1,last:!1})}onPointerUp_(u){this.handlePointerEvent_(u.data,{forceEmit:!0,last:!0})}onPadKeyDown_(u){hi(u.key)&&u.preventDefault();const[f,w]=Zw(u,this.baseSteps_,this.invertsY_);f===0&&w===0||this.value.setRawValue(new ga(this.value.rawValue.x+f,this.value.rawValue.y+w),{forceEmit:!1,last:!1})}onPadKeyUp_(u){const[f,w]=Zw(u,this.baseSteps_,this.invertsY_);f===0&&w===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class B3{constructor(u,f){var w,L;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=f.value,this.viewProps=f.viewProps,this.foldable_=$e.create(f.expanded),this.popC_=f.pickerLayout==="popup"?new wd(u,{viewProps:this.viewProps}):null;const Y=new D3(u,{baseSteps:[f.axes[0].baseStep,f.axes[1].baseStep],invertsY:f.invertsY,layout:f.pickerLayout,maxValue:f.maxValue,value:this.value,viewProps:this.viewProps});Y.view.allFocusableElements.forEach(ie=>{ie.addEventListener("blur",this.onPopupChildBlur_),ie.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=Y,this.textC_=new Yg(u,{assembly:Jw,axes:f.axes,parser:f.parser,value:this.value,viewProps:this.viewProps}),this.view=new L3(u,{expanded:this.foldable_.value("expanded"),pickerLayout:f.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(w=this.view.buttonElement)===null||w===void 0||w.addEventListener("blur",this.onPadButtonBlur_),(L=this.view.buttonElement)===null||L===void 0||L.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),Is({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:ie=>ie.rawValue,backward:(ie,ye)=>ye.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),un(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(u){if(!this.popC_)return;const f=this.view.element,w=u.relatedTarget;(!w||!f.contains(w))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(u){if(!this.popC_)return;const f=this.popC_.view.element,w=q(u);w&&f.contains(w)||w&&w===this.view.buttonElement&&!K(f.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(u){this.popC_?u.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&u.key==="Escape"&&this.view.buttonElement.focus()}}function j3(v){return ga.isObject(v)?new ga(v.x,v.y):new ga}function U3(v,u){v.writeProperty("x",u.x),v.writeProperty("y",u.y)}function eS(v){if(!v)return;const u=[];return h(v.step)||u.push(new Ar(v.step)),(!h(v.max)||!h(v.min))&&u.push(new jt({max:v.max,min:v.min})),new Ot(u)}function V3(v){return new va({assembly:Jw,components:[eS("x"in v?v.x:void 0),eS("y"in v?v.y:void 0)]})}function tS(v,u){const f=v&&qi(v,jt);if(f)return Math.max(Math.abs(f.minValue||0),Math.abs(f.maxValue||0));const w=E(v);return Math.max(Math.abs(w)*10,Math.abs(u)*10)}function $3(v,u){const f=u instanceof va?u.components[0]:void 0,w=u instanceof va?u.components[1]:void 0,L=tS(f,v.x),Y=tS(w,v.y);return Math.max(L,Y)}function nS(v,u){return{baseStep:E(u),constraint:u,textProps:X.fromObject({draggingScale:R(u,v),formatter:Zn(b(u,v))})}}function z3(v){if(!("y"in v))return!1;const u=v.y;return u&&"inverted"in u?!!u.inverted:!1}const H3={id:"input-point2d",type:"input",accept:(v,u)=>{if(!ga.isObject(v))return null;const f=we,w=Se(u,{expanded:f.optional.boolean,picker:f.optional.custom(Dd),x:f.optional.custom(us),y:f.optional.object({inverted:f.optional.boolean,max:f.optional.number,min:f.optional.number,step:f.optional.number})});return w?{initialValue:v,params:w}:null},binding:{reader:v=>j3,constraint:v=>V3(v.params),equals:ga.equals,writer:v=>U3},controller:v=>{const u=v.document,f=v.value,w=v.constraint;if(!(w instanceof va))throw g.shouldNeverHappen();const L="expanded"in v.params?v.params.expanded:void 0,Y="picker"in v.params?v.params.picker:void 0;return new B3(u,{axes:[nS(f.rawValue.x,w.components[0]),nS(f.rawValue.y,w.components[1])],expanded:L!=null?L:!1,invertsY:z3(v.params),maxValue:$3(f.rawValue,w),parser:Jn,pickerLayout:Y!=null?Y:"popup",value:f,viewProps:v.viewProps})}};class Wl{constructor(u=0,f=0,w=0){this.x=u,this.y=f,this.z=w}getComponents(){return[this.x,this.y,this.z]}static isObject(u){if(h(u))return!1;const f=u.x,w=u.y,L=u.z;return!(typeof f!="number"||typeof w!="number"||typeof L!="number")}static equals(u,f){return u.x===f.x&&u.y===f.y&&u.z===f.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const iS={toComponents:v=>v.getComponents(),fromComponents:v=>new Wl(...v)};function q3(v){return Wl.isObject(v)?new Wl(v.x,v.y,v.z):new Wl}function W3(v,u){v.writeProperty("x",u.x),v.writeProperty("y",u.y),v.writeProperty("z",u.z)}function Xg(v){if(!v)return;const u=[];return h(v.step)||u.push(new Ar(v.step)),(!h(v.max)||!h(v.min))&&u.push(new jt({max:v.max,min:v.min})),new Ot(u)}function G3(v){return new va({assembly:iS,components:[Xg("x"in v?v.x:void 0),Xg("y"in v?v.y:void 0),Xg("z"in v?v.z:void 0)]})}function Qg(v,u){return{baseStep:E(u),constraint:u,textProps:X.fromObject({draggingScale:R(u,v),formatter:Zn(b(u,v))})}}const K3={id:"input-point3d",type:"input",accept:(v,u)=>{if(!Wl.isObject(v))return null;const f=we,w=Se(u,{x:f.optional.custom(us),y:f.optional.custom(us),z:f.optional.custom(us)});return w?{initialValue:v,params:w}:null},binding:{reader:v=>q3,constraint:v=>G3(v.params),equals:Wl.equals,writer:v=>W3},controller:v=>{const u=v.value,f=v.constraint;if(!(f instanceof va))throw g.shouldNeverHappen();return new Yg(v.document,{assembly:iS,axes:[Qg(u.rawValue.x,f.components[0]),Qg(u.rawValue.y,f.components[1]),Qg(u.rawValue.z,f.components[2])],parser:Jn,value:u,viewProps:v.viewProps})}};class Gl{constructor(u=0,f=0,w=0,L=0){this.x=u,this.y=f,this.z=w,this.w=L}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(u){if(h(u))return!1;const f=u.x,w=u.y,L=u.z,Y=u.w;return!(typeof f!="number"||typeof w!="number"||typeof L!="number"||typeof Y!="number")}static equals(u,f){return u.x===f.x&&u.y===f.y&&u.z===f.z&&u.w===f.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const sS={toComponents:v=>v.getComponents(),fromComponents:v=>new Gl(...v)};function Y3(v){return Gl.isObject(v)?new Gl(v.x,v.y,v.z,v.w):new Gl}function X3(v,u){v.writeProperty("x",u.x),v.writeProperty("y",u.y),v.writeProperty("z",u.z),v.writeProperty("w",u.w)}function qd(v){if(!v)return;const u=[];return h(v.step)||u.push(new Ar(v.step)),(!h(v.max)||!h(v.min))&&u.push(new jt({max:v.max,min:v.min})),new Ot(u)}function Q3(v){return new va({assembly:sS,components:[qd("x"in v?v.x:void 0),qd("y"in v?v.y:void 0),qd("z"in v?v.z:void 0),qd("w"in v?v.w:void 0)]})}function J3(v,u){return{baseStep:E(u),constraint:u,textProps:X.fromObject({draggingScale:R(u,v),formatter:Zn(b(u,v))})}}const Z3={id:"input-point4d",type:"input",accept:(v,u)=>{if(!Gl.isObject(v))return null;const f=we,w=Se(u,{x:f.optional.custom(us),y:f.optional.custom(us),z:f.optional.custom(us),w:f.optional.custom(us)});return w?{initialValue:v,params:w}:null},binding:{reader:v=>Y3,constraint:v=>Q3(v.params),equals:Gl.equals,writer:v=>X3},controller:v=>{const u=v.value,f=v.constraint;if(!(f instanceof va))throw g.shouldNeverHappen();return new Yg(v.document,{assembly:sS,axes:u.rawValue.getComponents().map((w,L)=>J3(w,f.components[L])),parser:Jn,value:u,viewProps:v.viewProps})}};function eF(v){const u=[],f=jd(v.options);return f&&u.push(f),new Ot(u)}const tF={id:"input-string",type:"input",accept:(v,u)=>{if(typeof v!="string")return null;const w=Se(u,{options:we.optional.custom($l)});return w?{initialValue:v,params:w}:null},binding:{reader:v=>Fu,constraint:v=>eF(v.params),writer:v=>Ns},controller:v=>{var u;const f=v.document,w=v.value,L=v.constraint;return L&&qi(L,Ms)?new yo(f,{props:X.fromObject({options:(u=$u(L))!==null&&u!==void 0?u:[]}),value:w,viewProps:v.viewProps}):new Bl(f,{parser:Y=>Y,props:X.fromObject({formatter:Du}),value:w,viewProps:v.viewProps})}},qu={monitor:{defaultInterval:200,defaultLineCount:3}},rS=y("mll");class nF{constructor(u,f){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=f.formatter,this.element=u.createElement("div"),this.element.classList.add(rS()),f.viewProps.bindClassModifiers(this.element);const w=u.createElement("textarea");w.classList.add(rS("i")),w.style.height=`calc(var(--bld-us) * ${f.lineCount})`,w.readOnly=!0,f.viewProps.bindDisabled(w),this.element.appendChild(w),this.textareaElem_=w,f.value.emitter.on("change",this.onValueUpdate_),this.value=f.value,this.update_()}update_(){const u=this.textareaElem_,f=u.scrollTop===u.scrollHeight-u.clientHeight,w=[];this.value.rawValue.forEach(L=>{L!==void 0&&w.push(this.formatter_(L))}),u.textContent=w.join(`
`),f&&(u.scrollTop=u.scrollHeight)}onValueUpdate_(){this.update_()}}class Jg{constructor(u,f){this.value=f.value,this.viewProps=f.viewProps,this.view=new nF(u,{formatter:f.formatter,lineCount:f.lineCount,value:this.value,viewProps:this.viewProps})}}const aS=y("sgl");class iF{constructor(u,f){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=f.formatter,this.element=u.createElement("div"),this.element.classList.add(aS()),f.viewProps.bindClassModifiers(this.element);const w=u.createElement("input");w.classList.add(aS("i")),w.readOnly=!0,w.type="text",f.viewProps.bindDisabled(w),this.element.appendChild(w),this.inputElement=w,f.value.emitter.on("change",this.onValueUpdate_),this.value=f.value,this.update_()}update_(){const u=this.value.rawValue,f=u[u.length-1];this.inputElement.value=f!==void 0?this.formatter_(f):""}onValueUpdate_(){this.update_()}}class Zg{constructor(u,f){this.value=f.value,this.viewProps=f.viewProps,this.view=new iF(u,{formatter:f.formatter,value:this.value,viewProps:this.viewProps})}}const sF={id:"monitor-bool",type:"monitor",accept:(v,u)=>{if(typeof v!="boolean")return null;const w=Se(u,{lineCount:we.optional.number});return w?{initialValue:v,params:w}:null},binding:{reader:v=>jl},controller:v=>{var u;return v.value.rawValue.length===1?new Zg(v.document,{formatter:Ed,value:v.value,viewProps:v.viewProps}):new Jg(v.document,{formatter:Ed,lineCount:(u=v.params.lineCount)!==null&&u!==void 0?u:qu.monitor.defaultLineCount,value:v.value,viewProps:v.viewProps})}};class rF{constructor(){this.emitter=new m,this.index_=-1}get index(){return this.index_}set index(u){this.index_!==u&&(this.index_=u,this.emitter.emit("change",{index:u,sender:this}))}}const _a=y("grl");class aF{constructor(u,f){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=u.createElement("div"),this.element.classList.add(_a()),f.viewProps.bindClassModifiers(this.element),this.formatter_=f.formatter,this.minValue_=f.minValue,this.maxValue_=f.maxValue,this.cursor_=f.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const w=u.createElementNS(Ne,"svg");w.classList.add(_a("g")),w.style.height=`calc(var(--bld-us) * ${f.lineCount})`,this.element.appendChild(w),this.svgElem_=w;const L=u.createElementNS(Ne,"polyline");this.svgElem_.appendChild(L),this.lineElem_=L;const Y=u.createElement("div");Y.classList.add(_a("t"),y("tt")()),this.element.appendChild(Y),this.tooltipElem_=Y,f.value.emitter.on("change",this.onValueUpdate_),this.value=f.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const u=this.svgElem_.getBoundingClientRect(),f=this.value.rawValue.length-1,w=this.minValue_,L=this.maxValue_,Y=[];this.value.rawValue.forEach((vt,xt)=>{if(vt===void 0)return;const To=Pt(xt,0,f,0,u.width),Wu=Pt(vt,w,L,u.height,0);Y.push([To,Wu].join(","))}),this.lineElem_.setAttributeNS(null,"points",Y.join(" "));const ie=this.tooltipElem_,ye=this.value.rawValue[this.cursor_.index];if(ye===void 0){ie.classList.remove(_a("t","a"));return}const ze=Pt(this.cursor_.index,0,f,0,u.width),Xe=Pt(ye,w,L,u.height,0);ie.style.left=`${ze}px`,ie.style.top=`${Xe}px`,ie.textContent=`${this.formatter_(ye)}`,ie.classList.contains(_a("t","a"))||(ie.classList.add(_a("t","a"),_a("t","in")),He(ie),ie.classList.remove(_a("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class oF{constructor(u,f){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=f.value,this.viewProps=f.viewProps,this.cursor_=new rF,this.view=new aF(u,{cursor:this.cursor_,formatter:f.formatter,lineCount:f.lineCount,maxValue:f.maxValue,minValue:f.minValue,value:this.value,viewProps:this.viewProps}),!K(u))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const w=new er(this.view.element);w.emitter.on("down",this.onGraphPointerDown_),w.emitter.on("move",this.onGraphPointerMove_),w.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(u){const f=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(Pt(u.offsetX,0,f.width,0,this.value.rawValue.length))}onGraphPointerDown_(u){this.onGraphPointerMove_(u)}onGraphPointerMove_(u){if(!u.data.point){this.cursor_.index=-1;return}this.cursor_.index=Math.floor(Pt(u.data.point.x,0,u.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.index=-1}}function eb(v){return"format"in v&&!h(v.format)?v.format:Zn(2)}function lF(v){var u;return v.value.rawValue.length===1?new Zg(v.document,{formatter:eb(v.params),value:v.value,viewProps:v.viewProps}):new Jg(v.document,{formatter:eb(v.params),lineCount:(u=v.params.lineCount)!==null&&u!==void 0?u:qu.monitor.defaultLineCount,value:v.value,viewProps:v.viewProps})}function cF(v){var u,f,w;return new oF(v.document,{formatter:eb(v.params),lineCount:(u=v.params.lineCount)!==null&&u!==void 0?u:qu.monitor.defaultLineCount,maxValue:(f="max"in v.params?v.params.max:null)!==null&&f!==void 0?f:100,minValue:(w="min"in v.params?v.params.min:null)!==null&&w!==void 0?w:0,value:v.value,viewProps:v.viewProps})}function oS(v){return"view"in v&&v.view==="graph"}const uF={id:"monitor-number",type:"monitor",accept:(v,u)=>{if(typeof v!="number")return null;const f=we,w=Se(u,{format:f.optional.function,lineCount:f.optional.number,max:f.optional.number,min:f.optional.number,view:f.optional.string});return w?{initialValue:v,params:w}:null},binding:{defaultBufferSize:v=>oS(v)?64:1,reader:v=>Od},controller:v=>oS(v.params)?cF(v):lF(v)},hF={id:"monitor-string",type:"monitor",accept:(v,u)=>{if(typeof v!="string")return null;const f=we,w=Se(u,{lineCount:f.optional.number,multiline:f.optional.boolean});return w?{initialValue:v,params:w}:null},binding:{reader:v=>Fu},controller:v=>{var u;const f=v.value;return f.rawValue.length>1||"multiline"in v.params&&v.params.multiline?new Jg(v.document,{formatter:Du,lineCount:(u=v.params.lineCount)!==null&&u!==void 0?u:qu.monitor.defaultLineCount,value:f,viewProps:v.viewProps}):new Zg(v.document,{formatter:Du,value:f,viewProps:v.viewProps})}};class pF{constructor(u){this.onValueChange_=this.onValueChange_.bind(this),this.reader=u.reader,this.writer=u.writer,this.emitter=new m,this.value=u.value,this.value.emitter.on("change",this.onValueChange_),this.target=u.target,this.read()}read(){const u=this.target.read();u!==void 0&&(this.value.rawValue=this.reader(u))}write_(u){this.writer(this.target,u)}onValueChange_(u){this.write_(u.rawValue),this.emitter.emit("change",{options:u.options,rawValue:u.rawValue,sender:this})}}function dF(v,u){const f=v.accept(u.target.read(),u.params);if(h(f))return null;const w=we,L={target:u.target,initialValue:f.initialValue,params:f.params},Y=v.binding.reader(L),ie=v.binding.constraint?v.binding.constraint(L):void 0,ye=J(Y(f.initialValue),{constraint:ie,equals:v.binding.equals}),ze=new pF({reader:Y,target:u.target,value:ye,writer:v.binding.writer(L)}),Xe=w.optional.boolean(u.params.disabled).value,vt=w.optional.boolean(u.params.hidden).value,xt=v.controller({constraint:ie,document:u.document,initialValue:f.initialValue,params:f.params,value:ze.value,viewProps:Xs.create({disabled:Xe,hidden:vt})}),To=w.optional.string(u.params.label).value;return new Qn(u.document,{binding:ze,blade:Ue(),props:X.fromObject({label:To||u.target.key}),valueController:xt})}class fF{constructor(u){this.onTick_=this.onTick_.bind(this),this.reader_=u.reader,this.target=u.target,this.emitter=new m,this.value=u.value,this.ticker=u.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const u=this.target.read();if(u===void 0)return;const f=this.value.rawValue,w=this.reader_(u);this.value.rawValue=Ig(f,w),this.emitter.emit("update",{rawValue:w,sender:this})}onTick_(u){this.read()}}function mF(v,u){return u===0?new Pu:new Dl(v,u!=null?u:qu.monitor.defaultInterval)}function vF(v,u){var f,w,L;const Y=we,ie=v.accept(u.target.read(),u.params);if(h(ie))return null;const ye={target:u.target,initialValue:ie.initialValue,params:ie.params},ze=v.binding.reader(ye),Xe=(w=(f=Y.optional.number(u.params.bufferSize).value)!==null&&f!==void 0?f:v.binding.defaultBufferSize&&v.binding.defaultBufferSize(ie.params))!==null&&w!==void 0?w:1,vt=Y.optional.number(u.params.interval).value,xt=new fF({reader:ze,target:u.target,ticker:mF(u.document,vt),value:Rg(Xe)}),To=Y.optional.boolean(u.params.disabled).value,Wu=Y.optional.boolean(u.params.hidden).value,Gu=v.controller({document:u.document,params:ie.params,value:xt.value,viewProps:Xs.create({disabled:To,hidden:Wu})}),Kl=(L=Y.optional.string(u.params.label).value)!==null&&L!==void 0?L:u.target.key;return new Vi(u.document,{binding:xt,blade:Ue(),props:X.fromObject({label:Kl}),valueController:Gu})}class gF{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(u){u.type==="blade"?this.pluginsMap_.blades.unshift(u):u.type==="input"?this.pluginsMap_.inputs.unshift(u):u.type==="monitor"&&this.pluginsMap_.monitors.unshift(u)}createInput(u,f,w){const L=f.read();if(h(L))throw new g({context:{key:f.key},type:"nomatchingcontroller"});const Y=this.pluginsMap_.inputs.reduce((ie,ye)=>ie||dF(ye,{document:u,target:f,params:w}),null);if(Y)return Y;throw new g({context:{key:f.key},type:"nomatchingcontroller"})}createMonitor(u,f,w){const L=this.pluginsMap_.monitors.reduce((Y,ie)=>Y||vF(ie,{document:u,params:w,target:f}),null);if(L)return L;throw new g({context:{key:f.key},type:"nomatchingcontroller"})}createBlade(u,f){const w=this.pluginsMap_.blades.reduce((L,Y)=>L||_d(Y,{document:u,params:f}),null);if(!w)throw new g({type:"nomatchingview",context:{params:f}});return w}createBladeApi(u){if(u instanceof Qn)return new Ui(u);if(u instanceof Vi)return new ks(u);if(u instanceof _o)return new It(u,this);const f=this.pluginsMap_.blades.reduce((w,L)=>w||L.api({controller:u,pool:this}),null);if(!f)throw g.shouldNeverHappen();return f}}function bF(){const v=new gF;return[H3,K3,Z3,tF,N3,T3,E3,S3,Nt,sF,hF,uF,ge,ug,fd,bd].forEach(u=>{v.register(u)}),v}class lS extends s{constructor(u){super(u);this.emitter_=new m,this.controller_.valueController.value.emitter.on("change",f=>{this.emitter_.emit("change",{event:new a(this,f.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}get options(){return this.controller_.valueController.props.get("options")}set options(u){this.controller_.valueController.props.set("options",u)}get value(){return this.controller_.valueController.value.rawValue}set value(u){this.controller_.valueController.value.rawValue=u}on(u,f){const w=f.bind(this);return this.emitter_.on(u,L=>{w(L.event)}),this}}class cS extends s{constructor(u){super(u);this.emitter_=new m,this.controller_.valueController.value.emitter.on("change",f=>{this.emitter_.emit("change",{event:new a(this,f.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(u){this.controller_.valueController.sliderController.props.set("maxValue",u)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(u){this.controller_.valueController.sliderController.props.set("minValue",u)}get value(){return this.controller_.valueController.value.rawValue}set value(u){this.controller_.valueController.value.rawValue=u}on(u,f){const w=f.bind(this);return this.emitter_.on(u,L=>{w(L.event)}),this}}class uS extends s{constructor(u){super(u);this.emitter_=new m,this.controller_.valueController.value.emitter.on("change",f=>{this.emitter_.emit("change",{event:new a(this,f.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(u){this.controller_.props.set("label",u)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(u){this.controller_.valueController.props.set("formatter",u)}get value(){return this.controller_.valueController.value.rawValue}set value(u){this.controller_.valueController.value.rawValue=u}on(u,f){const w=f.bind(this);return this.emitter_.on(u,L=>{w(L.event)}),this}}const _F=function(){return{id:"list",type:"blade",accept(v){const u=we,f=Se(v,{options:u.required.custom($l),value:u.required.raw,view:u.required.constant("list"),label:u.optional.string});return f?{params:f}:null},controller(v){const u=new yo(v.document,{props:X.fromObject({options:Bd(v.params.options)}),value:J(v.params.value),viewProps:v.viewProps});return new da(v.document,{blade:v.blade,props:X.fromObject({label:v.params.label}),valueController:u})},api(v){return!(v.controller instanceof da)||!(v.controller.valueController instanceof yo)?null:new lS(v.controller)}}}();function xF(v){return v.reduce((u,f)=>Object.assign(u,{[f.presetKey]:f.read()}),{})}function yF(v,u){v.forEach(f=>{const w=u[f.presetKey];w!==void 0&&f.write(w)})}class wF extends _n{constructor(u,f){super(u,f)}get element(){return this.controller_.view.element}importPreset(u){const f=this.controller_.rackController.rack.find(Qn).map(w=>w.binding.target);yF(f,u),this.refresh()}exportPreset(){const u=this.controller_.rackController.rack.find(Qn).map(f=>f.binding.target);return xF(u)}refresh(){this.controller_.rackController.rack.find(Qn).forEach(u=>{u.binding.read()}),this.controller_.rackController.rack.find(Vi).forEach(u=>{u.binding.read()})}}class SF extends Cu{constructor(u,f){super(u,{expanded:f.expanded,blade:f.blade,props:f.props,root:!0,viewProps:f.viewProps})}}const CF={id:"slider",type:"blade",accept(v){const u=we,f=Se(v,{max:u.required.number,min:u.required.number,view:u.required.constant("slider"),format:u.optional.function,label:u.optional.string,value:u.optional.number});return f?{params:f}:null},controller(v){var u,f;const w=(u=v.params.value)!==null&&u!==void 0?u:0,L=new Vu(v.document,{baseStep:1,parser:Jn,sliderProps:X.fromObject({maxValue:v.params.max,minValue:v.params.min}),textProps:X.fromObject({draggingScale:R(void 0,w),formatter:(f=v.params.format)!==null&&f!==void 0?f:Lu}),value:J(w),viewProps:v.viewProps});return new da(v.document,{blade:v.blade,props:X.fromObject({label:v.params.label}),valueController:L})},api(v){return!(v.controller instanceof da)||!(v.controller.valueController instanceof Vu)?null:new cS(v.controller)}},EF=function(){return{id:"text",type:"blade",accept(v){const u=we,f=Se(v,{parse:u.required.function,value:u.required.raw,view:u.required.constant("text"),format:u.optional.function,label:u.optional.string});return f?{params:f}:null},controller(v){var u;const f=new Bl(v.document,{parser:v.params.parse,props:X.fromObject({formatter:(u=v.params.format)!==null&&u!==void 0?u:w=>String(w)}),value:J(v.params.value),viewProps:v.viewProps});return new da(v.document,{blade:v.blade,props:X.fromObject({label:v.params.label}),valueController:f})},api(v){return!(v.controller instanceof da)||!(v.controller.valueController instanceof Bl)?null:new uS(v.controller)}}}();function TF(v){const u=v.createElement("div");return u.classList.add(y("dfw")()),v.body&&v.body.appendChild(u),u}function hS(v,u,f){if(v.querySelector(`style[data-tp-style=${u}]`))return;const w=v.createElement("style");w.dataset.tpStyle=u,w.textContent=f,v.head.appendChild(w)}class kF extends wF{constructor(u){var f;const w=u||{},L=(f=w.document)!==null&&f!==void 0?f:B(),Y=bF(),ie=new SF(L,{expanded:w.expanded,blade:Ue(),props:X.fromObject({title:w.title}),viewProps:Xs.create()});super(ie,Y);this.pool_=Y,this.containerElem_=w.container||TF(L),this.containerElem_.appendChild(this.element),this.doc_=L,this.usesDefaultWrapper_=!w.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw g.alreadyDisposed();return this.doc_}dispose(){const u=this.containerElem_;if(!u)throw g.alreadyDisposed();if(this.usesDefaultWrapper_){const f=u.parentElement;f&&f.removeChild(u)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(u){("plugin"in u?[u.plugin]:"plugins"in u?u.plugins:[]).forEach(w=>{this.pool_.register(w),this.embedPluginStyle_(w)})}embedPluginStyle_(u){u.css&&hS(this.document,`plugin-${u.id}`,u.css)}setUpDefaultPlugins_(){hS(this.document,"default",".tp-lstv_s,.tp-btnv_b,.tp-p2dv_b,.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-fldv_b,.tp-rotv_b,.tp-ckbv_i,.tp-coltxtv_ms,.tp-tbiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-lstv_s:hover,.tp-btnv_b:hover,.tp-p2dv_b:hover{background-color:var(--btn-bg-h)}.tp-lstv_s:focus,.tp-btnv_b:focus,.tp-p2dv_b:focus{background-color:var(--btn-bg-f)}.tp-lstv_s:active,.tp-btnv_b:active,.tp-p2dv_b:active{background-color:var(--btn-bg-a)}.tp-lstv_s:disabled,.tp-btnv_b:disabled,.tp-p2dv_b:disabled{opacity:0.5}.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-colswv_sw:hover,.tp-p2dpv_p:hover,.tp-txtv_i:hover{background-color:var(--in-bg-h)}.tp-colswv_sw:focus,.tp-p2dpv_p:focus,.tp-txtv_i:focus{background-color:var(--in-bg-f)}.tp-colswv_sw:active,.tp-p2dpv_p:active,.tp-txtv_i:active{background-color:var(--in-bg-a)}.tp-colswv_sw:disabled,.tp-p2dpv_p:disabled,.tp-txtv_i:disabled{opacity:0.5}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);width:100%}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #2f3137);--bs-sh: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #2f3137);--cnt-bg: var(--tp-container-background-color, rgba(187,188,196,0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187,188,196,0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187,188,196,0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187,188,196,0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187,188,196,0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187,188,196,0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187,188,196,0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187,188,196,0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187,188,196,0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0,0,0,0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187,188,196,0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(0,0,0,0.2))}.tp-fldv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-rotv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1 * var(--cnt-v-p))}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-rotv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-fldv_c>.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c,.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-tabv>.tp-tabv_i,.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-fldv_c .tp-tabv>.tp-tabv_c,.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_b,.tp-rotv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_b:hover,.tp-rotv_b:hover{background-color:var(--cnt-bg-h)}.tp-fldv_b:focus,.tp-rotv_b:focus{background-color:var(--cnt-bg-f)}.tp-fldv_b:active,.tp-rotv_b:active{background-color:var(--cnt-bg-a)}.tp-fldv_b:disabled,.tp-rotv_b:disabled{opacity:0.5}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:'';display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px) / 2 - 2px);margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c,.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c{display:none}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-coltxtv_m,.tp-lstv{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-coltxtv_mm,.tp-lstv_m{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-coltxtv_mm svg,.tp-lstv_m svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-coltxtv_mm svg path,.tp-lstv_m svg path{fill:currentColor}.tp-coltxtv_w,.tp-pndtxtv{display:flex}.tp-coltxtv_c,.tp-pndtxtv_a{width:100%}.tp-coltxtv_c+.tp-coltxtv_c,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-pndtxtv_a{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:0.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:'';height:2px;left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us) * 4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br)}.tp-colswv.tp-v-disabled{opacity:0.5}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:'';display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left 0.05s, top 0.05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:0.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:0.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:0.5}.tp-mllv_i{display:block;height:calc(var(--bld-us) * 3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:0.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:0.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:'';display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:0.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:'';height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:'';height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:0.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:0.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:0.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:'';height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:0.1;position:absolute;top:0;transition:border-radius 0.1s, height 0.1s, transform 0.1s, width 0.1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:'';font-size:0.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}"),this.pool_.getAll().forEach(u=>{this.embedPluginStyle_(u)}),this.registerPlugin({plugins:[CF,_F,bd,EF]})}}const PF=new i("3.0.7");n.BladeApi=s,n.ButtonApi=S,n.FolderApi=_n,n.InputBindingApi=Ui,n.ListApi=lS,n.MonitorBindingApi=ks,n.Pane=kF,n.SeparatorApi=Eu,n.SliderApi=cS,n.TabApi=Tu,n.TabPageApi=gd,n.TextApi=uS,n.TpChangeEvent=a,n.VERSION=PF,Object.defineProperty(n,"__esModule",{value:!0})})})(Dh,Dh.exports);var fm={exports:{}};(function(t,e){(function(n,i){i(e)})(Bn,function(n){class i{constructor(b){this.controller_=b}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(b){this.controller_.viewProps.set("disabled",b)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(b){this.controller_.viewProps.set("hidden",b)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class s{constructor(b){this.target=b}}class r extends s{constructor(b,E,R,H){super(b);this.value=E,this.presetKey=R,this.last=H!=null?H:!0}}function a(M){return M}function o(M){return M==null}const l={alreadydisposed:()=>"View has been already disposed",invalidparams:M=>`Invalid parameters for '${M.name}'`,nomatchingcontroller:M=>`No matching controller for '${M.key}'`,nomatchingview:M=>`No matching view for '${JSON.stringify(M.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:M=>`Property '${M.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class c{constructor(b){var E;this.message=(E=l[b.type](b.context))!==null&&E!==void 0?E:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=b.type}static alreadyDisposed(){return new c({type:"alreadydisposed"})}static notBindable(){return new c({type:"notbindable"})}static propertyNotFound(b){return new c({type:"propertynotfound",context:{name:b}})}static shouldNeverHappen(){return new c({type:"shouldneverhappen"})}}class h{constructor(){this.observers_={}}on(b,E){let R=this.observers_[b];return R||(R=this.observers_[b]=[]),R.push({handler:E}),this}off(b,E){const R=this.observers_[b];return R&&(this.observers_[b]=R.filter(H=>H.handler!==E)),this}emit(b,E){const R=this.observers_[b];!R||R.forEach(H=>{H.handler(E)})}}const p="tp";function d(M){return(E,R)=>[p,"-",M,"v",E?`_${E}`:"",R?`-${R}`:""].join("")}function g(M,b){return E=>b(M(E))}function x(M){return M.rawValue}function S(M,b){M.emitter.on("change",g(x,b)),b(M.rawValue)}function m(M,b,E){S(M.value(b),E)}function _(M,b,E){E?M.classList.add(b):M.classList.remove(b)}function y(M,b){return E=>{_(M,b,E)}}function T(M,b){S(M,E=>{b.textContent=E!=null?E:""})}const C=d("btn");class A{constructor(b,E){this.element=b.createElement("div"),this.element.classList.add(C()),E.viewProps.bindClassModifiers(this.element);const R=b.createElement("button");R.classList.add(C("b")),E.viewProps.bindDisabled(R),this.element.appendChild(R),this.buttonElement=R;const H=b.createElement("div");H.classList.add(C("t")),T(E.props.value("title"),H),this.buttonElement.appendChild(H)}}class k{constructor(b,E){this.emitter=new h,this.onClick_=this.onClick_.bind(this),this.props=E.props,this.viewProps=E.viewProps,this.view=new A(b,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class P{constructor(b,E){var R;this.constraint_=E==null?void 0:E.constraint,this.equals_=(R=E==null?void 0:E.equals)!==null&&R!==void 0?R:(H,ne)=>H===ne,this.emitter=new h,this.rawValue_=b}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(b){this.setRawValue(b,{forceEmit:!1,last:!0})}setRawValue(b,E){const R=E!=null?E:{forceEmit:!1,last:!0},H=this.constraint_?this.constraint_.constrain(b):b;!!this.equals_(this.rawValue_,H)&&!R.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=H,this.emitter.emit("change",{options:R,rawValue:H,sender:this}))}}class N{constructor(b){this.emitter=new h,this.value_=b}get rawValue(){return this.value_}set rawValue(b){this.setRawValue(b,{forceEmit:!1,last:!0})}setRawValue(b,E){const R=E!=null?E:{forceEmit:!1,last:!0};this.value_===b&&!R.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=b,this.emitter.emit("change",{options:R,rawValue:this.value_,sender:this}))}}function I(M,b){const E=b==null?void 0:b.constraint,R=b==null?void 0:b.equals;return!E&&!R?new N(M):new P(M,b)}class j{constructor(b){this.emitter=new h,this.valMap_=b;for(const E in this.valMap_)this.valMap_[E].emitter.on("change",()=>{this.emitter.emit("change",{key:E,sender:this})})}static createCore(b){return Object.keys(b).reduce((R,H)=>Object.assign(R,{[H]:I(b[H])}),{})}static fromObject(b){const E=this.createCore(b);return new j(E)}get(b){return this.valMap_[b].rawValue}set(b,E){this.valMap_[b].rawValue=E}value(b){return this.valMap_[b]}}function V(M,b){const R=Object.keys(b).reduce((H,ne)=>{if(H===void 0)return;const ke=b[ne](M[ne]);return ke.succeeded?Object.assign(Object.assign({},H),{[ne]:ke.value}):void 0},{});return R}function D(M,b){return M.reduce((E,R)=>{if(E===void 0)return;const H=b(R);if(!(!H.succeeded||H.value===void 0))return[...E,H.value]},[])}function G(M){return M===null?!1:typeof M=="object"}function O(M){return b=>E=>{if(!b&&E===void 0)return{succeeded:!1,value:void 0};if(b&&E===void 0)return{succeeded:!0,value:void 0};const R=M(E);return R!==void 0?{succeeded:!0,value:R}:{succeeded:!1,value:void 0}}}function J(M){return{custom:b=>O(b)(M),boolean:O(b=>typeof b=="boolean"?b:void 0)(M),number:O(b=>typeof b=="number"?b:void 0)(M),string:O(b=>typeof b=="string"?b:void 0)(M),function:O(b=>typeof b=="function"?b:void 0)(M),constant:b=>O(E=>E===b?b:void 0)(M),raw:O(b=>b)(M),object:b=>O(E=>{if(!!G(E))return V(E,b)})(M),array:b=>O(E=>{if(!!Array.isArray(E))return D(E,b)})(M)}}const X={optional:J(!0),required:J(!1)};function ae(M,b){const E=X.required.object(b)(M);return E.succeeded?E.value:void 0}function me(M){return M&&M.parentElement&&M.parentElement.removeChild(M),null}function Ae(){return["veryfirst","first","last","verylast"]}const Oe=d(""),Be={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class we{constructor(b){this.parent_=null,this.blade=b.blade,this.view=b.view,this.viewProps=b.viewProps;const E=this.view.element;this.blade.value("positions").emitter.on("change",()=>{Ae().forEach(R=>{E.classList.remove(Oe(void 0,Be[R]))}),this.blade.get("positions").forEach(R=>{E.classList.add(Oe(void 0,Be[R]))})}),this.viewProps.handleDispose(()=>{me(E)})}get parent(){return this.parent_}}const Se="http://www.w3.org/2000/svg";function We(M){M.offsetHeight}function ue(M,b){const E=M.style.transition;M.style.transition="none",b(),M.style.transition=E}function be(M){return M.ontouchstart!==void 0}function ve(M){for(;M.childNodes.length>0;)M.removeChild(M.childNodes[0])}function Te(M){return M.relatedTarget?M.relatedTarget:"explicitOriginalTarget"in M?M.explicitOriginalTarget:null}const Ne=d("lbl");function He(M,b){const E=M.createDocumentFragment();return b.split(`
`).map(H=>M.createTextNode(H)).forEach((H,ne)=>{ne>0&&E.appendChild(M.createElement("br")),E.appendChild(H)}),E}class z{constructor(b,E){this.element=b.createElement("div"),this.element.classList.add(Ne()),E.viewProps.bindClassModifiers(this.element);const R=b.createElement("div");R.classList.add(Ne("l")),m(E.props,"label",ne=>{o(ne)?this.element.classList.add(Ne(void 0,"nol")):(this.element.classList.remove(Ne(void 0,"nol")),ve(R),R.appendChild(He(b,ne)))}),this.element.appendChild(R),this.labelElement=R;const H=b.createElement("div");H.classList.add(Ne("v")),this.element.appendChild(H),this.valueElement=H}}class K extends we{constructor(b,E){const R=E.valueController.viewProps;super(Object.assign(Object.assign({},E),{view:new z(b,{props:E.props,viewProps:R}),viewProps:R}));this.props=E.props,this.valueController=E.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class F extends we{constructor(b){super(b);this.value=b.value}}class B extends j{constructor(b){super(b)}static create(b){const E={completed:!0,expanded:b,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},R=j.createCore(E);return new B(R)}get styleExpanded(){var b;return(b=this.get("temporaryExpanded"))!==null&&b!==void 0?b:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const b=this.get("expandedHeight");return this.get("shouldFixHeight")&&!o(b)?`${b}px`:"auto"}bindExpandedClass(b,E){m(this,"expanded",()=>{this.styleExpanded?b.classList.add(E):b.classList.remove(E)})}}function Z(M){return B.create(M)}function $(M,b){let E=0;return ue(b,()=>{M.set("expandedHeight",null),M.set("temporaryExpanded",!0),We(b),E=b.clientHeight,M.set("temporaryExpanded",null),We(b)}),E}function Q(M,b){b.style.height=M.styleHeight}function te(M,b){M.value("expanded").emitter.on("beforechange",()=>{M.set("completed",!1),o(M.get("expandedHeight"))&&M.set("expandedHeight",$(M,b)),M.set("shouldFixHeight",!0),We(b)}),M.emitter.on("change",()=>{Q(M,b)}),Q(M,b),b.addEventListener("transitionend",E=>{E.propertyName==="height"&&(M.set("shouldFixHeight",!1),M.set("expandedHeight",null),M.set("completed",!0))})}class ee{constructor(b,E){const R=d(E.viewName);this.element=b.createElement("div"),this.element.classList.add(R()),E.viewProps.bindClassModifiers(this.element)}}class re extends F{constructor(b,E){const R=E.valueController.viewProps;super(Object.assign(Object.assign({},E),{value:E.valueController.value,view:new z(b,{props:E.props,viewProps:R}),viewProps:R}));this.props=E.props,this.valueController=E.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const W=d("");function q(M,b){return y(M,W(void 0,b))}class oe extends j{constructor(b){super(b)}static create(b){var E,R;const H=b!=null?b:{},ne={disabled:(E=H.disabled)!==null&&E!==void 0?E:!1,disposed:!1,hidden:(R=H.hidden)!==null&&R!==void 0?R:!1},ce=j.createCore(ne);return new oe(ce)}bindClassModifiers(b){m(this,"disabled",q(b,"disabled")),m(this,"hidden",q(b,"hidden"))}bindDisabled(b){m(this,"disabled",E=>{b.disabled=E})}bindTabIndex(b){m(this,"disabled",E=>{b.tabIndex=E?-1:0})}handleDispose(b){this.value("disposed").emitter.on("change",E=>{E&&b()})}}class se{constructor(){this.disabled=!1,this.emitter=new h}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class de{constructor(b,E){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=b,this.emitter=new h,this.interval_=E,this.setTimer_()}get disabled(){return this.disabled_}set disabled(b){this.disabled_=b,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const b=this.doc_.defaultView;b&&b.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const b=this.doc_.defaultView;b&&(this.timerId_=b.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class he{constructor(b){this.constraints=b}constrain(b){return this.constraints.reduce((E,R)=>R.constrain(E),b)}}function ge(M,b){if(M instanceof b)return M;if(M instanceof he){const E=M.constraints.reduce((R,H)=>R||(H instanceof b?H:null),null);if(E)return E}return null}class _e{constructor(b){this.maxValue=b.max,this.minValue=b.min}constrain(b){let E=b;return o(this.minValue)||(E=Math.max(E,this.minValue)),o(this.maxValue)||(E=Math.min(E,this.maxValue)),E}}class Ue{constructor(b){this.step=b}constrain(b){return(b<0?-Math.round(-b/this.step):Math.round(b/this.step))*this.step}}const $e=d("pop");class ft{constructor(b,E){this.element=b.createElement("div"),this.element.classList.add($e()),E.viewProps.bindClassModifiers(this.element),S(E.shows,y(this.element,$e(void 0,"v")))}}class Ct{constructor(b,E){this.shows=I(!1),this.viewProps=E.viewProps,this.view=new ft(b,{shows:this.shows,viewProps:this.viewProps})}}const un=d("txt");class An{constructor(b,E){this.onChange_=this.onChange_.bind(this),this.element=b.createElement("div"),this.element.classList.add(un()),E.viewProps.bindClassModifiers(this.element),this.props_=E.props,this.props_.emitter.on("change",this.onChange_);const R=b.createElement("input");R.classList.add(un("i")),R.type="text",E.viewProps.bindDisabled(R),this.element.appendChild(R),this.inputElement=R,E.value.emitter.on("change",this.onChange_),this.value_=E.value,this.refresh()}refresh(){const b=this.props_.get("formatter");this.inputElement.value=b(this.value_.rawValue)}onChange_(){this.refresh()}}class Ts{constructor(b,E){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=E.parser,this.props=E.props,this.value=E.value,this.viewProps=E.viewProps,this.view=new An(b,{props:E.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(b){const R=b.currentTarget.value,H=this.parser_(R);o(H)||(this.value.rawValue=H),this.view.refresh()}}class Rt{constructor(b){this.text=b}evaluate(){return Number(this.text)}toString(){return this.text}}const bn={"**":(M,b)=>Math.pow(M,b),"*":(M,b)=>M*b,"/":(M,b)=>M/b,"%":(M,b)=>M%b,"+":(M,b)=>M+b,"-":(M,b)=>M-b,"<<":(M,b)=>M<<b,">>":(M,b)=>M>>b,">>>":(M,b)=>M>>>b,"&":(M,b)=>M&b,"^":(M,b)=>M^b,"|":(M,b)=>M|b};class nn{constructor(b,E,R){this.left=E,this.operator=b,this.right=R}evaluate(){const b=bn[this.operator];if(!b)throw new Error(`unexpected binary operator: '${this.operator}`);return b(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Pr={"+":M=>M,"-":M=>-M,"~":M=>~M};class Ui{constructor(b,E){this.operator=b,this.expression=E}evaluate(){const b=Pr[this.operator];if(!b)throw new Error(`unexpected unary operator: '${this.operator}`);return b(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Qn(M){return(b,E)=>{for(let R=0;R<M.length;R++){const H=M[R](b,E);if(H!=="")return H}return""}}function ks(M,b){var E;const R=M.substr(b).match(/^\s+/);return(E=R&&R[0])!==null&&E!==void 0?E:""}function Vi(M,b){const E=M.substr(b,1);return E.match(/^[1-9]$/)?E:""}function Ps(M,b){var E;const R=M.substr(b).match(/^[0-9]+/);return(E=R&&R[0])!==null&&E!==void 0?E:""}function $i(M,b){const E=Ps(M,b);if(E!=="")return E;const R=M.substr(b,1);if(b+=1,R!=="-"&&R!=="+")return"";const H=Ps(M,b);return H===""?"":R+H}function zt(M,b){const E=M.substr(b,1);if(b+=1,E.toLowerCase()!=="e")return"";const R=$i(M,b);return R===""?"":E+R}function It(M,b){const E=M.substr(b,1);if(E==="0")return E;const R=Vi(M,b);return b+=R.length,R===""?"":R+Ps(M,b)}function _n(M,b){const E=It(M,b);if(b+=E.length,E==="")return"";const R=M.substr(b,1);if(b+=R.length,R!==".")return"";const H=Ps(M,b);return b+=H.length,E+R+H+zt(M,b)}function xn(M,b){const E=M.substr(b,1);if(b+=E.length,E!==".")return"";const R=Ps(M,b);return b+=R.length,R===""?"":E+R+zt(M,b)}function yn(M,b){const E=It(M,b);return b+=E.length,E===""?"":E+zt(M,b)}const hn=Qn([_n,xn,yn]);function zi(M,b){var E;const R=M.substr(b).match(/^[01]+/);return(E=R&&R[0])!==null&&E!==void 0?E:""}function Hi(M,b){const E=M.substr(b,2);if(b+=E.length,E.toLowerCase()!=="0b")return"";const R=zi(M,b);return R===""?"":E+R}function cs(M,b){var E;const R=M.substr(b).match(/^[0-7]+/);return(E=R&&R[0])!==null&&E!==void 0?E:""}function og(M,b){const E=M.substr(b,2);if(b+=E.length,E.toLowerCase()!=="0o")return"";const R=cs(M,b);return R===""?"":E+R}function lg(M,b){var E;const R=M.substr(b).match(/^[0-9a-f]+/i);return(E=R&&R[0])!==null&&E!==void 0?E:""}function _o(M,b){const E=M.substr(b,2);if(b+=E.length,E.toLowerCase()!=="0x")return"";const R=lg(M,b);return R===""?"":E+R}const hd=Qn([Hi,og,_o]),cg=Qn([hd,hn]);function Cu(M,b){const E=cg(M,b);return b+=E.length,E===""?null:{evaluable:new Rt(E),cursor:b}}function ug(M,b){const E=M.substr(b,1);if(b+=E.length,E!=="(")return null;const R=fd(M,b);if(!R)return null;b=R.cursor,b+=ks(M,b).length;const H=M.substr(b,1);return b+=H.length,H!==")"?null:{evaluable:R.evaluable,cursor:b}}function da(M,b){return Cu(M,b)||ug(M,b)}function Eu(M,b){const E=da(M,b);if(E)return E;const R=M.substr(b,1);if(b+=R.length,R!=="+"&&R!=="-"&&R!=="~")return null;const H=Eu(M,b);return H?(b=H.cursor,{cursor:b,evaluable:new Ui(R,H.evaluable)}):null}function pd(M,b,E){E+=ks(b,E).length;const R=M.filter(H=>b.startsWith(H,E))[0];return R?(E+=R.length,E+=ks(b,E).length,{cursor:E,operator:R}):null}function hg(M,b){return(E,R)=>{const H=M(E,R);if(!H)return null;R=H.cursor;let ne=H.evaluable;for(;;){const ce=pd(b,E,R);if(!ce)break;R=ce.cursor;const ke=M(E,R);if(!ke)return null;R=ke.cursor,ne=new nn(ce.operator,ne,ke.evaluable)}return ne?{cursor:R,evaluable:ne}:null}}const dd=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((M,b)=>hg(M,b),Eu);function fd(M,b){return b+=ks(M,b).length,dd(M,b)}function pg(M){const b=fd(M,0);return!b||b.cursor+ks(M,b.cursor).length!==M.length?null:b.evaluable}function xo(M){var b;const E=pg(M);return(b=E==null?void 0:E.evaluate())!==null&&b!==void 0?b:null}function Xs(M){if(typeof M=="number")return M;if(typeof M=="string"){const b=xo(M);if(!o(b))return b}return 0}function Qs(M){return b=>b.toFixed(Math.max(Math.min(M,20),0))}function md(M,b){for(;M.length<b;)M.push(void 0)}function dg(M){const b=[];return md(b,M),I(b)}function vd(M){const b=M.indexOf(void 0);return b<0?M:M.slice(0,b)}function gd(M,b){const E=[...vd(M),b];return E.length>M.length?E.splice(0,E.length-M.length):md(E,M.length),E}function Tu({primary:M,secondary:b,forward:E,backward:R}){let H=!1;function ne(ce){H||(H=!0,ce(),H=!1)}M.emitter.on("change",ce=>{ne(()=>{b.setRawValue(E(M,b),ce.options)})}),b.emitter.on("change",ce=>{ne(()=>{M.setRawValue(R(M,b),ce.options)}),ne(()=>{b.setRawValue(E(M,b),ce.options)})}),ne(()=>{b.setRawValue(E(M,b),{forceEmit:!1,last:!0})})}function As(M,b){const E=M*(b.altKey?.1:1)*(b.shiftKey?10:1);return b.upKey?+E:b.downKey?-E:0}function Fl(M){return{altKey:M.altKey,downKey:M.key==="ArrowDown",shiftKey:M.shiftKey,upKey:M.key==="ArrowUp"}}function ku(M){return{altKey:M.altKey,downKey:M.key==="ArrowLeft",shiftKey:M.shiftKey,upKey:M.key==="ArrowRight"}}function bd(M){return M==="ArrowUp"||M==="ArrowDown"}function _d(M){return bd(M)||M==="ArrowLeft"||M==="ArrowRight"}function Pu(M,b){const E=b.ownerDocument.defaultView,R=b.getBoundingClientRect();return{x:M.pageX-((E&&E.scrollX||0)+R.left),y:M.pageY-((E&&E.scrollY||0)+R.top)}}class Dl{constructor(b){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=b,this.emitter=new h,b.addEventListener("touchstart",this.onTouchStart_),b.addEventListener("touchmove",this.onTouchMove_),b.addEventListener("touchend",this.onTouchEnd_),b.addEventListener("mousedown",this.onMouseDown_)}computePosition_(b){const E=this.elem_.getBoundingClientRect();return{bounds:{width:E.width,height:E.height},point:b?{x:b.x,y:b.y}:null}}onMouseDown_(b){var E;b.preventDefault(),(E=b.currentTarget)===null||E===void 0||E.focus();const R=this.elem_.ownerDocument;R.addEventListener("mousemove",this.onDocumentMouseMove_),R.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:b.altKey,data:this.computePosition_(Pu(b,this.elem_)),sender:this,shiftKey:b.shiftKey})}onDocumentMouseMove_(b){this.emitter.emit("move",{altKey:b.altKey,data:this.computePosition_(Pu(b,this.elem_)),sender:this,shiftKey:b.shiftKey})}onDocumentMouseUp_(b){const E=this.elem_.ownerDocument;E.removeEventListener("mousemove",this.onDocumentMouseMove_),E.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:b.altKey,data:this.computePosition_(Pu(b,this.elem_)),sender:this,shiftKey:b.shiftKey})}onTouchStart_(b){b.preventDefault();const E=b.targetTouches.item(0),R=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:b.altKey,data:this.computePosition_(E?{x:E.clientX-R.left,y:E.clientY-R.top}:void 0),sender:this,shiftKey:b.shiftKey}),this.lastTouch_=E}onTouchMove_(b){const E=b.targetTouches.item(0),R=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:b.altKey,data:this.computePosition_(E?{x:E.clientX-R.left,y:E.clientY-R.top}:void 0),sender:this,shiftKey:b.shiftKey}),this.lastTouch_=E}onTouchEnd_(b){var E;const R=(E=b.targetTouches.item(0))!==null&&E!==void 0?E:this.lastTouch_,H=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:b.altKey,data:this.computePosition_(R?{x:R.clientX-H.left,y:R.clientY-H.top}:void 0),sender:this,shiftKey:b.shiftKey})}}function Ot(M,b,E,R,H){const ne=(M-b)/(E-b);return R+ne*(H-R)}function qi(M){return String(M.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Ms(M,b,E){return Math.min(Math.max(M,b),E)}const jt=d("txt");class Ar{constructor(b,E){this.onChange_=this.onChange_.bind(this),this.props_=E.props,this.props_.emitter.on("change",this.onChange_),this.element=b.createElement("div"),this.element.classList.add(jt(),jt(void 0,"num")),E.arrayPosition&&this.element.classList.add(jt(void 0,E.arrayPosition)),E.viewProps.bindClassModifiers(this.element);const R=b.createElement("input");R.classList.add(jt("i")),R.type="text",E.viewProps.bindDisabled(R),this.element.appendChild(R),this.inputElement=R,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=E.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(jt()),this.inputElement.classList.add(jt("i"));const H=b.createElement("div");H.classList.add(jt("k")),this.element.appendChild(H),this.knobElement=H;const ne=b.createElementNS(Se,"svg");ne.classList.add(jt("g")),this.knobElement.appendChild(ne);const ce=b.createElementNS(Se,"path");ce.classList.add(jt("gb")),ne.appendChild(ce),this.guideBodyElem_=ce;const ke=b.createElementNS(Se,"path");ke.classList.add(jt("gh")),ne.appendChild(ke),this.guideHeadElem_=ke;const Nt=b.createElement("div");Nt.classList.add(d("tt")()),this.knobElement.appendChild(Nt),this.tooltipElem_=Nt,E.value.emitter.on("change",this.onChange_),this.value=E.value,this.refresh()}onDraggingChange_(b){if(b.rawValue===null){this.element.classList.remove(jt(void 0,"drg"));return}this.element.classList.add(jt(void 0,"drg"));const E=b.rawValue/this.props_.get("draggingScale"),R=E+(E>0?-1:E<0?1:0),H=Ms(-R,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${R+H},0 L${R},4 L${R+H},8`,`M ${E},-1 L${E},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${E},4`);const ne=this.props_.get("formatter");this.tooltipElem_.textContent=ne(this.value.rawValue),this.tooltipElem_.style.left=`${E}px`}refresh(){const b=this.props_.get("formatter");this.inputElement.value=b(this.value.rawValue)}onChange_(){this.refresh()}}class Au{constructor(b,E){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=E.baseStep,this.parser_=E.parser,this.props=E.props,this.value=E.value,this.viewProps=E.viewProps,this.dragging_=I(null),this.view=new Ar(b,{arrayPosition:E.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const R=new Dl(this.view.knobElement);R.emitter.on("down",this.onPointerDown_),R.emitter.on("move",this.onPointerMove_),R.emitter.on("up",this.onPointerUp_)}onInputChange_(b){const R=b.currentTarget.value,H=this.parser_(R);o(H)||(this.value.rawValue=H),this.view.refresh()}onInputKeyDown_(b){const E=As(this.baseStep_,Fl(b));E!==0&&this.value.setRawValue(this.value.rawValue+E,{forceEmit:!1,last:!1})}onInputKeyUp_(b){As(this.baseStep_,Fl(b))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(b){if(!b.point)return null;const E=b.point.x-b.bounds.width/2;return this.originRawValue_+E*this.props.get("draggingScale")}onPointerMove_(b){const E=this.computeDraggingValue_(b.data);E!==null&&(this.value.setRawValue(E,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(b){const E=this.computeDraggingValue_(b.data);E!==null&&(this.value.setRawValue(E,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}function fg(M,b){M.write(b)}function yo(M){const b=M?ge(M,Ue):null;return b?b.step:null}function xd(M,b){const E=M&&ge(M,Ue);return E?qi(E.step):Math.max(qi(b),2)}function yd(M){const b=yo(M);return b!=null?b:1}function wd(M,b){var E;const R=M&&ge(M,Ue),H=Math.abs((E=R==null?void 0:R.step)!==null&&E!==void 0?E:b);return H===0?.1:Math.pow(10,Math.floor(Math.log10(H))-1)}class Sd{constructor(b){this.components=b.components,this.asm_=b.assembly}constrain(b){const E=this.asm_.toComponents(b).map((R,H)=>{var ne,ce;return(ce=(ne=this.components[H])===null||ne===void 0?void 0:ne.constrain(R))!==null&&ce!==void 0?ce:R});return this.asm_.fromComponents(E)}}const Cd=d("pndtxt");class Bl{constructor(b,E){this.textViews=E.textViews,this.element=b.createElement("div"),this.element.classList.add(Cd()),this.textViews.forEach(R=>{const H=b.createElement("div");H.classList.add(Cd("a")),H.appendChild(R.element),this.element.appendChild(H)})}}function mg(M,b,E){return new Au(M,{arrayPosition:E===0?"fst":E===b.axes.length-1?"lst":"mid",baseStep:b.axes[E].baseStep,parser:b.parser,props:b.axes[E].textProps,value:I(0,{constraint:b.axes[E].constraint}),viewProps:b.viewProps})}class jl{constructor(b,E){this.value=E.value,this.viewProps=E.viewProps,this.acs_=E.axes.map((R,H)=>mg(b,E,H)),this.acs_.forEach((R,H)=>{Tu({primary:this.value,secondary:R.value,forward:ne=>E.assembly.toComponents(ne.rawValue)[H],backward:(ne,ce)=>{const ke=E.assembly.toComponents(ne.rawValue);return ke[H]=ce.rawValue,E.assembly.fromComponents(ke)}})}),this.view=new Bl(b,{textViews:this.acs_.map(R=>R.view)})}}function Ed(M){return"step"in M&&!o(M.step)?new Ue(M.step):null}function vg(M){return"max"in M&&!o(M.max)||"min"in M&&!o(M.min)?new _e({max:M.max,min:M.min}):null}const gg={monitor:{defaultInterval:200,defaultLineCount:3}};class bg{constructor(){this.emitter=new h,this.index_=-1}get index(){return this.index_}set index(b){this.index_!==b&&(this.index_=b,this.emitter.emit("change",{index:b,sender:this}))}}const Js=d("grl");class _g{constructor(b,E){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=b.createElement("div"),this.element.classList.add(Js()),E.viewProps.bindClassModifiers(this.element),this.formatter_=E.formatter,this.minValue_=E.minValue,this.maxValue_=E.maxValue,this.cursor_=E.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const R=b.createElementNS(Se,"svg");R.classList.add(Js("g")),R.style.height=`calc(var(--bld-us) * ${E.lineCount})`,this.element.appendChild(R),this.svgElem_=R;const H=b.createElementNS(Se,"polyline");this.svgElem_.appendChild(H),this.lineElem_=H;const ne=b.createElement("div");ne.classList.add(Js("t"),d("tt")()),this.element.appendChild(ne),this.tooltipElem_=ne,E.value.emitter.on("change",this.onValueUpdate_),this.value=E.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const b=this.svgElem_.getBoundingClientRect(),E=this.value.rawValue.length-1,R=this.minValue_,H=this.maxValue_,ne=[];this.value.rawValue.forEach((Ls,zu)=>{if(Ls===void 0)return;const Bg=Ot(zu,0,E,0,b.width),jg=Ot(Ls,R,H,b.height,0);ne.push([Bg,jg].join(","))}),this.lineElem_.setAttributeNS(null,"points",ne.join(" "));const ce=this.tooltipElem_,ke=this.value.rawValue[this.cursor_.index];if(ke===void 0){ce.classList.remove(Js("t","a"));return}const Nt=Ot(this.cursor_.index,0,E,0,b.width),vn=Ot(ke,R,H,b.height,0);ce.style.left=`${Nt}px`,ce.style.top=`${vn}px`,ce.textContent=`${this.formatter_(ke)}`,ce.classList.contains(Js("t","a"))||(ce.classList.add(Js("t","a"),Js("t","in")),We(ce),ce.classList.remove(Js("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Mu{constructor(b,E){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=E.value,this.viewProps=E.viewProps,this.cursor_=new bg,this.view=new _g(b,{cursor:this.cursor_,formatter:E.formatter,lineCount:E.lineCount,maxValue:E.maxValue,minValue:E.minValue,value:this.value,viewProps:this.viewProps}),!be(b))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const R=new Dl(this.view.element);R.emitter.on("down",this.onGraphPointerDown_),R.emitter.on("move",this.onGraphPointerMove_),R.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(b){const E=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(Ot(b.offsetX,0,E.width,0,this.value.rawValue.length))}onGraphPointerDown_(b){this.onGraphPointerMove_(b)}onGraphPointerMove_(b){if(!b.data.point){this.cursor_.index=-1;return}this.cursor_.index=Math.floor(Ot(b.data.point.x,0,b.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.index=-1}}class wo{constructor(b){this.controller_=b}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(b){this.controller_.viewProps.set("disabled",b)}get title(){var b;return(b=this.controller_.props.get("title"))!==null&&b!==void 0?b:""}set title(b){this.controller_.props.set("title",b)}on(b,E){const R=E.bind(this);return this.controller_.emitter.on(b,()=>{R(new s(this))}),this}}class xg extends s{constructor(b,E,R){super(b);this.cell=E,this.index=R}}class So extends i{constructor(b){super(b);this.cellToApiMap_=new Map,this.emitter_=new h;const E=this.controller_.valueController;E.cellControllers.forEach((R,H)=>{const ne=new wo(R);this.cellToApiMap_.set(R,ne),R.emitter.on("click",()=>{const ce=H%E.size[0],ke=Math.floor(H/E.size[0]);this.emitter_.emit("click",{event:new xg(this,ne,[ce,ke])})})})}cell(b,E){const R=this.controller_.valueController,H=R.cellControllers[E*R.size[0]+b];return this.cellToApiMap_.get(H)}on(b,E){const R=E.bind(this);return this.emitter_.on(b,H=>{R(H.event)}),this}}class Td{constructor(b,E){this.size=E.size;const[R,H]=this.size,ne=[];for(let ce=0;ce<H;ce++)for(let ke=0;ke<R;ke++){const Nt=new k(b,{props:j.fromObject(Object.assign({},E.cellConfig(ke,ce))),viewProps:oe.create()});ne.push(Nt)}this.cellCs_=ne,this.viewProps=oe.create(),this.viewProps.handleDispose(()=>{this.cellCs_.forEach(ce=>{ce.viewProps.set("disposed",!0)})}),this.view=new ee(b,{viewProps:this.viewProps,viewName:"btngrid"}),this.view.element.style.gridTemplateColumns=`repeat(${R}, 1fr)`,this.cellCs_.forEach(ce=>{this.view.element.appendChild(ce.view.element)})}get cellControllers(){return this.cellCs_}}const Ru={id:"buttongrid",type:"blade",css:".tp-cbzv_b,.tp-rslv_k,.tp-radv_b,.tp-cbzgv{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-cbzv_b,.tp-rslv_k,.tp-radv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-cbzv_b:hover,.tp-rslv_k:hover,.tp-radv_b:hover{background-color:var(--btn-bg-h)}.tp-cbzv_b:focus,.tp-rslv_k:focus,.tp-radv_b:focus{background-color:var(--btn-bg-f)}.tp-cbzv_b:active,.tp-rslv_k:active,.tp-radv_b:active{background-color:var(--btn-bg-a)}.tp-cbzv_b:disabled,.tp-rslv_k:disabled,.tp-radv_b:disabled{opacity:0.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:0.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:0.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:0.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:0.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us) * 5);width:100%}.tp-cbzgv_u{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:transparent;stroke:var(--in-fg)}.tp-cbzgv_v{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:0.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity 0.2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:0.2em;opacity:0.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:0.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px) / -2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:0.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:0.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:0.5}.tp-radgridv .tp-radv_b{border-radius:0}",accept(M){const b=X,E=ae(M,{cells:b.required.function,size:b.required.array(b.required.number),view:b.required.constant("buttongrid"),label:b.optional.string});return E?{params:E}:null},controller(M){return new K(M.document,{blade:M.blade,props:j.fromObject({label:M.params.label}),valueController:new Td(M.document,{cellConfig:M.params.cells,size:M.params.size})})},api(M){return!(M.controller instanceof K)||!(M.controller.valueController instanceof Td)?null:new So(M.controller)}};class kd extends i{get label(){return this.controller_.props.get("label")}set label(b){this.controller_.props.set("label",b)}get value(){return this.controller_.valueController.value.rawValue}set value(b){this.controller_.valueController.value.rawValue=b}on(b,E){const R=E.bind(this);return this.controller_.valueController.value.emitter.on(b,H=>{R(new r(this,H.rawValue,void 0,H.options.last))}),this}}function wi(M,b,E){return M*(1-E)+b*E}const yg=20,wg=.001,Iu=100;function Sg(M,b){let E=.25,R=.5,H=-1;for(let ne=0;ne<yg;ne++){const[ce,ke]=M.curve(R);if(R+=E*(ce<b?1:-1),H=ke,E*=.5,Math.abs(b-ce)<wg)break}return H}class Zs{constructor(b=0,E=0,R=1,H=1){this.cache_=[],this.comps_=[b,E,R,H]}get x1(){return this.comps_[0]}get y1(){return this.comps_[1]}get x2(){return this.comps_[2]}get y2(){return this.comps_[3]}static isObject(b){return o(b)||!Array.isArray(b)?!1:typeof b[0]=="number"&&typeof b[1]=="number"&&typeof b[2]=="number"&&typeof b[3]=="number"}static equals(b,E){return b.x1===E.x1&&b.y1===E.y1&&b.x2===E.x2&&b.y2===E.y2}curve(b){const E=wi(0,this.x1,b),R=wi(0,this.y1,b),H=wi(this.x1,this.x2,b),ne=wi(this.y1,this.y2,b),ce=wi(this.x2,1,b),ke=wi(this.y2,1,b),Nt=wi(E,H,b),vn=wi(R,ne,b),Ls=wi(H,ce,b),zu=wi(ne,ke,b);return[wi(Nt,Ls,b),wi(vn,zu,b)]}y(b){if(this.cache_.length===0){const E=[];for(let R=0;R<Iu;R++)E.push(Sg(this,Ot(R,0,Iu-1,0,1)));this.cache_=E}return this.cache_[Math.round(Ot(Ms(b,0,1),0,1,0,Iu-1))]}toObject(){return[this.comps_[0],this.comps_[1],this.comps_[2],this.comps_[3]]}}const Pd={toComponents:M=>M.toObject(),fromComponents:M=>new Zs(...M)};function Cg(M){const b=Qs(2);return`cubic-bezier(${M.toObject().map(R=>b(R)).join(", ")})`}const Ad=[0,.5,.5,1];function Eg(M){const b=M.match(/^cubic-bezier\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/);if(!b)return new Zs(...Ad);const E=[b[1],b[2],b[3],b[4]].reduce((R,H)=>{if(!R)return null;const ne=Number(H);return isNaN(ne)?null:[...R,ne]},[]);return new Zs(...E!=null?E:Ad)}const Mr=d("cbz");class Tg{constructor(b,E){this.element=b.createElement("div"),this.element.classList.add(Mr()),E.viewProps.bindClassModifiers(this.element),E.foldable.bindExpandedClass(this.element,Mr(void 0,"expanded")),m(E.foldable,"completed",y(this.element,Mr(void 0,"cpl")));const R=b.createElement("div");R.classList.add(Mr("h")),this.element.appendChild(R);const H=b.createElement("button");H.classList.add(Mr("b")),E.viewProps.bindDisabled(H);const ne=b.createElementNS(Se,"svg");ne.innerHTML='<path d="M2 13C8 13 8 3 14 3"/>',H.appendChild(ne),R.appendChild(H),this.buttonElement=H;const ce=b.createElement("div");if(ce.classList.add(Mr("t")),R.appendChild(ce),this.textElement=ce,E.pickerLayout==="inline"){const ke=b.createElement("div");ke.classList.add(Mr("p")),this.element.appendChild(ke),this.pickerElement=ke}else this.pickerElement=null}}const Ou=d("cbzp");class kg{constructor(b,E){this.element=b.createElement("div"),this.element.classList.add(Ou()),E.viewProps.bindClassModifiers(this.element);const R=b.createElement("div");R.classList.add(Ou("g")),this.element.appendChild(R),this.graphElement=R;const H=b.createElement("div");H.classList.add(Ou("t")),this.element.appendChild(H),this.textElement=H}}function Md(M,b){const E=new MutationObserver(H=>{for(const ne of H)ne.type==="childList"&&ne.addedNodes.forEach(ce=>{!ce.contains(ce)||(b(),E.disconnect())})}),R=M.ownerDocument;E.observe(R.body,{attributes:!0,childList:!0,subtree:!0})}const Rs=d("cbzg");function Pg(M,b){return E=>b(M(E))}class Ag{constructor(b,E){this.element=b.createElement("div"),this.element.classList.add(Rs()),E.viewProps.bindClassModifiers(this.element),E.viewProps.bindTabIndex(this.element);const R=b.createElement("div");R.classList.add(Rs("p")),this.element.appendChild(R),this.previewElement=R;const H=b.createElementNS(Se,"svg");H.classList.add(Rs("g")),this.element.appendChild(H),this.svgElem_=H;const ne=b.createElementNS(Se,"path");ne.classList.add(Rs("u")),this.svgElem_.appendChild(ne),this.guideElem_=ne;const ce=b.createElementNS(Se,"polyline");ce.classList.add(Rs("l")),this.svgElem_.appendChild(ce),this.lineElem_=ce,this.handleElems_=[b.createElement("div"),b.createElement("div")],this.handleElems_.forEach(ke=>{ke.classList.add(Rs("h")),this.element.appendChild(ke)}),this.vectorElems_=[b.createElementNS(Se,"line"),b.createElementNS(Se,"line")],this.vectorElems_.forEach(ke=>{ke.classList.add(Rs("v")),this.svgElem_.appendChild(ke)}),this.value_=E.value,this.value_.emitter.on("change",this.onValueChange_.bind(this)),this.sel_=E.selection,this.handleElems_.forEach((ke,Nt)=>{S(this.sel_,Pg(vn=>vn===Nt,y(ke,Rs("h","sel"))))}),Md(this.element,()=>{this.refresh()})}getVertMargin_(b){return b*.25}valueToPosition(b,E){const R=this.element.getBoundingClientRect(),H=R.width,ne=R.height,ce=this.getVertMargin_(ne);return{x:Ot(b,0,1,0,H),y:Ot(E,0,1,ne-ce,ce)}}positionToValue(b,E){const R=this.element.getBoundingClientRect(),H=R.width,ne=R.height,ce=this.getVertMargin_(ne);return{x:Ms(Ot(b,0,H,0,1),0,1),y:Ot(E,ne-ce,ce,0,1)}}refresh(){this.guideElem_.setAttributeNS(null,"d",[0,1].map(ne=>{const ce=this.valueToPosition(0,ne),ke=this.valueToPosition(1,ne);return[`M ${ce.x},${ce.y}`,`L ${ke.x},${ke.y}`].join(" ")}).join(" "));const b=this.value_.rawValue,E=[];let R=0;for(;;){const ne=this.valueToPosition(...b.curve(R));if(E.push([ne.x,ne.y].join(",")),R>=1)break;R=Math.min(R+.05,1)}this.lineElem_.setAttributeNS(null,"points",E.join(" "));const H=b.toObject();[0,1].forEach(ne=>{const ce=this.valueToPosition(ne,ne),ke=this.valueToPosition(H[ne*2],H[ne*2+1]),Nt=this.vectorElems_[ne];Nt.setAttributeNS(null,"x1",String(ce.x)),Nt.setAttributeNS(null,"y1",String(ce.y)),Nt.setAttributeNS(null,"x2",String(ke.x)),Nt.setAttributeNS(null,"y2",String(ke.y));const vn=this.handleElems_[ne];vn.style.left=`${ke.x}px`,vn.style.top=`${ke.y}px`})}onValueChange_(){this.refresh()}}const Rd=24,Nu=400,Id=1e3,Jn=d("cbzprv");class Od{constructor(b,E){this.stopped_=!0,this.startTime_=-1,this.onDispose_=this.onDispose_.bind(this),this.onTimer_=this.onTimer_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.element=b.createElement("div"),this.element.classList.add(Jn()),E.viewProps.bindClassModifiers(this.element);const R=b.createElementNS(Se,"svg");R.classList.add(Jn("g")),this.element.appendChild(R),this.svgElem_=R;const H=b.createElementNS(Se,"path");H.classList.add(Jn("t")),this.svgElem_.appendChild(H),this.ticksElem_=H;const ne=b.createElement("div");ne.classList.add(Jn("m")),this.element.appendChild(ne),this.markerElem_=ne,this.value_=E.value,this.value_.emitter.on("change",this.onValueChange_),E.viewProps.handleDispose(this.onDispose_),Md(this.element,()=>{this.refresh()})}play(){this.stop(),this.updateMarker_(0),this.markerElem_.classList.add(Jn("m","a")),this.startTime_=new Date().getTime()+Nu,this.stopped_=!1,requestAnimationFrame(this.onTimer_)}stop(){this.stopped_=!0,this.markerElem_.classList.remove(Jn("m","a"))}onDispose_(){this.stop()}updateMarker_(b){const E=this.value_.rawValue.y(Ms(b,0,1));this.markerElem_.style.left=`${E*100}%`}refresh(){const b=this.svgElem_.getBoundingClientRect(),E=b.width,R=b.height,H=[],ne=this.value_.rawValue;for(let ce=0;ce<Rd;ce++){const ke=Ot(ce,0,Rd-1,0,1),Nt=Ot(ne.y(ke),0,1,0,E);H.push(`M ${Nt},0 v${R}`)}this.ticksElem_.setAttributeNS(null,"d",H.join(" "))}onTimer_(){if(this.startTime_===null)return;const b=new Date().getTime()-this.startTime_,E=b/Id;this.updateMarker_(E),b>Id+Nu&&this.stop(),this.stopped_||requestAnimationFrame(this.onTimer_)}onValueChange_(){this.refresh(),this.play()}}function Lu(M,b,E,R){const H=E-M,ne=R-b;return Math.sqrt(H*H+ne*ne)}function Zn(M,b,E,R){const H=Lu(M,b,E,R),ne=Math.atan2(R-b,E-M),ce=Math.round(ne/(Math.PI/4))*Math.PI/4;return{x:M+Math.cos(ce)*H,y:b+Math.sin(ce)*H}}class Mg{constructor(b,E){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=E.baseStep,this.value=E.value,this.sel_=I(0),this.viewProps=E.viewProps,this.view=new Ag(b,{selection:this.sel_,value:this.value,viewProps:this.viewProps}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_),this.prevView_=new Od(b,{value:this.value,viewProps:this.viewProps}),this.prevView_.element.addEventListener("mousedown",H=>{H.stopImmediatePropagation(),H.preventDefault(),this.prevView_.play()}),this.view.previewElement.appendChild(this.prevView_.element);const R=new Dl(this.view.element);R.emitter.on("down",this.onPointerDown_),R.emitter.on("move",this.onPointerMove_),R.emitter.on("up",this.onPointerUp_)}refresh(){this.view.refresh(),this.prevView_.refresh(),this.prevView_.play()}updateValue_(b,E,R){const H=this.sel_.rawValue,ne=this.value.rawValue.toObject(),ce=this.view.positionToValue(b.x,b.y),ke=E?Zn(H,H,ce.x,ce.y):ce;ne[H*2]=ke.x,ne[H*2+1]=ke.y,this.value.setRawValue(new Zs(...ne),R)}onPointerDown_(b){const E=b.data;if(!E.point)return;const R=this.value.rawValue,H=this.view.valueToPosition(R.x1,R.y1),ne=Lu(E.point.x,E.point.y,H.x,H.y),ce=this.view.valueToPosition(R.x2,R.y2),ke=Lu(E.point.x,E.point.y,ce.x,ce.y);this.sel_.rawValue=ne<=ke?0:1,this.updateValue_(E.point,b.shiftKey,{forceEmit:!1,last:!1})}onPointerMove_(b){const E=b.data;!E.point||this.updateValue_(E.point,b.shiftKey,{forceEmit:!1,last:!1})}onPointerUp_(b){const E=b.data;!E.point||this.updateValue_(E.point,b.shiftKey,{forceEmit:!0,last:!0})}onKeyDown_(b){_d(b.key)&&b.preventDefault();const E=this.sel_.rawValue,R=this.value.rawValue.toObject();R[E*2]+=As(this.baseStep_,ku(b)),R[E*2+1]+=As(this.baseStep_,Fl(b)),this.value.setRawValue(new Zs(...R),{forceEmit:!1,last:!1})}onKeyUp_(b){_d(b.key)&&b.preventDefault();const E=As(this.baseStep_,ku(b)),R=As(this.baseStep_,Fl(b));E===0&&R===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Ul{constructor(b,E){this.value=E.value,this.viewProps=E.viewProps,this.view=new kg(b,{viewProps:this.viewProps}),this.gc_=new Mg(b,{baseStep:E.axis.baseStep,value:this.value,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.gc_.view.element);const R=Object.assign(Object.assign({},E.axis),{constraint:new _e({max:1,min:0})}),H=Object.assign(Object.assign({},E.axis),{constraint:void 0});this.tc_=new jl(b,{assembly:Pd,axes:[R,H,R,H],parser:xo,value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element)}get allFocusableElements(){return[this.gc_.view.element,...this.tc_.view.textViews.map(b=>b.inputElement)]}refresh(){this.gc_.refresh()}}class Fu{constructor(b,E){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=E.value,this.viewProps=E.viewProps,this.foldable_=Z(E.expanded),this.view=new Tg(b,{foldable:this.foldable_,pickerLayout:E.pickerLayout,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.tc_=new Ts(b,{parser:Eg,props:j.fromObject({formatter:Cg}),value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element),this.popC_=E.pickerLayout==="popup"?new Ct(b,{viewProps:this.viewProps}):null;const R=new Ul(b,{axis:E.axis,value:this.value,viewProps:this.viewProps});R.allFocusableElements.forEach(H=>{H.addEventListener("blur",this.onPopupChildBlur_),H.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=R,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),S(this.popC_.shows,H=>{H&&R.refresh()}),Tu({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:H=>H.rawValue,backward:(H,ne)=>ne.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),te(this.foldable_,this.view.pickerElement))}onButtonBlur_(b){if(!this.popC_)return;const E=b.relatedTarget;(!E||!this.popC_.view.element.contains(E))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.allFocusableElements[0].focus()}onPopupChildBlur_(b){if(!this.popC_)return;const E=this.popC_.view.element,R=Te(b);R&&E.contains(R)||R&&R===this.view.buttonElement&&!be(E.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(b){!this.popC_||b.key==="Escape"&&(this.popC_.shows.rawValue=!1)}}function Du(){return new Sd({assembly:Pd,components:[0,1,2,3].map(M=>M%2===0?new _e({min:0,max:1}):void 0)})}const Nd={id:"cubic-bezier",type:"blade",css:".tp-cbzv_b,.tp-rslv_k,.tp-radv_b,.tp-cbzgv{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-cbzv_b,.tp-rslv_k,.tp-radv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-cbzv_b:hover,.tp-rslv_k:hover,.tp-radv_b:hover{background-color:var(--btn-bg-h)}.tp-cbzv_b:focus,.tp-rslv_k:focus,.tp-radv_b:focus{background-color:var(--btn-bg-f)}.tp-cbzv_b:active,.tp-rslv_k:active,.tp-radv_b:active{background-color:var(--btn-bg-a)}.tp-cbzv_b:disabled,.tp-rslv_k:disabled,.tp-radv_b:disabled{opacity:0.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:0.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:0.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:0.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:0.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us) * 5);width:100%}.tp-cbzgv_u{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:transparent;stroke:var(--in-fg)}.tp-cbzgv_v{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:0.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity 0.2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:0.2em;opacity:0.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:0.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px) / -2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:0.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:0.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:0.5}.tp-radgridv .tp-radv_b{border-radius:0}",accept(M){const b=X,E=ae(M,{value:b.required.array(b.required.number),view:b.required.constant("cubicbezier"),expanded:b.optional.boolean,label:b.optional.string,picker:b.optional.custom(R=>R==="inline"||R==="popup"?R:void 0)});return E?{params:E}:null},controller(M){var b,E;const R=new Zs(...M.params.value),H=I(R,{constraint:Du(),equals:Zs.equals}),ne=new Fu(M.document,{axis:{baseStep:.1,textProps:j.fromObject({draggingScale:.01,formatter:Qs(2)})},expanded:(b=M.params.expanded)!==null&&b!==void 0?b:!1,pickerLayout:(E=M.params.picker)!==null&&E!==void 0?E:"popup",value:H,viewProps:M.viewProps});return new re(M.document,{blade:M.blade,props:j.fromObject({label:M.params.label}),valueController:ne})},api(M){return!(M.controller instanceof re)||!(M.controller.valueController instanceof Fu)?null:new kd(M.controller)}};class Rg extends i{begin(){this.controller_.valueController.begin()}end(){this.controller_.valueController.end()}}const Ld=20;class Ig{constructor(){this.start_=null,this.duration_=0,this.fps_=null,this.frameCount_=0,this.timestamps_=[]}get duration(){return this.duration_}get fps(){return this.fps_}begin(b){this.start_=b.getTime()}calculateFps_(b){if(this.timestamps_.length===0)return null;const E=this.timestamps_[0];return 1e3*(this.frameCount_-E.frameCount)/(b-E.time)}compactTimestamps_(){if(this.timestamps_.length<=Ld)return;const b=this.timestamps_.length-Ld;this.timestamps_.splice(0,b);const E=this.timestamps_[0].frameCount;this.timestamps_.forEach(R=>{R.frameCount-=E}),this.frameCount_-=E}end(b){if(this.start_===null)return;const E=b.getTime();this.duration_=E-this.start_,this.start_=null,this.fps_=this.calculateFps_(E),this.timestamps_.push({frameCount:this.frameCount_,time:E}),++this.frameCount_,this.compactTimestamps_()}}const Is=d("fps");class ei{constructor(b,E){this.element=b.createElement("div"),this.element.classList.add(Is()),E.viewProps.bindClassModifiers(this.element),this.graphElement=b.createElement("div"),this.graphElement.classList.add(Is("g")),this.element.appendChild(this.graphElement);const R=b.createElement("div");R.classList.add(Is("l")),this.element.appendChild(R);const H=b.createElement("span");H.classList.add(Is("v")),H.textContent="--",R.appendChild(H),this.valueElement=H;const ne=b.createElement("span");ne.classList.add(Is("u")),ne.textContent="FPS",R.appendChild(ne)}}class fa{constructor(b,E){this.stopwatch_=new Ig,this.onTick_=this.onTick_.bind(this),this.ticker_=E.ticker,this.ticker_.emitter.on("tick",this.onTick_),this.value_=E.value,this.viewProps=E.viewProps,this.view=new ei(b,{viewProps:this.viewProps}),this.graphC_=new Mu(b,{formatter:Qs(0),lineCount:E.lineCount,maxValue:E.maxValue,minValue:E.minValue,value:this.value_,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.graphC_.view.element),this.viewProps.handleDispose(()=>{this.graphC_.viewProps.set("disposed",!0),this.ticker_.dispose()})}begin(){this.stopwatch_.begin(new Date)}end(){this.stopwatch_.end(new Date)}onTick_(){const b=this.stopwatch_.fps;if(b!==null){const E=this.value_.rawValue;this.value_.rawValue=gd(E,b),this.view.valueElement.textContent=b.toFixed(0)}}}function Os(M,b){return b===0?new se:new de(M,b!=null?b:gg.monitor.defaultInterval)}const Og={id:"fpsgraph",type:"blade",accept(M){const b=X,E=ae(M,{view:b.required.constant("fpsgraph"),interval:b.optional.number,label:b.optional.string,lineCount:b.optional.number,max:b.optional.number,min:b.optional.number});return E?{params:E}:null},controller(M){var b,E,R,H;const ne=(b=M.params.interval)!==null&&b!==void 0?b:500;return new K(M.document,{blade:M.blade,props:j.fromObject({label:M.params.label}),valueController:new fa(M.document,{lineCount:(E=M.params.lineCount)!==null&&E!==void 0?E:2,maxValue:(R=M.params.max)!==null&&R!==void 0?R:90,minValue:(H=M.params.min)!==null&&H!==void 0?H:0,ticker:Os(M.document,ne),value:dg(80),viewProps:M.viewProps})})},api(M){return!(M.controller instanceof K)||!(M.controller.valueController instanceof fa)?null:new Rg(M.controller)}};class hi{constructor(b,E){this.min=b,this.max=E}static isObject(b){if(typeof b!="object"||b===null)return!1;const E=b.min,R=b.max;return!(typeof E!="number"||typeof R!="number")}static equals(b,E){return b.min===E.min&&b.max===E.max}get length(){return this.max-this.min}toObject(){return{min:this.min,max:this.max}}}const Vl={fromComponents:M=>new hi(M[0],M[1]),toComponents:M=>[M.min,M.max]};class er{constructor(b){this.edge=b}constrain(b){var E,R,H,ne,ce,ke,Nt,vn;if(b.min<=b.max)return new hi((R=(E=this.edge)===null||E===void 0?void 0:E.constrain(b.min))!==null&&R!==void 0?R:b.min,(ne=(H=this.edge)===null||H===void 0?void 0:H.constrain(b.max))!==null&&ne!==void 0?ne:b.max);const Ls=(b.min+b.max)/2;return new hi((ke=(ce=this.edge)===null||ce===void 0?void 0:ce.constrain(Ls))!==null&&ke!==void 0?ke:Ls,(vn=(Nt=this.edge)===null||Nt===void 0?void 0:Nt.constrain(Ls))!==null&&vn!==void 0?vn:Ls)}}const Pt=d("rsltxt");class Fd{constructor(b,E){this.sliderView_=E.sliderView,this.textView_=E.textView,this.element=b.createElement("div"),this.element.classList.add(Pt());const R=b.createElement("div");R.classList.add(Pt("s")),R.appendChild(this.sliderView_.element),this.element.appendChild(R);const H=b.createElement("div");H.classList.add(Pt("t")),H.appendChild(this.textView_.element),this.element.appendChild(H)}}const mt=d("rsl");class Bu{constructor(b,E){this.maxValue_=E.maxValue,this.minValue_=E.minValue,this.element=b.createElement("div"),this.element.classList.add(mt()),E.viewProps.bindClassModifiers(this.element),this.value_=E.value,this.value_.emitter.on("change",this.onValueChange_.bind(this));const R=b.createElement("div");R.classList.add(mt("t")),this.element.appendChild(R),this.trackElement=R;const H=b.createElement("div");H.classList.add(mt("b")),R.appendChild(H),this.barElement=H;const ne=["min","max"].map(ce=>{const ke=b.createElement("div");return ke.classList.add(mt("k"),mt("k",ce)),R.appendChild(ke),ke});this.knobElements=[ne[0],ne[1]],this.update()}valueToX_(b){return Ms(Ot(b,this.minValue_,this.maxValue_,0,1),0,1)*100}update(){const b=this.value_.rawValue;b.length===0?this.element.classList.add(mt(void 0,"zero")):this.element.classList.remove(mt(void 0,"zero"));const E=[this.valueToX_(b.min),this.valueToX_(b.max)];this.barElement.style.left=`${E[0]}%`,this.barElement.style.right=`${100-E[1]}%`,this.knobElements.forEach((R,H)=>{R.style.left=`${E[H]}%`})}onValueChange_(){this.update()}}class Si{constructor(b,E){this.grabbing_=null,this.grabOffset_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.maxValue_=E.maxValue,this.minValue_=E.minValue,this.viewProps=E.viewProps,this.value=E.value,this.view=new Bu(b,{maxValue:E.maxValue,minValue:E.minValue,value:this.value,viewProps:E.viewProps});const R=new Dl(this.view.trackElement);R.emitter.on("down",this.onPointerDown_),R.emitter.on("move",this.onPointerMove_),R.emitter.on("up",this.onPointerUp_)}ofs_(){return this.grabbing_==="min"?this.view.knobElements[0].getBoundingClientRect().width/2:this.grabbing_==="max"?-this.view.knobElements[1].getBoundingClientRect().width/2:0}valueFromData_(b){if(!b.point)return null;const E=(b.point.x+this.ofs_())/b.bounds.width;return Ot(E,0,1,this.minValue_,this.maxValue_)}onPointerDown_(b){if(!b.data.point)return;const E=b.data.point.x/b.data.bounds.width,R=this.value.rawValue,H=Ot(R.min,this.minValue_,this.maxValue_,0,1),ne=Ot(R.max,this.minValue_,this.maxValue_,0,1);Math.abs(ne-E)<=.025?this.grabbing_="max":Math.abs(H-E)<=.025?this.grabbing_="min":E>=H&&E<=ne?(this.grabbing_="length",this.grabOffset_=Ot(E-H,0,1,0,this.maxValue_-this.minValue_)):E<H?(this.grabbing_="min",this.onPointerMove_(b)):E>ne&&(this.grabbing_="max",this.onPointerMove_(b))}applyPointToValue_(b,E){const R=this.valueFromData_(b);if(R!==null){if(this.grabbing_==="min")this.value.setRawValue(new hi(R,this.value.rawValue.max),E);else if(this.grabbing_==="max")this.value.setRawValue(new hi(this.value.rawValue.min,R),E);else if(this.grabbing_==="length"){const H=this.value.rawValue.length;let ne=R-this.grabOffset_,ce=ne+H;ne<this.minValue_?(ne=this.minValue_,ce=this.minValue_+H):ce>this.maxValue_&&(ne=this.maxValue_-H,ce=this.maxValue_),this.value.setRawValue(new hi(ne,ce),E)}}}onPointerMove_(b){this.applyPointToValue_(b.data,{forceEmit:!1,last:!1})}onPointerUp_(b){this.applyPointToValue_(b.data,{forceEmit:!0,last:!0}),this.grabbing_=null}}class Ng{constructor(b,E){this.value=E.value,this.viewProps=E.viewProps,this.sc_=new Si(b,E);const R={baseStep:E.baseStep,constraint:E.constraint,textProps:j.fromObject({draggingScale:E.draggingScale,formatter:E.formatter})};this.tc_=new jl(b,{assembly:Vl,axes:[R,R],parser:E.parser,value:this.value,viewProps:E.viewProps}),this.view=new Fd(b,{sliderView:this.sc_.view,textView:this.tc_.view})}get textController(){return this.tc_}}function Co(M){return hi.isObject(M)?new hi(M.min,M.max):new hi(0,0)}function ju(M,b){M.writeProperty("max",b.max),M.writeProperty("min",b.min)}function Lg(M){const b=[],E=vg(M);E&&b.push(E);const R=Ed(M);return R&&b.push(R),new er(new he(b))}const Fg={id:"input-interval",type:"input",css:".tp-cbzv_b,.tp-rslv_k,.tp-radv_b,.tp-cbzgv{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-cbzv_b,.tp-rslv_k,.tp-radv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-cbzv_b:hover,.tp-rslv_k:hover,.tp-radv_b:hover{background-color:var(--btn-bg-h)}.tp-cbzv_b:focus,.tp-rslv_k:focus,.tp-radv_b:focus{background-color:var(--btn-bg-f)}.tp-cbzv_b:active,.tp-rslv_k:active,.tp-radv_b:active{background-color:var(--btn-bg-a)}.tp-cbzv_b:disabled,.tp-rslv_k:disabled,.tp-radv_b:disabled{opacity:0.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:0.5}.tp-btngridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:0.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:0.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--bld-us)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--bld-s);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-cbzpv_t{margin-top:var(--bld-s)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:0.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--bld-us) * 5);width:100%}.tp-cbzgv_u{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:transparent;stroke:var(--in-fg)}.tp-cbzgv_v{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:0.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity 0.2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:0.2em;opacity:0.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:0.5}.tp-rslv_t{height:calc(var(--bld-us));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:'';height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--bld-us) - 8px);margin-top:calc((var(--bld-us) - 8px) / -2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:0.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:0.5}.tp-radgridv{border-radius:var(--elm-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:0.5}.tp-radgridv .tp-radv_b{border-radius:0}",accept:(M,b)=>{if(!hi.isObject(M))return null;const E=X,R=ae(b,{format:E.optional.function,max:E.optional.number,min:E.optional.number,step:E.optional.number});return R?{initialValue:new hi(M.min,M.max),params:R}:null},binding:{reader:M=>Co,constraint:M=>Lg(M.params),equals:hi.equals,writer:M=>ju},controller(M){var b;const E=M.value,R=M.constraint;if(!(R instanceof er))throw c.shouldNeverHappen();const H=(E.rawValue.min+E.rawValue.max)/2,ne=(b=M.params.format)!==null&&b!==void 0?b:Qs(xd(R.edge,H)),ce=R.edge&&ge(R.edge,_e);if((ce==null?void 0:ce.minValue)!==void 0&&(ce==null?void 0:ce.maxValue)!==void 0)return new Ng(M.document,{baseStep:yd(R.edge),constraint:R.edge,draggingScale:wd(ce,H),formatter:ne,maxValue:ce.maxValue,minValue:ce.minValue,parser:xo,value:E,viewProps:M.viewProps});const ke={baseStep:yd(R.edge),constraint:R.edge,textProps:j.fromObject({draggingScale:H,formatter:ne})};return new jl(M.document,{assembly:Vl,axes:[ke,ke],parser:xo,value:E,viewProps:M.viewProps})}};class Uu{constructor(b){this.controller_=b}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(b){this.controller_.viewProps.set("disabled",b)}get title(){var b;return(b=this.controller_.props.get("title"))!==null&&b!==void 0?b:""}set title(b){this.controller_.props.set("title",b)}}class Dg extends r{constructor(b,E,R,H,ne){super(b,H,ne);this.cell=E,this.index=R}}class Vu extends i{constructor(b){super(b);this.cellToApiMap_=new Map,this.controller_.valueController.cellControllers.forEach(R=>{const H=new Uu(R);this.cellToApiMap_.set(R,H)})}get value(){return this.controller_.value}cell(b,E){const R=this.controller_.valueController,H=R.cellControllers[E*R.size[0]+b];return this.cellToApiMap_.get(H)}on(b,E){const R=E.bind(this);this.controller_.value.emitter.on(b,H=>{const ne=this.controller_.valueController,ce=ne.findCellByValue(H.rawValue);if(!ce)return;const ke=this.cellToApiMap_.get(ce);if(!ke)return;const Nt=ne.cellControllers.indexOf(ce);R(new Dg(this,ke,[Nt%ne.size[0],Math.floor(Nt/ne.size[0])],H.rawValue,void 0))})}}const Ns=d("rad");class $l{constructor(b,E){this.element=b.createElement("div"),this.element.classList.add(Ns()),E.viewProps.bindClassModifiers(this.element);const R=b.createElement("label");R.classList.add(Ns("l")),this.element.appendChild(R);const H=b.createElement("input");H.classList.add(Ns("i")),H.name=E.name,H.type="radio",E.viewProps.bindDisabled(H),R.appendChild(H),this.inputElement=H;const ne=b.createElement("div");ne.classList.add(Ns("b")),R.appendChild(ne);const ce=b.createElement("div");ce.classList.add(Ns("t")),ne.appendChild(ce),m(E.props,"title",ke=>{ce.textContent=ke})}}class Dd{constructor(b,E){this.props=E.props,this.viewProps=E.viewProps,this.view=new $l(b,{name:E.name,props:this.props,viewProps:this.viewProps})}}class us{constructor(b,E){this.cellCs_=[],this.cellValues_=[],this.onCellInputChange_=this.onCellInputChange_.bind(this),this.size=E.size;const[R,H]=this.size;for(let ne=0;ne<H;ne++)for(let ce=0;ce<R;ce++){const ke=new Dd(b,{name:E.groupName,props:j.fromObject(Object.assign({},E.cellConfig(ce,ne))),viewProps:oe.create()});this.cellCs_.push(ke),this.cellValues_.push(E.cellConfig(ce,ne).value)}this.value=E.value,S(this.value,ne=>{const ce=this.findCellByValue(ne);!ce||(ce.view.inputElement.checked=!0)}),this.viewProps=oe.create(),this.view=new ee(b,{viewProps:this.viewProps,viewName:"radgrid"}),this.view.element.style.gridTemplateColumns=`repeat(${R}, 1fr)`,this.cellCs_.forEach(ne=>{ne.view.inputElement.addEventListener("change",this.onCellInputChange_),this.view.element.appendChild(ne.view.element)})}get cellControllers(){return this.cellCs_}findCellByValue(b){const E=this.cellValues_.findIndex(R=>R===b);return E<0?null:this.cellCs_[E]}onCellInputChange_(b){const E=b.currentTarget,R=this.cellCs_.findIndex(H=>H.view.inputElement===E);R<0||(this.value.rawValue=this.cellValues_[R])}}const Bd=function(){return{id:"radiogrid",type:"blade",accept(M){const b=X,E=ae(M,{cells:b.required.function,groupName:b.required.string,size:b.required.array(b.required.number),value:b.required.raw,view:b.required.constant("radiogrid"),label:b.optional.string});return E?{params:E}:null},controller(M){return new re(M.document,{blade:M.blade,props:j.fromObject({label:M.params.label}),valueController:new us(M.document,{groupName:M.params.groupName,cellConfig:M.params.cells,size:M.params.size,value:I(M.params.value)})})},api(M){return!(M.controller instanceof re)||!(M.controller.valueController instanceof us)?null:new Vu(M.controller)}}}(),$u=[Ru,Nd,Og,Fg,Bd,{id:"input-radiogrid",type:"input",accept(M,b){if(typeof M!="number")return null;const E=X,R=ae(b,{cells:E.required.function,groupName:E.required.string,size:E.required.array(E.required.number),view:E.required.constant("radiogrid")});return R?{initialValue:M,params:R}:null},binding:{reader:M=>Xs,writer:M=>fg},controller:M=>new us(M.document,{cellConfig:M.params.cells,groupName:M.params.groupName,size:M.params.size,value:M.value})}];n.CubicBezier=Zs,n.plugins=$u,Object.defineProperty(n,"__esModule",{value:!0})})})(fm,fm.exports);var W9=PA(fm.exports),G9=Gk({__proto__:null,default:W9},[fm.exports]),mm={exports:{}};(function(t,e){(function(n,i){i(e)})(Bn,function(n){function i(P){return P}const s="tp";function r(P){return(I,j)=>[s,"-",P,"v",I?`_${I}`:"",j?`-${j}`:""].join("")}function a(P,N){const j=Object.keys(N).reduce((V,D)=>{if(V===void 0)return;const O=N[D](P[D]);return O.succeeded?Object.assign(Object.assign({},V),{[D]:O.value}):void 0},{});return j}function o(P,N){return P.reduce((I,j)=>{if(I===void 0)return;const V=N(j);if(!(!V.succeeded||V.value===void 0))return[...I,V.value]},[])}function l(P){return P===null?!1:typeof P=="object"}function c(P){return N=>I=>{if(!N&&I===void 0)return{succeeded:!1,value:void 0};if(N&&I===void 0)return{succeeded:!0,value:void 0};const j=P(I);return j!==void 0?{succeeded:!0,value:j}:{succeeded:!1,value:void 0}}}function h(P){return{custom:N=>c(N)(P),boolean:c(N=>typeof N=="boolean"?N:void 0)(P),number:c(N=>typeof N=="number"?N:void 0)(P),string:c(N=>typeof N=="string"?N:void 0)(P),function:c(N=>typeof N=="function"?N:void 0)(P),constant:N=>c(I=>I===N?N:void 0)(P),raw:c(N=>N)(P),object:N=>c(I=>{if(!!l(I))return a(I,N)})(P),array:N=>c(I=>{if(!!Array.isArray(I))return o(I,N)})(P)}}const p={optional:h(!0),required:h(!1)};function d(P,N){const I=p.required.object(N)(P);return I.succeeded?I.value:void 0}function g(P,N,I,j){function V(D){return D instanceof I?D:new I(function(G){G(D)})}return new(I||(I=Promise))(function(D,G){function O(ae){try{X(j.next(ae))}catch(me){G(me)}}function J(ae){try{X(j.throw(ae))}catch(me){G(me)}}function X(ae){ae.done?D(ae.value):V(ae.value).then(O,J)}X((j=j.apply(P,N||[])).next())})}function x(){const P=document.createElement("canvas");P.width=128,P.height=64;const N=P.getContext("2d");return N.fillStyle="#222",N.fillRect(0,0,P.width,P.height),N.fillStyle="#ddd",N.font="monospaced",N.textAlign="center",N.textBaseline="middle",N.fillText("No image",P.width*.5,P.height*.5),new Promise(I=>{P.toBlob(j=>{const V=new Image;V.src=URL.createObjectURL(j),V.onload=()=>{I(V)}})})}function S(P){return g(this,void 0,void 0,function*(){const N=new Image;return N.crossOrigin="anonymous",new Promise(I=>{N.src=P,N.onload=()=>{I(N)}})})}function m(P){const N=document.createElement("canvas");N.width=P.width,N.height=P.height,N.getContext("2d").drawImage(P,0,0);const j=new Image;return new Promise(V=>{N.toBlob(D=>{j.src=URL.createObjectURL(D),j.onload=()=>{V(j)}})})}const _=r("img");class y{constructor(N,I){this.element=N.createElement("div"),this.element.classList.add(_()),I.viewProps.bindClassModifiers(this.element),this.input=N.createElement("input"),this.input.classList.add(_("input")),this.input.setAttribute("type","file"),this.input.setAttribute("accept",I.extensions.join(",")),this.element.appendChild(this.input),this.image_=N.createElement("img"),this.image_.classList.add(_("image")),this.image_.classList.add(_(`image_${I.imageFit}`)),this.element.classList.add(_("area_root")),this.element.appendChild(this.image_)}changeImage(N){this.image_.src=N}changeDraggingState(N){const I=this.element;N?I==null||I.classList.add(_("area_dragging")):I==null||I.classList.remove(_("area_dragging"))}}class T{constructor(N,I){this.placeholderImage=null,this.value=I.value,this.viewProps=I.viewProps,this.view=new y(N,{viewProps:this.viewProps,extensions:I.extensions,imageFit:I.imageFit}),this.onFile=this.onFile.bind(this),this.onDrop=this.onDrop.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.view.input.addEventListener("change",this.onFile),this.view.element.addEventListener("drop",this.onDrop),this.view.element.addEventListener("dragover",this.onDragOver),this.view.element.addEventListener("dragleave",this.onDragLeave),this.viewProps.handleDispose(()=>{this.view.input.removeEventListener("change",this.onFile),this.view.input.removeEventListener("drop",this.onDrop),this.view.input.removeEventListener("dragover",this.onDragOver),this.view.input.removeEventListener("dragleave",this.onDragLeave)}),this.value.emitter.on("change",this.handleValueChange.bind(this)),this.handleValueChange()}onFile(N){const I=(N==null?void 0:N.target).files;if(!I||!I.length)return;const j=I[0],V=URL.createObjectURL(j);this.setValue(V),this.updateImage(V)}onDrop(N){return g(this,void 0,void 0,function*(){N.preventDefault();try{const{dataTransfer:I}=N,j=I==null?void 0:I.files[0];if(j){const V=URL.createObjectURL(j);this.updateImage(V),this.setValue(V)}else{const V=I==null?void 0:I.getData("url");if(!V)throw new Error("No url");S(V).then(D=>g(this,void 0,void 0,function*(){const G=yield m(D);this.updateImage(G.src),this.setValue(G)}))}}catch(I){console.error("Could not parse the dropped image",I)}finally{this.view.changeDraggingState(!1)}})}onDragOver(N){N.preventDefault(),this.view.changeDraggingState(!0)}onDragLeave(){this.view.changeDraggingState(!1)}handleImage(N){return g(this,void 0,void 0,function*(){if(N instanceof HTMLImageElement)m(N).then(I=>{this.updateImage(I.src)});else if(typeof N=="string"){let I="";try{if(N==="placeholder")throw new Error("placeholder");new URL(N),I=(yield S(N)).src}catch{I=(yield this.handlePlaceholderImage()).src}finally{this.updateImage(I),this.setValue(I)}}})}updateImage(N){this.view.changeImage(N)}setValue(N){return g(this,void 0,void 0,function*(){N instanceof HTMLImageElement?this.value.setRawValue(N):N?this.value.setRawValue(yield S(N)):this.value.setRawValue(yield this.handlePlaceholderImage())})}handleValueChange(){this.handleImage(this.value.rawValue)}handlePlaceholderImage(){return g(this,void 0,void 0,function*(){return this.placeholderImage||(this.placeholderImage=yield x()),this.placeholderImage})}}const C=[".jpg",".png",".gif"],k={id:"input-image",type:"input",css:".tp-imgv{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-imgv{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-imgv:hover{background-color:var(--in-bg-h)}.tp-imgv:focus{background-color:var(--in-bg-f)}.tp-imgv:active{background-color:var(--in-bg-a)}.tp-imgv:disabled{opacity:0.5}:root{--tp-plugin-image-dragging-color: hsla(230, 100%, 66%, 1.00)}.tp-imgv{cursor:pointer;display:grid;height:calc(var(--bld-us) * 3);overflow:hidden;position:relative}.tp-imgv.tp-v-disabled{opacity:0.5}.tp-imgv_input{width:100%;height:100%;opacity:0}.tp-imgv_image{width:100%;height:100%;position:absolute;pointer-events:none;border:0}.tp-imgv_image_contain{-o-object-fit:contain;object-fit:contain}.tp-imgv_image_cover{-o-object-fit:cover;object-fit:cover}.tp-imgv_area_root{transition:opacity 0.16s ease-in-out}.tp-imgv_area_dragging{border:2px dashed var(--tp-plugin-image-dragging-color);border-radius:6px;opacity:0.6}",accept(P,N){if(!(P instanceof HTMLImageElement||typeof P=="string"))return null;const I=p,j=d(N,{view:I.required.constant("input-image"),acceptUrl:I.optional.boolean,imageFit:I.optional.custom(V=>V==="contain"||V==="cover"?V:void 0),extensions:I.optional.array(I.required.string)});return j?{initialValue:P,params:j}:null},binding:{reader(P){return N=>N instanceof HTMLImageElement?N.src===""?"placeholder":N.src:typeof N=="string"?N:"placeholder"},writer(P){return(N,I)=>{N.write(I)}}},controller(P){var N,I;return new T(P.document,{value:P.value,imageFit:(N=P.params.imageFit)!==null&&N!==void 0?N:"cover",viewProps:P.viewProps,extensions:(I=P.params.extensions)!==null&&I!==void 0?I:C})}};n.plugin=k,Object.defineProperty(n,"__esModule",{value:!0})})})(mm,mm.exports);var K9=PA(mm.exports),Y9=Gk({__proto__:null,default:K9},[mm.exports]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe=function(t,e){if(!t)throw bu(e)},bu=function(t){return new Error("Firebase Database ("+gI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},X9=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],o=t[n++],l=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},j1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,o=a?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=r>>2,p=(r&3)<<4|o>>4;let d=(o&15)<<2|c>>6,g=c&63;l||(g=64,a||(d=64)),i.push(n[h],n[p],n[d],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):X9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||o==null||c==null||p==null)throw Error();const d=r<<2|o>>4;if(i.push(d),c!==64){const g=o<<4&240|c>>2;if(i.push(g),p!==64){const x=c<<6&192|p;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},_I=function(t){const e=bI(t);return j1.encodeByteArray(e,!0)},xI=function(t){return _I(t).replace(/\./g,"")},VE=function(t){try{return j1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){return yI(void 0,t)}function yI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!J9(n)||(t[n]=yI(t[n],e[n]));return t}function J9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wI(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z9())}function e7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SI(){return gI.NODE_ADMIN===!0}function t7(){return typeof indexedDB=="object"}function n7(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7="FirebaseError";class U1 extends Error{constructor(e,n,i){super(n);this.code=e,this.customData=i,this.name=i7,Object.setPrototypeOf(this,U1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,CI.prototype.create)}}class CI{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?s7(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new U1(s,o,i)}}function s7(t,e){return t.replace(r7,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const r7=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){return JSON.parse(t)}function Ln(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=dp(VE(r[0])||""),n=dp(VE(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},a7=function(t){const e=EI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},o7=function(t){const e=EI(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function $E(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vm(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function dx(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(zE(r)&&zE(a)){if(!dx(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function zE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)i[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)i[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const d=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],c,h;for(let p=0;p<80;p++){p<40?p<20?(c=o^r&(a^o),h=1518500249):(c=r^a^o,h=1859775393):p<60?(c=r&a|o&(r|a),h=2400959708):(c=r^a^o,h=3395469782);const d=(s<<5|s>>>27)+c+l+h+i[p]&4294967295;l=o,o=a,a=(r<<30|r>>>2)&4294967295,r=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<n;)if(r[a]=e[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function V1(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,xe(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;s=65536+(r<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Uv=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t,e){return new Promise((n,i)=>{t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var r;i(`${e}: ${(r=s.target.error)===null||r===void 0?void 0:r.message}`)}})}class HE{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,n){return new TI(this._db.transaction.call(this._db,e,n))}createObjectStore(e,n){return new kI(this._db.createObjectStore(e,n))}close(){this._db.close()}}class TI{constructor(e){this._transaction=e,this.complete=new Promise((n,i)=>{this._transaction.oncomplete=function(){n()},this._transaction.onerror=()=>{i(this._transaction.error)},this._transaction.onabort=()=>{i(this._transaction.error)}})}objectStore(e){return new kI(this._transaction.objectStore(e))}}class kI{constructor(e){this._store=e}index(e){return new qE(this._store.index(e))}createIndex(e,n,i){return new qE(this._store.createIndex(e,n,i))}get(e){const n=this._store.get(e);return gh(n,"Error reading from IndexedDB")}put(e,n){const i=this._store.put(e,n);return gh(i,"Error writing to IndexedDB")}delete(e){const n=this._store.delete(e);return gh(n,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return gh(e,"Error clearing IndexedDB object store")}}class qE{constructor(e){this._index=e}get(e){const n=this._index.get(e);return gh(n,"Error reading from IndexedDB")}}function h7(t,e,n){return new Promise((i,s)=>{try{const r=indexedDB.open(t,e);r.onsuccess=a=>{i(new HE(a.target.result))},r.onerror=a=>{var o;s(`Error opening indexedDB: ${(o=a.target.error)===null||o===void 0?void 0:o.message}`)},r.onupgradeneeded=a=>{n(new HE(r.result),a.oldVersion,a.newVersion,new TI(r.transaction))}}catch(r){s(`Error opening indexedDB: ${r.message}`)}})}class fp{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new jv;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f7(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:d7(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d7(t){return t===jo?void 0:t}function f7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ut||(Ut={}));const v7={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},g7=Ut.INFO,b7={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},_7=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=b7[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class PI{constructor(e){this.name=e,this._logLevel=g7,this._logHandler=_7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y7(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function y7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fx="@firebase/app",WE="0.7.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new PI("@firebase/app"),w7="@firebase/app-compat",S7="@firebase/analytics-compat",C7="@firebase/analytics",E7="@firebase/app-check-compat",T7="@firebase/app-check",k7="@firebase/auth",P7="@firebase/auth-compat",A7="@firebase/database",M7="@firebase/database-compat",R7="@firebase/functions",I7="@firebase/functions-compat",O7="@firebase/installations",N7="@firebase/installations-compat",L7="@firebase/messaging",F7="@firebase/messaging-compat",D7="@firebase/performance",B7="@firebase/performance-compat",j7="@firebase/remote-config",U7="@firebase/remote-config-compat",V7="@firebase/storage",$7="@firebase/storage-compat",z7="@firebase/firestore",H7="@firebase/firestore-compat",q7="firebase",W7="9.6.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="[DEFAULT]",G7={[fx]:"fire-core",[w7]:"fire-core-compat",[C7]:"fire-analytics",[S7]:"fire-analytics-compat",[T7]:"fire-app-check",[E7]:"fire-app-check-compat",[k7]:"fire-auth",[P7]:"fire-auth-compat",[A7]:"fire-rtdb",[M7]:"fire-rtdb-compat",[R7]:"fire-fn",[I7]:"fire-fn-compat",[O7]:"fire-iid",[N7]:"fire-iid-compat",[L7]:"fire-fcm",[F7]:"fire-fcm-compat",[D7]:"fire-perf",[B7]:"fire-perf-compat",[j7]:"fire-rc",[U7]:"fire-rc-compat",[V7]:"fire-gcs",[$7]:"fire-gcs-compat",[z7]:"fire-fst",[H7]:"fire-fst-compat","fire-js":"fire-js",[q7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map,mx=new Map;function K7(t,e){try{t.container.addComponent(e)}catch(n){$1.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bm(t){const e=t.name;if(mx.has(e))return $1.debug(`There were multiple attempts to register component ${e}.`),!1;mx.set(e,t);for(const n of gm.values())K7(n,t);return!0}function Y7(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},cl=new CI("app","Firebase",X7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=W7;function Z7(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:AI,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw cl.create("bad-app-name",{appName:String(i)});const s=gm.get(i);if(s){if(dx(t,s.options)&&dx(n,s.config))return s;throw cl.create("duplicate-app",{appName:i})}const r=new m7(i);for(const o of mx.values())r.addComponent(o);const a=new Q7(t,n,r);return gm.set(i,a),a}function eK(t=AI){const e=gm.get(t);if(!e)throw cl.create("no-app",{appName:t});return e}function Oc(t,e,n){var i;let s=(i=G7[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$1.warn(o.join(" "));return}bm(new fp(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK="firebase-heartbeat-database",nK=1,mp="firebase-heartbeat-store";let Vb=null;function MI(){return Vb||(Vb=h7(tK,nK,(t,e)=>{switch(e){case 0:t.createObjectStore(mp)}}).catch(t=>{throw cl.create("storage-open",{originalErrorMessage:t.message})})),Vb}async function iK(t){try{return(await MI()).transaction(mp).objectStore(mp).get(RI(t))}catch(e){throw cl.create("storage-get",{originalErrorMessage:e.message})}}async function GE(t,e){try{const i=(await MI()).transaction(mp,"readwrite");return await i.objectStore(mp).put(e,RI(t)),i.complete}catch(n){throw cl.create("storage-set",{originalErrorMessage:n.message})}}function RI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=1024,rK=30*24*60*60*1e3;class aK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lK(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=KE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=rK}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=KE(),{heartbeatsToSend:n,unsentEntries:i}=oK(this._heartbeatsCache.heartbeats),s=xI(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function KE(){return new Date().toISOString().substring(0,10)}function oK(t,e=sK){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),YE(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),YE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class lK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t7()?n7().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await iK(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return GE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return GE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function YE(t){return xI(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(t){bm(new fp("platform-logger",e=>new x7(e),"PRIVATE")),bm(new fp("heartbeat",e=>new aK(e),"PRIVATE")),Oc(fx,WE,t),Oc(fx,WE,"esm2017"),Oc("fire-js","")}cK("");var uK="firebase",hK="9.6.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oc(uK,hK,"app");const XE="@firebase/database",QE="0.12.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let II="";function pK(t){II=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ln(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:dp(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ha(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new dK(e)}}catch{}return new fK},Go=OI("localStorage"),vx=OI("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new PI("@firebase/database"),mK=function(){let t=1;return function(){return t++}}(),NI=function(t){const e=u7(t),n=new c7;n.update(e);const i=n.digest();return j1.encodeByteArray(i)},Yp=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Yp.apply(null,i):typeof i=="object"?e+=Ln(i):e+=i,e+=" "}return e};let tl=null,JE=!0;const vK=function(t,e){xe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Nc.logLevel=Ut.VERBOSE,tl=Nc.log.bind(Nc),e&&vx.set("logging_enabled",!0)):typeof t=="function"?tl=t:(tl=null,vx.remove("logging_enabled"))},ii=function(...t){if(JE===!0&&(JE=!1,tl===null&&vx.get("logging_enabled")===!0&&vK(!0)),tl){const e=Yp.apply(null,t);tl(e)}},Xp=function(t){return function(...e){ii(t,...e)}},gx=function(...t){const e="FIREBASE INTERNAL ERROR: "+Yp(...t);Nc.error(e)},ul=function(...t){const e=`FIREBASE FATAL ERROR: ${Yp(...t)}`;throw Nc.error(e),new Error(e)},Li=function(...t){const e="FIREBASE WARNING: "+Yp(...t);Nc.warn(e)},gK=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Li("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},LI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},bK=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},iu="[MIN_NAME]",hl="[MAX_NAME]",_u=function(t,e){if(t===e)return 0;if(t===iu||e===hl)return-1;if(e===iu||t===hl)return 1;{const n=ZE(t),i=ZE(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},_K=function(t,e){return t===e?0:t<e?-1:1},Zu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ln(e))},z1=function(t){if(typeof t!="object"||t===null)return Ln(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ln(e[i]),n+=":",n+=z1(t[e[i]]);return n+="}",n},FI=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Di(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DI=function(t){xe(!LI(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,a,o,l;t===0?(r=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=o+i,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(r=0,a=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const h=c.join("");let p="";for(l=0;l<64;l+=8){let d=parseInt(h.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),p=p+d}return p.toLowerCase()},xK=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yK=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wK(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const SK=new RegExp("^-?(0*)\\d{1,10}$"),CK=-2147483648,EK=2147483647,ZE=function(t){if(SK.test(t)){const e=Number(t);if(e>=CK&&e<=EK)return e}return null},xu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Li("Exception was thrown by user callback.",n),e},Math.floor(0))}},TK=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Bh=function(t,e){const n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Li(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ii("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Li(e)}}class bx{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bx.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="5",BI="v",jI="s",UI="r",VI="f",$I=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zI="ls",AK="p",_x="ac",HI="websocket",qI="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(e,n,i,s,r=!1,a="",o=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Go.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Go.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function RK(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function WI(t,e,n){xe(typeof e=="string","typeof type must == string"),xe(typeof n=="object","typeof params must == object");let i;if(e===HI)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===qI)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);RK(t)&&(n.ns=t.namespace);const s=[];return Di(n,(r,a)=>{s.push(r+"="+a)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(){this.counters_={}}incrementCounter(e,n=1){ha(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Q9(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b={},zb={};function q1(t){const e=t.toString();return $b[e]||($b[e]=new IK),$b[e]}function OK(t,e){const n=t.toString();return zb[n]||(zb[n]=e()),zb[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&xu(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="start",LK="close",FK="pLPCommand",DK="pRTLPCB",GI="id",KI="pw",YI="ser",BK="cb",jK="seg",UK="ts",VK="d",$K="dframe",XI=1870,QI=30,zK=XI-QI,HK=25e3,qK=3e4;class wc{constructor(e,n,i,s,r,a,o){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xp(e),this.stats_=q1(n),this.urlFn=l=>(this.appCheckToken&&(l[_x]=this.appCheckToken),WI(n,qI,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new NK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qK)),bK(()=>{if(this.isClosed_)return;this.scriptTagHolder=new W1((...r)=>{const[a,o,l,c,h]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===eT)this.id=o,this.password=l;else if(a===LK)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,o]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[eT]="t",i[YI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[BK]=this.scriptTagHolder.uniqueCallbackIdentifier),i[BI]=H1,this.transportSessionId&&(i[jI]=this.transportSessionId),this.lastSessionId&&(i[zI]=this.lastSessionId),this.applicationId&&(i[AK]=this.applicationId),this.appCheckToken&&(i[_x]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&$I.test(location.hostname)&&(i[UI]=VI);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wc.forceAllow_=!0}static forceDisallow(){wc.forceDisallow_=!0}static isAvailable(){return wc.forceAllow_?!0:!wc.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!xK()&&!yK()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ln(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=_I(n),s=FI(i,zK);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[$K]="t",i[GI]=e,i[KI]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ln(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class W1{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=mK(),window[FK+this.uniqueCallbackIdentifier]=e,window[DK+this.uniqueCallbackIdentifier]=n,this.myIFrame=W1.createIFrame_();let r="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const o=document.domain;r='<script>document.domain="'+o+'";<\/script>'}const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){ii("frame writing exception"),o.stack&&ii(o.stack),ii(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ii("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[GI]=this.myID,e[KI]=this.myPW,e[YI]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+QI+i.length<=XI;){const a=this.pendingSegs.shift();i=i+"&"+jK+s+"="+a.seg+"&"+UK+s+"="+a.ts+"&"+VK+s+"="+a.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(HK)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ii("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK=16384,GK=45e3;let _m=null;typeof MozWebSocket!="undefined"?_m=MozWebSocket:typeof WebSocket!="undefined"&&(_m=WebSocket);class Vs{constructor(e,n,i,s,r,a,o){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xp(this.connId),this.stats_=q1(n),this.connURL=Vs.connectionURL_(n,a,o,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s){const r={};return r[BI]=H1,typeof location!="undefined"&&location.hostname&&$I.test(location.hostname)&&(r[UI]=VI),n&&(r[jI]=n),i&&(r[zI]=i),s&&(r[_x]=s),WI(e,HI,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Go.set("previous_websocket_failure",!0);try{if(!SI()){const i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new _m(this.connURL,[],i)}}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Vs.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&_m!==null&&!Vs.forceDisallow_}static previouslyFailed(){return Go.isInMemoryStorage||Go.get("previous_websocket_failure")===!0}markConnectionHealthy(){Go.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=dp(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(xe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ln(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=FI(n,WK);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(GK))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vs.responsesRequiredToBeHealthy=2;Vs.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[wc,Vs]}initTransports_(e){const n=Vs&&Vs.isAvailable();let i=n&&!Vs.previouslyFailed();if(e.webSocketOnly&&(n||Li("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Vs];else{const s=this.transports_=[];for(const r of G1.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK=6e4,YK=5e3,XK=10*1024,QK=100*1024,Hb="t",tT="d",JK="s",nT="r",ZK="e",iT="o",sT="a",rT="n",aT="p",eY="h";class tY{constructor(e,n,i,s,r,a,o,l,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xp("c:"+this.id+":"),this.transportManager_=new G1(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Bh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>QK?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>XK?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Hb in e){const n=e[Hb];n===sT?this.upgradeIfSecondaryHealthy_():n===nT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===iT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Zu("t",e),i=Zu("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:aT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Zu("t",e),i=Zu("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Zu(Hb,e);if(tT in e){const i=e[tT];if(n===eY)this.onHandshake_(i);else if(n===rT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===JK?this.onConnectionShutdown_(i):n===nT?this.onReset_(i):n===ZK?gx("Server Error: "+i):n===iT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gx("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),H1!==i&&Li("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Bh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KK))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YK))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:aT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Go.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.allowedEvents_=e,this.listeners_={},xe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){xe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends ZI{constructor(){super(["online"]);this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!wI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xm}getInitialEvent(e){return xe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=32,lT=768;class Bt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function St(){return new Bt("")}function nt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function lo(t){return t.pieces_.length-t.pieceNum_}function Vt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Bt(t.pieces_,e)}function eO(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nY(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function tO(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function nO(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Bt(e,0)}function kn(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Bt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Bt(n,0)}function at(t){return t.pieceNum_>=t.pieces_.length}function Mi(t,e){const n=nt(t),i=nt(e);if(n===null)return e;if(n===i)return Mi(Vt(t),Vt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function K1(t,e){if(lo(t)!==lo(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function $s(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(lo(t)>lo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class iY{constructor(e,n){this.errorPrefix_=n,this.parts_=tO(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Uv(this.parts_[i]);iO(this)}}function sY(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Uv(e),iO(t)}function rY(t){const e=t.parts_.pop();t.byteLength_-=Uv(e),t.parts_.length>0&&(t.byteLength_-=1)}function iO(t){if(t.byteLength_>lT)throw new Error(t.errorPrefix_+"has a key path longer than "+lT+" bytes ("+t.byteLength_+").");if(t.parts_.length>oT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+oT+") or object contains a cycle "+Uo(t))}function Uo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends ZI{constructor(){super(["visible"]);let e,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",e="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Y1}getInitialEvent(e){return xe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=1e3,aY=60*5*1e3,oY=3*1e3,cT=30*1e3,lY=1.3,cY=3e4,uY="server_kill",uT=3;class Jr extends JI{constructor(e,n,i,s,r,a,o,l){super();if(this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=Jr.nextPersistentConnectionId_++,this.log_=Xp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=eh,this.maxReconnectDelay_=aY,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!SI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Y1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&xm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(Ln(r)),xe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new jv,i={p:e._path.toString(),q:e._queryObject},s={action:"g",request:i,onComplete:a=>{const o=a.d;a.s==="ok"?(this.onDataUpdate_(i.p,o,!1,null),n.resolve(o)):n.reject(o)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[r];a===void 0||s!==a||(delete this.outstandingGets_[r],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+r+" timed out on connection"),n.reject(new Error("Client is offline.")))},oY),this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),xe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),xe(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const o={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(a).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},a="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(a,r,o=>{const l=o.d,c=o.s;Jr.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",o),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ha(e,"w")){const i=nu(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Li(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||o7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=a7(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,a=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),xe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},a="n";s&&(r.q=i,r.t=s),this.sendRequest(a,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const a={p:n,d:i};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ln(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):gx("Unrecognized action received from server: "+Ln(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){xe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=eh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=eh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cY&&(this.reconnectDelay_=eh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lY)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Jr.nextConnectionId_++,r=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,i())},c=function(p){xe(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(p)};this.realtime_={close:l,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?ii("getToken() completed but was canceled"):(ii("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=d&&d.token,o=new tY(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,g=>{Li(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(uY)},r))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&Li(p),l())}}}interrupt(e){ii("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ii("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$E(this.interruptReasons_)&&(this.reconnectDelay_=eh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>z1(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Bt(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){ii("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uT&&(this.reconnectDelay_=cT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ii("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+II.replace(/\./g,"-")]=1,wI()?e["framework.cordova"]=1:e7()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=xm.getInstance().currentlyOnline();return $E(this.interruptReasons_)&&e}}Jr.nextPersistentConnectionId_=0;Jr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new st(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new st(iu,e),s=new st(iu,n);return this.compare(i,s)!==0}minPost(){return st.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf;class sO extends $v{static get __EMPTY_NODE(){return uf}static set __EMPTY_NODE(e){uf=e}compare(e,n){return _u(e.name,n.name)}isDefinedOn(e){throw bu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return st.MIN}maxPost(){return new st(hl,uf)}makePost(e,n){return xe(typeof e=="string","KeyIndex indexValue must always be a string."),new st(e,uf)}toString(){return".key"}}const Lc=new sO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Nn{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i!=null?i:Nn.RED,this.left=s!=null?s:Ri.EMPTY_NODE,this.right=r!=null?r:Ri.EMPTY_NODE}copy(e,n,i,s,r){return new Nn(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,s!=null?s:this.left,r!=null?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ri.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ri.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Nn.RED=!0;Nn.BLACK=!1;class hY{copy(e,n,i,s,r){return this}insert(e,n,i){return new Nn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ri{constructor(e,n=Ri.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ri(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Ri(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nn.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new hf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new hf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new hf(this.root_,null,this.comparator_,!0,e)}}Ri.EMPTY_NODE=new hY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(t,e){return _u(t.name,e.name)}function X1(t,e){return _u(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xx;function dY(t){xx=t}const rO=function(t){return typeof t=="number"?"number:"+DI(t):"string:"+t},aO=function(t){if(t.isLeafNode()){const e=t.val();xe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ha(e,".sv"),"Priority must be a string or number.")}else xe(t===xx||t.isEmpty(),"priority of unexpected type.");xe(t===xx||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hT;class In{constructor(e,n=In.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,xe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),aO(this.priorityNode_)}static set __childrenNodeConstructor(e){hT=e}static get __childrenNodeConstructor(){return hT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new In(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:In.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return at(e)?this:nt(e)===".priority"?this.priorityNode_:In.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:In.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=nt(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(xe(i!==".priority"||lo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,In.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+rO(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DI(this.value_):e+=this.value_,this.lazyHash_=NI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===In.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof In.__childrenNodeConstructor?-1:(xe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=In.VALUE_TYPE_ORDER.indexOf(n),r=In.VALUE_TYPE_ORDER.indexOf(i);return xe(s>=0,"Unknown leaf type: "+n),xe(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}In.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oO,lO;function fY(t){oO=t}function mY(t){lO=t}class vY extends $v{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?_u(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return st.MIN}maxPost(){return new st(hl,new In("[PRIORITY-POST]",lO))}makePost(e,n){const i=oO(e);return new st(n,new In("[PRIORITY-POST]",i))}toString(){return".priority"}}const on=new vY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY=Math.log(2);class bY{constructor(e){const n=r=>parseInt(Math.log(r)/gY,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ym=function(t,e,n,i){t.sort(e);const s=function(l,c){const h=c-l;let p,d;if(h===0)return null;if(h===1)return p=t[l],d=n?n(p):p,new Nn(d,p.node,Nn.BLACK,null,null);{const g=parseInt(h/2,10)+l,x=s(l,g),S=s(g+1,c);return p=t[g],d=n?n(p):p,new Nn(d,p.node,Nn.BLACK,x,S)}},r=function(l){let c=null,h=null,p=t.length;const d=function(x,S){const m=p-x,_=p;p-=x;const y=s(m+1,_),T=t[m],C=n?n(T):T;g(new Nn(C,T.node,S,null,y))},g=function(x){c?(c.left=x,c=x):(h=x,c=x)};for(let x=0;x<l.count;++x){const S=l.nextBitIsOne(),m=Math.pow(2,l.count-(x+1));S?d(m,Nn.BLACK):(d(m,Nn.BLACK),d(m,Nn.RED))}return h},a=new bY(t.length),o=r(a);return new Ri(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qb;const nc={};class qr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return xe(nc&&on,"ChildrenNode.ts has not been loaded"),qb=qb||new qr({".priority":nc},{".priority":on}),qb}get(e){const n=nu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ri?n:null}hasIndex(e){return ha(this.indexSet_,e.toString())}addIndex(e,n){xe(e!==Lc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(st.Wrap);let a=r.getNext();for(;a;)s=s||e.isDefinedOn(a.node),i.push(a),a=r.getNext();let o;s?o=ym(i,e.getCompare()):o=nc;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const h=Object.assign({},this.indexes_);return h[l]=o,new qr(h,c)}addToIndexes(e,n){const i=vm(this.indexes_,(s,r)=>{const a=nu(this.indexSet_,r);if(xe(a,"Missing index implementation for "+r),s===nc)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(st.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&o.push(c),c=l.getNext();return o.push(e),ym(o,a.getCompare())}else return nc;else{const o=n.get(e.name);let l=s;return o&&(l=l.remove(new st(e.name,o))),l.insert(e,e.node)}});return new qr(i,this.indexSet_)}removeFromIndexes(e,n){const i=vm(this.indexes_,s=>{if(s===nc)return s;{const r=n.get(e.name);return r?s.remove(new st(e.name,r)):s}});return new qr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th;class Ke{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&aO(this.priorityNode_),this.children_.isEmpty()&&xe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return th||(th=new Ke(new Ri(X1),null,qr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||th}updatePriority(e){return this.children_.isEmpty()?this:new Ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?th:n}}getChild(e){const n=nt(e);return n===null?this:this.getImmediateChild(n).getChild(Vt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(xe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new st(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?th:this.priorityNode_;return new Ke(s,a,r)}}updateChild(e,n){const i=nt(e);if(i===null)return n;{xe(nt(e)!==".priority"||lo(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Vt(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(on,(a,o)=>{n[a]=o.val(e),i++,r&&Ke.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!e&&r&&s<2*i){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+rO(this.getPriority().val())+":"),this.forEachChild(on,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":NI(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new st(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new st(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new st(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,st.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,st.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qp?-1:0}withIndex(e){if(e===Lc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Lc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(on),s=n.getIterator(on);let r=i.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=i.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Lc?null:this.indexMap_.get(e.toString())}}Ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _Y extends Ke{constructor(){super(new Ri(X1),Ke.EMPTY_NODE,qr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ke.EMPTY_NODE}isEmpty(){return!1}}const Qp=new _Y;Object.defineProperties(st,{MIN:{value:new st(iu,Ke.EMPTY_NODE)},MAX:{value:new st(hl,Qp)}});sO.__EMPTY_NODE=Ke.EMPTY_NODE;In.__childrenNodeConstructor=Ke;dY(Qp);mY(Qp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=!0;function $n(t,e=null){if(t===null)return Ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),xe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new In(n,$n(e))}if(!(t instanceof Array)&&xY){const n=[];let i=!1;if(Di(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=$n(o);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new st(a,l)))}}),n.length===0)return Ke.EMPTY_NODE;const r=ym(n,pY,a=>a.name,X1);if(i){const a=ym(n,on.getCompare());return new Ke(r,$n(e),new qr({".priority":a},{".priority":on}))}else return new Ke(r,$n(e),qr.Default)}else{let n=Ke.EMPTY_NODE;return Di(t,(i,s)=>{if(ha(t,i)&&i.substring(0,1)!=="."){const r=$n(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority($n(e))}}fY($n);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY extends $v{constructor(e){super();this.indexPath_=e,xe(!at(e)&&nt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?_u(e.name,n.name):r}makePost(e,n){const i=$n(e),s=Ke.EMPTY_NODE.updateChild(this.indexPath_,i);return new st(n,s)}maxPost(){const e=Ke.EMPTY_NODE.updateChild(this.indexPath_,Qp);return new st(hl,e)}toString(){return tO(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY extends $v{compare(e,n){const i=e.node.compareTo(n.node);return i===0?_u(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return st.MIN}maxPost(){return st.MAX}makePost(e,n){const i=$n(e);return new st(n,i)}toString(){return".value"}}const SY=new wY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){return{type:"value",snapshotNode:t}}function su(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function vp(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function gp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function CY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.index_=e}updateChild(e,n,i,s,r,a){xe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(s).equals(i.getChild(s))&&o.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(n)?a.trackChildChange(vp(n,o)):xe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(su(n,i)):a.trackChildChange(gp(n,i,o))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(on,(s,r)=>{n.hasChild(s)||i.trackChildChange(vp(s,r))}),n.isLeafNode()||n.forEachChild(on,(s,r)=>{if(e.hasChild(s)){const a=e.getImmediateChild(s);a.equals(r)||i.trackChildChange(gp(s,r,a))}else i.trackChildChange(su(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ke.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.indexedFilter_=new Q1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bp.getStartPost_(e),this.endPost_=bp.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,n,i,s,r,a){return this.matches(new st(n,i))||(i=Ke.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,a)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Ke.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Ke.EMPTY_NODE);const r=this;return n.forEachChild(on,(a,o)=>{r.matches(new st(a,o))||(s=s.updateImmediateChild(a,Ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e){this.rangedFilter_=new bp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,n,i,s,r,a){return this.rangedFilter_.matches(new st(n,i))||(i=Ke.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,a):this.fullLimitUpdateChild_(e,n,i,r,a)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=Ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Ke.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;r.hasNext()&&a<this.limit_;){const o=r.getNext();let l;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:l=this.index_.compare(o,this.rangedFilter_.getEndPost())<=0,l)s=s.updateImmediateChild(o.name,o.node),a++;else break}}else{s=n.withIndex(this.index_),s=s.updatePriority(Ke.EMPTY_NODE);let r,a,o,l;if(this.reverse_){l=s.getReverseIterator(this.index_),r=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();const p=this.index_.getCompare();o=(d,g)=>p(g,d)}else l=s.getIterator(this.index_),r=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),o=this.index_.getCompare();let c=0,h=!1;for(;l.hasNext();){const p=l.getNext();!h&&o(r,p)<=0&&(h=!0),h&&c<this.limit_&&o(p,a)<=0?c++:s=s.updateImmediateChild(p.name,Ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let a;if(this.reverse_){const p=this.index_.getCompare();a=(d,g)=>p(g,d)}else a=this.index_.getCompare();const o=e;xe(o.numChildren()===this.limit_,"");const l=new st(n,i),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(o.hasChild(n)){const p=o.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||o.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const g=d==null?1:a(d,l);if(h&&!i.isEmpty()&&g>=0)return r!=null&&r.trackChildChange(gp(n,i,p)),o.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(vp(n,p));const S=o.updateImmediateChild(n,Ke.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(r!=null&&r.trackChildChange(su(d.name,d.node)),S.updateImmediateChild(d.name,d.node)):S}}else return i.isEmpty()?e:h&&a(c,l)>=0?(r!=null&&(r.trackChildChange(vp(c.name,c.node)),r.trackChildChange(su(n,i))),o.updateImmediateChild(n,i).updateImmediateChild(c.name,Ke.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=on}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return xe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return xe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:iu}hasEnd(){return this.endSet_}getIndexEndValue(){return xe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return xe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return xe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===on}copy(){const e=new J1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function TY(t){return t.loadsAllData()?new Q1(t.getIndex()):t.hasLimit()?new EY(t):new bp(t)}function pT(t){const e={};if(t.isDefault())return e;let n;return t.index_===on?n="$priority":t.index_===SY?n="$value":t.index_===Lc?n="$key":(xe(t.index_ instanceof yY,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ln(n),t.startSet_&&(e.startAt=Ln(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+Ln(t.indexStartName_))),t.endSet_&&(e.endAt=Ln(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+Ln(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dT(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==on&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends JI{constructor(e,n,i,s){super();this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Xp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(xe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const a=wm.getListenId_(e,i),o={};this.listens_[a]=o;const l=pT(e._queryParams);this.restRequest_(r+".json",l,(c,h)=>{let p=h;if(c===404&&(p=null,c=null),c===null&&this.onDataUpdate_(r,p,!1,i),nu(this.listens_,a)===o){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",s(d,null)}})}unlisten(e,n){const i=wm.getListenId_(e,n);delete this.listens_[i]}get(e){const n=pT(e._queryParams),i=e._path.toString(),s=new jv;return this.restRequest_(i+".json",n,(r,a)=>{let o=a;r===404&&(o=null,r=null),r===null?(this.onDataUpdate_(i,o,!1,null),s.resolve(o)):s.reject(new Error(o))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+l7(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=dp(o.responseText)}catch{Li("Failed to parse JSON response for "+a+": "+o.responseText)}i(null,l)}else o.status!==401&&o.status!==404&&Li("Got unsuccessful REST response for "+a+" Status: "+o.status),i(o.status);i=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(){this.rootNode_=Ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){return{value:null,children:new Map}}function uO(t,e,n){if(at(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=nt(e);t.children.has(i)||t.children.set(i,Sm());const s=t.children.get(i);e=Vt(e),uO(s,e,n)}}function yx(t,e,n){t.value!==null?n(e,t.value):PY(t,(i,s)=>{const r=new Bt(e.toString()+"/"+i);yx(s,r,n)})}function PY(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Di(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=10*1e3,MY=30*1e3,RY=5*60*1e3;class IY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new AY(e);const i=fT+(MY-fT)*Math.random();Bh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Di(e,(s,r)=>{r>0&&ha(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Bh(this.reportStats_.bind(this),Math.floor(Math.random()*2*RY))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zs||(zs={}));function hO(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Z1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ew(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=zs.ACK_USER_WRITE,this.source=hO()}operationForChild(e){if(at(this.path)){if(this.affectedTree.value!=null)return xe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Bt(e));return new Cm(St(),n,this.revert)}}else return xe(nt(this.path)===e,"operationForChild called for unrelated child."),new Cm(Vt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.source=e,this.path=n,this.type=zs.LISTEN_COMPLETE}operationForChild(e){return at(this.path)?new _p(this.source,St()):new _p(this.source,Vt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=zs.OVERWRITE}operationForChild(e){return at(this.path)?new pl(this.source,St(),this.snap.getImmediateChild(e)):new pl(this.source,Vt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=zs.MERGE}operationForChild(e){if(at(this.path)){const n=this.children.subtree(new Bt(e));return n.isEmpty()?null:n.value?new pl(this.source,St(),n.value):new xp(this.source,St(),n)}else return xe(nt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xp(this.source,Vt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(at(e))return this.isFullyInitialized()&&!this.filtered_;const n=nt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function NY(t,e,n,i){const s=[],r=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(CY(a.childName,a.snapshotNode))}),nh(t,s,"child_removed",e,i,n),nh(t,s,"child_added",e,i,n),nh(t,s,"child_moved",r,i,n),nh(t,s,"child_changed",e,i,n),nh(t,s,"value",e,i,n),s}function nh(t,e,n,i,s,r){const a=i.filter(o=>o.type===n);a.sort((o,l)=>FY(t,o,l)),a.forEach(o=>{const l=LY(t,o,r);s.forEach(c=>{c.respondsTo(o.type)&&e.push(c.createEvent(l,t.query_))})})}function LY(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function FY(t,e,n){if(e.childName==null||n.childName==null)throw bu("Should only compare child_ events.");const i=new st(e.childName,e.snapshotNode),s=new st(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){return{eventCache:t,serverCache:e}}function jh(t,e,n,i){return zv(new dl(e,n,i),t.serverCache)}function pO(t,e,n,i){return zv(t.eventCache,new dl(e,n,i))}function wx(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wb;const DY=()=>(Wb||(Wb=new Ri(_K)),Wb);class Ht{constructor(e,n=DY()){this.value=e,this.children=n}static fromObject(e){let n=new Ht(null);return Di(e,(i,s)=>{n=n.set(new Bt(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:St(),value:this.value};if(at(e))return null;{const i=nt(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Vt(e),n);return r!=null?{path:kn(new Bt(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(at(e))return this;{const n=nt(e),i=this.children.get(n);return i!==null?i.subtree(Vt(e)):new Ht(null)}}set(e,n){if(at(e))return new Ht(n,this.children);{const i=nt(e),r=(this.children.get(i)||new Ht(null)).set(Vt(e),n),a=this.children.insert(i,r);return new Ht(this.value,a)}}remove(e){if(at(e))return this.children.isEmpty()?new Ht(null):new Ht(null,this.children);{const n=nt(e),i=this.children.get(n);if(i){const s=i.remove(Vt(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Ht(null):new Ht(this.value,r)}else return this}}get(e){if(at(e))return this.value;{const n=nt(e),i=this.children.get(n);return i?i.get(Vt(e)):null}}setTree(e,n){if(at(e))return n;{const i=nt(e),r=(this.children.get(i)||new Ht(null)).setTree(Vt(e),n);let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),new Ht(this.value,a)}}fold(e){return this.fold_(St(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(kn(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,St(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(at(e))return null;{const r=nt(e),a=this.children.get(r);return a?a.findOnPath_(Vt(e),kn(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,St(),n)}foreachOnPath_(e,n,i){if(at(e))return this;{this.value&&i(n,this.value);const s=nt(e),r=this.children.get(s);return r?r.foreachOnPath_(Vt(e),kn(n,s),i):new Ht(null)}}foreach(e){this.foreach_(St(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(kn(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.writeTree_=e}static empty(){return new Ws(new Ht(null))}}function Uh(t,e,n){if(at(e))return new Ws(new Ht(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const a=Mi(s,e);return r=r.updateChild(a,n),new Ws(t.writeTree_.set(s,r))}else{const s=new Ht(n),r=t.writeTree_.setTree(e,s);return new Ws(r)}}}function mT(t,e,n){let i=t;return Di(n,(s,r)=>{i=Uh(i,kn(e,s),r)}),i}function vT(t,e){if(at(e))return Ws.empty();{const n=t.writeTree_.setTree(e,new Ht(null));return new Ws(n)}}function Sx(t,e){return Pl(t,e)!=null}function Pl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Mi(n.path,e)):null}function gT(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(on,(i,s)=>{e.push(new st(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new st(i,s.value))}),e}function Qa(t,e){if(at(e))return t;{const n=Pl(t,e);return n!=null?new Ws(new Ht(n)):new Ws(t.writeTree_.subtree(e))}}function Cx(t){return t.writeTree_.isEmpty()}function ru(t,e){return dO(St(),t.writeTree_,e)}function dO(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(xe(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=dO(kn(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(kn(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){return gO(e,t)}function BY(t,e,n,i,s){xe(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Uh(t.visibleWrites,e,n)),t.lastWriteId=i}function jY(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function UY(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);xe(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&VY(o,i.path)?s=!1:$s(i.path,o.path)&&(r=!0)),a--}if(s){if(r)return $Y(t),!0;if(i.snap)t.visibleWrites=vT(t.visibleWrites,i.path);else{const o=i.children;Di(o,l=>{t.visibleWrites=vT(t.visibleWrites,kn(i.path,l))})}return!0}else return!1}function VY(t,e){if(t.snap)return $s(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$s(kn(t.path,n),e))return!0;return!1}function $Y(t){t.visibleWrites=fO(t.allWrites,zY,St()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zY(t){return t.visible}function fO(t,e,n){let i=Ws.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const a=r.path;let o;if(r.snap)$s(n,a)?(o=Mi(n,a),i=Uh(i,o,r.snap)):$s(a,n)&&(o=Mi(a,n),i=Uh(i,St(),r.snap.getChild(o)));else if(r.children){if($s(n,a))o=Mi(n,a),i=mT(i,o,r.children);else if($s(a,n))if(o=Mi(a,n),at(o))i=mT(i,St(),r.children);else{const l=nu(r.children,nt(o));if(l){const c=l.getChild(Vt(o));i=Uh(i,St(),c)}}}else throw bu("WriteRecord should have .snap or .children")}}return i}function mO(t,e,n,i,s){if(!i&&!s){const r=Pl(t.visibleWrites,e);if(r!=null)return r;{const a=Qa(t.visibleWrites,e);if(Cx(a))return n;if(n==null&&!Sx(a,St()))return null;{const o=n||Ke.EMPTY_NODE;return ru(a,o)}}}else{const r=Qa(t.visibleWrites,e);if(!s&&Cx(r))return n;if(!s&&n==null&&!Sx(r,St()))return null;{const a=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&($s(c.path,e)||$s(e,c.path))},o=fO(t.allWrites,a,e),l=n||Ke.EMPTY_NODE;return ru(o,l)}}}function HY(t,e,n){let i=Ke.EMPTY_NODE;const s=Pl(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(on,(r,a)=>{i=i.updateImmediateChild(r,a)}),i;if(n){const r=Qa(t.visibleWrites,e);return n.forEachChild(on,(a,o)=>{const l=ru(Qa(r,new Bt(a)),o);i=i.updateImmediateChild(a,l)}),gT(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const r=Qa(t.visibleWrites,e);return gT(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function qY(t,e,n,i,s){xe(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=kn(e,n);if(Sx(t.visibleWrites,r))return null;{const a=Qa(t.visibleWrites,r);return Cx(a)?s.getChild(n):ru(a,s.getChild(n))}}function WY(t,e,n,i){const s=kn(e,n),r=Pl(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const a=Qa(t.visibleWrites,s);return ru(a,i.getNode().getImmediateChild(n))}else return null}function GY(t,e){return Pl(t.visibleWrites,e)}function KY(t,e,n,i,s,r,a){let o;const l=Qa(t.visibleWrites,e),c=Pl(l,St());if(c!=null)o=c;else if(n!=null)o=ru(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const h=[],p=a.getCompare(),d=r?o.getReverseIteratorFrom(i,a):o.getIteratorFrom(i,a);let g=d.getNext();for(;g&&h.length<s;)p(g,i)!==0&&h.push(g),g=d.getNext();return h}else return[]}function YY(){return{visibleWrites:Ws.empty(),allWrites:[],lastWriteId:-1}}function Em(t,e,n,i){return mO(t.writeTree,t.treePath,e,n,i)}function nw(t,e){return HY(t.writeTree,t.treePath,e)}function bT(t,e,n,i){return qY(t.writeTree,t.treePath,e,n,i)}function Tm(t,e){return GY(t.writeTree,kn(t.treePath,e))}function XY(t,e,n,i,s,r){return KY(t.writeTree,t.treePath,e,n,i,s,r)}function iw(t,e,n){return WY(t.writeTree,t.treePath,e,n)}function vO(t,e){return gO(kn(t.treePath,e),t.writeTree)}function gO(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;xe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),xe(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,gp(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,vp(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,su(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,gp(i,e.snapshotNode,s.oldSnap));else throw bu("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const bO=new JY;class sw{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new dl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iw(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fl(this.viewCache_),r=XY(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZY(t){return{filter:t}}function eX(t,e){xe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),xe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function tX(t,e,n,i,s){const r=new QY;let a,o;if(n.type===zs.OVERWRITE){const c=n;c.source.fromUser?a=Ex(t,e,c.path,c.snap,i,s,r):(xe(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered()&&!at(c.path),a=km(t,e,c.path,c.snap,i,s,o,r))}else if(n.type===zs.MERGE){const c=n;c.source.fromUser?a=iX(t,e,c.path,c.children,i,s,r):(xe(c.source.fromServer,"Unknown source."),o=c.source.tagged||e.serverCache.isFiltered(),a=Tx(t,e,c.path,c.children,i,s,o,r))}else if(n.type===zs.ACK_USER_WRITE){const c=n;c.revert?a=aX(t,e,c.path,i,s,r):a=sX(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===zs.LISTEN_COMPLETE)a=rX(t,e,n.path,i,r);else throw bu("Unknown operation type: "+n.type);const l=r.getChanges();return nX(e,a,l),{viewCache:a,changes:l}}function nX(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=wx(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(cO(wx(e)))}}function _O(t,e,n,i,s,r){const a=e.eventCache;if(Tm(i,n)!=null)return e;{let o,l;if(at(n))if(xe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=fl(e),h=c instanceof Ke?c:Ke.EMPTY_NODE,p=nw(i,h);o=t.filter.updateFullNode(e.eventCache.getNode(),p,r)}else{const c=Em(i,fl(e));o=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=nt(n);if(c===".priority"){xe(lo(n)===1,"Can't have a priority with additional path components");const h=a.getNode();l=e.serverCache.getNode();const p=bT(i,n,h,l);p!=null?o=t.filter.updatePriority(h,p):o=a.getNode()}else{const h=Vt(n);let p;if(a.isCompleteForChild(c)){l=e.serverCache.getNode();const d=bT(i,n,a.getNode(),l);d!=null?p=a.getNode().getImmediateChild(c).updateChild(h,d):p=a.getNode().getImmediateChild(c)}else p=iw(i,c,e.serverCache);p!=null?o=t.filter.updateChild(a.getNode(),c,p,h,s,r):o=a.getNode()}}return jh(e,o,a.isFullyInitialized()||at(n),t.filter.filtersNodes())}}function km(t,e,n,i,s,r,a,o){const l=e.serverCache;let c;const h=a?t.filter:t.filter.getIndexedFilter();if(at(n))c=h.updateFullNode(l.getNode(),i,null);else if(h.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,i);c=h.updateFullNode(l.getNode(),g,null)}else{const g=nt(n);if(!l.isCompleteForPath(n)&&lo(n)>1)return e;const x=Vt(n),m=l.getNode().getImmediateChild(g).updateChild(x,i);g===".priority"?c=h.updatePriority(l.getNode(),m):c=h.updateChild(l.getNode(),g,m,x,bO,null)}const p=pO(e,c,l.isFullyInitialized()||at(n),h.filtersNodes()),d=new sw(s,p,r);return _O(t,p,n,s,d,o)}function Ex(t,e,n,i,s,r,a){const o=e.eventCache;let l,c;const h=new sw(s,e,r);if(at(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,a),l=jh(e,c,!0,t.filter.filtersNodes());else{const p=nt(n);if(p===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=jh(e,c,o.isFullyInitialized(),o.isFiltered());else{const d=Vt(n),g=o.getNode().getImmediateChild(p);let x;if(at(d))x=i;else{const S=h.getCompleteChild(p);S!=null?eO(d)===".priority"&&S.getChild(nO(d)).isEmpty()?x=S:x=S.updateChild(d,i):x=Ke.EMPTY_NODE}if(g.equals(x))l=e;else{const S=t.filter.updateChild(o.getNode(),p,x,d,h,a);l=jh(e,S,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function _T(t,e){return t.eventCache.isCompleteForChild(e)}function iX(t,e,n,i,s,r,a){let o=e;return i.foreach((l,c)=>{const h=kn(n,l);_T(e,nt(h))&&(o=Ex(t,o,h,c,s,r,a))}),i.foreach((l,c)=>{const h=kn(n,l);_T(e,nt(h))||(o=Ex(t,o,h,c,s,r,a))}),o}function xT(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Tx(t,e,n,i,s,r,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;at(n)?c=i:c=new Ht(null).setTree(n,i);const h=e.serverCache.getNode();return c.children.inorderTraversal((p,d)=>{if(h.hasChild(p)){const g=e.serverCache.getNode().getImmediateChild(p),x=xT(t,g,d);l=km(t,l,new Bt(p),x,s,r,a,o)}}),c.children.inorderTraversal((p,d)=>{const g=!e.serverCache.isCompleteForChild(p)&&d.value===void 0;if(!h.hasChild(p)&&!g){const x=e.serverCache.getNode().getImmediateChild(p),S=xT(t,x,d);l=km(t,l,new Bt(p),S,s,r,a,o)}}),l}function sX(t,e,n,i,s,r,a){if(Tm(s,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(at(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return km(t,e,n,l.getNode().getChild(n),s,r,o,a);if(at(n)){let c=new Ht(null);return l.getNode().forEachChild(Lc,(h,p)=>{c=c.set(new Bt(h),p)}),Tx(t,e,n,c,s,r,o,a)}else return e}else{let c=new Ht(null);return i.foreach((h,p)=>{const d=kn(n,h);l.isCompleteForPath(d)&&(c=c.set(h,l.getNode().getChild(d)))}),Tx(t,e,n,c,s,r,o,a)}}function rX(t,e,n,i,s){const r=e.serverCache,a=pO(e,r.getNode(),r.isFullyInitialized()||at(n),r.isFiltered());return _O(t,a,n,i,bO,s)}function aX(t,e,n,i,s,r){let a;if(Tm(i,n)!=null)return e;{const o=new sw(i,e,s),l=e.eventCache.getNode();let c;if(at(n)||nt(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Em(i,fl(e));else{const p=e.serverCache.getNode();xe(p instanceof Ke,"serverChildren would be complete if leaf node"),h=nw(i,p)}h=h,c=t.filter.updateFullNode(l,h,r)}else{const h=nt(n);let p=iw(i,h,e.serverCache);p==null&&e.serverCache.isCompleteForChild(h)&&(p=l.getImmediateChild(h)),p!=null?c=t.filter.updateChild(l,h,p,Vt(n),o,r):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(l,h,Ke.EMPTY_NODE,Vt(n),o,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Em(i,fl(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,r)))}return a=e.serverCache.isFullyInitialized()||Tm(i,St())!=null,jh(e,c,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Q1(i.getIndex()),r=TY(i);this.processor_=ZY(r);const a=n.serverCache,o=n.eventCache,l=s.updateFullNode(Ke.EMPTY_NODE,a.getNode(),null),c=r.updateFullNode(Ke.EMPTY_NODE,o.getNode(),null),h=new dl(l,a.isFullyInitialized(),s.filtersNodes()),p=new dl(c,o.isFullyInitialized(),r.filtersNodes());this.viewCache_=zv(p,h),this.eventGenerator_=new OY(this.query_)}get query(){return this.query_}}function lX(t){return t.viewCache_.serverCache.getNode()}function cX(t,e){const n=fl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!at(e)&&!n.getImmediateChild(nt(e)).isEmpty())?n.getChild(e):null}function yT(t){return t.eventRegistrations_.length===0}function uX(t,e){t.eventRegistrations_.push(e)}function wT(t,e,n){const i=[];if(n){xe(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const a=r.createCancelEvent(n,s);a&&i.push(a)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const a=t.eventRegistrations_[r];if(!a.matches(e))s.push(a);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function ST(t,e,n,i){e.type===zs.MERGE&&e.source.queryId!==null&&(xe(fl(t.viewCache_),"We should always have a full cache before handling merges"),xe(wx(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=tX(t.processor_,s,e,n,i);return eX(t.processor_,r.viewCache),xe(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,xO(t,r.changes,r.viewCache.eventCache.getNode(),null)}function hX(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(on,(r,a)=>{i.push(su(r,a))}),n.isFullyInitialized()&&i.push(cO(n.getNode())),xO(t,i,n.getNode(),e)}function xO(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return NY(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm;class pX{constructor(){this.views=new Map}}function dX(t){xe(!Pm,"__referenceConstructor has already been defined"),Pm=t}function fX(){return xe(Pm,"Reference.ts has not been loaded"),Pm}function mX(t){return t.views.size===0}function rw(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return xe(r!=null,"SyncTree gave us an op for an invalid query."),ST(r,e,n,i)}else{let r=[];for(const a of t.views.values())r=r.concat(ST(a,e,n,i));return r}}function vX(t,e,n,i,s){const r=e._queryIdentifier,a=t.views.get(r);if(!a){let o=Em(n,s?i:null),l=!1;o?l=!0:i instanceof Ke?(o=nw(n,i),l=!1):(o=Ke.EMPTY_NODE,l=!1);const c=zv(new dl(o,l,!1),new dl(i,s,!1));return new oX(e,c)}return a}function gX(t,e,n,i,s,r){const a=vX(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),uX(a,n),hX(a,n)}function bX(t,e,n,i){const s=e._queryIdentifier,r=[];let a=[];const o=co(t);if(s==="default")for(const[l,c]of t.views.entries())a=a.concat(wT(c,n,i)),yT(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(s);l&&(a=a.concat(wT(l,n,i)),yT(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||r.push(l.query)))}return o&&!co(t)&&r.push(new(fX())(e._repo,e._path)),{removed:r,events:a}}function yO(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Fc(t,e){let n=null;for(const i of t.views.values())n=n||cX(i,e);return n}function wO(t,e){if(e._queryParams.loadsAllData())return Hv(t);{const i=e._queryIdentifier;return t.views.get(i)}}function SO(t,e){return wO(t,e)!=null}function co(t){return Hv(t)!=null}function Hv(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am;function _X(t){xe(!Am,"__referenceConstructor has already been defined"),Am=t}function xX(){return xe(Am,"Reference.ts has not been loaded"),Am}let yX=1;class CT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ht(null),this.pendingWriteTree_=YY(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CO(t,e,n,i,s){return BY(t.pendingWriteTree_,e,n,i,s),s?Jp(t,new pl(hO(),e,n)):[]}function Ko(t,e,n=!1){const i=jY(t.pendingWriteTree_,e);if(UY(t.pendingWriteTree_,e)){let r=new Ht(null);return i.snap!=null?r=r.set(St(),!0):Di(i.children,a=>{r=r.set(new Bt(a),!0)}),Jp(t,new Cm(i.path,r,n))}else return[]}function qv(t,e,n){return Jp(t,new pl(Z1(),e,n))}function wX(t,e,n){const i=Ht.fromObject(n);return Jp(t,new xp(Z1(),e,i))}function SX(t,e){return Jp(t,new _p(Z1(),e))}function CX(t,e,n){const i=ow(t,n);if(i){const s=lw(i),r=s.path,a=s.queryId,o=Mi(r,e),l=new _p(ew(a),o);return cw(t,r,l)}else return[]}function kx(t,e,n,i){const s=e._path,r=t.syncPointTree_.get(s);let a=[];if(r&&(e._queryIdentifier==="default"||SO(r,e))){const o=bX(r,e,n,i);mX(r)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const l=o.removed;a=o.events;const c=l.findIndex(p=>p._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(p,d)=>co(d));if(c&&!h){const p=t.syncPointTree_.subtree(s);if(!p.isEmpty()){const d=kX(p);for(let g=0;g<d.length;++g){const x=d[g],S=x.query,m=kO(t,x);t.listenProvider_.startListening(Vh(S),Mm(t,S),m.hashFn,m.onComplete)}}}!h&&l.length>0&&!i&&(c?t.listenProvider_.stopListening(Vh(e),null):l.forEach(p=>{const d=t.queryToTagMap.get(Wv(p));t.listenProvider_.stopListening(Vh(p),d)})),PX(t,l)}return a}function EX(t,e,n,i){const s=ow(t,i);if(s!=null){const r=lw(s),a=r.path,o=r.queryId,l=Mi(a,e),c=new pl(ew(o),l,n);return cw(t,a,c)}else return[]}function TX(t,e,n,i){const s=ow(t,i);if(s){const r=lw(s),a=r.path,o=r.queryId,l=Mi(a,e),c=Ht.fromObject(n),h=new xp(ew(o),l,c);return cw(t,a,h)}else return[]}function ET(t,e,n){const i=e._path;let s=null,r=!1;t.syncPointTree_.foreachOnPath(i,(p,d)=>{const g=Mi(p,i);s=s||Fc(d,g),r=r||co(d)});let a=t.syncPointTree_.get(i);a?(r=r||co(a),s=s||Fc(a,St())):(a=new pX,t.syncPointTree_=t.syncPointTree_.set(i,a));let o;s!=null?o=!0:(o=!1,s=Ke.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((d,g)=>{const x=Fc(g,St());x&&(s=s.updateImmediateChild(d,x))}));const l=SO(a,e);if(!l&&!e._queryParams.loadsAllData()){const p=Wv(e);xe(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const d=AX();t.queryToTagMap.set(p,d),t.tagToQueryMap.set(d,p)}const c=tw(t.pendingWriteTree_,i);let h=gX(a,e,n,c,s,o);if(!l&&!r){const p=wO(a,e);h=h.concat(MX(t,e,p))}return h}function aw(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=Mi(a,e),c=Fc(o,l);if(c)return c});return mO(s,e,r,n,!0)}function Jp(t,e){return EO(e,t.syncPointTree_,null,tw(t.pendingWriteTree_,St()))}function EO(t,e,n,i){if(at(t.path))return TO(t,e,n,i);{const s=e.get(St());n==null&&s!=null&&(n=Fc(s,St()));let r=[];const a=nt(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const c=n?n.getImmediateChild(a):null,h=vO(i,a);r=r.concat(EO(o,l,c,h))}return s&&(r=r.concat(rw(s,t,i,n))),r}}function TO(t,e,n,i){const s=e.get(St());n==null&&s!=null&&(n=Fc(s,St()));let r=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,c=vO(i,a),h=t.operationForChild(a);h&&(r=r.concat(TO(h,o,l,c)))}),s&&(r=r.concat(rw(s,t,i,n))),r}function kO(t,e){const n=e.query,i=Mm(t,n);return{hashFn:()=>(lX(e)||Ke.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?CX(t,n._path,i):SX(t,n._path);{const r=wK(s,n);return kx(t,n,null,r)}}}}function Mm(t,e){const n=Wv(e);return t.queryToTagMap.get(n)}function Wv(t){return t._path.toString()+"$"+t._queryIdentifier}function ow(t,e){return t.tagToQueryMap.get(e)}function lw(t){const e=t.indexOf("$");return xe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Bt(t.substr(0,e))}}function cw(t,e,n){const i=t.syncPointTree_.get(e);xe(i,"Missing sync point for query tag that we're tracking");const s=tw(t.pendingWriteTree_,e);return rw(i,n,s,null)}function kX(t){return t.fold((e,n,i)=>{if(n&&co(n))return[Hv(n)];{let s=[];return n&&(s=yO(n)),Di(i,(r,a)=>{s=s.concat(a)}),s}})}function Vh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(xX())(t._repo,t._path):t}function PX(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Wv(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function AX(){return yX++}function MX(t,e,n){const i=e._path,s=Mm(t,e),r=kO(t,n),a=t.listenProvider_.startListening(Vh(e),s,r.hashFn,r.onComplete),o=t.syncPointTree_.subtree(i);if(s)xe(!co(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((c,h,p)=>{if(!at(c)&&h&&co(h))return[Hv(h).query];{let d=[];return h&&(d=d.concat(yO(h).map(g=>g.query))),Di(p,(g,x)=>{d=d.concat(x)}),d}});for(let c=0;c<l.length;++c){const h=l[c];t.listenProvider_.stopListening(Vh(h),Mm(t,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new uw(n)}node(){return this.node_}}class hw{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=kn(this.path_,e);return new hw(this.syncTree_,n)}node(){return aw(this.syncTree_,this.path_)}}const RX=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},TT=function(t,e,n){if(!t||typeof t!="object")return t;if(xe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return IX(t[".sv"],e,n);if(typeof t[".sv"]=="object")return OX(t[".sv"],e);xe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},IX=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:xe(!1,"Unexpected server value: "+t)}},OX=function(t,e,n){t.hasOwnProperty("increment")||xe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&xe(!1,"Unexpected increment value: "+i);const s=e.node();if(xe(s!==null&&typeof s!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},NX=function(t,e,n,i){return pw(e,new hw(n,t),i)},PO=function(t,e,n){return pw(t,new uw(e),n)};function pw(t,e,n){const i=t.getPriority().val(),s=TT(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const a=t,o=TT(a.getValue(),e,n);return o!==a.getValue()||s!==a.getPriority().val()?new In(o,$n(s)):t}else{const a=t;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new In(s))),a.forEachChild(on,(o,l)=>{const c=pw(l,e.getImmediateChild(o),n);c!==l&&(r=r.updateImmediateChild(o,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function fw(t,e){let n=e instanceof Bt?e:new Bt(e),i=t,s=nt(n);for(;s!==null;){const r=nu(i.node.children,s)||{children:{},childCount:0};i=new dw(s,i,r),n=Vt(n),s=nt(n)}return i}function yu(t){return t.node.value}function AO(t,e){t.node.value=e,Px(t)}function MO(t){return t.node.childCount>0}function LX(t){return yu(t)===void 0&&!MO(t)}function Gv(t,e){Di(t.node.children,(n,i)=>{e(new dw(n,t,i))})}function RO(t,e,n,i){n&&!i&&e(t),Gv(t,s=>{RO(s,e,!0,i)}),n&&i&&e(t)}function FX(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Zp(t){return new Bt(t.parent===null?t.name:Zp(t.parent)+"/"+t.name)}function Px(t){t.parent!==null&&DX(t.parent,t.name,t)}function DX(t,e,n){const i=LX(n),s=ha(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Px(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Px(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX=/[\[\].#$\/\u0000-\u001F\u007F]/,jX=/[\[\].#$\u0000-\u001F\u007F]/,Gb=10*1024*1024,IO=function(t){return typeof t=="string"&&t.length!==0&&!BX.test(t)},OO=function(t){return typeof t=="string"&&t.length!==0&&!jX.test(t)},UX=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),OO(t)},VX=function(t,e,n,i){i&&e===void 0||mw(V1(t,"value"),e,n)},mw=function(t,e,n){const i=n instanceof Bt?new iY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Uo(i));if(typeof e=="function")throw new Error(t+"contains a function "+Uo(i)+" with contents = "+e.toString());if(LI(e))throw new Error(t+"contains "+e.toString()+" "+Uo(i));if(typeof e=="string"&&e.length>Gb/3&&Uv(e)>Gb)throw new Error(t+"contains a string greater than "+Gb+" utf8 bytes "+Uo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(Di(e,(a,o)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!IO(a)))throw new Error(t+" contains an invalid key ("+a+") "+Uo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sY(i,a),mw(t,o,i),rY(i)}),s&&r)throw new Error(t+' contains ".value" child '+Uo(i)+" in addition to actual children.")}},NO=function(t,e,n,i){if(!(i&&n===void 0)&&!OO(n))throw new Error(V1(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$X=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),NO(t,e,n,i)},zX=function(t,e){if(nt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},HX=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!IO(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!UX(n))throw new Error(V1(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vw(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!K1(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function LO(t,e,n){vw(t,n),FO(t,i=>K1(i,e))}function sa(t,e,n){vw(t,n),FO(t,i=>$s(i,e)||$s(e,i))}function FO(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(WX(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function WX(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();tl&&ii("event: "+n.toString()),xu(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GX="repo_interrupt",KX=25;class YX{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sm(),this.transactionQueueTree_=new dw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XX(t,e,n){if(t.stats_=q1(t.repoInfo_),t.forceRestClient_||TK())t.server_=new wm(t.repoInfo_,(i,s,r,a)=>{kT(t,i,s,r,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>PT(t,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ln(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Jr(t.repoInfo_,e,(i,s,r,a)=>{kT(t,i,s,r,a)},i=>{PT(t,i)},i=>{JX(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=OK(t.repoInfo_,()=>new IY(t.stats_,t.server_)),t.infoData_=new kY,t.infoSyncTree_=new CT({startListening:(i,s,r,a)=>{let o=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(o=qv(t.infoSyncTree_,i._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),bw(t,"connected",!1),t.serverSyncTree_=new CT({startListening:(i,s,r,a)=>(t.server_.listen(i,r,s,(o,l)=>{const c=a(o,l);sa(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function QX(t){const n=t.infoData_.getNode(new Bt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function gw(t){return RX({timestamp:QX(t)})}function kT(t,e,n,i,s){t.dataUpdateCount++;const r=new Bt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(i){const l=vm(n,c=>$n(c));a=TX(t.serverSyncTree_,r,l,s)}else{const l=$n(n);a=EX(t.serverSyncTree_,r,l,s)}else if(i){const l=vm(n,c=>$n(c));a=wX(t.serverSyncTree_,r,l)}else{const l=$n(n);a=qv(t.serverSyncTree_,r,l)}let o=r;a.length>0&&(o=Kv(t,r)),sa(t.eventQueue_,o,a)}function PT(t,e){bw(t,"connected",e),e===!1&&eQ(t)}function JX(t,e){Di(e,(n,i)=>{bw(t,n,i)})}function bw(t,e,n){const i=new Bt("/.info/"+e),s=$n(n);t.infoData_.updateSnapshot(i,s);const r=qv(t.infoSyncTree_,i,s);sa(t.eventQueue_,i,r)}function DO(t){return t.nextWriteId_++}function ZX(t,e,n,i,s){_w(t,"set",{path:e.toString(),value:n,priority:i});const r=gw(t),a=$n(n,i),o=aw(t.serverSyncTree_,e),l=PO(a,o,r),c=DO(t),h=CO(t.serverSyncTree_,e,l,c,!0);vw(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),(d,g)=>{const x=d==="ok";x||Li("set at "+e+" failed: "+d);const S=Ko(t.serverSyncTree_,c,!x);sa(t.eventQueue_,e,S),iQ(t,s,d,g)});const p=$O(t,e);Kv(t,p),sa(t.eventQueue_,p,[])}function eQ(t){_w(t,"onDisconnectEvents");const e=gw(t),n=Sm();yx(t.onDisconnect_,St(),(s,r)=>{const a=NX(s,r,t.serverSyncTree_,e);uO(n,s,a)});let i=[];yx(n,St(),(s,r)=>{i=i.concat(qv(t.serverSyncTree_,s,r));const a=$O(t,s);Kv(t,a)}),t.onDisconnect_=Sm(),sa(t.eventQueue_,St(),i)}function tQ(t,e,n){let i;nt(e._path)===".info"?i=ET(t.infoSyncTree_,e,n):i=ET(t.serverSyncTree_,e,n),LO(t.eventQueue_,e._path,i)}function AT(t,e,n){let i;nt(e._path)===".info"?i=kx(t.infoSyncTree_,e,n):i=kx(t.serverSyncTree_,e,n),LO(t.eventQueue_,e._path,i)}function nQ(t){t.persistentConnection_&&t.persistentConnection_.interrupt(GX)}function _w(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ii(n,...e)}function iQ(t,e,n,i){e&&xu(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const a=new Error(r);a.code=s,e(a)}})}function BO(t,e,n){return aw(t.serverSyncTree_,e,n)||Ke.EMPTY_NODE}function xw(t,e=t.transactionQueueTree_){if(e||Yv(t,e),yu(e)){const n=UO(t,e);xe(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&sQ(t,Zp(e),n)}else MO(e)&&Gv(e,n=>{xw(t,n)})}function sQ(t,e,n){const i=n.map(c=>c.currentWriteId),s=BO(t,e,i);let r=s;const a=s.hash();for(let c=0;c<n.length;c++){const h=n[c];xe(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const p=Mi(e,h.path);r=r.updateChild(p,h.currentOutputSnapshotRaw)}const o=r.val(!0),l=e;t.server_.put(l.toString(),o,c=>{_w(t,"transaction put response",{path:l.toString(),status:c});let h=[];if(c==="ok"){const p=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(Ko(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&p.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Yv(t,fw(t.transactionQueueTree_,e)),xw(t,t.transactionQueueTree_),sa(t.eventQueue_,e,h);for(let d=0;d<p.length;d++)xu(p[d])}else{if(c==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Li("transaction at "+l.toString()+" failed: "+c);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=c}Kv(t,e)}},a)}function Kv(t,e){const n=jO(t,e),i=Zp(n),s=UO(t,n);return rQ(t,s,i),i}function rQ(t,e,n){if(e.length===0)return;const i=[];let s=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],c=Mi(n,l.path);let h=!1,p;if(xe(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,p=l.abortReason,s=s.concat(Ko(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=KX)h=!0,p="maxretry",s=s.concat(Ko(t.serverSyncTree_,l.currentWriteId,!0));else{const d=BO(t,l.path,a);l.currentInputSnapshot=d;const g=e[o].update(d.val());if(g!==void 0){mw("transaction failed: Data returned ",g,l.path);let x=$n(g);typeof g=="object"&&g!=null&&ha(g,".priority")||(x=x.updatePriority(d.getPriority()));const m=l.currentWriteId,_=gw(t),y=PO(x,d,_);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=y,l.currentWriteId=DO(t),a.splice(a.indexOf(m),1),s=s.concat(CO(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),s=s.concat(Ko(t.serverSyncTree_,m,!0))}else h=!0,p="nodata",s=s.concat(Ko(t.serverSyncTree_,l.currentWriteId,!0))}sa(t.eventQueue_,n,s),s=[],h&&(e[o].status=2,function(d){setTimeout(d,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(p==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(p),!1,null))))}Yv(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)xu(i[o]);xw(t,t.transactionQueueTree_)}function jO(t,e){let n,i=t.transactionQueueTree_;for(n=nt(e);n!==null&&yu(i)===void 0;)i=fw(i,n),e=Vt(e),n=nt(e);return i}function UO(t,e){const n=[];return VO(t,e,n),n.sort((i,s)=>i.order-s.order),n}function VO(t,e,n){const i=yu(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Gv(e,s=>{VO(t,s,n)})}function Yv(t,e){const n=yu(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,AO(e,n.length>0?n:void 0)}Gv(e,i=>{Yv(t,i)})}function $O(t,e){const n=Zp(jO(t,e)),i=fw(t.transactionQueueTree_,e);return FX(i,s=>{Kb(t,s)}),Kb(t,i),RO(i,s=>{Kb(t,s)}),n}function Kb(t,e){const n=yu(e);if(n){const i=[];let s=[],r=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(xe(r===a-1,"All SENT items should be at beginning of queue."),r=a,n[a].status=3,n[a].abortReason="set"):(xe(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Ko(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?AO(e,void 0):n.length=r+1,sa(t.eventQueue_,Zp(e),s);for(let a=0;a<i.length;a++)xu(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function oQ(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Li(`Invalid query segment '${n}' in query '${t}'`)}return e}const MT=function(t,e){const n=lQ(t),i=n.namespace;n.domain==="firebase.com"&&ul(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&ul("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gK();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new MK(n.host,n.secure,i,e,s,"",i!==n.subdomain),path:new Bt(n.pathString)}},lQ=function(t){let e="",n="",i="",s="",r="",a=!0,o="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(o=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(s=aQ(t.substring(h,p)));const d=oQ(t.substring(Math.min(t.length,p)));c=e.indexOf(":"),c>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),n=e.substring(x+1),r=i}"ns"in d&&(r=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:a,scheme:o,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ln(this.snapshot.exportVal())}}class HO{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return xe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return at(this._path)?null:eO(this._path)}get ref(){return new pa(this._repo,this._path)}get _queryIdentifier(){const e=dT(this._queryParams),n=z1(e);return n==="{}"?"default":n}get _queryObject(){return dT(this._queryParams)}isEqual(e){if(e=Vv(e),!(e instanceof yw))return!1;const n=this._repo===e._repo,i=K1(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+nY(this._path)}}class pa extends yw{constructor(e,n){super(e,n,new J1,!1)}get parent(){const e=nO(this._path);return e===null?null:new pa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class yp{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Bt(e),i=Rm(this.ref,e);return new yp(this._node.getChild(n),i,on)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new yp(s,Rm(this.ref,i),on)))}hasChild(e){const n=new Bt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Yb(t,e){return t=Vv(t),t._checkNotDeleted("ref"),e!==void 0?Rm(t._root,e):t._root}function Rm(t,e){return t=Vv(t),nt(t._path)===null?$X("child","path",e,!1):NO("child","path",e,!1),new pa(t._repo,kn(t._path,e))}function uQ(t,e){t=Vv(t),zX("set",t._path),VX("set",e,t._path,!1);const n=new jv;return ZX(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class ww{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new zO("value",this,new yp(e.snapshotNode,new pa(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new HO(this,e,n):null}matches(e){return e instanceof ww?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Sw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new HO(this,e,n):null}createEvent(e,n){xe(e.childName!=null,"Child events should have a childName.");const i=Rm(new pa(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new zO(e.type,this,new yp(e.snapshotNode,i,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Sw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function hQ(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const l=n,c=(h,p)=>{AT(t._repo,t,o),l(h,p)};c.userCallback=n.userCallback,c.context=n.context,n=c}const a=new cQ(n,r||void 0),o=e==="value"?new ww(a):new Sw(e,a);return tQ(t._repo,t,o),()=>AT(t._repo,t,o)}function RT(t,e,n,i){return hQ(t,"value",e,n,i)}dX(pa);_X(pa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ="FIREBASE_DATABASE_EMULATOR_HOST",Ax={};let dQ=!1;function fQ(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||ul("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ii("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=MT(r,s),o=a.repoInfo,l,c;typeof process!="undefined"&&(c=process.env[pQ]),c?(l=!0,r=`http://${c}?ns=${o.namespace}`,a=MT(r,s),o=a.repoInfo):l=!a.repoInfo.secure;const h=s&&l?new bx(bx.OWNER):new PK(t.name,t.options,e);HX("Invalid Firebase Database URL",a),at(a.path)||ul("Database URL must point to the root of a Firebase Database (not including a child path).");const p=vQ(o,t,h,new kK(t.name,n));return new gQ(p,t)}function mQ(t,e){const n=Ax[e];(!n||n[t.key]!==t)&&ul(`Database ${e}(${t.repoInfo_}) has already been deleted.`),nQ(t),delete n[t.key]}function vQ(t,e,n,i){let s=Ax[e.name];s||(s={},Ax[e.name]=s);let r=s[t.toURLString()];return r&&ul("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new YX(t,dQ,n,i),s[t.toURLString()]=r,r}class gQ{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(XX(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pa(this._repo,St())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mQ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ul("Cannot call "+e+" on a deleted database.")}}function Xb(t=eK(),e){return Y7(t,"database").getImmediate({identifier:e})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(t){pK(J7),bm(new fp("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return fQ(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),Oc(XE,QE,t),Oc(XE,QE,"esm2017")}Jr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Jr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bQ();const _Q={"Hape_01 LIGHTS":{IBLDiffuseFactor:{value:1.43,params:{min:0,max:2,step:.01,label:"IBLDiffuseFactor"}},IBLSpecularFactor:{value:.23,params:{min:0,max:2,step:.01,label:"IBLSpecularFactor"}},Environement:{value:"env_default",params:{options:{default:"env_default",papermill:"env_papermill",night_sky:"env_night_sky",coffe_shop:"env_coffe_shop",studio:"env_studio"},label:"Environement"}},EnvironementDiffuse:{value:"LightBlack",params:{options:{default:"LightBlack",white:"env_diffuse_grey"},label:"EnvironementDiffuse"}},lightColor:{value:"#ff9838",params:{label:"lightColor"}},emissiveColor:{value:"#ff0b0b",params:{label:"emissiveColor"}},lightPower:{value:9.65,params:{min:0,max:10,step:.01,label:"lightPower"}},yOffset:{value:-1.5,params:{min:-10,max:10,step:.01,label:"yOffset"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}},Debug:{value:"disabled",params:{options:{disabled:"disabled",baseColor:"baseColor",metallic:"metallic",roughness:"roughness",specRef:"specRef",geomOcc:"geomOcc",mcrfctDist:"mcrfctDist",spec:"spec",mathDiff:"mathDiff"},label:"Debug"}},OverwriteEnvIBL:{value:!1,type:"bool"},EnvIBL:{value:{},type:"input-image",input:null}},"Hape_02 LIGHTS":{IBLDiffuseFactor:{value:1.24,params:{min:0,max:2,step:.01,label:"IBLDiffuseFactor"}},IBLSpecularFactor:{value:.7000000000000001,params:{min:0,max:2,step:.01,label:"IBLSpecularFactor"}},Environement:{value:"env_default",params:{options:{default:"env_default",papermill:"env_papermill",night_sky:"env_night_sky",coffe_shop:"env_coffe_shop",studio:"env_studio"},label:"Environement"}},EnvironementDiffuse:{value:"LightWhite",params:{options:{default:"LightWhite",white:"env_diffuse_grey"},label:"EnvironementDiffuse"}},lightColor:{value:"#5f5f5f",params:{label:"lightColor"}},emissiveColor:{value:"#ffffff",params:{label:"emissiveColor"}},lightPower:{value:5.41,params:{min:0,max:10,step:.01,label:"lightPower"}},yOffset:{value:-1.3,params:{min:-10,max:10,step:.01,label:"yOffset"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}},Debug:{value:"disabled",params:{options:{disabled:"disabled",baseColor:"baseColor",metallic:"metallic",roughness:"roughness",specRef:"specRef",geomOcc:"geomOcc",mcrfctDist:"mcrfctDist",spec:"spec",mathDiff:"mathDiff"},label:"Debug"}},OverwriteEnvIBL:{value:!1,type:"bool"},EnvIBL:{value:{},type:"input-image",input:null}},"Hape_03 LIGHTS":{IBLDiffuseFactor:{value:1.19,params:{min:0,max:2,step:.01,label:"IBLDiffuseFactor"}},IBLSpecularFactor:{value:0,params:{min:0,max:2,step:.01,label:"IBLSpecularFactor"}},Environement:{value:"env_default",params:{options:{default:"env_default",papermill:"env_papermill",night_sky:"env_night_sky",coffe_shop:"env_coffe_shop",studio:"env_studio"},label:"Environement"}},EnvironementDiffuse:{value:"env_diffuse_grey",params:{options:{default:"LightRed",white:"env_diffuse_grey"},label:"EnvironementDiffuse"}},lightColor:{value:"#ffafaf",params:{label:"lightColor"}},emissiveColor:{value:"#000000",params:{label:"emissiveColor"}},lightPower:{value:10,params:{min:0,max:10,step:.01,label:"lightPower"}},yOffset:{value:-1.5,params:{min:-10,max:10,step:.01,label:"yOffset"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}},Debug:{value:"disabled",params:{options:{disabled:"disabled",baseColor:"baseColor",metallic:"metallic",roughness:"roughness",specRef:"specRef",geomOcc:"geomOcc",mcrfctDist:"mcrfctDist",spec:"spec",mathDiff:"mathDiff"},label:"Debug"}},OverwriteEnvIBL:{value:!0,type:"bool"},EnvIBL:{value:{},type:"input-image",input:null}},"Global Settings":{Pause:{value:!1,type:"bool"},PauseLight:{value:!1,type:"bool"},time_scale:{value:2.2,params:{min:0,max:3,step:.01,label:"time_scale"}},scroll_damping:{value:.25,params:{min:0,max:1,step:.01,label:"scroll_damping"}},scroll_speed:{value:5.1000000000000005,params:{min:0,max:10,step:.1,label:"scroll_speed"}},reflectionHeight:{value:7,params:{min:0,max:10,step:.01,label:"reflectionHeight"}},reflectionAlphaMin:{value:100,params:{min:0,max:1e3,step:1,label:"reflectionAlphaMin"}},reflectionAlphaLimit:{value:1e3,params:{min:0,max:1e3,step:1,label:"reflectionAlphaLimit"}}},"Post Processing":{NoiseOpacity:{value:1,params:{min:0,max:1,step:.01,label:"NoiseOpacity"}},Gamma:{value:1.1,params:{min:0,max:2,step:.01,label:"Gamma"}},Exposure:{value:.1,params:{min:-2,max:2,step:.01,label:"Exposure"}},Contrast:{value:-.06,params:{min:-1,max:1,step:.01,label:"Contrast"}},Vignette:{value:.5,params:{min:0,max:1,step:.01,label:"Vignette"}},VignetteStrength:{value:.5,params:{min:0,max:1,step:.01,label:"VignetteStrength"}}},Skybox1:{Fov:{value:86,params:{min:10,max:180,step:1,label:"Fov"}},OverwriteSkybox:{value:!1,type:"bool"},Skybox:{value:{},type:"input-image",input:null}},Skybox2:{Fov:{value:80,params:{min:10,max:180,step:1,label:"Fov"}},OverwriteSkybox:{value:!1,type:"bool"},Skybox:{value:{},type:"input-image",input:null}},Skybox0:{Fov:{value:80,params:{min:10,max:180,step:1,label:"Fov"}},OverwriteSkybox:{value:!1,type:"bool"},Skybox:{value:{},type:"input-image",input:null}},Title1intro:{Color:{value:"#ffffff",params:{label:"Color"}},Blur:{value:0,params:{min:0,max:1,step:.01,label:"Blur"}},Offset:{value:.48,params:{min:0,max:1,step:.01,label:"Offset"}}},Title2intro:{Color:{value:"#000000",params:{label:"Color"}},Blur:{value:0,params:{min:0,max:1,step:.01,label:"Blur"}},Offset:{value:.48,params:{min:0,max:1,step:.01,label:"Offset"}}},Title0intro:{Color:{value:"#4c4235",params:{label:"Color"}},Blur:{value:0,params:{min:0,max:1,step:.01,label:"Blur"}},Offset:{value:.48,params:{min:0,max:1,step:.01,label:"Offset"}}},Grid1:{Color:{value:"#6f6a62",params:{label:"Color"}},Spacing:{value:15,params:{min:0,max:30,step:1,label:"Spacing"}},Offset:{value:1,params:{min:0,max:3,step:.01,label:"Offset"}},Opacity:{value:.07,params:{min:0,max:1,step:.01,label:"Opacity"}}},Floor1:{floorColor:{value:"#000000",params:{label:"floorColor"}},ReflectionOpacity:{value:1,params:{min:0,max:1,step:.01,label:"ReflectionOpacity"}},ReflectionSize:{value:4,params:{min:0,max:15,step:.1,label:"ReflectionSize"}},ReflectionScale:{value:.08600000000000001,params:{min:0,max:.1,step:.001,label:"ReflectionScale"}},CircleRadius:{value:0,params:{min:0,max:1,step:.001,label:"CircleRadius"}},Feather:{value:1,params:{min:0,max:1,step:.001,label:"Feather"}},ScrollSpeed:{value:.055,params:{min:0,max:.1,step:.001,label:"ScrollSpeed"}}},Floor2:{floorColor:{value:"#4c0909",params:{label:"floorColor"}},ReflectionOpacity:{value:.84,params:{min:0,max:1,step:.01,label:"ReflectionOpacity"}},ReflectionSize:{value:4,params:{min:0,max:15,step:.1,label:"ReflectionSize"}},ReflectionScale:{value:.076,params:{min:0,max:.1,step:.001,label:"ReflectionScale"}},CircleRadius:{value:.315,params:{min:0,max:1,step:.001,label:"CircleRadius"}},Feather:{value:.587,params:{min:0,max:1,step:.001,label:"Feather"}},ScrollSpeed:{value:.052000000000000005,params:{min:0,max:.1,step:.001,label:"ScrollSpeed"}}},Floor0:{floorColor:{value:"#0c0c0c",params:{label:"floorColor"}},ReflectionOpacity:{value:1,params:{min:0,max:1,step:.01,label:"ReflectionOpacity"}},ReflectionSize:{value:4,params:{min:0,max:15,step:.1,label:"ReflectionSize"}},ReflectionScale:{value:.08,params:{min:0,max:.1,step:.001,label:"ReflectionScale"}},CircleRadius:{value:.098,params:{min:0,max:1,step:.001,label:"CircleRadius"}},Feather:{value:.185,params:{min:0,max:1,step:.001,label:"Feather"}},ScrollSpeed:{value:.048,params:{min:0,max:.1,step:.001,label:"ScrollSpeed"}}},"Tube-01":{albedoColor:{value:"#f89090",params:{label:"albedoColor"}},IBL:{value:10,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.2,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.5,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},EmissiveColor:{value:"#ff9187",params:{label:"EmissiveColor"}},EmissivePower:{value:5,params:{min:0,max:5,step:.01,label:"EmissivePower"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},"Tube-02":{albedoColor:{value:"#f89090",params:{label:"albedoColor"}},IBL:{value:10,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.2,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.5,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},EmissiveColor:{value:"#ff9187",params:{label:"EmissiveColor"}},EmissivePower:{value:5,params:{min:0,max:5,step:.01,label:"EmissivePower"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},"Tube-03":{albedoColor:{value:"#f89090",params:{label:"albedoColor"}},IBL:{value:10,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.2,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.5,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},EmissiveColor:{value:"#ff9187",params:{label:"EmissiveColor"}},EmissivePower:{value:5,params:{min:0,max:5,step:.01,label:"EmissivePower"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},"Tube-04":{albedoColor:{value:"#f89090",params:{label:"albedoColor"}},IBL:{value:10,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.2,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.5,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},EmissiveColor:{value:"#ff9187",params:{label:"EmissiveColor"}},EmissivePower:{value:5,params:{min:0,max:5,step:.01,label:"EmissivePower"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},"Tube-05":{albedoColor:{value:"#f89090",params:{label:"albedoColor"}},IBL:{value:10,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.2,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.5,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},EmissiveColor:{value:"#ff9187",params:{label:"EmissiveColor"}},EmissivePower:{value:5,params:{min:0,max:5,step:.01,label:"EmissivePower"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},"Tube-06":{albedoColor:{value:"#f89090",params:{label:"albedoColor"}},IBL:{value:10,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.2,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.5,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},EmissiveColor:{value:"#ff9187",params:{label:"EmissiveColor"}},EmissivePower:{value:5,params:{min:0,max:5,step:.01,label:"EmissivePower"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Particles0:{count:{value:600,params:{min:1,max:1e3,step:1,label:"count"}},color:{value:"#f18a45",params:{label:"color"}},color1:{value:"#982a00",params:{label:"color1"}},wind_X:{value:-30,params:{min:-30,max:30,step:.1,label:"wind_X"}},wind_Y:{value:20,params:{min:-30,max:30,step:.1,label:"wind_Y"}},wind_Z:{value:9,params:{min:-30,max:30,step:.1,label:"wind_Z"}},TimeScale:{value:.61,params:{min:0,max:2,step:.01,label:"TimeScale"}},Gravity:{value:-6.800000000000001,params:{min:-100,max:100,step:.1,label:"Gravity"}},FadeDistance:{value:300,params:{min:0,max:1e3,step:1,label:"FadeDistance"}},NoiseIntensity:{value:45,params:{min:0,max:150,step:.1,label:"NoiseIntensity"}},NoiseFrenquency:{value:1.5,params:{min:0,max:2,step:.01,label:"NoiseFrenquency"}},ParticleOpacity:{value:.8,params:{min:0,max:1,step:.01,label:"ParticleOpacity"}},ParticleScale:{value:215,params:{min:0,max:1e3,step:1,label:"ParticleScale"}}},Particles1:{count:{value:600,params:{min:1,max:1e3,step:1,label:"count"}},color:{value:"#ffffff",params:{label:"color"}},color1:{value:"#dfd7c7",params:{label:"color1"}},wind_X:{value:-30,params:{min:-30,max:30,step:.1,label:"wind_X"}},wind_Y:{value:20,params:{min:-30,max:30,step:.1,label:"wind_Y"}},wind_Z:{value:10,params:{min:-30,max:30,step:.1,label:"wind_Z"}},TimeScale:{value:.63,params:{min:0,max:2,step:.01,label:"TimeScale"}},Gravity:{value:-15.200000000000001,params:{min:-100,max:100,step:.1,label:"Gravity"}},FadeDistance:{value:342,params:{min:0,max:1e3,step:1,label:"FadeDistance"}},NoiseIntensity:{value:30,params:{min:0,max:150,step:.1,label:"NoiseIntensity"}},NoiseFrenquency:{value:.1,params:{min:0,max:2,step:.01,label:"NoiseFrenquency"}},ParticleOpacity:{value:1,params:{min:0,max:1,step:.01,label:"ParticleOpacity"}},ParticleScale:{value:380,params:{min:0,max:1e3,step:1,label:"ParticleScale"}}},Particles2:{count:{value:600,params:{min:1,max:1e3,step:1,label:"count"}},color:{value:"#ff0500",params:{label:"color"}},color1:{value:"#ff1300",params:{label:"color1"}},wind_X:{value:-30,params:{min:-30,max:30,step:.1,label:"wind_X"}},wind_Y:{value:20,params:{min:-30,max:30,step:.1,label:"wind_Y"}},wind_Z:{value:10,params:{min:-30,max:30,step:.1,label:"wind_Z"}},TimeScale:{value:.63,params:{min:0,max:2,step:.01,label:"TimeScale"}},Gravity:{value:-15,params:{min:-100,max:100,step:.1,label:"Gravity"}},FadeDistance:{value:150,params:{min:0,max:1e3,step:1,label:"FadeDistance"}},NoiseIntensity:{value:30,params:{min:0,max:150,step:.1,label:"NoiseIntensity"}},NoiseFrenquency:{value:.1,params:{min:0,max:2,step:.01,label:"NoiseFrenquency"}},ParticleOpacity:{value:1,params:{min:0,max:1,step:.01,label:"ParticleOpacity"}},ParticleScale:{value:375,params:{min:0,max:1e3,step:1,label:"ParticleScale"}}},Hape_003_Body:{albedoColor:{value:"#cc9d9a",params:{label:"albedoColor"}},IBL:{value:2.15,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:2,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.43,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.65,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}},FurOffset:{value:.083,params:{min:0,max:.2,step:.001,label:"FurOffset"}},FurNoiseScale:{value:24.8,params:{min:0,max:30,step:.1,label:"FurNoiseScale"}},FurSampleRange:{value:.028,params:{min:0,max:.1,step:.001,label:"FurSampleRange"}},FurSampleOffset:{value:.47000000000000003,params:{min:0,max:1,step:.01,label:"FurSampleOffset"}},FurOcclusion:{value:.08,params:{min:0,max:1,step:.01,label:"FurOcclusion"}}},Hape_003_Pants:{albedoColor:{value:"#ffb4b4",params:{label:"albedoColor"}},IBL:{value:3.34,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.84,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.34,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.42,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_003_FivePanel_Black:{albedoColor:{value:"#bc0505",params:{label:"albedoColor"}},IBL:{value:3.7,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:2,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.87,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:1.21,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_003_Laces_2:{albedoColor:{value:"#000000",params:{label:"albedoColor"}},IBL:{value:4.0200000000000005,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.17,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.3,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_003_Laces_1:{albedoColor:{value:"#ff0000",params:{label:"albedoColor"}},IBL:{value:1.2,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:0,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:1.37,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:.96,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_003_Default:{albedoColor:{value:"#ffaaaa",params:{label:"albedoColor"}},IBL:{value:3.48,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.8,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.6,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.78,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_003_Default_2:{albedoColor:{value:"#ffaaaa",params:{label:"albedoColor"}},IBL:{value:3.48,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.8,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.6,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.78,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_003_Default_3_2:{albedoColor:{value:"#ff3131",params:{label:"albedoColor"}},IBL:{value:1.74,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:2,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.93,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.55,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_003_Default_3_1:{albedoColor:{value:"#af0000",params:{label:"albedoColor"}},IBL:{value:5,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.3,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:1.27,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_003_D_Print_Smooth_Ape_Model_eye_r:{albedoColor:{value:"#ff101b",params:{label:"albedoColor"}},IBL:{value:1.4000000000000001,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:0,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:1.1,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_003_D_Print_Smooth_Ape_Model_eye_l:{albedoColor:{value:"#ff101b",params:{label:"albedoColor"}},IBL:{value:1.4000000000000001,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:0,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:1.1,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_beanie_part1:{albedoColor:{value:"#ffa037",params:{label:"albedoColor"}},IBL:{value:2.2800000000000002,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.37,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.4,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.62,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.61,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_beanie_part2:{albedoColor:{value:"#ffa037",params:{label:"albedoColor"}},IBL:{value:2.17,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.6300000000000001,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.4,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.62,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.7000000000000001,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_gold_piercing_glass:{albedoColor:{value:"#ff5d00",params:{label:"albedoColor"}},IBL:{value:3.91,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:2,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.59,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_eye_r:{albedoColor:{value:"#ffa314",params:{label:"albedoColor"}},IBL:{value:8.59,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.3,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:0,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_eye_l:{albedoColor:{value:"#ffa314",params:{label:"albedoColor"}},IBL:{value:8.59,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.3,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:0,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_shoes_l:{albedoColor:{value:"#1c0c00",params:{label:"albedoColor"}},IBL:{value:1.85,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.3,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.68,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_pants_border:{albedoColor:{value:"#ffffff",params:{label:"albedoColor"}},IBL:{value:3.99,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.28,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.4,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.51,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_pants:{albedoColor:{value:"#ffa037",params:{label:"albedoColor"}},IBL:{value:3.37,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.43,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.26,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.9500000000000001,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.87,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_shoes_r:{albedoColor:{value:"#1c0c00",params:{label:"albedoColor"}},IBL:{value:1.85,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.3,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.65,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_pull:{albedoColor:{value:"#ff9b2d",params:{label:"albedoColor"}},IBL:{value:1.2,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:2,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:0,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.51,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_body:{albedoColor:{value:"#dfdbd3",params:{label:"albedoColor"}},IBL:{value:2.39,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.43,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:0,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.55,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}},FurOffset:{value:.1,params:{min:0,max:.2,step:.001,label:"FurOffset"}},FurNoiseScale:{value:23.5,params:{min:0,max:30,step:.1,label:"FurNoiseScale"}},FurSampleRange:{value:.026000000000000002,params:{min:0,max:.1,step:.001,label:"FurSampleRange"}},FurSampleOffset:{value:.46,params:{min:0,max:1,step:.01,label:"FurSampleOffset"}},FurOcclusion:{value:.05,params:{min:0,max:1,step:.01,label:"FurOcclusion"}}},Hape_001_glasses_monture:{albedoColor:{value:"#000000",params:{label:"albedoColor"}},IBL:{value:2.39,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.63,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.26,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_001_glasses_glass:{albedoColor:{value:"#000000",params:{label:"albedoColor"}},IBL:{value:3.12,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.62,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.19,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:.92,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Body_ALL:{albedoColor:{value:"#e5d8d8",params:{label:"albedoColor"}},IBL:{value:1.41,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:2,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:0,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.45,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.5,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}},FurOffset:{value:.111,params:{min:0,max:.2,step:.001,label:"FurOffset"}},FurNoiseScale:{value:22,params:{min:0,max:30,step:.1,label:"FurNoiseScale"}},FurSampleRange:{value:.015,params:{min:0,max:.1,step:.001,label:"FurSampleRange"}},FurSampleOffset:{value:.5,params:{min:0,max:1,step:.01,label:"FurSampleOffset"}},FurOcclusion:{value:.79,params:{min:0,max:1,step:.01,label:"FurOcclusion"}}},Hape_002_Eyes:{albedoColor:{value:"#9b6d07",params:{label:"albedoColor"}},IBL:{value:9.65,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.36,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:0,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Shorts:{albedoColor:{value:"#a8a09d",params:{label:"albedoColor"}},IBL:{value:2.2800000000000002,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.43,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:0,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:1.08,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.46,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Diamond_Round:{albedoColor:{value:"#ffffff",params:{label:"albedoColor"}},IBL:{value:3.04,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.85,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:0,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Earings:{albedoColor:{value:"#ff8b2e",params:{label:"albedoColor"}},IBL:{value:5.62,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:1.99,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.32,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Chain_01:{albedoColor:{value:"#afa29d",params:{label:"albedoColor"}},IBL:{value:5.87,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.76,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.36,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.67,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Snapback_Cap_Part1:{albedoColor:{value:"#b56a19",params:{label:"albedoColor"}},IBL:{value:1.18,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:0,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.26,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.75,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Snapback_Cap_Part2:{albedoColor:{value:"#e5d8d8",params:{label:"albedoColor"}},IBL:{value:1.6300000000000001,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.26,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.28,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.46,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.64,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Snapback_Cap_Part3:{albedoColor:{value:"#e5d8d8",params:{label:"albedoColor"}},IBL:{value:2.61,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.5,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.4,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.91,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.76,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Snapback_Cap_Part4:{albedoColor:{value:"#ffffff",params:{label:"albedoColor"}},IBL:{value:2,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.4,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.75,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Glasses:{albedoColor:{value:"#e5d8d8",params:{label:"albedoColor"}},IBL:{value:2.17,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.7000000000000001,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.72,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Gold:{albedoColor:{value:"#e26400",params:{label:"albedoColor"}},IBL:{value:5.33,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.8300000000000001,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.1,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.6,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Arm_L_000:{albedoColor:{value:"#afa29d",params:{label:"albedoColor"}},IBL:{value:2.2800000000000002,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.39,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.49,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Arm_R_000:{albedoColor:{value:"#afa29d",params:{label:"albedoColor"}},IBL:{value:2.2800000000000002,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.39,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.49,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Tee_shirt_part1:{albedoColor:{value:"#e5d8d8",params:{label:"albedoColor"}},IBL:{value:1.52,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:2,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.17,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.9500000000000001,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.5700000000000001,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Tee_shirt_part2:{albedoColor:{value:"#e5d8d8",params:{label:"albedoColor"}},IBL:{value:1.3,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:0,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.85,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Shoe_R:{albedoColor:{value:"#afa29d",params:{label:"albedoColor"}},IBL:{value:3.15,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.57,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.33,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.68,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.68,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Hape_002_Shoe_L:{albedoColor:{value:"#afa29d",params:{label:"albedoColor"}},IBL:{value:3.15,params:{min:0,max:10,step:.01,label:"IBL"}},NormalScale:{value:1.57,params:{min:0,max:2,step:.01,label:"NormalScale"}},MetalicFactor:{value:.33,params:{min:0,max:2,step:.01,label:"MetalicFactor"}},RoughnessFactor:{value:.68,params:{min:0,max:3,step:.01,label:"RoughnessFactor"}},OcclusionFactor:{value:.68,params:{min:0,max:1,step:.01,label:"OcclusionFactor"}},Alpha:{value:1,params:{min:0,max:1,step:.01,label:"Alpha"}}},Bloom:{BloomTintWhite:{value:"#ffffff",params:{label:"BloomTintWhite"}},BloomTintBlack:{value:"#f5c67d",params:{label:"BloomTintBlack"}},BloomTintRed:{value:"#ff0000",params:{label:"BloomTintRed"}},ThresholdWhite:{value:1.25,params:{min:0,max:1.25,step:.01,label:"ThresholdWhite"}},ThresholdBlack:{value:.35,params:{min:0,max:1.25,step:.01,label:"ThresholdBlack"}},ThresholdRed:{value:.45,params:{min:0,max:1.25,step:.01,label:"ThresholdRed"}},Blur:{value:.75,params:{min:0,max:1,step:.01,label:"Blur"}},Overdrive:{value:0,params:{min:0,max:1,step:.01,label:"Overdrive"}},Similarity:{value:.01,params:{min:0,max:.1,step:.001,label:"Similarity"}}},Rays0:{Color:{value:"#cb6c04",params:{label:"Color"}},Scale_X:{value:2.7,params:{min:0,max:8,step:.1,label:"Scale_X"}},Fade:{value:.49,params:{min:0,max:3,step:.01,label:"Fade"}},TimeScale:{value:.61,params:{min:0,max:3,step:.01,label:"TimeScale"}},Height:{value:1.75,params:{min:0,max:3,step:.01,label:"Height"}},Width:{value:1.56,params:{min:0,max:3,step:.01,label:"Width"}},Opacity:{value:.5,params:{min:0,max:1,step:.01,label:"Opacity"}}},Rays1:{Color:{value:"#a8a8a8",params:{label:"Color"}},Scale_X:{value:4.2,params:{min:0,max:8,step:.1,label:"Scale_X"}},Fade:{value:2.05,params:{min:0,max:3,step:.01,label:"Fade"}},TimeScale:{value:.68,params:{min:0,max:3,step:.01,label:"TimeScale"}},Height:{value:2.57,params:{min:0,max:3,step:.01,label:"Height"}},Width:{value:2.24,params:{min:0,max:3,step:.01,label:"Width"}},Opacity:{value:.42,params:{min:0,max:1,step:.01,label:"Opacity"}}},Compositing:{Gamma:{value:1,params:{min:0,max:5,step:.01,label:"Gamma"}},Exposure:{value:.1,params:{min:0,max:2,step:.01,label:"Exposure"}},Contrast:{value:-.06,params:{min:-1,max:2,step:.01,label:"Contrast"}},Vignette:{value:.5,params:{min:0,max:1,step:.01,label:"Vignette"}},VignetteStrength:{value:.51,params:{min:0,max:1,step:.01,label:"VignetteStrength"}},NoiseOpacity:{value:.3,params:{min:0,max:1,step:.01,label:"NoiseOpacity"}},SpringDamping:{value:3.5,params:{min:0,max:10,step:.01,label:"SpringDamping"}},SpringStiffness:{value:60,params:{min:0,max:100,step:.01,label:"SpringStiffness"}},SpringMass:{value:.1,params:{min:0,max:1,step:.01,label:"SpringMass"}},ProgressSpeed:{value:2,params:{min:0,max:10,step:.01,label:"ProgressSpeed"}}}};class xQ{constructor(){this.active=this.queryDebug(),this._emitter={},gu(this._emitter),this.on=this._emitter.on.bind(this._emitter),this.init(),this.configs={},this.inputs={},this.savedConfigs={},this.folders={}}queryDebug(e="dev"){let n=window.location.href;e=e.replace(/[[]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),s=i.exec(n);return s?decodeURIComponent(s[2].replace(/\+/g," "))==="true":!1}initNetwork(){this.networkIsOnline=!1,this.networkInputs={},this.networkParams={status:"\u{1F534} offline",name:localStorage.getItem("firebase-gui-name")||"","config-list":[]},this.networkPane=new Dh.exports.Pane({title:"Network",expanded:!0}),this.networkPane.hidden=!this.active||this.queryDebug("demo"),this.networkPane.containerElem_.style.right="auto",this.networkPane.containerElem_.style.left="8px",this.networkPane.containerElem_.style.top="auto",this.networkPane.containerElem_.style.bottom="8px",this.networkPane.containerElem_.style.maxWidth="400px",this.networkPane.addMonitor(this.networkParams,"status",{multiline:!1,lineCount:1}),this.networkPane.addSeparator(),this.networkInputs.list=this.networkPane.addBlade({view:"list",label:"presets",options:this.networkParams["config-list"],value:"none"}),this.networkPane.addSeparator(),this.networkInputs.sync=this.networkPane.addButton({title:"Sync"}),this.networkInputs.dump=this.networkPane.addButton({title:"Dump"}),this.networkPane.addSeparator(),this.networkInputs.name=this.networkPane.addInput(this.networkParams,"name"),this.networkInputs.save=this.networkPane.addButton({title:"Save"}),this.firebase=Z7(firebaseConfig),this.initNetworkEvents(),this.updateNetworkStatus()}initNetworkEvents(){this.networkInputs.name.on("change",e=>{localStorage.setItem("firebase-gui-name",e.value)}),this.networkInputs.dump.on("click",()=>{console.log(JSON.stringify(this.configs))}),this.networkInputs.save.on("click",()=>{if(this.networkParams.name==""){alert("Please fill a name in Network GUI");return}for(const i in this.configs)if(Object.hasOwnProperty.call(this.configs,i)){const s=this.configs[i];if(this.configs[i]){const r=this.configs[i];for(const a in s)if(Object.hasOwnProperty.call(s,a)&&(s[a],r[a])){const o=r[a];o.type=="input-image"&&(o.value="placeholder")}}}const e=`${this.networkParams.name}___${new Date().toUTCString().replaceAll(",","").replaceAll(" ","-")}`;console.log("saving",e);const n=Xb();console.log(this.configs),uQ(Yb(n,"configs/"+e),this.configs).then(()=>{this.refreshNetwork()})}),this.networkInputs.sync.on("click",()=>{this.refreshNetwork()})}refreshNetwork(){const e=Xb(),n=Yb(e,"configs/");RT(n,i=>{const s=i.val();this.savedConfigs=s,this.networkParams["config-list"].length=0,this.networkParams["config-list"].push({text:"current",value:null});for(const r in s)Object.hasOwnProperty.call(s,r)&&this.networkParams["config-list"].push({text:r,value:r});this.networkInputs.list.dispose(),this.networkInputs.list=this.networkPane.addBlade({view:"list",label:"presets",index:1,options:this.networkParams["config-list"],value:"none"}),this.networkInputs.list.on("change",r=>{this.applyConfig(r.value)}),setTimeout(()=>{this.networkPane.refresh()},200)})}updateNetworkStatus(){const e=Xb(),n=Yb(e,".info/connected");RT(n,i=>{i.val()===!0?(this.networkIsOnline=!0,console.log("GUI connected"),this.refreshNetwork(),this.networkParams.status="\u{1F7E2} online"):(this.networkIsOnline=!1,console.log("GUI not connected")),this.networkInputs.sync.disabled=!this.networkIsOnline,this.networkInputs.dump.disabled=!this.networkIsOnline,this.networkInputs.save.disabled=!this.networkIsOnline,this.networkPane.refresh()})}applyConfig(e){for(const n in this.savedConfigs[e])if(Object.hasOwnProperty.call(this.savedConfigs[e],n)){const i=this.savedConfigs[e][n];if(this.configs[n]){const s=this.configs[n];for(const r in i)if(Object.hasOwnProperty.call(i,r)){const a=i[r];if(s[r]){const o=s[r];o.value=a.value}}}}this.pane.refresh()}applyConfigFile(e){for(const n in e)if(Object.hasOwnProperty.call(e,n)){const i=e[n];if(this.configs[n]){const s=this.configs[n];for(const r in i)if(Object.hasOwnProperty.call(i,r)){const a=i[r];if(s[r]){const o=s[r];o.value=a.value}}}}this.pane.refresh()}init(){this.pane=new Dh.exports.Pane({title:"Debug UI",expanded:!0}),this.pane.hidden=!this.active||this.queryDebug("demo"),this.scenePane=new Dh.exports.Pane({title:"Scene Conroller",expanded:!0}),this.scenePane.hidden=!this.active,this.scenePane.containerElem_.style.right="auto",this.scenePane.containerElem_.style.left="8px",this.pane.registerPlugin(G9),this.pane.registerPlugin(Y9),this.fpsGraph=this.pane.addBlade({view:"fpsgraph",label:"FPS",lineCount:2}),this.tab=this.pane.addTab({pages:[{title:"General"},{title:"Hape Black"},{title:"Hape White"},{title:"Hape Red"}]}),li.onBefore=this.fpsGraph.begin.bind(this.fpsGraph),li.onAfter=this.fpsGraph.end.bind(this.fpsGraph),document.head.insertAdjacentHTML("beforeend",`<style>
    :root {
      --tp-base-background-color: hsla(0, 0%, 10%, 1);
      --tp-base-shadow-color: hsla(0, 0%, 0%, 0.2);
      --tp-button-background-color: hsla(0, 0%, 80%, 1);
      --tp-button-background-color-active: hsla(0, 0%, 100%, 1);
      --tp-button-background-color-focus: hsla(0, 0%, 95%, 1);
      --tp-button-background-color-hover: hsla(0, 0%, 85%, 1);
      --tp-button-foreground-color: hsla(0, 0%, 0%, 0.8);
      --tp-container-background-color: hsla(0, 0%, 0%, 0.3);
      --tp-container-background-color-active: hsla(0, 0%, 0%, 0.6);
      --tp-container-background-color-focus: hsla(0, 0%, 0%, 0.5);
      --tp-container-background-color-hover: hsla(0, 0%, 0%, 0.4);
      --tp-container-foreground-color: hsla(0, 0%, 100%, 0.5);
      --tp-groove-foreground-color: hsla(0, 0%, 0%, 0.2);
      --tp-input-background-color: hsla(0, 0%, 0%, 0.3);
      --tp-input-background-color-active: hsla(0, 0%, 0%, 0.6);
      --tp-input-background-color-focus: hsla(0, 0%, 0%, 0.5);
      --tp-input-background-color-hover: hsla(0, 0%, 0%, 0.4);
      --tp-input-foreground-color: hsla(0, 0%, 100%, 0.5);
      --tp-label-foreground-color: hsla(0, 0%, 100%, 0.5);
      --tp-monitor-background-color: hsla(0, 0%, 0%, 0.3);
      --tp-monitor-foreground-color: hsla(0, 0%, 100%, 0.3);
    }
    .tp-dfwv {
      width: 500px !important;
      z-index: 100;
    }
    </style>`),this.pane.containerElem_.addEventListener("mouseover",()=>{this._emitter.emit("prevent")}),this.pane.containerElem_.addEventListener("mouseleave",()=>{this._emitter.emit("unprevent")})}onLoaded(){this.applyConfigFile(_Q)}addConfig(){}addBladeScene(e,n){this.folders[n]=this.scenePane.addFolder({title:n,expanded:!0});for(const i in e)if(Object.hasOwnProperty.call(e,i)){const s=e[i];this.folders[n].addInput(s,"value",Object.assign(s.params,{label:i}))}}addBlade(e,n,i=0){this.folders[n]=this.tab.pages[i].addFolder({title:n,expanded:!1});let s={};this.inputs[n]={};for(const r in e)if(Object.hasOwnProperty.call(e,r)){const a=e[r];if(a.type=="input-image"){const o=this.folders[n].addInput(a,"value",{view:"input-image",imageFit:"contain",label:r});this.inputs[n][r]=o}else a.type=="bool"?this.folders[n].addInput(a,"value",{label:r}):(this.configs[n]=e,s[r]=this.folders[n].addInput(a,"value",Object.assign(a.params,{label:r})))}return s}}const ot=new xQ,IT={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function OT(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function yQ(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function NT(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?OT(t):IT[t.toLowerCase()]?OT(IT[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):yQ(t)}function Qb(t){var e=t.toString(16);return e.length==1?"0"+e:e}function wQ(t,e,n){return"#"+Qb(t)+Qb(e)+Qb(n)}class tt extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...NT(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}getHex(){return wQ(Math.round(this[0]*255),Math.round(this[0]*255),Math.round(this[0]*255))}getRGBA(){return[this[0],this[1],this[2],1]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(NT(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class Jb{constructor(e,n,i,{parent:s=null,id:r=0,blendFunc:a={src:e.gl.SRC_ALPHA,dst:e.gl.ONE_MINUS_SRC_ALPHA},transparent:o=!1,depthTest:l=!0,depthWrite:c=!0,rt:h=null,renderOrder:p=0,alpha:d=1}={}){this.gl=e.gl,this.scene=e,this.parent=s||e.root,this.scale=2e3,this.transparent=o,this.blendFunc=a,this.depthTest=l,this.depthWrite=c,this.rt=h,this.textureId=i,this.renderOrder=p,this.shader=new Bi(Gn[n]),this.texture=new Kt(this.gl,{rt:this.rt,width:this.rt.width,height:this.rt.height}),this.noiseTexture=new Kt(this.gl),this.alpha=d,this.color=Tn(0,0,0),this.config={floorColor:{value:"#8f8f8f",params:{}},ReflectionOpacity:{value:.5,params:{min:0,max:1,step:.01}},ReflectionSize:{value:5,params:{min:0,max:15,step:.1}},ReflectionScale:{value:.035,params:{min:0,max:.1,step:.001}},CircleRadius:{value:.33,params:{min:0,max:1,step:.001}},Feather:{value:.1,params:{min:0,max:1,step:.001}},ScrollSpeed:{value:.07,params:{min:0,max:.1,step:.001}}},ot.addBlade(this.config,"Floor"+r,r+1),this.init()}init(){this.geometry=new fi(this.gl),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,cullFace:this.gl.FRONT,uniforms:{uTexture:{value:this.texture},uNoiseTexture:{value:this.noiseTexture},uTime:{value:this.scene.time},uAlpha:{value:this.alpha},uColor:{value:this.color},uReflectionOpacity:this.config.ReflectionOpacity,uReflectionSize:this.config.ReflectionSize,uReflectionScale:this.config.ReflectionScale,uCircleRadius:this.config.CircleRadius,uFeather:this.config.Feather,uScrollSpeed:this.config.ScrollSpeed,uRez:{value:[this.scene.width,this.scene.height]}}}),this.program.setBlendFunc(this.blendFunc.src,this.blendFunc.dst),this.mesh=new ui(this.gl,{geometry:this.geometry,program:this.program,renderOrder:this.renderOrder}),this.mesh.scale.set(this.scale,this.scale,this.scale),this.mesh.rotation.x=Math.PI/2,this.mesh.setParent(this.parent),this.scene.on("konami",()=>[this.config.ScrollSpeed.value=0])}onLoaded(){this.noiseTexture=this.scene.textureLoader.getTexture("noiseGroundTest"),this.noiseTexture.needsUpdate=!0,this.program.uniforms.uNoiseTexture.value=this.noiseTexture}preRender(){this.texture.needsUpdate=!0,this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uAlpha.value=this.alpha,this.program.uniforms.uColor.value=new tt(this.config.floorColor.value),this.program.uniforms.uRez.value=[this.scene.width,this.scene.height]}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}class qO{constructor(e,n,i){this.mesh=e,this.bonesNumb=n.joints.length,this.skinData=n,this.rootnodeName=i,this.allocateData(),this.initNodes(),this.getBindPose(),this.computeAttributeData()}initNodes(){for(let n=0;n<this.skinData.joints.length;n++){const i=this.skinData.joints[n];for(let s=0;s<this.mesh.nodes.length;s++){const r=this.mesh.nodes[s];r.sid!==void 0&&r.sid==i.sid&&(i.node=r,r.joint=i,this.bonesNode.push(r))}}let e;for(let n=0;n<this.mesh.nodes.length;n++)this.mesh.nodes[n].name==this.rootnodeName&&(e=this.mesh.nodes[n]);this.mesh.transform.addChild(e),this.rootNode=e;for(let n=0;n<this.bonesNode.length;n++)this.bonesNode[n].updateMatrixWorld(!0)}allocateData(){this.boneArray=new Float32Array(this.bonesNumb*16),this.boneMatrices=[],this.bindPose=[],this.bindPoseInv=[],this.bonesNode=[];for(var e=0;e<this.bonesNumb;++e)this.boneMatrices.push(new Float32Array(this.boneArray.buffer,e*4*16,16)),this.bindPose.push(Wn()),this.bindPoseInv.push(Wn())}computeAttributeData(){let e=this.skinData.attribStackNum;this.attribData={};for(let n=0;n<e;n++){let i=this.skinData["weight_"+n],s=this.skinData["ndx_"+n],r=[],a=[];for(let o=0;o<this.mesh.geomData.vertexIndex.length;o++){const l=this.mesh.geomData.vertexIndex[o];r.push(i[l*4+0]),r.push(i[l*4+1]),r.push(i[l*4+2]),r.push(i[l*4+3]),a.push(s[l*4+0]),a.push(s[l*4+1]),a.push(s[l*4+2]),a.push(s[l*4+3])}this.attribData["weight_"+n]=new Float32Array(r),this.attribData["ndx_"+n]=new Float32Array(a)}}getBindPose(){for(let e=0;e<this.bonesNode.length;e++){let n=Wn();MW(n,this.bonesNode[e].joint.invBindMatrrix),lx(n,n),cm(this.bindPose[e],n)}for(let e=0;e<this.bindPose.length;e++)lx(this.bindPoseInv[e],this.bindPose[e])}update(){this.rootNode.updateMatrix(),this.rootNode.updateMatrixWorld(!0);for(let e=0;e<this.bonesNode.length;e++){const n=this.bonesNode[e];n.updateMatrix(),n.updateMatrixWorld(!0),cm(this.boneMatrices[e],n.worldMatrix),lI(this.boneMatrices[e],this.boneMatrices[e],this.bindPoseInv[e])}}}En();En();const Pa=ia(),Aa=ia();ia();const SQ=60;class WO{constructor(e,n,i,s){this.scene=e,this.nodeTree=n,this.rootNode=i,this.mesh=s,this.animations={},this.clock=setTimeout(()=>{},0),this.currentAnim=null,this.pendingAnim=null,this.animationBlending=0,this.blendDamping=.1,this.positionOffset={x:0,y:0,z:0,rx:0,ry:0,rz:0},this.states={},this.initTree()}setAnim(e){this.currentAnim=e,this.states[e].progressTarget=1,this.states[e].progress=1}onLoaded(){for(const e in this.animations)if(this.animations.hasOwnProperty(e)){this.states[e]={progress:0,progressTarget:0,active:!1};for(let n=0;n<this.animations[e].length;n++){const i=this.animations[e][n];i.time=0,i.frame=0,i.node=new Kp,i.node.name=i.target;let s=0;for(const r in i.animations)if(i.animations.hasOwnProperty(r)){const a=i.animations[r];a.frameLength>s&&(s=a.frameLength)}i.frameLength=s}}}initTree(){this.nodesDictionary={};for(let e=0;e<this.nodeTree.length;e++)this.nodeTree[e].initialPos=zr(this.nodeTree[e].position),this.nodeTree[e].initialRot=zr(this.nodeTree[e].rotation),this.nodeTree[e].forceUpdate=!0,this.nodesDictionary[this.nodeTree[e].name]=this.nodeTree[e],this.nodeTree[e].manualRot=!0;this.rootNode.forceUpdate=!0}getNode(e){for(let n=0;n<this.nodeTree.length;n++)if(this.nodeTree[n].name==e)return this.nodeTree[n]}updateAnimationTrack(e,n=null){for(let i=0;i<this.animations[e].length;i++){const s=this.animations[e][i];s.frameLength>2&&(n!==null?(s.time=0,s.frame=0):(s.time=this.scene.time,s.time=s.time%(s.frameLength/SQ),s.frame=this.scene.animFrame,s.frame=s.frame%s.frameLength))}}getPosesFromTrack(e){let n=[];for(let i=0;i<this.animations[e].length;i++){const s=this.animations[e][i];if(!(s.frameLength===0||!("rotateX"in s.animations)&&!("rotateY"in s.animations)&&!("rotateZ"in s.animations)&&!("translate"in s.animations))){if(s.node.rotation[0]=s.animations.rotateX.source[s.frame]/180*Math.PI,s.node.rotation[1]=s.animations.rotateY.source[s.frame]/180*Math.PI,s.node.rotation[2]=s.animations.rotateZ.source[s.frame]/180*Math.PI,s.target==this.rootNode.name&&s.animations.translate){const r=s.animations.translate.stride;s.node.position[0]=s.animations.translate.source[s.frame*r+0],s.node.position[1]=s.animations.translate.source[s.frame*r+1]+this.mesh.globalConfig.yOffset.value,s.node.position[2]=s.animations.translate.source[s.frame*r+2]}n.push(s.node)}}return n}applyAnimationFromTracks(e,n,i){let s=this.getPosesFromTrack(e),r;n!==null&&(r=this.getPosesFromTrack(n));for(let a=0;a<s.length;a++){const o=s[a],l=this.nodesDictionary[o.name];if(l!=null){if(SE(Pa),hm(Pa,Pa,o.rotation[1]),um(Pa,Pa,o.rotation[0]),pm(Pa,Pa,o.rotation[2]),n!==null){const c=r[a];SE(Aa),hm(Aa,Aa,c.rotation[1]),um(Aa,Aa,c.rotation[0]),pm(Aa,Aa,c.rotation[2])}Fh(l.quaternion,Pa,Aa,i),l.readyToUse=!0,o.name==this.rootNode.name?n!==null?cI(l.position,o.position,r[a].position,i):cr(l.position,o.position):(l.updateMatrix(),l.updateMatrixWorld(!0))}}}goToState(e){this.currentAnim!=e}update(){if(this.currentAnim==null)return;const e=[];for(const n in this.states)if(Object.hasOwnProperty.call(this.states,n)){let i=this.states[n].progressTarget-this.states[n].progress;this.states[n].active=Math.abs(i)>.01,Math.abs(i)>.01&&e.push(n),i*=this.blendDamping,this.states[n].progress+=i}if(e.length>0){for(let n=0;n<e.length;n++)if(e[n]!==this.currentAnim){this.pendingAnim=e[n],this.animationBlending=this.states[e[n]].progress;break}}else{for(const n in this.states)Object.hasOwnProperty.call(this.states,n)&&(this.states[n].progressTarget==1?this.currentAnim=n:this.updateAnimationTrack(n,!0));this.pendingAnim=null,this.animationBlending=0}this.updateAnimationTrack(this.currentAnim),this.pendingAnim!==null&&this.updateAnimationTrack(this.pendingAnim),this.applyAnimationFromTracks(this.currentAnim,this.pendingAnim,this.animationBlending)}}class LT{constructor(e,n,i,s,r=!1){this.gl=e.gl,this.scene=e,this.data=n,this.meshId=s,this.shaderId=i,this.texture=new Kt(this.gl),this.transform=new gn,this.nodes=[],this.geomData=n,this.lastEnv=null,this.lastEnvDiffuse=null,this.parent=r||e.root,this.localState={uniforms:{}},this.normalMatrix=Wn(),this.MVPMatrix=Wn(),this.globalConfig=this.scene.PBRConfigs[`CONFIG_${this.meshId}`],this.maxTextureIndex=0,this.defines={},this.defines.USE_IBL=1,this.defines.MANUAL_SRGB=1,this.defines.HAS_NORMALS=1,this.defines.HAS_UV=1,this.name=this.geomData.name,this.initConfig(),this.initTextures(),this.cleanConfig(),this.createUniforms(),this.init()}postFirstDraw(){setTimeout(()=>{ot.inputs[`Hape_0${this.meshId+1} LIGHTS`].EnvIBL.on("change",e=>{if(!this.globalConfig.OverwriteEnvIBL.value)return;const n=new Image;n.src=e.value.src,this.localState.uniforms.uDiffuseEnvSampler.value.image=n,this.localState.uniforms.uDiffuseEnvSampler.value.needsUpdate=!0,ot.inputs[`Hape_0${this.meshId+1} LIGHTS`].EnvIBL.controller_.view.element.querySelector("input").value=""})},5e3)}initConfig(){this.config={albedoColor:{value:"#ffffff",params:{}},IBL:{value:2,params:{min:0,max:10,step:.01}},NormalScale:{value:1,params:{min:0,max:2,step:.01}},MetalicFactor:{value:1,params:{min:0,max:2,step:.01}},RoughnessFactor:{value:.33,params:{min:0,max:3,step:.01}},EmissiveColor:{value:"#ffffff",params:{}},EmissivePower:{value:1,params:{min:0,max:5,step:.01}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01}},Alpha:{value:1,params:{min:0,max:1,step:.01}}},this.gui=ot.addBlade(this.config,this.name,this.meshId+1)}cleanConfig(){this.defines.HAS_NORMALMAP==null&&(this.gui.NormalScale.hidden=!0),this.defines.HAS_OCCLUSIONMAP==null&&(this.gui.OcclusionFactor.hidden=!0),this.defines.HAS_EMISSIVECOLOR==null&&(this.gui.EmissiveColor.hidden=!0,this.gui.EmissivePower.hidden=!0)}init(){this.environement=this.globalConfig.Environement.value,this.diffuseEnvironement=this.globalConfig.EnvironementDiffuse.value,this.shader=new Bi(Gn.standard,1,this.defines);const e={position:{size:3,data:this.geomData.vertices},uv:{size:2,data:this.geomData.uvs},normal:{size:3,data:this.geomData.normal},index:{data:this.geomData.indices}};this.geometry=new ji(this.gl,e),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,transparent:!0,depthTest:!0,depthWrite:!0,cullFace:!1,uniforms:this.localState.uniforms}),cr(this.transform.position,this.geomData.translate),cr(this.transform.rotation,this.geomData.rotation),cr(this.transform.scale,this.geomData.scale),this.mesh=new ui(this.gl,{geometry:this.geometry,program:this.program,transform:this.transform,frustumCulled:!1}),this.mesh.frustumCulled=!1,this.mesh.setParent(this.parent)}getImageInfo(e,n,i){this.localState.uniforms[i]={type:n,uri:e,textIndx:this.maxTextureIndex},this.maxTextureIndex++}initTextures(){const e=this.gl;this.gltf;var n=fr.materials[this.name]?fr.materials[this.name]:null;this.config.IBL.value=n&&n.IBL?n.IBL:this.config.IBL.value,this.localState.uniforms.uDiffuseEnvSampler={type:"texture",uri:"env_diffuse",textIndx:this.maxTextureIndex},this.maxTextureIndex++,this.localState.uniforms.uSpecularEnvSampler={type:"texture",uri:"env_default",textIndx:this.maxTextureIndex},this.maxTextureIndex++,n&&n.Alpha&&(this.config.Alpha.value=n.Alpha);var i=n&&n.albedoColor?new tt(n.albedoColor).getRGBA():[1,1,1,1];if(this.config.albedoColor.value=n&&n.albedoColor?n.albedoColor:new tt(i).getHex(),this.localState.uniforms.uBaseColorFactor={type:"float4",value:i},n&&n.albedoMap?(this.getImageInfo(n.albedoMap,"texture","uBaseColorSampler"),this.defines.HAS_BASECOLORMAP=1):this.localState.uniforms.uBaseColorSampler&&delete this.localState.uniforms.uBaseColorSampler,this.config.MetalicFactor.value=n&&n.MetalicFactor?n.MetalicFactor:this.config.MetalicFactor.value,this.config.RoughnessFactor.value=n&&n.RoughnessFactor?n.RoughnessFactor:this.config.RoughnessFactor.value,this.localState.uniforms.uMetallicRoughnessValues={type:"float2",value:[this.config.MetalicFactor.value,this.config.RoughnessFactor.value]},n&&n.metallicRoughnessTexture?(this.getImageInfo(n.metallicRoughnessTexture,"texture","uMetallicRoughnessSampler",e.RGBA),this.defines.HAS_METALROUGHNESSMAP=1):this.localState.uniforms.uMetallicRoughnessSampler&&delete this.localState.uniforms.uMetallicRoughnessSampler,n&&n.normalTexture?(this.getImageInfo(n.normalTexture,"texture","uNormalSampler",e.RGBA),this.config.NormalScale.value=n.NormalScale?n.NormalScale:this.config.NormalScale.value,this.localState.uniforms.uNormalScale={type:"float1",value:this.config.NormalScale.value},this.defines.HAS_NORMALMAP=1):this.localState.uniforms.uNormalSampler&&delete this.localState.uniforms.uNormalSampler,this.localState.uniforms.uBrdfLUT={type:"texture",uri:"brdfLUT",textIndx:this.maxTextureIndex},this.maxTextureIndex++,n&&n.emissiveTexture){this.getImageInfo(n.emissiveTexture,"texture","uEmissiveSampler"),this.defines.HAS_EMISSIVEMAP=1;var s=n.emissiveFactor?n.emissiveFactor:[0,0,0];this.globalConfig.emissiveColor.value=new tt(s).getHex(),this.localState.uniforms.uEmissiveFactor={type:"float3",value:s}}else this.localState.uniforms.uEmissiveSampler&&delete this.localState.uniforms.uEmissiveSampler;if(n&&n.emissiveColor){this.defines.HAS_EMISSIVECOLOR=1;var r=n.emissiveColor?new tt(n.emissiveColor):[0,0,0],a=n.emissivePower?n.emissivePower:1;this.config.EmissiveColor.value=n.emissiveColor,this.localState.uniforms.uEmissiveColor={type:"float3",value:r},this.localState.uniforms.uEmissivePower={type:"float1",value:a}}n&&n.occlusionTexture?(this.getImageInfo(n.occlusionTexture,"texture","uOcclusionSampler"),this.config.OcclusionFactor.value=n.OcclusionFactor?n.OcclusionFactor:this.config.OcclusionFactor.value,this.localState.uniforms.uOcclusionStrength={type:"float1",value:this.config.OcclusionFactor.value},this.defines.HAS_OCCLUSIONMAP=1):this.localState.uniforms.uOcclusionSampler&&delete this.localState.uniforms.uOcclusionSampler}createUniforms(){this.localState.uniforms.uTime={type:"float1",value:0},this.localState.uniforms.uAlpha={type:"float1",value:1},this.localState.uniforms.uLightDirection={type:"float3",value:[0,.5,.5]},this.localState.uniforms.uLightColor={type:"float3",value:[1,1,1]},this.localState.uniforms.uScaleDiffBaseMR={type:"float4",value:[0,0,0,0]},this.localState.uniforms.uScaleFGDSpec={type:"float4",value:[0,0,0,0]},this.localState.uniforms.uScaleIBLAmbient={type:"float4",value:[1.5,1.5,0,0]},this.localState.uniforms.uCamera={type:"float3",value:[0,0,0]},this.localState.uniforms.uReflectionHeightAlphaMin=this.scene.config.reflectionAlphaMin,this.localState.uniforms.uReflectionHeightAlphaLimit=this.scene.config.reflectionAlphaLimit;for(const e in this.localState.uniforms)Object.hasOwnProperty.call(this.localState.uniforms,e)&&this.localState.uniforms[e].type=="texture"&&(this.localState.uniforms[e].value=new Kt(this.gl))}onLoaded(){for(const e in this.localState.uniforms)Object.hasOwnProperty.call(this.localState.uniforms,e)&&this.localState.uniforms[e].type=="texture"&&(this.localState.uniforms[e].value=this.scene.textureLoader.getTexture(this.localState.uniforms[e].uri),this.localState.uniforms[e].value.needsUpdate=!0)}preRender(){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.needsUpdate=!0,this.program.uniforms.uLightDirection.value=[this.scene.cameraManager.lightPos.x*this.scene.root.scale.x-this.mesh.worldMatrix[12],this.scene.cameraManager.lightPos.y*this.scene.root.scale.y-this.mesh.worldMatrix[13],this.scene.cameraManager.lightPos.z*this.scene.root.scale.z-this.mesh.worldMatrix[14]];const e=new tt(this.globalConfig.lightColor.value);this.localState.uniforms.uLightColor.value=[e[0]*this.globalConfig.lightPower.value,e[1]*this.globalConfig.lightPower.value,e[2]*this.globalConfig.lightPower.value],this.localState.uniforms.uScaleIBLAmbient.value=[this.config.IBL.value*this.globalConfig.IBLDiffuseFactor.value,this.config.IBL.value*this.globalConfig.IBLSpecularFactor.value,0,0];const n=this.globalConfig.Debug.value;this.localState.uniforms.uScaleDiffBaseMR.value=[n=="mathDiff"?1:0,n=="baseColor"?1:0,n=="metallic"?1:0,n=="roughness"?1:0],this.localState.uniforms.uScaleFGDSpec.value=[n=="specRef"?1:0,n=="geomOcc"?1:0,n=="mcrfctDist"?1:0,n=="spec"?1:0],this.localState.uniforms.uMetallicRoughnessValues.value=[this.config.MetalicFactor.value,this.config.RoughnessFactor.value],this.localState.uniforms.uNormalScale&&(this.localState.uniforms.uNormalScale.value=this.config.NormalScale.value),this.localState.uniforms.uOcclusionStrength&&(this.localState.uniforms.uOcclusionStrength.value=this.config.OcclusionFactor.value);const i=new tt(this.config.albedoColor.value);if(this.localState.uniforms.uBaseColorFactor.value=[i[0],i[1],i[2],this.config.Alpha.value*this.globalConfig.Alpha.value],this.localState.uniforms.uEmissiveFactor){const s=new tt(this.globalConfig.emissiveColor.value);this.localState.uniforms.uEmissiveFactor.value=[s[0],s[1],s[2]]}this.localState.uniforms.uEmissiveColor&&(this.localState.uniforms.uEmissiveColor.value=new tt(this.config.EmissiveColor.value)),this.localState.uniforms.uEmissivePower&&(this.localState.uniforms.uEmissivePower.value=this.config.EmissivePower.value),this.localState.uniforms.uCamera.value=this.scene.camera.position,this.environement=this.globalConfig.Environement.value,this.environement!==this.lastEnv&&(this.lastEnv=this.environement,this.localState.uniforms.uSpecularEnvSampler.value=this.scene.textureLoader.getTexture(this.environement),this.localState.uniforms.uSpecularEnvSampler.value.needsUpdate=!0),this.diffuseEnvironement=this.globalConfig.EnvironementDiffuse.value,this.diffuseEnvironement!==this.lastEnvDiffuse&&(this.lastEnvDiffuse=this.diffuseEnvironement,this.localState.uniforms.uDiffuseEnvSampler.value=this.scene.textureLoader.getTexture(this.diffuseEnvironement),this.localState.uniforms.uDiffuseEnvSampler.value.needsUpdate=!0)}dispose(){this.mesh.setParent(null),this.meshTransparent.setParent(null),this.geometry.remove(),this.program.remove(),this.transparentProgram.remove()}}class Zb{constructor(e,n,i,s,r,a,o=!1){this.gl=e.gl,this.scene=e,this.data=n,this.textureId=s,this.meshId=a,this.shaderId=i,this.texture=new Kt(this.gl),this.idTexture=new Kt(this.gl),this.transform=new gn,this.nodes=[],this.skinData=null,this.geomData=null,this.lastEnv=null,this.lastEnvDiffuse=null,this.rootnodeName=r,this.renderOrder=1e4,this.parent=o||e.root,this.localState={uniforms:{}},this.normalMatrix=Wn(),this.MVPMatrix=Wn(),this.globalConfig=this.scene.PBRConfigs[`CONFIG_${this.meshId}`],this.maxTextureIndex=0,this.defines={},this.defines.USE_IBL=1,this.defines.MANUAL_SRGB=1,this.defines.HAS_NORMALS=1,this.defines.HAS_UV=1,this.buildBonesHierarchy(),this.skin=new qO(this,this.skinData,this.rootnodeName),this.skin.rootNode.setParent(this.transform),this.initConfig(),this.initTextures(),this.cleanConfig(),this.createUniforms(),this.init()}postFirstDraw(){setTimeout(()=>{ot.inputs[`Hape_0${this.meshId+1} LIGHTS`].EnvIBL.on("change",e=>{if(!this.globalConfig.OverwriteEnvIBL.value)return;const n=new Image;n.src=e.value.src,this.localState.uniforms.uDiffuseEnvSampler.value.image=n,this.localState.uniforms.uDiffuseEnvSampler.value.needsUpdate=!0,ot.inputs[`Hape_0${this.meshId+1} LIGHTS`].EnvIBL.controller_.view.element.querySelector("input").value=""})},5e3)}buildBonesHierarchy(){for(let e=0;e<this.data.length;e++){const n=this.data[e];n.type=="triangle"&&this.geomData===null?this.geomData=n:n.joints&&this.skinData===null&&(this.skinData=n)}for(let e=0;e<this.data.length;e++){const n=this.data[e];if(n.type=="Null"){let i=new gn;i.position.set(n.translate[0],n.translate[1],n.translate[2]),i.rotation.set(n.rotation[0],n.rotation[1],n.rotation[2]),i.scale.set(n.scale[0],n.scale[1],n.scale[2]),i.name=n.name,i.sid=n.sid,i._parent=n.parent,this.nodes.push(i)}}this.name=this.geomData.name;for(let e=0;e<this.nodes.length;e++){let n=this.nodes[e]._parent;if(n)for(let i=0;i<this.nodes.length;i++)this.nodes[i].name==n&&this.nodes[i].addChild(this.nodes[e])}for(let e=0;e<this.nodes.length;e++)this.nodes[e].updateMatrixWorld(!0)}initConfig(){this.config={albedoColor:{value:"#ffffff",params:{}},IBL:{value:2,params:{min:0,max:10,step:.01}},NormalScale:{value:1,params:{min:0,max:2,step:.01}},MetalicFactor:{value:1,params:{min:0,max:2,step:.01}},RoughnessFactor:{value:.33,params:{min:0,max:3,step:.01}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01}},Alpha:{value:1,params:{min:0,max:1,step:.01}}},this.gui=ot.addBlade(this.config,this.name,this.meshId+1)}cleanConfig(){this.defines.HAS_NORMALMAP==null&&(this.gui.NormalScale.hidden=!0),this.defines.HAS_OCCLUSIONMAP==null&&(this.gui.OcclusionFactor.hidden=!0)}init(){this.animator=new WO(this.scene,this.skin.bonesNode,this.skin.rootNode,this),this.environement=this.globalConfig.Environement.value,this.diffuseEnvironement=this.globalConfig.EnvironementDiffuse.value,this.defines.ATTRIB_STACK=this.skinData.attribStackNum,this.defines.MAX_BONES=this.skinData.joints.length,this.shader=new Bi(Gn["skined-standard"],1,this.defines);const e={position:{size:3,data:this.geomData.vertices},uv:{size:2,data:this.geomData.uvs},normal:{size:3,data:this.geomData.normal},index:{data:this.geomData.indices}};for(let n=0;n<this.skinData.attribStackNum;n++)e[`aWeights_${n}`]={size:4,data:this.skin.attribData[`weight_${n}`]},e[`aBoneNdx_${n}`]={size:4,data:this.skin.attribData[`ndx_${n}`]};this.geometry=new ji(this.gl,e),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,transparent:!0,depthTest:!0,depthWrite:!0,cullFace:!1,uniforms:this.localState.uniforms}),this.mesh=new ui(this.gl,{geometry:this.geometry,program:this.program,transform:this.transform,frustumCulled:!1,renderOrder:this.renderOrder}),this.mesh.frustumCulled=!1,this.mesh.setParent(this.parent)}getImageInfo(e,n,i){this.localState.uniforms[i]={type:n,uri:e,textIndx:this.maxTextureIndex},this.maxTextureIndex++}initTextures(){const e=this.gl;this.gltf;var n=fr.materials[this.name]?fr.materials[this.name]:null;this.config.IBL.value=n&&n.IBL?n.IBL:this.config.IBL.value,this.localState.uniforms.uDiffuseEnvSampler={type:"texture",uri:"env_diffuse",textIndx:this.maxTextureIndex},this.maxTextureIndex++,this.localState.uniforms.uSpecularEnvSampler={type:"texture",uri:"env_default",textIndx:this.maxTextureIndex},this.maxTextureIndex++,n&&n.Alpha&&(this.config.Alpha.value=n.Alpha);var i=n&&n.albedoColor?new tt(n.albedoColor).getRGBA():[1,1,1,1];if(this.config.albedoColor.value=n&&n.albedoColor?n.albedoColor:new tt(i).getHex(),this.localState.uniforms.uBaseColorFactor={type:"float4",value:i},n&&n.albedoMap?(this.getImageInfo(n.albedoMap,"texture","uBaseColorSampler"),this.defines.HAS_BASECOLORMAP=1):this.localState.uniforms.uBaseColorSampler&&delete this.localState.uniforms.uBaseColorSampler,this.config.MetalicFactor.value=n&&n.MetalicFactor?n.MetalicFactor:this.config.MetalicFactor.value,this.config.RoughnessFactor.value=n&&n.RoughnessFactor?n.RoughnessFactor:this.config.RoughnessFactor.value,this.localState.uniforms.uMetallicRoughnessValues={type:"float2",value:[this.config.MetalicFactor.value,this.config.RoughnessFactor.value]},n&&n.metallicRoughnessTexture?(this.getImageInfo(n.metallicRoughnessTexture,"texture","uMetallicRoughnessSampler",e.RGBA),this.defines.HAS_METALROUGHNESSMAP=1):this.localState.uniforms.uMetallicRoughnessSampler&&delete this.localState.uniforms.uMetallicRoughnessSampler,n&&n.normalTexture?(this.getImageInfo(n.normalTexture,"texture","uNormalSampler",e.RGBA),this.config.NormalScale.value=n.NormalScale?n.NormalScale:this.config.NormalScale.value,this.localState.uniforms.uNormalScale={type:"float1",value:this.config.NormalScale.value},this.defines.HAS_NORMALMAP=1):this.localState.uniforms.uNormalSampler&&delete this.localState.uniforms.uNormalSampler,this.localState.uniforms.uBrdfLUT={type:"texture",uri:"brdfLUT",textIndx:this.maxTextureIndex},this.maxTextureIndex++,n&&n.emissiveTexture){this.getImageInfo(n.emissiveTexture,"texture","uEmissiveSampler"),this.defines.HAS_EMISSIVEMAP=1;var s=n.emissiveFactor?n.emissiveFactor:[0,0,0];this.globalConfig.emissiveColor.value=new tt(s).getHex(),this.localState.uniforms.uEmissiveFactor={type:"float3",value:s}}else this.localState.uniforms.uEmissiveSampler&&delete this.localState.uniforms.uEmissiveSampler;n&&n.occlusionTexture?(this.getImageInfo(n.occlusionTexture,"texture","uOcclusionSampler"),this.config.OcclusionFactor.value=n.OcclusionFactor?n.OcclusionFactor:this.config.OcclusionFactor.value,this.localState.uniforms.uOcclusionStrength={type:"float1",value:this.config.OcclusionFactor.value},this.defines.HAS_OCCLUSIONMAP=1):this.localState.uniforms.uOcclusionSampler&&delete this.localState.uniforms.uOcclusionSampler}createUniforms(){this.localState.uniforms.uBones={type:"[vec4]",value:this.skin.boneArray},this.localState.uniforms.uTime={type:"float1",value:0},this.localState.uniforms.uAlpha={type:"float1",value:1},this.localState.uniforms.uLightDirection={type:"float3",value:[0,.5,.5]},this.localState.uniforms.uLightColor={type:"float3",value:[1,1,1]},this.localState.uniforms.uScaleDiffBaseMR={type:"float4",value:[0,0,0,0]},this.localState.uniforms.uScaleFGDSpec={type:"float4",value:[0,0,0,0]},this.localState.uniforms.uScaleIBLAmbient={type:"float4",value:[1.5,1.5,0,0]},this.localState.uniforms.uCamera={type:"float3",value:[0,0,0]},this.localState.uniforms.uReflectionHeightAlphaMin=this.scene.config.reflectionAlphaMin,this.localState.uniforms.uReflectionHeightAlphaLimit=this.scene.config.reflectionAlphaLimit;for(const e in this.localState.uniforms)Object.hasOwnProperty.call(this.localState.uniforms,e)&&this.localState.uniforms[e].type=="texture"&&(this.localState.uniforms[e].value=new Kt(this.gl))}onLoaded(){for(const e in this.localState.uniforms)Object.hasOwnProperty.call(this.localState.uniforms,e)&&this.localState.uniforms[e].type=="texture"&&(this.localState.uniforms[e].value=this.scene.textureLoader.getTexture(this.localState.uniforms[e].uri),this.localState.uniforms[e].value.needsUpdate=!0)}preRender(){this.animator.update(),this.skin.update(),this.program.uniforms.uBones.value=this.skin.boneArray,this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.needsUpdate=!0,this.program.uniforms.uLightDirection.value=[this.scene.cameraManager.lightPos.x*this.scene.root.scale.x-this.mesh.worldMatrix[12],this.scene.cameraManager.lightPos.y*this.scene.root.scale.y-this.mesh.worldMatrix[13],this.scene.cameraManager.lightPos.z*this.scene.root.scale.z-this.mesh.worldMatrix[14]];const e=new tt(this.globalConfig.lightColor.value);this.localState.uniforms.uLightColor.value=[e[0]*this.globalConfig.lightPower.value,e[1]*this.globalConfig.lightPower.value,e[2]*this.globalConfig.lightPower.value],this.localState.uniforms.uScaleIBLAmbient.value=[this.config.IBL.value*this.globalConfig.IBLDiffuseFactor.value,this.config.IBL.value*this.globalConfig.IBLSpecularFactor.value,0,0];const n=this.globalConfig.Debug.value;this.localState.uniforms.uScaleDiffBaseMR.value=[n=="mathDiff"?1:0,n=="baseColor"?1:0,n=="metallic"?1:0,n=="roughness"?1:0],this.localState.uniforms.uScaleFGDSpec.value=[n=="specRef"?1:0,n=="geomOcc"?1:0,n=="mcrfctDist"?1:0,n=="spec"?1:0],this.localState.uniforms.uMetallicRoughnessValues.value=[this.config.MetalicFactor.value,this.config.RoughnessFactor.value],this.localState.uniforms.uNormalScale&&(this.localState.uniforms.uNormalScale.value=this.config.NormalScale.value),this.localState.uniforms.uOcclusionStrength&&(this.localState.uniforms.uOcclusionStrength.value=this.config.OcclusionFactor.value);const i=new tt(this.config.albedoColor.value);if(this.localState.uniforms.uBaseColorFactor.value=[i[0],i[1],i[2],this.config.Alpha.value*this.globalConfig.Alpha.value],this.localState.uniforms.uEmissiveFactor){const s=new tt(this.globalConfig.emissiveColor.value);this.localState.uniforms.uEmissiveFactor.value=[s[0],s[1],s[2]]}this.localState.uniforms.uCamera.value=this.scene.camera.position,this.environement=this.globalConfig.Environement.value,this.environement!==this.lastEnv&&(this.lastEnv=this.environement,this.localState.uniforms.uSpecularEnvSampler.value=this.scene.textureLoader.getTexture(this.environement),this.localState.uniforms.uSpecularEnvSampler.value.needsUpdate=!0),this.diffuseEnvironement=this.globalConfig.EnvironementDiffuse.value,this.diffuseEnvironement!==this.lastEnvDiffuse&&(this.lastEnvDiffuse=this.diffuseEnvironement,this.localState.uniforms.uDiffuseEnvSampler.value=this.scene.textureLoader.getTexture(this.diffuseEnvironement),this.localState.uniforms.uDiffuseEnvSampler.value.needsUpdate=!0)}dispose(){this.mesh.setParent(null),this.meshTransparent.setParent(null),this.geometry.remove(),this.program.remove(),this.transparentProgram.remove()}}class e0{constructor(e,n,i,s,r,a,o=!1){this.gl=e.gl,this.scene=e,this.data=n,this.textureId=s,this.meshId=a,this.shaderId=i,this.texture=new Kt(this.gl),this.idTexture=new Kt(this.gl),this.transform=new gn,this.nodes=[],this.skinData=null,this.geomData=null,this.lastEnv=null,this.lastEnvDiffuse=null,this.rootnodeName=r,this.renderOrder=1e4,this.parent=o||e.root,this.localState={uniforms:{}},this.normalMatrix=Wn(),this.MVPMatrix=Wn(),this.globalConfig=this.scene.PBRConfigs[`CONFIG_${this.meshId}`],this.maxTextureIndex=0,this.defines={},this.defines.USE_IBL=1,this.defines.MANUAL_SRGB=1,this.defines.HAS_NORMALS=1,this.defines.HAS_UV=1,this.buildBonesHierarchy(),this.skin=new qO(this,this.skinData,this.rootnodeName),this.skin.rootNode.setParent(this.transform),this.initConfig(),this.initTextures(),this.cleanConfig(),this.createUniforms(),this.init()}postFirstDraw(){setTimeout(()=>{ot.inputs[`Hape_0${this.meshId+1} LIGHTS`].EnvIBL.on("change",e=>{if(!this.globalConfig.OverwriteEnvIBL.value)return;const n=new Image;n.src=e.value.src,this.localState.uniforms.uDiffuseEnvSampler.value.image=n,this.localState.uniforms.uDiffuseEnvSampler.value.needsUpdate=!0,ot.inputs[`Hape_0${this.meshId+1} LIGHTS`].EnvIBL.controller_.view.element.querySelector("input").value=""})},5e3)}buildBonesHierarchy(){for(let e=0;e<this.data.length;e++){const n=this.data[e];n.type=="triangle"&&this.geomData===null?this.geomData=n:n.joints&&this.skinData===null&&(this.skinData=n)}for(let e=0;e<this.data.length;e++){const n=this.data[e];if(n.type=="Null"){let i=new gn;i.position.set(n.translate[0],n.translate[1],n.translate[2]),i.rotation.set(n.rotation[0],n.rotation[1],n.rotation[2]),i.scale.set(n.scale[0],n.scale[1],n.scale[2]),i.name=n.name,i.sid=n.sid,i._parent=n.parent,this.nodes.push(i)}}this.name=this.geomData.name;for(let e=0;e<this.nodes.length;e++){let n=this.nodes[e]._parent;if(n)for(let i=0;i<this.nodes.length;i++)this.nodes[i].name==n&&this.nodes[i].addChild(this.nodes[e])}for(let e=0;e<this.nodes.length;e++)this.nodes[e].updateMatrixWorld(!0)}initConfig(){this.config={albedoColor:{value:"#ffffff",params:{}},IBL:{value:2,params:{min:0,max:10,step:.01}},NormalScale:{value:1,params:{min:0,max:2,step:.01}},MetalicFactor:{value:1,params:{min:0,max:2,step:.01}},RoughnessFactor:{value:.33,params:{min:0,max:3,step:.01}},OcclusionFactor:{value:1,params:{min:0,max:1,step:.01}},Alpha:{value:1,params:{min:0,max:1,step:.01}},FurOffset:{value:.08,params:{min:0,max:.2,step:.001}},FurNoiseScale:{value:15,params:{min:0,max:30,step:.1}},FurSampleRange:{value:.015,params:{min:0,max:.1,step:.001}},FurSampleOffset:{value:.5,params:{min:0,max:1,step:.01}},FurOcclusion:{value:.4,params:{min:0,max:1,step:.01}}},this.gui=ot.addBlade(this.config,this.name,this.meshId+1)}cleanConfig(){this.defines.HAS_NORMALMAP==null&&(this.gui.NormalScale.hidden=!0),this.defines.HAS_OCCLUSIONMAP==null&&(this.gui.OcclusionFactor.hidden=!0)}init(){this.animator=new WO(this.scene,this.skin.bonesNode,this.skin.rootNode,this),this.environement=this.globalConfig.Environement.value,this.diffuseEnvironement=this.globalConfig.EnvironementDiffuse.value,this.defines.ATTRIB_STACK=this.skinData.attribStackNum,this.defines.MAX_BONES=this.skinData.joints.length,this.shader=new Bi(Gn["skined-standard-fur"],1,this.defines);const e={position:{size:3,data:this.geomData.vertices},uv:{size:2,data:this.geomData.uvs},normal:{size:3,data:this.geomData.normal},index:{data:this.geomData.indices}};for(let i=0;i<this.skinData.attribStackNum;i++)e[`aWeights_${i}`]={size:4,data:this.skin.attribData[`weight_${i}`]},e[`aBoneNdx_${i}`]={size:4,data:this.skin.attribData[`ndx_${i}`]};this.geometry=new ji(this.gl,e),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,transparent:!0,depthTest:!0,depthWrite:!0,cullFace:!1,uniforms:this.localState.uniforms}),this.mesh=new ui(this.gl,{geometry:this.geometry,program:this.program,transform:this.transform,frustumCulled:!1,renderOrder:this.renderOrder}),this.mesh.frustumCulled=!1,this.mesh.setParent(this.parent),this.mesh.onBeforeRender(()=>{this.program.uniforms.uPass.value=0});let n=4;for(let i=0;i<n;i++)this[`program${i+1}`]=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,transparent:!0,depthTest:!0,depthWrite:!1,uniforms:this.localState.uniforms}),this[`mesh${i+1}`]=new ui(this.gl,{geometry:this.geometry,program:this[`program${i+1}`],transform:this.transform,frustumCulled:!1,renderOrder:this.renderOrder}),this[`mesh${i+1}`].frustumCulled=!1,this[`mesh${i+1}`].setParent(this.parent),this[`mesh${i+1}`].onBeforeRender(()=>{this.program.uniforms.uPass.value=i+1})}getImageInfo(e,n,i){this.localState.uniforms[i]={type:n,uri:e,textIndx:this.maxTextureIndex},this.maxTextureIndex++}initTextures(){const e=this.gl;this.gltf;var n=fr.materials[this.name]?fr.materials[this.name]:null;this.config.IBL.value=n&&n.IBL?n.IBL:this.config.IBL.value,this.localState.uniforms.uDiffuseEnvSampler={type:"texture",uri:"env_diffuse",textIndx:this.maxTextureIndex},this.maxTextureIndex++,this.localState.uniforms.uSpecularEnvSampler={type:"texture",uri:"env_default",textIndx:this.maxTextureIndex},this.maxTextureIndex++,this.localState.uniforms.uFurDensity={type:"texture",uri:"fur-density",textIndx:this.maxTextureIndex},this.maxTextureIndex++,n&&n.Alpha&&(this.config.Alpha.value=n.Alpha);var i=n&&n.albedoColor?new tt(n.albedoColor).getRGBA():[1,1,1,1];if(this.config.albedoColor.value=n&&n.albedoColor?n.albedoColor:new tt(i).getHex(),this.localState.uniforms.uBaseColorFactor={type:"float4",value:i},n&&n.albedoMap?(this.getImageInfo(n.albedoMap,"texture","uBaseColorSampler"),this.defines.HAS_BASECOLORMAP=1):this.localState.uniforms.uBaseColorSampler&&delete this.localState.uniforms.uBaseColorSampler,this.config.MetalicFactor.value=n&&n.MetalicFactor?n.MetalicFactor:this.config.MetalicFactor.value,this.config.RoughnessFactor.value=n&&n.RoughnessFactor?n.RoughnessFactor:this.config.RoughnessFactor.value,this.localState.uniforms.uMetallicRoughnessValues={type:"float2",value:[this.config.MetalicFactor.value,this.config.RoughnessFactor.value]},n&&n.metallicRoughnessTexture?(this.getImageInfo(n.metallicRoughnessTexture,"texture","uMetallicRoughnessSampler",e.RGBA),this.defines.HAS_METALROUGHNESSMAP=1):this.localState.uniforms.uMetallicRoughnessSampler&&delete this.localState.uniforms.uMetallicRoughnessSampler,n&&n.normalTexture?(this.getImageInfo(n.normalTexture,"texture","uNormalSampler",e.RGBA),this.config.NormalScale.value=n.NormalScale?n.NormalScale:this.config.NormalScale.value,this.localState.uniforms.uNormalScale={type:"float1",value:this.config.NormalScale.value},this.defines.HAS_NORMALMAP=1):this.localState.uniforms.uNormalSampler&&delete this.localState.uniforms.uNormalSampler,this.localState.uniforms.uBrdfLUT={type:"texture",uri:"brdfLUT",textIndx:this.maxTextureIndex},this.maxTextureIndex++,n&&n.emissiveTexture){this.getImageInfo(n.emissiveTexture,"texture","uEmissiveSampler"),this.defines.HAS_EMISSIVEMAP=1;var s=n.emissiveFactor?n.emissiveFactor:[0,0,0];this.globalConfig.emissiveColor.value=new tt(s).getHex(),this.localState.uniforms.uEmissiveFactor={type:"float3",value:s}}else this.localState.uniforms.uEmissiveSampler&&delete this.localState.uniforms.uEmissiveSampler;n&&n.occlusionTexture?(this.getImageInfo(n.occlusionTexture,"texture","uOcclusionSampler"),this.config.OcclusionFactor.value=n.OcclusionFactor?n.OcclusionFactor:this.config.OcclusionFactor.value,this.localState.uniforms.uOcclusionStrength={type:"float1",value:this.config.OcclusionFactor.value},this.defines.HAS_OCCLUSIONMAP=1):this.localState.uniforms.uOcclusionSampler&&delete this.localState.uniforms.uOcclusionSampler}createUniforms(){this.localState.uniforms.uBones={type:"[vec4]",value:this.skin.boneArray},this.localState.uniforms.uFurOffset={type:"float1",value:this.config.FurOffset.value},this.localState.uniforms.uFurNoiseScale={type:"float1",value:this.config.FurNoiseScale.value},this.localState.uniforms.uFurSampleRange={type:"float1",value:this.config.FurSampleRange.value},this.localState.uniforms.uFurSampleOffset={type:"float1",value:this.config.FurSampleOffset.value},this.localState.uniforms.uFurOcclusion={type:"float1",value:this.config.FurOcclusion.value},this.localState.uniforms.uTime={type:"float1",value:0},this.localState.uniforms.uPass={type:"float1",value:0},this.localState.uniforms.uAlpha={type:"float1",value:1},this.localState.uniforms.uLightDirection={type:"float3",value:[0,.5,.5]},this.localState.uniforms.uLightColor={type:"float3",value:[1,1,1]},this.localState.uniforms.uScaleDiffBaseMR={type:"float4",value:[0,0,0,0]},this.localState.uniforms.uScaleFGDSpec={type:"float4",value:[0,0,0,0]},this.localState.uniforms.uScaleIBLAmbient={type:"float4",value:[1.5,1.5,0,0]},this.localState.uniforms.uCamera={type:"float3",value:[0,0,0]},this.localState.uniforms.uReflectionHeightAlphaMin=this.scene.config.reflectionAlphaMin,this.localState.uniforms.uReflectionHeightAlphaLimit=this.scene.config.reflectionAlphaLimit;for(const e in this.localState.uniforms)Object.hasOwnProperty.call(this.localState.uniforms,e)&&this.localState.uniforms[e].type=="texture"&&(this.localState.uniforms[e].value=new Kt(this.gl))}onLoaded(){for(const e in this.localState.uniforms)Object.hasOwnProperty.call(this.localState.uniforms,e)&&this.localState.uniforms[e].type=="texture"&&(this.localState.uniforms[e].value=this.scene.textureLoader.getTexture(this.localState.uniforms[e].uri),this.localState.uniforms[e].value.needsUpdate=!0)}preRender(){this.animator.update(),this.skin.update(),this.program.uniforms.uBones.value=this.skin.boneArray,this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.needsUpdate=!0,this.localState.uniforms.uFurOffset.value=this.config.FurOffset.value,this.localState.uniforms.uFurNoiseScale.value=this.config.FurNoiseScale.value,this.localState.uniforms.uFurSampleRange.value=this.config.FurSampleRange.value,this.localState.uniforms.uFurSampleOffset.value=this.config.FurSampleOffset.value,this.localState.uniforms.uFurOcclusion.value=this.config.FurOcclusion.value,this.program.uniforms.uLightDirection.value=[this.scene.cameraManager.lightPos.x*this.scene.root.scale.x-this.mesh.worldMatrix[12],this.scene.cameraManager.lightPos.y*this.scene.root.scale.y-this.mesh.worldMatrix[13],this.scene.cameraManager.lightPos.z*this.scene.root.scale.z-this.mesh.worldMatrix[14]];const e=new tt(this.globalConfig.lightColor.value);this.localState.uniforms.uLightColor.value=[e[0]*this.globalConfig.lightPower.value,e[1]*this.globalConfig.lightPower.value,e[2]*this.globalConfig.lightPower.value],this.localState.uniforms.uScaleIBLAmbient.value=[this.config.IBL.value*this.globalConfig.IBLDiffuseFactor.value,this.config.IBL.value*this.globalConfig.IBLSpecularFactor.value,0,0];const n=this.globalConfig.Debug.value;this.localState.uniforms.uScaleDiffBaseMR.value=[n=="mathDiff"?1:0,n=="baseColor"?1:0,n=="metallic"?1:0,n=="roughness"?1:0],this.localState.uniforms.uScaleFGDSpec.value=[n=="specRef"?1:0,n=="geomOcc"?1:0,n=="mcrfctDist"?1:0,n=="spec"?1:0],this.localState.uniforms.uMetallicRoughnessValues.value=[this.config.MetalicFactor.value,this.config.RoughnessFactor.value],this.localState.uniforms.uNormalScale&&(this.localState.uniforms.uNormalScale.value=this.config.NormalScale.value),this.localState.uniforms.uOcclusionStrength&&(this.localState.uniforms.uOcclusionStrength.value=this.config.OcclusionFactor.value);const i=new tt(this.config.albedoColor.value);if(this.localState.uniforms.uBaseColorFactor.value=[i[0],i[1],i[2],this.config.Alpha.value*this.globalConfig.Alpha.value],this.localState.uniforms.uEmissiveFactor){const s=new tt(this.globalConfig.emissiveColor.value);this.localState.uniforms.uEmissiveFactor.value=[s[0],s[1],s[2]]}this.localState.uniforms.uCamera.value=this.scene.camera.position,this.environement=this.globalConfig.Environement.value,this.environement!==this.lastEnv&&(this.lastEnv=this.environement,this.localState.uniforms.uSpecularEnvSampler.value=this.scene.textureLoader.getTexture(this.environement),this.localState.uniforms.uSpecularEnvSampler.value.needsUpdate=!0),this.diffuseEnvironement=this.globalConfig.EnvironementDiffuse.value,this.diffuseEnvironement!==this.lastEnvDiffuse&&(this.lastEnvDiffuse=this.diffuseEnvironement,this.localState.uniforms.uDiffuseEnvSampler.value=this.scene.textureLoader.getTexture(this.diffuseEnvironement),this.localState.uniforms.uDiffuseEnvSampler.value.needsUpdate=!0)}dispose(){this.mesh.setParent(null),this.meshTransparent.setParent(null),this.geometry.remove(),this.program.remove(),this.transparentProgram.remove()}}class wp{constructor(e,n=1,i="rgb",s=null,r=!1,a="linear",o=!1,l=null){this.scene=e,this.gl=e.gl,this.pixelRatio=n,this.format=i,this.size=s,this.depth=r,this.filter=a,this.transparent=o,this.depthTexture=null,this.previousFrameBuffer=null,this.preventResize=!1,this.data=l,s===null?(this.width=this.scene.width*this.pixelRatio,this.height=this.scene.height*this.pixelRatio):(this.width=s,this.height=s),this.createTexture(),r&&this.createDepthTexture(),this.createFB(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),window.addEventListener("resize",this.onResize.bind(this))}createTexture(){let e=this.gl;this.targetTexture=this.gl.createTexture(),e.bindTexture(e.TEXTURE_2D,this.targetTexture);let n=0,i=e.RGBA,s=0,r=e.RGBA,a=e.UNSIGNED_BYTE;this.format==="float"&&(a=tG?e.FLOAT:e.HALF_FLOAT||e.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES,i=e.renderer.isWebgl2?a===e.FLOAT?e.RGBA32F:e.RGBA16F:e.RGBA);let o=this.data;e.texImage2D(e.TEXTURE_2D,n,i,this.width,this.height,s,r,a,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),this.filter=="nearest"&&(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)),e.bindTexture(e.TEXTURE_2D,null)}createDepthTexture(){let e=this.scene.gl;this.depthTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.depthTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),this.filter=="nearest"&&(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.renderer.isWebgl2?e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT,this.width,this.height,0,e.DEPTH_COMPONENT,e.UNSIGNED_INT,null),e.bindTexture(e.TEXTURE_2D,null)}onResize(){if(this.preventResize)return;let e=this.gl;this.size===null?(this.width=this.scene.width*this.pixelRatio,this.height=this.scene.height*this.pixelRatio):(this.width=this.size,this.height=this.size),e.deleteTexture(this.targetTexture),this.depth&&e.deleteTexture(this.depthTexture),e.deleteFramebuffer(this.fb),this.createTexture(),this.depth&&this.createDepthTexture(),this.createFB(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}createFB(){let e=this.gl;this.fb=e.createFramebuffer(),this.fb.width=this.width,this.fb.height=this.height,e.bindFramebuffer(e.FRAMEBUFFER,this.fb);const n=0,i=e.COLOR_ATTACHMENT0;e.framebufferTexture2D(e.FRAMEBUFFER,i,e.TEXTURE_2D,this.targetTexture,n);const s=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,s),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,s),this.depth&&e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,this.depthTexture,0)}clear(){let e=this.gl;this.transparent?(e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)):(e.clearColor(this.scene.clearColor[0],this.scene.clearColor[1],this.scene.clearColor[2],this.scene.clearColor[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT))}preRender(){let e=this.gl;this.previousFrameBuffer=this.scene.activeFrameBuffer!==void 0?this.scene.activeFrameBuffer:null,this.scene.activeFrameBuffer=this.fb,e.bindFramebuffer(e.FRAMEBUFFER,this.scene.activeFrameBuffer),e.viewport(0,0,this.width,this.height),this.clear()}postRender(){let e=this.gl;this.scene.activeFrameBuffer=this.previousFrameBuffer,e.bindFramebuffer(e.FRAMEBUFFER,this.scene.activeFrameBuffer),e.viewport(0,0,this.scene.width,this.scene.height)}bind(){let e=this.gl;e.bindTexture(e.TEXTURE_2D,this.targetTexture)}bindDepth(){let e=this.gl;this.depth&&e.bindTexture(e.TEXTURE_2D,this.depthTexture)}getTexture(){return this.targetTexture}getDepthTexture(){return this.depthTexture}}class t0{constructor(e,{}={}){this.gl=e.gl,this.scene=e,this.rt=new wp(this.scene,1,"rgb",null,!0),this.texture=new Kt(this.gl,{rt:this.rt,width:this.rt.width,height:this.rt.height})}preRender(){this.rt.preRender()}postRender(){this.rt.postRender()}}class n0{constructor(e,{}={}){this.gl=e.gl,this.scene=e,this.rt=new wp(this.scene,.25,"rgb",null,!0),this.texture=new Kt(this.gl,{rt:this.rt,width:this.rt.width,height:this.rt.height})}preRender(){this.rt.preRender()}postRender(){this.rt.postRender()}}function FT(t,e,n){return Math.min(n,Math.max(e,t))}function CQ(t){const e=[];for(let n=0;n<t.length/3;n++)e.push(new Je(t[n*3+0],t[n*3+1],t[n*3+2]));return e}function EQ(t){const e=[];for(let n=0;n<t.length/3;n++)e.push(Tn(t[n*3+0],t[n*3+1],t[n*3+2]));return e}function wr(t,e,n){var i=Math.max(0,Math.min(1,(n-t)/(e-t)));return i*i*(3-2*i)}const pf=pI();class TQ{constructor(e){this.cursor=Ro(0,0),this.lastCursor=Ro(0,0),this.velocity=Ro(0,0),this.dampedCursor=Ro(.5,.5),this.target=e||window,this.wheelVelocity=Ro(0,0),this.wheel=Ro(0,0),this.lastWheel=Ro(0,0),this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight,this.isDown=!1,this.wheelDir=null,this.wheelConfigBy=.07,this.wheelSpeed=.35,this.isWheelLock=!1,this.normalizeWheel=0,this.current=0,this.maxWheel=3750,this.emitter={},this.preventDamping=!0,gu(this.emitter),this.on=this.emitter.on.bind(this.emitter),this.off=this.emitter.off.bind(this.emitter),li.subscribe("mouse",()=>{this.update()}),this.config={damping:{value:.05,params:{min:0,max:.05,step:.001}}},this.initEvents(),window.__debugMouse=this}initEvents(){dm?(this.target.addEventListener("touchstart",e=>{this.onDown(e.touches[0])}),this.target.addEventListener("touchend",e=>{this.onUp(e.touches[0])}),this.target.addEventListener("touchmove",e=>{this.onMouve(e.touches[0])})):(this.target.addEventListener("mousedown",e=>{this.onDown(e)}),this.target.addEventListener("mousemove",e=>{this.onMouve(e)}),this.target.addEventListener("mouseup",e=>{this.onUp(e)}),this.target.addEventListener("wheel",e=>{this.onWheel(e)},{passive:!1})),this.target.addEventListener("click",()=>{this.emitter.emit("click")}),this.target.addEventListener("resize",()=>{this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight})}onDown(e){this.cursor[0]=(e.clientX/this.screenWidth-.5)*2,this.cursor[1]=(e.clientY/this.screenHeight-.5)*2,this.lastCursor[0]=this.cursor[0],this.lastCursor[1]=this.cursor[1],this.isDown=!0,this.emitter.emit("down",this)}onUp(e){this.isDown=!1,this.emitter.emit("up",this)}onWheel(e){this.isWheelLock||(this.lastWheel[0]=this.wheel[0],this.lastWheel[1]=this.wheel[1],this.wheel[0]=e.deltaX,this.wheel[1]=e.deltaY,this.wheelDir=e.deltaY<0?"up":"down",this.current+=e.deltaY*this.wheelConfigBy*this.wheelSpeed,this.current=FT(this.current,0,this.maxWheel),this.normalizeWheel=this.current/this.maxWheel,this.emitter.emit("wheel",this))}onMouve(e){if(this.cursor[0]=(e.clientX/this.screenWidth-.5)*2,this.cursor[1]=(e.clientY/this.screenHeight-.5)*2,this.emitter.emit("mouve",this),this.isDown&&this.emitter.emit("drag",this),!this.isWheelLock&&dm){let n=(this.cursor[1]-this.lastCursor[1])*-.01;this.normalizeWheel=FT(n+this.normalizeWheel,0,1)}}update(){this.velocity[0]=this.cursor[0]-this.lastCursor[0],this.velocity[1]=this.cursor[1]-this.lastCursor[1],this.wheelVelocity[0]=this.wheel[0]-this.lastWheel[0],this.wheelVelocity[1]=this.wheel[1]-this.lastWheel[1],this.lastCursor[0]=this.cursor[0],this.lastCursor[1]=this.cursor[1],this.preventDamping||(HW(pf,this.cursor,this.dampedCursor),zW(pf,pf,this.config.damping.value),VW(this.dampedCursor,this.dampedCursor,pf))}}const rn=new TQ;class kQ{constructor({mass:e=1,damping:n=10,stiffness:i=100,timeScale:s=1,soft:r=!1}={}){this.mass=e,this.damping=n,this.stiffness=i,this.timeScale=s,this.soft=r}solve(e,n,i){const s=i-e;if(this.soft===!0||1<=this.damping/(2*Math.sqrt(this.stiffness*this.mass))){const r=-Math.sqrt(this.stiffness/this.mass),a=-r*s-n;return o=>i-(s+o*this.timeScale*a)*Math.E**(o*this.timeScale*r)}else{const r=Math.sqrt(4*this.mass*this.stiffness-this.damping**2),a=(this.damping*s-2*this.mass*n)/r,o=.5*r/this.mass,l=-(.5*this.damping)/this.mass;return c=>i-(Math.cos(c*this.timeScale*o)*s+Math.sin(c*this.timeScale*o)*a)*Math.E**(c*this.timeScale*l)}}}var Nf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:-1+(4-2*t)*t,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t};const PQ=[-1,1,0,-1,-1,0,1,-1,0,1,1,0],AQ=[0,1,2,0,2,3],MQ=[0,1,0,0,1,0,1,1],i0=["Add","Average","ColorBurn","ColorDodge","Darken","Difference","Exclusion","Glow","HardLight","HardMix","Lighten","LinearBurn","LinearDodge","LinearLight","Multiply","Negation","Normal","Overlay","Phoenix","PinLight","Reflect","Screen","SoftLight","Subtract","VividLight"];class RQ{constructor(e,{blendFunc:n={},transparent:i=!1,depthTest:s=!1,depthWrite:r=!1,renderOrder:a=0,alpha:o=1}={}){this.gl=e.gl,this.scene=e,this.transparent=i,this.blendFunc=n,this.depthTest=s,this.depthWrite=r,this.textureId=null,this.renderOrder=a,this.shader=new Bi(Gn.compositing),this.alpha=o,this.texturesIds=["hape_1","hape_2","hape_3"],this.activeTextures=["hape_1","hape_2"],this.colorsIds={hape_1:"white",hape_2:"red",hape_3:"black"},this.activeTextureId=0,this.textures={hape_1:new Kt(this.gl,{rt:this.scene.hapes.hape_1.rt.rt,width:this.scene.hapes.hape_1.rt.rt.width,height:this.scene.hapes.hape_1.rt.rt.height}),hape_2:new Kt(this.gl,{rt:this.scene.hapes.hape_2.rt.rt,width:this.scene.hapes.hape_2.rt.rt.width,height:this.scene.hapes.hape_2.rt.rt.height}),hape_3:new Kt(this.gl,{rt:this.scene.hapes.hape_3.rt.rt,width:this.scene.hapes.hape_3.rt.rt.width,height:this.scene.hapes.hape_3.rt.rt.height})},this.texture0=this.textures.hape_1,this.texture1=this.textures.hape_2,this.texture2=this.textures.hape_3,this.springTime=0,this.spring=new kQ({damping:1,timeScale:1,stiffness:10}),this._emitter={},gu(this._emitter),this.on=this._emitter.on.bind(this._emitter);let l={};i0.forEach((c,h)=>{l[i0[h]]=i0[h]}),this.config={Gamma:{value:1,params:{min:0,max:5,step:.01}},Exposure:{value:.1,params:{min:0,max:2,step:.01}},Contrast:{value:0,params:{min:-1,max:2,step:.01}},Vignette:{value:.4,params:{min:0,max:1,step:.01}},VignetteStrength:{value:.5,params:{min:0,max:1,step:.01}},NoiseOpacity:{value:.3,params:{min:0,max:1,step:.01}},SpringDamping:{value:6.8,params:{min:0,max:10,step:.01}},SpringStiffness:{value:50,params:{min:0,max:100,step:.01}},SpringMass:{value:.75,params:{min:0,max:1,step:.01}},ProgressSpeed:{value:1.2,params:{min:0,max:10,step:.01}}},ot.addBlade(this.config,"Compositing"),this.init(),this.onLoaded()}init(){this.geometry=new fi(this.gl);const e={position:{size:3,data:new Float32Array(PQ)},uv:{size:2,data:new Float32Array(MQ)},index:{data:new Uint16Array(AQ)}};this.geometry=new ji(this.gl,e),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTexture0:{value:this.texture0},uTexture1:{value:this.texture1},uTexture2:{value:this.texture2},uProgress:{value:this.transitionProgressSpring},uMaskProgress:{value:this.transitionProgress},uTime:{value:this.scene.time},uHapeWalk:{value:0},uActiveTexture:{value:this.scene.time},uPendingTexture:{value:this.scene.time},uRez:{value:[this.scene.width,this.scene.height]},uMouse:{value:rn.cursor},uVignette:this.config.Vignette,uContrast:this.config.Contrast,uGamma:this.config.Gamma,uNoiseOpacity:this.config.NoiseOpacity,uExposure:this.config.Exposure,uVignetteStrength:this.config.VignetteStrength,uMixingBloomBlack:{value:0},uMixingBloomWhite:{value:0},uMixingBloomRed:{value:0}}}),this.program.cullFace=!1,this.mesh=new ui(this.gl,{geometry:this.geometry,program:this.program,renderOrder:this.renderOrder}),this.initInteractions(),this.initDebugEvents()}initInteractions(){this.transitionProgressTarget=0,this.transitionProgressSpring=0,this.transitionProgressStart=0,this.transitionProgress=0,this.canEmit=!1,this.keydownFlag=!1,this.isTransitionning=!1}needsUpdate(e){return e===this.activeTextures[1]?this.canEmit:this.activeTextures.indexOf(e)>=0}isActive(e){return e===this.activeTextures[0]}onLoaded(){}initDebugEvents(){this.scene.on("debug-hape-change",e=>{this.transitionProgress=0,this.transitionProgressTarget=0,e=="black"?(this.activeTextures[0]="hape_3",this.activeTextures[1]="hape_1"):e=="red"?(this.activeTextures[0]="hape_2",this.activeTextures[1]="hape_3"):e=="white"&&(this.activeTextures[0]="hape_1",this.activeTextures[1]="hape_2")})}setColor(e){e=="white"?(this.activeTextureId=0,this.activeTextures[0]="hape_1",this.activeTextures[1]="hape_2"):e=="red"?(this.activeTextureId=1,this.activeTextures[0]="hape_2",this.activeTextures[1]="hape_3"):e=="black"&&(this.activeTextureId=2,this.activeTextures[0]="hape_3",this.activeTextures[1]="hape_1")}onPressed(){this.keydownFlag||(this.canEmit=!0,this.keydownFlag=!0,this.transitionProgressTarget=1,this.transitionProgressStart=this.transitionProgressSpring,this.springTime=0,this.isTransitionning=!0)}onReleased(){this.keydownFlag=!1,this.transitionProgressTarget=0,this.transitionProgressStart=this.transitionProgressSpring,this.springTime=0,this.isTransitionning&&(this.isTransitionning=!1,this._emitter.emit("transition-cancel",{progress:this.transitionProgress,modelIn:this.activeTextures[0],modelOut:this.activeTextures[1],colorIn:this.colorsIds[this.activeTextures[0]],colorOut:this.colorsIds[this.activeTextures[1]]}))}onTransitionComplete(){this.activeTextureId++,this.activeTextureId=this.activeTextureId%3,this.isTransitionning=!1,this.activeTextureId==0?(this.activeTextures[0]="hape_1",this.activeTextures[1]="hape_2"):this.activeTextureId==1?(this.activeTextures[0]="hape_2",this.activeTextures[1]="hape_3"):this.activeTextureId==2&&(this.activeTextures[0]="hape_3",this.activeTextures[1]="hape_1"),this.transitionProgress=0,this.transitionProgressTarget=0,this.transitionProgressStart=0,this.transitionProgressSpring=0,this._emitter.emit("transition-complete",{progress:0,modelIn:this.activeTextures[0],modelOut:this.activeTextures[1],colorIn:this.colorsIds[this.activeTextures[0]],colorOut:this.colorsIds[this.activeTextures[1]]})}preRender(){this.transitionProgressTarget==1&&this.transitionProgress!==this.transitionProgressTarget?this.transitionProgress+=this.scene.dt/1e3*this.config.ProgressSpeed.value:this.transitionProgress-=this.scene.dt/1e3*this.config.ProgressSpeed.value,this.transitionProgress=Math.min(Math.max(this.transitionProgress,0),1),this.spring.damping=this.config.SpringDamping.value,this.spring.stiffness=this.config.SpringStiffness.value,this.spring.mass=this.config.SpringMass.value,this.springTime+=this.scene.dt/1e3,this.transitionProgressSpring=this.spring.solve(this.transitionProgressStart,0,this.transitionProgressTarget)(this.springTime),this.canEmit&&this.transitionProgress>.99?(this.canEmit=!1,this._emitter.emit("transition-progress",{progress:1,modelIn:this.activeTextures[0],modelOut:this.activeTextures[1],colorIn:this.colorsIds[this.activeTextures[0]],colorOut:this.colorsIds[this.activeTextures[1]]}),this.onTransitionComplete()):this.canEmit&&this.transitionProgress<.01?(this.canEmit=!1,this._emitter.emit("transition-progress",{progress:0,modelIn:this.activeTextures[0],modelOut:this.activeTextures[1],colorIn:this.colorsIds[this.activeTextures[0]],colorOut:this.colorsIds[this.activeTextures[1]]})):this.canEmit&&this.transitionProgress>.001&&this._emitter.emit("transition-progress",{progress:this.transitionProgress,modelIn:this.activeTextures[0],modelOut:this.activeTextures[1],colorIn:this.colorsIds[this.activeTextures[0]],colorOut:this.colorsIds[this.activeTextures[1]]}),this.program.uniforms.uHapeWalk.value=Nf.easeOutQuad(wr(0,.5,this.scene.cameraManager.hapeWalkProgress)),this.program.uniforms.uActiveTexture.value=this.texturesIds.indexOf(this.activeTextures[0]),this.program.uniforms.uPendingTexture.value=this.texturesIds.indexOf(this.activeTextures[1]),this.texture0.needsUpdate=!0,this.texture1.needsUpdate=!0,this.texture2.needsUpdate=!0}render({post:e=null}){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uProgress.value=this.transitionProgressSpring+Nf.easeInOutQuad(this.transitionProgress),this.program.uniforms.uMaskProgress.value=Nf.easeInOutQuad(this.transitionProgress),this.program.uniforms.uRez.value=[this.scene.width,this.scene.height],this.program.uniforms.uMouse.value=rn.cursor,this.scene.renderer.render({scene:this.mesh,clear:!0,frustumCull:!1,post:e,sort:!1})}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}const IQ=new Xa,OQ=new Je,NQ=new Je;class Cw extends gn{constructor(e,{near:n=.1,far:i=100,fov:s=45,aspect:r=1,left:a,right:o,bottom:l,top:c,zoom:h=1}={}){super();Object.assign(this,{near:n,far:i,fov:s,aspect:r,left:a,right:o,bottom:l,top:c,zoom:h}),this.projectionMatrix=new Xa,this.viewMatrix=new Xa,this.projectionViewMatrix=new Xa,this.worldPosition=new Je,this.type=a||o?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:e=this.near,far:n=this.far,fov:i=this.fov,aspect:s=this.aspect}={}){return Object.assign(this,{near:e,far:n,fov:i,aspect:s}),this.projectionMatrix.fromPerspective({fov:i*(Math.PI/180),aspect:s,near:e,far:n}),this.type="perspective",this}orthographic({near:e=this.near,far:n=this.far,left:i=this.left,right:s=this.right,bottom:r=this.bottom,top:a=this.top,zoom:o=this.zoom}={}){return Object.assign(this,{near:e,far:n,left:i,right:s,bottom:r,top:a,zoom:o}),i/=o,s/=o,r/=o,a/=o,this.projectionMatrix.fromOrthogonal({left:i,right:s,bottom:r,top:a,near:e,far:n}),this.type="orthographic",this}updateMatrixWorld(e=!1){return super.updateMatrixWorld(),e&&(this.worldMatrix[1]*=-1,this.worldMatrix[5]*=-1,this.worldMatrix[9]*=-1,this.worldMatrix[13]*=-1),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}lookAt(e){return super.lookAt(e,!0),this}project(e){return e.applyMatrix4(this.viewMatrix),e.applyMatrix4(this.projectionMatrix),this}unproject(e){return e.applyMatrix4(IQ.inverse(this.projectionMatrix)),e.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new Je,new Je,new Je,new Je,new Je,new Je]);const e=this.projectionViewMatrix;this.frustum[0].set(e[3]-e[0],e[7]-e[4],e[11]-e[8]).constant=e[15]-e[12],this.frustum[1].set(e[3]+e[0],e[7]+e[4],e[11]+e[8]).constant=e[15]+e[12],this.frustum[2].set(e[3]+e[1],e[7]+e[5],e[11]+e[9]).constant=e[15]+e[13],this.frustum[3].set(e[3]-e[1],e[7]-e[5],e[11]-e[9]).constant=e[15]-e[13],this.frustum[4].set(e[3]-e[2],e[7]-e[6],e[11]-e[10]).constant=e[15]-e[14],this.frustum[5].set(e[3]+e[2],e[7]+e[6],e[11]+e[10]).constant=e[15]+e[14];for(let n=0;n<6;n++){const i=1/this.frustum[n].distance();this.frustum[n].multiply(i),this.frustum[n].constant*=i}}frustumIntersectsMesh(e){if(!e.geometry.attributes.position||((!e.geometry.bounds||e.geometry.bounds.radius===1/0)&&e.geometry.computeBoundingSphere(),!e.geometry.bounds))return!0;const n=OQ;n.copy(e.geometry.bounds.center),n.applyMatrix4(e.worldMatrix);const i=e.geometry.bounds.radius*e.worldMatrix.getMaxScaleOnAxis();return this.frustumIntersectsSphere(n,i)}frustumIntersectsSphere(e,n){const i=NQ;for(let s=0;s<6;s++){const r=this.frustum[s];if(i.copy(r).dot(e)+r.constant<-n)return!1}return!0}}const LQ=[-1,1,0,-1,-1,0,1,-1,0,1,1,0],FQ=[0,1,2,0,2,3],DQ=[0,1,0,0,1,0,1,1];let Ir=Wn();class s0{constructor(e,n,{parent:i=null,blendFunc:s={},transparent:r=!1,depthTest:a=!1,depthWrite:o=!1,alpha:l=1,id:c=null}={}){this.gl=e.gl,this.scene=e,this.transparent=r,this.blendFunc=s,this.depthTest=a,this.depthWrite=o,this.textureId=n,this.meshId=c,this.parent=i||e.root,this.viewDirProjInverse=Wn(),this.shader=new Bi(Gn.skybox),this.texture=new Kt(this.gl),this.alpha=l,this.camera=new Cw(this.gl,{near:.01,far:1e3,fov:40,aspect:this.width/this.height}),this.config={Fov:{value:80,params:{min:10,max:180,step:1}},OverwriteSkybox:{value:!1,type:"bool"},Skybox:{value:"placeholder",type:"input-image",input:null}},ot.addBlade(this.config,"Skybox"+this.meshId,this.meshId+1),this.init()}init(){this.geometry=new fi(this.gl);const e={position:{size:3,data:new Float32Array(LQ)},uv:{size:2,data:new Float32Array(DQ)},index:{data:new Uint16Array(FQ)}};this.geometry=new ji(this.gl,e),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTexture:{value:this.texture},uTime:{value:this.scene.time},uViewDirProjInverse:{value:this.viewDirProjInverse},uRez:{value:[this.scene.width,this.scene.height]},uMouse:{value:rn.cursor}}}),this.program.cullFace=!1,this.mesh=new ui(this.gl,{geometry:this.geometry,forceRenderOrder:!0,program:this.program,renderOrder:-1}),this.mesh.setParent(this.parent)}onLoaded(){this.textureId&&(this.texture=this.scene.textureLoader.getTexture(this.textureId),this.texture.needsUpdate=!0,this.program.uniforms.uTexture.value=this.texture)}postFirstDraw(){setTimeout(()=>{ot.inputs["Skybox"+this.meshId].Skybox.on("change",e=>{if(!this.config.OverwriteSkybox.value)return;const n=new Image;n.src=e.value.src,this.texture.image=n,this.texture.needsUpdate=!0,ot.inputs["Skybox"+this.meshId].Skybox.controller_.view.element.querySelector("input").value=""})},5e3)}preRender(){this.camera.fov=this.config.Fov.value,this.camera.perspective({aspect:this.scene.width/this.scene.height}),cm(Ir,this.scene.cameraManager.camera.viewMatrix),Ir[12]=Ir[13]=Ir[14]=0,cx(Ir,this.camera.projectionMatrix,Ir),lx(Ir,Ir),cm(this.viewDirProjInverse,Ir),this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uViewDirProjInverse.value=this.viewDirProjInverse,this.program.uniforms.uRez.value=[this.scene.width,this.scene.height],this.program.uniforms.uMouse.value=rn.cursor}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}class r0{constructor(e,{volumeCorner:n=new Je(-400,0,-400),volumeSize:i=new Je(800,600,800),wind:s=new Je(0,0,0),count:r=300,gravity:a=30,color:o="#fbb13e",color1:l="#FF0000",timeScale:c=1,name:h="Particles",meshId:p=0,noiseIntensity:d=30,noiseFrenquency:g=.1,fadeDistance:x=150,particleOpacity:S=.75,particleScale:m=300,alpha:_=1,parent:y=!1}={}){this.gl=e.gl,this.scene=e,this.transparent=!0,this.depthTest=!1,this.depthWrite=!1,this.shader=new Bi(Gn.fairyDust),this.count=r,this.offset=new Je,this.wind=s,this.volumeCorner=n,this.volumeSize=i,this.gravity=a,this.timeScale=c,this.color=o,this.color1=l,this.name=h,this.meshId=p,this.alpha=_,this.time=0,this.noiseIntensity=d,this.noiseFrenquency=g,this.fadeDistance=x,this.particleOpacity=S,this.particleScale=m,this.pixelRatio=this.scene.dpr,this.parent=y||e.root,this.initConfig(),this.createParticles(),this.init()}initConfig(){this.config={count:{value:100,params:{min:1,max:1e3,step:1}},color:{value:"#fb9900",params:{}},color1:{value:"#ff9e6f",params:{}},wind_X:{value:0,params:{min:-30,max:30,step:.1}},wind_Y:{value:0,params:{min:-30,max:30,step:.1}},wind_Z:{value:0,params:{min:-30,max:30,step:.1}},TimeScale:{value:1,params:{min:0,max:2,step:.01}},Gravity:{value:30,params:{min:-100,max:100,step:.1}},FadeDistance:{value:150,params:{min:0,max:1e3,step:1}},NoiseIntensity:{value:30,params:{min:0,max:150,step:.1}},NoiseFrenquency:{value:.1,params:{min:0,max:2,step:.01}},ParticleOpacity:{value:.75,params:{min:0,max:1,step:.01}},ParticleScale:{value:300,params:{min:0,max:1e3,step:1}}},this.gui=ot.addBlade(this.config,this.name+this.meshId,this.meshId+1),this.gui.count.on("change",()=>{this.mesh.visible=!1,this.createParticles(),this.init()})}createParticles(){this.count=this.config.count.value;let e=[],n=[];for(;this.count--;)e.push(Math.random()*this.volumeSize[0]-this.volumeSize[0]/2),e.push(Math.random()*this.volumeSize[1]-this.volumeSize[1]/2),e.push(Math.random()*this.volumeSize[2]-this.volumeSize[2]/2),n.push(Math.random()),n.push(Math.random()),n.push(Math.random()),n.push(Math.random());this.vertices=new Float32Array(e),this.seeds=new Float32Array(n)}init(){const e={position:{size:3,data:this.vertices},seeds:{size:4,data:this.seeds}};this.geometry=new ji(this.gl,e),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTime:{value:this.scene.time},uVolumeCorner:{value:this.volumeCorner},uVolumeSize:{value:this.volumeSize},uOffset:{value:this.offset},uColor:{value:new tt(this.color)},uColor1:{value:new tt(this.color1)},uPixelRatio:{value:this.pixelRatio},uAlpha:{value:this.alpha},uNoiseIntensity:{value:this.noiseIntensity},uNoiseFrequency:{value:this.noiseFrenquency},uTimeScale:{value:this.timeScale},uParticleOpacity:{value:this.particleOpacity},uFadeDistance:{value:this.fadeDistance},uParticleScale:{value:this.particleScale}}}),this.program.cullFace=!1,this.mesh=new ui(this.gl,{geometry:this.geometry,program:this.program,mode:this.gl.POINTS}),this.mesh.setParent(this.parent)}onLoaded(){}preRender(){this.program.uniforms.uColor.value=new tt(this.config.color.value),this.program.uniforms.uColor1.value=new tt(this.config.color1.value),this.wind[0]=this.config.wind_X.value,this.wind[1]=this.config.wind_Y.value,this.wind[2]=this.config.wind_Z.value,this.timeScale=this.config.TimeScale.value,this.gravity=this.config.Gravity.value,this.fadeDistance=this.config.FadeDistance.value,this.noiseIntensity=this.config.NoiseIntensity.value,this.noiseFrenquency=this.config.NoiseFrenquency.value,this.time+=this.scene.dt/1e3,this.offset[0]=this.wind[0]*this.time*this.timeScale,this.offset[1]=(this.wind[1]+this.gravity)*this.time*this.timeScale,this.offset[2]=this.wind[2]*this.time*this.timeScale,this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uFadeDistance.value=this.fadeDistance,this.program.uniforms.uNoiseIntensity.value=this.noiseIntensity,this.program.uniforms.uNoiseFrequency.value=this.noiseFrenquency,this.program.uniforms.uTimeScale.value=this.timeScale,this.program.uniforms.uOffset.value=this.offset,this.program.uniforms.uParticleOpacity.value=this.config.ParticleOpacity.value,this.program.uniforms.uParticleScale.value=this.config.ParticleScale.value}}class BQ extends ji{constructor(e,{radiusTop:n=.5,radiusBottom:i=.5,height:s=1,radialSegments:r=8,heightSegments:a=1,openEnded:o=!1,thetaStart:l=0,thetaLength:c=Math.PI*2,attributes:h={}}={}){const p=r,d=a,g=l,x=c,S=o?0:i&&n?2:1,m=(p+1)*(d+1+S)+S,_=p*d*6+S*p*3,y=new Float32Array(m*3),T=new Float32Array(m*3),C=new Float32Array(m*2),A=m>65536?new Uint32Array(_):new Uint16Array(_);let k=0,P=0;const N=[];I(),o||(n&&j(!0),i&&j(!1));function I(){let V,D;const G=new Je,O=(i-n)/s;for(D=0;D<=d;D++){const J=[],X=D/d,ae=X*(i-n)+n;for(V=0;V<=p;V++){const me=V/p,Ae=me*x+g,Oe=Math.sin(Ae),Be=Math.cos(Ae);y.set([ae*Oe,(.5-X)*s,ae*Be],k*3),G.set(Oe,O,Be).normalize(),T.set([G.x,G.y,G.z],k*3),C.set([me,1-X],k*2),J.push(k++)}N.push(J)}for(V=0;V<p;V++)for(D=0;D<d;D++){const J=N[D][V],X=N[D+1][V],ae=N[D+1][V+1],me=N[D][V+1];A.set([J,X,me,X,ae,me],P*3),P+=2}}function j(V){let D;const G=V===!0?n:i,O=V===!0?1:-1,J=k;for(y.set([0,.5*s*O,0],k*3),T.set([0,O,0],k*3),C.set([.5,.5],k*2),k++,D=0;D<=p;D++){const ae=D/p*x+g,me=Math.cos(ae),Ae=Math.sin(ae);y.set([G*Ae,.5*s*O,G*me],k*3),T.set([0,O,0],k*3),C.set([me*.5+.5,Ae*.5*O+.5],k*2),k++}for(D=0;D<p;D++){const X=J+D+1;V?A.set([X,X+1,J],P*3):A.set([X+1,X,J],P*3),P++}}Object.assign(h,{position:{size:3,data:y},normal:{size:3,data:T},uv:{size:2,data:C},index:{data:A}});super(e,h)}}class DT{constructor(e,{parent:n=null,scale:i=1,blendFunc:s={src:e.gl.SRC_ALPHA,dst:e.gl.ONE_MINUS_SRC_ALPHA},transparent:r=!0,depthTest:a=!0,depthWrite:o=!0,renderOrder:l=0,alpha:c=1}={},h=0){this.gl=e.gl,this.scene=e,this.parent=n||e.root,this.scale=i,this.transparent=r,this.blendFunc=s,this.depthTest=a,this.meshId=h,this.depthWrite=o,this.renderOrder=l,this.shader=new Bi(Gn.rays),this.alpha=c,this.color=Tn(0,0,0),this.config={Color:{value:"#8c5e22",params:{}},Scale_X:{value:4,params:{min:0,max:8,step:.1}},Fade:{value:.5,params:{min:0,max:3,step:.01}},TimeScale:{value:1,params:{min:0,max:3,step:.01}},Height:{value:1,params:{min:0,max:3,step:.01}},Width:{value:1,params:{min:0,max:3,step:.01}},Opacity:{value:1,params:{min:0,max:1,step:.01}}},ot.addBlade(this.config,"Rays"+h,h+1),this.init()}init(){this.geometry=new BQ(this.gl,{height:2,radialSegments:512,openEnded:!0}),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,depthFunc:this.gl.ALWAYS,cullFace:this.gl.FRONT,uniforms:{uTime:{value:this.scene.time},uAlpha:{value:this.alpha},uColor:{value:this.color},uFade:this.config.Fade,uHeight:this.config.Height,uWidth:this.config.Width,uOpacity:this.config.Opacity,uCamera:{value:[0,0,0]},uScale:{value:[this.config.Scale_X.value,this.config.Scale_X.value]},uRez:{value:[this.scene.width,this.scene.height]}}}),this.program.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE),this.mesh=new ui(this.gl,{geometry:this.geometry,program:this.program,renderOrder:this.renderOrder}),this.mesh.scale.set(this.scale,this.scale,this.scale),this.mesh.setParent(this.parent)}onLoaded(){}preRender(){this.program.uniforms.uTime.value=this.scene.time*this.config.TimeScale.value,this.program.uniforms.uAlpha.value=this.alpha,this.program.uniforms.uCamera.value=this.scene.camera.position,this.program.uniforms.uColor.value=new tt(this.config.Color.value),this.program.uniforms.uScale.value=[this.config.Scale_X.value,this.config.Scale_X.value],this.program.uniforms.uRez.value=[this.scene.width,this.scene.height]}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}const jQ=[-1,1,0,-1,-1,0,1,-1,0,1,1,0],UQ=[0,1,2,0,2,3],VQ=[0,1,0,0,1,0,1,1];Wn();class $Q{constructor(e,{parent:n=null,blendFunc:i={},transparent:s=!0,depthTest:r=!1,depthWrite:a=!1,alpha:o=1,id:l=null}={}){this.gl=e.gl,this.scene=e,this.transparent=s,this.blendFunc=i,this.depthTest=r,this.depthWrite=a,this.meshId=l,this.parent=n||e.root,this.viewDirProjInverse=Wn(),this.shader=new Bi(Gn.grid),this.alpha=o,this.config={Color:{value:"#524d46",params:{}},Spacing:{value:10,params:{min:0,max:30,step:1}},Offset:{value:1,params:{min:0,max:3,step:.01}},Opacity:{value:.1,params:{min:0,max:1,step:.01}}},ot.addBlade(this.config,"Grid"+this.meshId,this.meshId+1),this.init()}init(){this.geometry=new fi(this.gl);const e={position:{size:3,data:new Float32Array(jQ)},uv:{size:2,data:new Float32Array(VQ)},index:{data:new Uint16Array(UQ)}};this.geometry=new ji(this.gl,e),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTime:{value:this.scene.time},uColor:{value:new tt(this.config.Color.value)},uOpacity:this.config.Opacity,uOffset:this.config.Offset,uSpacing:this.config.Spacing,uRez:{value:[this.scene.width,this.scene.height]},uMouse:{value:rn.cursor}}}),this.program.cullFace=!1,this.mesh=new ui(this.gl,{geometry:this.geometry,forceRenderOrder:!0,program:this.program,renderOrder:-1}),this.mesh.setParent(this.parent)}onLoaded(){}preRender(){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uRez.value=[this.scene.width,this.scene.height],this.program.uniforms.uMouse.value=rn.cursor,this.program.uniforms.uColor.value=new tt(this.config.Color.value)}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}const zQ=2150/300,HQ=1024/512,BT=72,qQ=[-1,1,0,-1,-1,0,1,-1,0,1,1,0],WQ=[0,1,2,0,2,3],GQ=[0,1,0,0,1,0,1,1];class a0{constructor(e,n,{parent:i=null,blendFunc:s={},transparent:r=!0,depthTest:a=!1,depthWrite:o=!1,introTitle:l=!0,size:c={width:200,height:300,top:0,left:0},margin:h={left:25,right:25,top:70,bottom:0},alpha:p=1,id:d=null}={}){this.gl=e.gl,this.scene=e,this.transparent=r,this.blendFunc=s,this.depthTest=a,this.depthWrite=o,this.mobile=window.innerWidth<1024,this.textureId=this.mobile?"header-title-mobile-sdf":"header-title-sdf",this.meshId=d,this.frame=0,this.play=!1,this.size=c,this.margin=this.mobile?{left:8,right:8,top:70,bottom:0}:h,this.introTitle=l,this.parent=i||e.root,this.origin=new gn,this.origin.setParent(this.parent),this.shader=new Bi(Gn.title),this.texture=new Kt(this.gl),this.alpha=p,this.config={Color:{value:"#ffffff",params:{}},Blur:{value:0,params:{min:0,max:1,step:.01}},Offset:{value:.48,params:{min:0,max:1,step:.01}}},ot.addBlade(this.config,"Title"+this.meshId+(this.introTitle?"intro":"main"),this.meshId+1),this.init(),this.computeSize(),this.scene.on("transition-complete",()=>{this.frame=0,this.play=!1,setTimeout(()=>{this.play=!0},100)}),this.scene.on("transition-cancel",()=>{this.play||(this.frame=0,this.play=!1,setTimeout(()=>{this.play=!0},500))})}computeSize(){var e,n;this.size.width=this.scene.width/this.scene.dpr/2-this.margin.left-this.margin.right,this.size.height=this.size.width/(this.mobile?HQ:zQ),this.origin.position.x=this.margin.left*2,this.origin.position.y=-this.margin.top*2,this.mesh.position.x=1,this.mesh.position.y=-1,this.origin.scale.x=(e=this.size)==null?void 0:e.width,this.origin.scale.y=(n=this.size)==null?void 0:n.height}init(){this.geometry=new fi(this.gl);const e={position:{size:3,data:new Float32Array(qQ)},uv:{size:2,data:new Float32Array(GQ)},index:{data:new Uint16Array(WQ)}};this.geometry=new ji(this.gl,e),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTexture:{value:this.texture},uTime:{value:this.scene.time},uColor:{value:new tt(this.config.Color.value)},uBlur:{value:0},uOffset:{value:0},uOpacity:{value:1},uFrame:{value:this.frame},uFrames:{value:BT},uSize:{value:[0,0]},uRows:{value:this.mobile?9:18},uCollums:{value:this.mobile?8:4},uRez:{value:[this.scene.width,this.scene.height]},uMouse:{value:rn.cursor}}}),this.program.cullFace=!1,this.mesh=new ui(this.gl,{geometry:this.geometry,forceRenderOrder:!0,program:this.program,renderOrder:-1}),this.mesh.setParent(this.origin)}onLoaded(){this.textureId&&(this.texture=this.scene.textureLoader.getTexture(this.textureId),this.texture.needsUpdate=!0,this.program.uniforms.uTexture.value=this.texture)}postFirstDraw(){}preRender(){this.play&&(this.frame++,this.frame=Math.min(this.frame,BT)),this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uRez.value=[this.scene.width,this.scene.height],this.program.uniforms.uFrame.value=this.frame,this.program.uniforms.uMouse.value=rn.cursor,this.program.uniforms.uColor.value=new tt(this.config.Color.value),this.program.uniforms.uOpacity.value=1-this.scene.cameraManager.hapeWalkProgress*3,this.program.uniforms.uOpacity.value*=1-(wr(0,.2,this.scene.compositing.transitionProgress)-wr(.8,1,this.scene.compositing.transitionProgress)),this.program.uniforms.uOpacity.value==0&&this.play&&(this.frame=0,this.play=!1)}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}const jT=72,KQ=[-1,1,0,-1,-1,0,1,-1,0,1,1,0],YQ=[0,1,2,0,2,3],XQ=[0,1,0,0,1,0,1,1];class o0{constructor(e,n,{parent:i=null,blendFunc:s={},transparent:r=!0,depthTest:a=!1,depthWrite:o=!1,introTitle:l=!0,rows:c=2,collums:h=2,size:p={width:200,height:300},margin:d={left:0,right:0,top:0,bottom:0},alpha:g=1,id:x=null}={}){this.gl=e.gl,this.scene=e,this.transparent=r,this.blendFunc=s,this.depthTest=a,this.depthWrite=o,this.mobile=window.innerWidth<1024,this.textureId=n,this.meshId=x,this.rows=c,this.collums=h,this.frame=0,this.play=!1,this.size=p,this.margin=d,this.introTitle=l,this.parent=i||e.root,this.origin=new gn,this.origin.setParent(this.parent),this.seed=Math.random(),this.shader=new Bi(Gn.spritesheet),this.texture=new Kt(this.gl),this.alpha=g,this.config={Color:{value:"#ffffff",params:{}},Blur:{value:0,params:{min:0,max:1,step:.01}},Offset:{value:.48,params:{min:0,max:1,step:.01}}},ot.addBlade(this.config,"Title"+this.meshId+(this.introTitle?"intro":"main"),this.meshId+1),this.init(),this.computeSize(),this.scene.on("transition-complete",()=>{this.frame=0,this.play=!1,setTimeout(()=>{this.play=!0},100)}),this.scene.on("transition-cancel",()=>{this.play||(this.frame=0,this.play=!1,setTimeout(()=>{this.play=!0},500))})}computeSize(){var e,n;this.origin.position.x=this.margin.left*2,this.origin.position.y=-this.margin.top*2,this.mesh.position.x=1,this.mesh.position.y=-1,this.origin.scale.x=(e=this.size)==null?void 0:e.width,this.origin.scale.y=(n=this.size)==null?void 0:n.height}init(){this.geometry=new fi(this.gl);const e={position:{size:3,data:new Float32Array(KQ)},uv:{size:2,data:new Float32Array(XQ)},index:{data:new Uint16Array(YQ)}};this.geometry=new ji(this.gl,e),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTexture:{value:this.texture},uTime:{value:this.scene.time},uColor:{value:new tt(this.config.Color.value)},uBlur:{value:0},uOffset:{value:0},uOpacity:{value:1},uFrame:{value:this.frame},uFrames:{value:jT},uSize:{value:[0,0]},uRows:{value:this.rows},uCollums:{value:this.collums},uRez:{value:[this.scene.width,this.scene.height]},uMouse:{value:rn.cursor}}}),this.program.cullFace=!1,this.mesh=new ui(this.gl,{geometry:this.geometry,forceRenderOrder:!0,program:this.program,renderOrder:-1}),this.mesh.setParent(this.origin)}onLoaded(){this.textureId&&(this.texture=this.scene.textureLoader.getTexture(this.textureId),this.texture.needsUpdate=!0,this.program.uniforms.uTexture.value=this.texture)}postFirstDraw(){}preRender(){this.play&&(this.frame++,this.frame=Math.min(this.frame,jT)),this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uRez.value=[this.scene.width,this.scene.height],this.program.uniforms.uFrame.value=this.frame,this.program.uniforms.uMouse.value=rn.cursor,this.program.uniforms.uColor.value=new tt(this.config.Color.value),this.program.uniforms.uOpacity.value=1-this.scene.cameraManager.hapeWalkProgress*3,this.program.uniforms.uOpacity.value*=1-(wr(0,.2,this.scene.compositing.transitionProgress)-wr(.8,1,this.scene.compositing.transitionProgress)),this.program.uniforms.uOpacity.value*=this.scene.isKonami?0:1,this.program.uniforms.uOpacity.value==0&&this.play&&(this.frame=0,this.play=!1)}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}class QQ{constructor(e){this.scene=e,this.gl=e.gl,this.uniforms={},this.hasNormal=!0,this.onlyVertices=!1,this.customAttributes=[],this.node=new Kp,this.defines={},this.buffersOptions={},this.isHidden=!1}initProgram(e,n){let i=this.gl,r=function(h){let p="";for(let d in h)p+="#define "+d+" "+h[d]+`
`;return p}(this.defines),a=i.createShader(i.VERTEX_SHADER);i.shaderSource(a,r+e),i.compileShader(a);let o=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(o,r+n),i.compileShader(o),!i.getShaderParameter(a,i.COMPILE_STATUS))return console.error("error vert",this,i.getShaderInfoLog(a)),null;if(!i.getShaderParameter(o,i.COMPILE_STATUS))return console.error("error frag",this,i.getShaderInfoLog(o)),null;let l=i.createProgram();i.attachShader(l,a),i.attachShader(l,o),i.linkProgram(l),i.getProgramParameter(l,i.LINK_STATUS)||console.error("Could not initialise shaders",i.getProgramInfoLog(l)),i.useProgram(l),l.vertexPositionAttribute=i.getAttribLocation(l,"aPos"),this.onlyVertices||(l.vertexUvAttribute=i.getAttribLocation(l,"aUvs")),this.hasNormal&&(l.vertexNormalAttribute=i.getAttribLocation(l,"aNormal")),this.customAttributes.forEach(h=>{l[`${h.name}Attribute`]=i.getAttribLocation(l,h.attributeName)}),this.vertShader=a,this.fragSahder=o,this.program=l;const c=i.getProgramParameter(l,i.ACTIVE_ATTRIBUTES);for(let h=0;h<c;++h){const p=i.getActiveAttrib(l,h);i.getAttribLocation(l,p.name)}}initVao(){let e=this.gl,n=this.buffersOptions;this.vao=e.createVertexArray(),e.bindVertexArray(this.vao),e.bindBuffer(e.ARRAY_BUFFER,this.vertexPositionBuffer),e.vertexAttribPointer(this.program.vertexPositionAttribute,3,e.FLOAT,!1,n.vertices?n.vertices.byteStride:0,n.vertices?n.vertices.byteOffset:0),e.enableVertexAttribArray(this.program.vertexPositionAttribute),this.onlyVertices||(e.bindBuffer(e.ARRAY_BUFFER,this.uvsBuffer),e.vertexAttribPointer(this.program.vertexUvAttribute,2,e.FLOAT,!1,n.uvs?n.uvs.byteStride:0,n.uvs?n.uvs.byteOffset:0),e.enableVertexAttribArray(this.program.vertexUvAttribute)),this.hasNormal&&(e.bindBuffer(e.ARRAY_BUFFER,this.normalBuffer),e.vertexAttribPointer(this.program.vertexNormalAttribute,3,e.FLOAT,!1,n.normals?n.normals.byteStride:0,n.normals?n.normals.byteOffset:0),e.enableVertexAttribArray(this.program.vertexNormalAttribute));for(let i=0;i<this.customAttributes.length;i++){const s=this.customAttributes[i];e.bindBuffer(e.ARRAY_BUFFER,s.buffer),e.vertexAttribPointer(this.program[s.name+"Attribute"],s.dimensions,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.program[s.name+"Attribute"])}this.onlyVertices||e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.bindVertexArray(null)}initBuffer(e){let n=this.gl;e.options&&(this.buffersOptions=e.options);let i=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,i),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e.vertices),n.STATIC_DRAW);let s=n.createBuffer();this.hasNormal&&(n.bindBuffer(n.ARRAY_BUFFER,s),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e.normal),n.STATIC_DRAW));let r=n.createBuffer(),a=n.createBuffer();this.onlyVertices||(n.bindBuffer(n.ARRAY_BUFFER,r),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e.uvs),n.STATIC_DRAW),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,a),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.indices),n.STATIC_DRAW)),this.customAttributes.forEach(o=>{o.buffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,o.buffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(o.data),n.STATIC_DRAW)}),this.vertexPositionBuffer=i,this.uvsBuffer=r,this.hasNormal&&(this.normalBuffer=s),this.indicesBuffer=a}initMatrix(){this.createUniform("uPMatrix","mat4"),this.createUniform("uVMatrix","mat4"),this.createUniform("uMMatrix","mat4")}bindMatrixUniforms(e){this.bindUniform("uPMatrix",e.getProjectionMatrix()),this.bindUniform("uVMatrix",e.getViewMatrix()),this.bindUniform("uMMatrix",this.node.getMatrix())}createUniform(e,n="float1"){return this.program[e+"Uniform"]=this.gl.getUniformLocation(this.program,e),this.uniforms[e+"Uniform"]={name:e,type:n,uniform:this.program[e+"Uniform"]},this.program[e+"Uniform"]}createAttribute(e,n,i,s){this.customAttributes.push({name:e,attributeName:n,dimensions:i,buffer:null,data:s})}bindUniform(e,n){let i=this.gl;this.uniforms[e+"Uniform"].type==="texture"&&i.uniform1i(this.program[e+"Uniform"],n),this.uniforms[e+"Uniform"].type==="textureCube"?i.uniform1i(this.program[e+"Uniform"],n):this.uniforms[e+"Uniform"].type==="float1"?i.uniform1f(this.program[e+"Uniform"],n):this.uniforms[e+"Uniform"].type==="float2"?i.uniform2fv(this.program[e+"Uniform"],n):this.uniforms[e+"Uniform"].type==="float3"?i.uniform3fv(this.program[e+"Uniform"],n):this.uniforms[e+"Uniform"].type==="float4"?i.uniform4fv(this.program[e+"Uniform"],n):this.uniforms[e+"Uniform"].type==="mat4"?i.uniformMatrix4fv(this.program[e+"Uniform"],!1,n):this.uniforms[e+"Uniform"].type==="[mat4]"&&i.uniformMatrix4fv(this.program[e+"Uniform"],!1,n)}checkVisibility(){return this.isHidden}}const JQ=[-1,1,0,-1,-1,0,1,-1,0,1,1,0],l0=[0,1,2,0,2,3],ZQ=[0,1,0,0,1,0,1,1];class eJ extends QQ{constructor(e,n,i){super(e);this.hasNormal=!1,this.parent=n,this.rtScale=.3,this.power=0,this.id=i,this.transparent=!0,this.direction=[0,0],this.threshold=0,this.color=Tn(1,1,1),this.blurPass=[[15,0],[0,15],[7,-1],[-1,7],[3,1],[1,3]];var s=new Bi(Gn.postBlur,2,{TRANSPARENT:this.transparent?1:0});this.initProgram(s.vert,s.passes[0]),this.initBuffer({vertices:JQ,uvs:ZQ,indices:l0}),this.initVao(),this.createUniforms(),this.activeRt=0,this.disabledRt=1,this.rts=[new wp(this.scene,this.rtScale,"rgba",null,!0,"linear",this.transparent),new wp(this.scene,this.rtScale,"rgba",null,!0,"linear",this.transparent)],this.config={BloomTintWhite:{value:"#ffffff",params:{}},BloomTintBlack:{value:"#fbad33",params:{}},BloomTintRed:{value:"#ff0000",params:{}},ThresholdWhite:{value:1.25,params:{min:0,max:1.25,step:.01}},ThresholdBlack:{value:.3,params:{min:0,max:1.25,step:.01}},ThresholdRed:{value:.45,params:{min:0,max:1.25,step:.01}},Blur:{value:1,params:{min:0,max:1,step:.01}},Overdrive:{value:0,params:{min:0,max:1,step:.01}},Similarity:{value:.01,params:{min:0,max:.1,step:.001}}},ot.addBlade(this.config,"Bloom")}createUniforms(){this.createUniform("uTexture","texture"),this.createUniform("uRez","float2"),this.createUniform("uDir","float2"),this.createUniform("uTint","float3"),this.createUniform("uPower"),this.createUniform("uIsFirstPass"),this.createUniform("uThresold"),this.createUniform("uSimilarity"),this.createUniform("uOverdrive")}applyState(){let e=this.gl;this.scene.applyDefaultState(),e.disable(e.DEPTH_TEST),e.depthMask(!1)}preRender(){this.rts[this.disabledRt].preRender()}postRender(){this.rts[this.disabledRt].postRender(),this.activeRt=this.activeRt===1?0:1,this.disabledRt=this.disabledRt===1?0:1}clear(){this.rts[this.activeRt].clear(),this.rts[this.disabledRt].clear()}bind(){this.rts[this.activeRt].bind()}getTexture(){return this.rts[this.activeRt].getTexture()}setBloomSetting(e){e=="hape_1"?(this.color=new tt(this.config.BloomTintWhite.value),this.threshold=this.config.ThresholdWhite.value):e=="hape_2"?(this.color=new tt(this.config.BloomTintRed.value),this.threshold=this.config.ThresholdRed.value):e=="hape_3"&&(this.color=new tt(this.config.BloomTintBlack.value),this.threshold=this.config.ThresholdBlack.value)}render(){let e=this.gl;e.useProgram(this.program),e.bindVertexArray(this.vao),this.applyState(),this.preRender(),this.power=this.config.Blur.value,this.bindUniform("uRez",[this.scene.width,this.scene.height]),this.direction=this.blurPass[0],this.bindUniform("uDir",[this.direction[0]*this.scene.dpr,this.direction[1]*this.scene.dpr]),e.activeTexture(e.TEXTURE0),this.parent.rt.bind(),this.bindUniform("uTexture",0),this.scene.post.program.uniforms.uBloomOpacity.value==0&&(this.scene.compositing.transitionProgress>=.5?this.setBloomSetting(this.scene.compositing.activeTextures[1]):this.setBloomSetting(this.scene.compositing.activeTextures[0])),this.bindUniform("uPower",this.power),this.bindUniform("uIsFirstPass",1),this.bindUniform("uTint",this.color),this.bindUniform("uThresold",this.threshold),this.bindUniform("uSimilarity",this.config.Similarity.value),this.bindUniform("uOverdrive",this.config.Overdrive.value),e.drawElements(e.TRIANGLES,l0.length,e.UNSIGNED_SHORT,0),this.postRender();for(let n=1;n<this.blurPass.length;n++)this.preRender(),this.direction=this.blurPass[n],this.bindUniform("uDir",[this.direction[0]*this.scene.dpr,this.direction[1]*this.scene.dpr]),e.activeTexture(e.TEXTURE0),this.rts[this.activeRt].bind(),this.bindUniform("uTexture",0),this.bindUniform("uIsFirstPass",0),e.drawElements(e.TRIANGLES,l0.length,e.UNSIGNED_SHORT,0),this.postRender();e.bindVertexArray(null),e.bindFramebuffer(e.FRAMEBUFFER,null)}}const tJ=[-1,1,0,-1,-1,0,1,-1,0,1,1,0],nJ=[0,1,2,0,2,3],iJ=[0,1,0,0,1,0,1,1];class sJ{constructor(e,{blendFunc:n={},transparent:i=!1,depthTest:s=!1,depthWrite:r=!1,renderOrder:a=0,alpha:o=1}={}){this.gl=e.gl,this.scene=e,this.rt=new wp(this.scene,1,"rgb",null,!0),this.transparent=i,this.blendFunc=n,this.depthTest=s,this.depthWrite=r,this.textureId=null,this.renderOrder=a,this.shader=new Bi(Gn.post),this.texture=new Kt(this.gl,{rt:this.rt,width:this.rt.width,height:this.rt.height}),this.noiseTexture=new Kt(this.gl),this.bloomTexture=new Kt(this.gl),this.alpha=o,this.config={NoiseOpacity:{value:.3,params:{min:0,max:1,step:.01}},Gamma:{value:1.1,params:{min:0,max:2,step:.01}},Exposure:{value:0,params:{min:-2,max:2,step:.01}},Contrast:{value:0,params:{min:-1,max:1,step:.01}},Vignette:{value:.25,params:{min:0,max:1,step:.01}},ChromaticAberations:{value:.5,params:{min:0,max:1,step:.01}},VignetteStrength:{value:.5,params:{min:0,max:1,step:.01}}},ot.addBlade(this.config,"Post Processing"),this.init()}init(){this.geometry=new fi(this.gl);const e={position:{size:3,data:new Float32Array(tJ)},uv:{size:2,data:new Float32Array(iJ)},index:{data:new Uint16Array(nJ)}};this.geometry=new ji(this.gl,e),this.program=new bi(this.gl,{vertex:this.shader.vert,fragment:this.shader.frag,depthTest:this.depthTest,depthWrite:this.depthWrite,transparent:this.transparent,uniforms:{uTexture:{value:this.texture},uBloom:{value:this.bloomTexture},uNoise:{value:this.noiseTexture},uBloomOpacity:{value:1},uTime:{value:this.scene.time},uRez:{value:[this.scene.width,this.scene.height]},uMouse:{value:rn.cursor},uVignette:this.config.Vignette,uVignetteStrength:this.config.VignetteStrength,uNoiseOpacity:this.config.NoiseOpacity,uChromaticAberations:this.config.ChromaticAberations,uGamma:this.config.Gamma,uKonami:{value:0},uExposure:this.config.Exposure,uContrast:this.config.Contrast}}),this.program.cullFace=!1,this.mesh=new ui(this.gl,{geometry:this.geometry,program:this.program,renderOrder:this.renderOrder})}onLoaded(){this.bloomTexture=new Kt(this.gl,{rt:this.scene.bloomPass.rts[0],width:this.scene.bloomPass.rts[0].width,height:this.scene.bloomPass.rts[0].height}),this.program.uniforms.uBloom.value=this.bloomTexture,this.noiseTexture=this.scene.textureLoader.getTexture("blue-noise"),this.noiseTexture.needsUpdate=!0,this.program.uniforms.uNoise.value=this.noiseTexture}preRender(){this.rt.preRender()}postRender(){this.rt.postRender()}render(){this.program.uniforms.uTime.value=this.scene.time,this.program.uniforms.uRez.value=[this.scene.width,this.scene.height],this.program.uniforms.uMouse.value=rn.cursor,this.program.uniforms.uKonami.value=this.scene.isKonami?1:0,this.program.uniforms.uBloomOpacity.value=1-(wr(0,.4,this.scene.compositing.transitionProgress)-wr(.6,1,this.scene.compositing.transitionProgress)),this.texture.needsUpdate=!0,this.scene.renderer.render({scene:this.mesh,clear:!0,frustumCull:!1,sort:!1})}dispose(){this.mesh.setParent(null),this.geometry.remove(),this.program.remove()}}function mc(t,e){this.json=t,this.bin=e,this.itemLoaded=0,this.promise=new Promise((i,s)=>{this.resolve=i});var n=this;return typeof this.json=="string"?this.loadJson().then(function(i){n.json=i,n.itemLoaded++,n.checkIfItemIsloaded()}):this.itemLoaded++,typeof this.bin=="string"?this.loadBin().then(function(i){n.bin=i,n.itemLoaded++,n.checkIfItemIsloaded()}):this.itemLoaded++,this.itemLoaded===2&&this.init(),this.getPromise()}mc.prototype={init:function(){for(var t=this.json.meshes,e=["vertices","normal","uvs","indices","vertexIndex","name","type","translate","scale","rotation","infos","material","maxJoints","attribStackNum","joints","sid","parent"],n=0;n<t.length;n++){var i=t[n];if(i.vertices!=null){var s=i.vertices;i.vertices=new Float32Array(this.bin.slice(s.offset*4,s.offset*4+s.length*4))}if(i.normal!=null){var s=i.normal;i.normal=new Float32Array(this.bin.slice(s.offset*4,s.offset*4+s.length*4))}if(i.uvs!=null){var s=i.uvs;i.uvs=new Float32Array(this.bin.slice(s.offset*4,s.offset*4+s.length*4))}if(i.indices!=null){for(var s=i.indices,r=new Float32Array(this.bin.slice(s.offset*4,s.offset*4+s.length*4)),a=[],o=0;o<r.length;o++)a.push(r[o]);i.indices=new Uint16Array(a)}if(i.vertexIndex!=null){for(var s=i.vertexIndex,r=new Float32Array(this.bin.slice(s.offset*4,s.offset*4+s.length*4)),a=[],o=0;o<r.length;o++)a.push(r[o]);i.vertexIndex=new Uint16Array(a)}for(var l in i)if(i.hasOwnProperty(l)&&e.indexOf(l)===-1&&i[l]!=null){var s=i[l];i[l]=new Float32Array(this.bin.slice(s.offset*4,s.offset*4+s.length*4))}}this.resolve(t)},getPromise:function(){return this.promise},loadJson:function(){return new Promise((e,n)=>{var i=new XMLHttpRequest;i.open("GET",this.json,!0),i.responseType="json",i.onload=function(s){e(i.response)},i.send()})},loadBin:function(){return new Promise((e,n)=>{var i=new XMLHttpRequest;i.open("GET",this.bin,!0),i.responseType="arraybuffer",i.onload=function(s){e(i.response)},i.send()})},checkIfItemIsloaded:function(){this.itemLoaded===2&&this.init()}};function bh(t,e){this.json=t,this.bin=e,this.itemLoaded=0,this.promise=new Promise((i,s)=>{this.resolve=i});var n=this;return typeof this.json=="string"?this.loadJson().then(function(i){n.json=i,n.itemLoaded++,n.checkIfItemIsloaded()}):this.itemLoaded++,typeof this.bin=="string"?this.loadBin().then(function(i){n.bin=i,n.itemLoaded++,n.checkIfItemIsloaded()}):this.itemLoaded++,this.itemLoaded===2&&this.init(),this.getPromise()}bh.prototype={init:function(){for(var t=this.json.animations,e=0;e<t.length;e++){var n=t[e].animations;for(var i in n)if(n.hasOwnProperty(i)&&n[i]!=null){var s=n[i].source;n[i].source=new Float32Array(this.bin.slice(s.offset*4,s.offset*4+s.length*4))}}this.resolve(t)},getPromise:function(){return this.promise},loadJson:function(){return new Promise((e,n)=>{var i=new XMLHttpRequest;i.open("GET",this.json,!0),i.responseType="json",i.onload=function(s){e(i.response)},i.send()})},loadBin:function(){return new Promise((e,n)=>{var i=new XMLHttpRequest;i.open("GET",this.bin,!0),i.responseType="arraybuffer",i.onload=function(s){e(i.response)},i.send()})},checkIfItemIsloaded:function(){this.itemLoaded===2&&this.init()}};const Xv={CONFIG_0:{IBLDiffuseFactor:{value:1,params:{min:0,max:2,step:.01}},IBLSpecularFactor:{value:1,params:{min:0,max:2,step:.01}},Environement:{value:"env_default",params:{options:{default:"env_default",papermill:"env_papermill",night_sky:"env_night_sky",coffe_shop:"env_coffe_shop",studio:"env_studio"}}},EnvironementDiffuse:{value:"LightBlack",params:{options:{default:"LightBlack",white:"env_diffuse_grey"}}},lightColor:{value:"#FF0000",params:{}},emissiveColor:{value:"#000000",params:{}},lightPower:{value:10,params:{min:0,max:10,step:.01}},yOffset:{value:-8.25,params:{min:-10,max:10,step:.01}},Alpha:{value:1,params:{min:0,max:1,step:.01}},Debug:{value:"disabled",params:{options:{disabled:"disabled",baseColor:"baseColor",metallic:"metallic",roughness:"roughness",specRef:"specRef",geomOcc:"geomOcc",mcrfctDist:"mcrfctDist",spec:"spec",mathDiff:"mathDiff"}}},OverwriteEnvIBL:{value:!1,type:"bool"},EnvIBL:{value:"placeholder",type:"input-image",input:null}},CONFIG_1:{IBLDiffuseFactor:{value:1,params:{min:0,max:2,step:.01}},IBLSpecularFactor:{value:1,params:{min:0,max:2,step:.01}},Environement:{value:"env_default",params:{options:{default:"env_default",papermill:"env_papermill",night_sky:"env_night_sky",coffe_shop:"env_coffe_shop",studio:"env_studio"}}},EnvironementDiffuse:{value:"LightWhite",params:{options:{default:"LightWhite",white:"env_diffuse_grey"}}},lightColor:{value:"#0000FF",params:{}},emissiveColor:{value:"#000000",params:{}},lightPower:{value:10,params:{min:0,max:10,step:.01}},yOffset:{value:-3.8,params:{min:-10,max:10,step:.01}},Alpha:{value:1,params:{min:0,max:1,step:.01}},Debug:{value:"disabled",params:{options:{disabled:"disabled",baseColor:"baseColor",metallic:"metallic",roughness:"roughness",specRef:"specRef",geomOcc:"geomOcc",mcrfctDist:"mcrfctDist",spec:"spec",mathDiff:"mathDiff"}}},OverwriteEnvIBL:{value:!1,type:"bool"},EnvIBL:{value:"placeholder",type:"input-image",input:null}},CONFIG_2:{IBLDiffuseFactor:{value:1,params:{min:0,max:2,step:.01}},IBLSpecularFactor:{value:1,params:{min:0,max:2,step:.01}},Environement:{value:"env_default",params:{options:{default:"env_default",papermill:"env_papermill",night_sky:"env_night_sky",coffe_shop:"env_coffe_shop",studio:"env_studio"}}},EnvironementDiffuse:{value:"LightRed",params:{options:{default:"LightRed",white:"env_diffuse_grey"}}},lightColor:{value:"#00FF00",params:{}},emissiveColor:{value:"#000000",params:{}},lightPower:{value:10,params:{min:0,max:10,step:.01}},yOffset:{value:-1.3,params:{min:-10,max:10,step:.01}},Alpha:{value:1,params:{min:0,max:1,step:.01}},Debug:{value:"disabled",params:{options:{disabled:"disabled",baseColor:"baseColor",metallic:"metallic",roughness:"roughness",specRef:"specRef",geomOcc:"geomOcc",mcrfctDist:"mcrfctDist",spec:"spec",mathDiff:"mathDiff"}}},OverwriteEnvIBL:{value:!1,type:"bool"},EnvIBL:{value:"placeholder",type:"input-image",input:null}}};ot.addBlade(Xv.CONFIG_0,"Hape_01 LIGHTS",1);ot.addBlade(Xv.CONFIG_1,"Hape_02 LIGHTS",2);ot.addBlade(Xv.CONFIG_2,"Hape_03 LIGHTS",3);const Mx="catmullrom",Rx="cubicbezier",GO="quadraticbezier",nl=new Je,il=new Je,Im=new Je,UT=new Je;function rJ(t,e,n=.168,i=.168){if(e<1?nl.sub(t[1],t[0]).scale(n).add(t[0]):nl.sub(t[e+1],t[e-1]).scale(n).add(t[e]),e>t.length-3){const s=t.length-1;il.sub(t[s-1],t[s]).scale(i).add(t[s])}else il.sub(t[e],t[e+2]).scale(i).add(t[e+1]);return[nl.clone(),il.clone()]}function VT(t,e,n,i){const s=1-t;nl.copy(e).scale(s**2),il.copy(n).scale(2*s*t),Im.copy(i).scale(t**2);const r=new Je;return r.add(nl,il).add(Im),r}function $T(t,e,n,i,s){const r=1-t;nl.copy(e).scale(r**3),il.copy(n).scale(3*r**2*t),Im.copy(i).scale(3*r*t**2),UT.copy(s).scale(t**3);const a=new Je;return a.add(nl,il).add(Im).add(UT),a}class ml{constructor({points:e=[new Je(0,0,0),new Je(0,1,0),new Je(1,1,0),new Je(1,0,0)],divisions:n=12,type:i=Mx}={}){this.points=e,this.divisions=n,this.type=i}_getQuadraticBezierPoints(e=this.divisions){const n=[],i=this.points.length;if(i<3)return console.warn("Not enough points provided."),[];const s=this.points[0];let r=this.points[1],a=this.points[2];for(let l=0;l<=e;l++){const c=VT(l/e,s,r,a);n.push(c)}let o=3;for(;i-o>0;){s.copy(a),r=a.scale(2).sub(r),a=this.points[o];for(let l=1;l<=e;l++){const c=VT(l/e,s,r,a);n.push(c)}o++}return n}_getCubicBezierPoints(e=this.divisions){const n=[],i=this.points.length;if(i<4)return console.warn("Not enough points provided."),[];let s=this.points[0],r=this.points[1],a=this.points[2],o=this.points[3];for(let c=0;c<=e;c++){const h=$T(c/e,s,r,a,o);n.push(h)}let l=4;for(;i-l>1;){s.copy(o),r=o.scale(2).sub(a),a=this.points[l],o=this.points[l+1];for(let c=1;c<=e;c++){const h=$T(c/e,s,r,a,o);n.push(h)}l+=2}return n}_getCatmullRomPoints(e=this.divisions,n=.168,i=.168){const s=[];if(this.points.length<=2)return this.points;let a;return this.points.forEach((o,l)=>{if(l===0)a=o;else{const[c,h]=rJ(this.points,l-1,n,i),p=new ml({points:[a,c,h,o],type:Rx});s.pop(),s.push(...p.getPoints(e)),a=o}}),s}getPoints(e=this.divisions,n=.168,i=.168){const s=this.type;return s===GO?this._getQuadraticBezierPoints(e):s===Rx?this._getCubicBezierPoints(e):s===Mx?this._getCatmullRomPoints(e,n,i):this.points}}ml.CATMULLROM=Mx;ml.CUBICBEZIER=Rx;ml.QUADRATICBEZIER=GO;function aJ(t,e){return t[0]=e[0],t[1]=e[1],t}function oJ(t,e,n){return t[0]=e,t[1]=n,t}function zT(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function HT(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function lJ(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function cJ(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function c0(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function uJ(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)}function hJ(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function qT(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function pJ(t){var e=t[0],n=t[1];return e*e+n*n}function dJ(t,e){return t[0]=-e[0],t[1]=-e[1],t}function fJ(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function mJ(t,e){var n=e[0],i=e[1],s=n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t}function vJ(t,e){return t[0]*e[0]+t[1]*e[1]}function WT(t,e){return t[0]*e[1]-t[1]*e[0]}function gJ(t,e,n,i){var s=e[0],r=e[1];return t[0]=s+i*(n[0]-s),t[1]=r+i*(n[1]-r),t}function bJ(t,e,n){var i=e[0],s=e[1];return t[0]=n[0]*i+n[3]*s+n[6],t[1]=n[1]*i+n[4]*s+n[7],t}function _J(t,e,n){let i=e[0],s=e[1];return t[0]=n[0]*i+n[4]*s+n[12],t[1]=n[1]*i+n[5]*s+n[13],t}function xJ(t,e){return t[0]===e[0]&&t[1]===e[1]}class Qv extends Array{constructor(e=0,n=e){super(e,n);return this}get x(){return this[0]}get y(){return this[1]}set x(e){this[0]=e}set y(e){this[1]=e}set(e,n=e){return e.length?this.copy(e):(oJ(this,e,n),this)}copy(e){return aJ(this,e),this}add(e,n){return n?zT(this,e,n):zT(this,this,e),this}sub(e,n){return n?HT(this,e,n):HT(this,this,e),this}multiply(e){return e.length?lJ(this,this,e):c0(this,this,e),this}divide(e){return e.length?cJ(this,this,e):c0(this,this,1/e),this}inverse(e=this){return fJ(this,e),this}len(){return qT(this)}distance(e){return e?uJ(this,e):qT(this)}squaredLen(){return this.squaredDistance()}squaredDistance(e){return e?hJ(this,e):pJ(this)}negate(e=this){return dJ(this,e),this}cross(e,n){return n?WT(e,n):WT(this,e)}scale(e){return c0(this,this,e),this}normalize(){return mJ(this,this),this}dot(e){return vJ(this,e)}equals(e){return xJ(this,e)}applyMatrix3(e){return bJ(this,this,e),this}applyMatrix4(e){return _J(this,this,e),this}lerp(e,n){return gJ(this,this,e,n),this}clone(){return new Qv(this[0],this[1])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e}}const Ma=En(),GT=En(),yJ=Tn(0,1,0);class KT{constructor(e,n,{pan:i=!0,startDistance:s=10,minDistance:r=1e-4,maxDistance:a=1/0,applyTransform:o=!0,startAngleX:l=Math.PI,startAngleY:c=-Math.PI/2,angleLimitY:h=[-Math.PI+.1,-.1],dragVelocity:p=5,target:d=[0,0,0]}={}){this.scene=e,this.camera=n,this.node=new Kp,this.offset=Tn(c,l,0),this.offsetTarget=Tn(c,l,0),this.radiusTarget=s,this.radius=s,this.target=Tn(d[0],d[1],d[2]),this.canPan=i,this.dragVelocity=p,this.angleLimitY=h,this.pan=En(),this.altPressed=!1,this.prevent=!1,this.applyTransform=o,this.canZoom=!0,this.canRotate=!0,this.config={camera_damping:{value:.2,range:[.001,.1]}},rn.on("wheel",()=>{!this.canZoom||(rn.wheelDir=="up"?this.radiusTarget+=1:this.radiusTarget-=1,this.radiusTarget=Math.max(Math.min(this.radiusTarget,a),r))}),this.canPan&&(window.addEventListener("keydown",g=>{g.key=="Alt"&&(this.altPressed=!0)}),window.addEventListener("keyup",g=>{g.key=="Alt"&&(this.altPressed=!1)})),ot.on("prevent",()=>{this.prevent=!0}),ot.on("unprevent",()=>{this.prevent=!1}),ot.addConfig(this.config,"Orbit")}update(){if(!this.prevent)if(this.altPressed){if(rn.isDown){let i=En(),s=En(),r=En();this.pan[0]=rn.velocity[0]*-10,this.pan[1]=rn.velocity[1]*(this.scene.width/this.scene.height)*5,tu(i,this.node.position,this.target),ll(i,i),Qr(r,yJ,i),ll(r,r),Qr(s,i,r),Hr(Ma,r,this.pan[0]),Hr(GT,s,this.pan[1]),Us(Ma,Ma,GT),Us(this.target,this.target,Ma)}}else rn.isDown&&this.canRotate&&(this.offsetTarget[1]+=rn.velocity[0]*this.dragVelocity,this.offsetTarget[0]+=rn.velocity[1]*(this.scene.width/this.scene.height)*this.dragVelocity);this.offsetTarget[0]=Math.min(Math.max(this.offsetTarget[0],this.angleLimitY[0]),this.angleLimitY[1]),tu(Ma,this.offsetTarget,this.offset),Hr(Ma,Ma,this.config.camera_damping.value),Us(this.offset,this.offset,Ma);let e=this.radiusTarget-this.radius;e*=this.config.camera_damping.value,this.radius+=e;let n=this.radius;if(this.node.position[0]=n*-Math.sin(this.offset[0])*Math.sin(this.offset[1])+this.target[0],this.node.position[1]=n*Math.cos(this.offset[0])+this.target[1],this.node.position[2]=n*Math.sin(this.offset[0])*Math.cos(this.offset[1])+this.target[2],this.applyTransform){this.camera.position.set(this.node.position[0],this.node.position[1],this.node.position[2]);const i=new Je;i.set(this.target[0],this.target[1],this.target[2]),this.camera.lookAt(i)}}}class wJ{constructor(e){this.points=e,this.points.unshift(this.points[0]),this.points.push(this.points[this.points.length-1]),this.params=[],this.totalLength=0,this.node=new Kp}applyNodeMatrix(){let e=this.node.getMatrix();for(let n=0;n<this.points.length;n++)this.points[n]=LW(this.points[n],this.points[n],e)}generate(){this.applyNodeMatrix();let e=this.points;for(let n=0;n+3<e.length;n++)this.params.push({p1:e[n+0],p2:e[n+1],p3:e[n+2],p4:e[n+3],dt:OW(e[n+1],e[n+2])});for(let n=0;n<this.params.length;n++)this.totalLength+=this.params[n].dt}getPointsUniform(e){let n=Math.ceil(e/this.params.length),i=[];for(let s=0;s<this.params.length;s++){this.params[s];for(let r=0;r<n;r++){let a=this.catmullRom(this.params[s].p1,this.params[s].p2,this.params[s].p3,this.params[s].p4,r/n);i.push(a[0]),i.push(a[1]),i.push(a[2])}}return i}getPointLinearMotion(e){e=Math.min(Math.max(e,1e-7),1);let n=e*this.totalLength,i=0,s=0,r=0;for(let o=0;o<this.params.length;o++)if(i<n)s=i,i+=this.params[o].dt,r=o;else continue;let a=(n-s)/(i-s);return this.catmullRom(this.params[r].p1,this.params[r].p2,this.params[r].p3,this.params[r].p4,a)}catmullRom(e,n,i,s,r){return Tn(this.calc(e[0],n[0],i[0],s[0],r),this.calc(e[1],n[1],i[1],s[1],r),this.calc(e[2],n[2],i[2],s[2],r))}calc(e,n,i,s,r){return(((-e+3*n-3*i+s)*r+(2*e-5*n+4*i-s))*r+i-e)*.5*r+n}}Wn();const YT=En(),XT=ia(),QT=En(),Fs=En(),SJ=Tn(0,1,0);class CJ{constructor(e,n){this.width=n.width,this.height=n.height,this.scene=n.scene,this.gl=e,this.toGo=new Je(0,0,0),this.toLook=new Je(0,0,0),this.lightPos=new Je(0,0,0),this.offset=new Je(0,0,0),this.offsetLook=new Je(0,0,0),this.pan=En(),this.panTarget=En(),this.lastWheel=0,this.hapeWalkProgress=0,this.catmulls={},this.mouse=[0,0],this.camera=new Cw(this.gl,{near:.1,far:100,fov:25,aspect:this.width/this.height}),this.orbitWalk=new KT(this.scene,this.camera,{pan:!1,angleLimitY:[-Math.PI/1.9,-.1],startDistance:12,minDistance:5,maxDistance:25,target:[0,2.6,0],startAngleX:2.5}),this.orbitWalk.canZoom=!1,this.orbitWalk.canRotate=!1,ot.queryDebug("orbit")?(this.debugMode=!0,this.orbit=new KT(this.scene,this.camera),this.camDebugMesh=this.scene.debugManager.createDebugCube(8,"#FF00FF",.7),this.lookAtDebugMesh=this.scene.debugManager.createDebugCube(5,"#0055FF",.8),this.lightDebugMesh=this.scene.debugManager.createDebugCube(3,"#FFFFFF",.8),this.preventUpdateOrbit=!1):(this.config={camMouseEase:{value:.075,range:[0,.1]},camMouseX:{value:.2,range:[-1,1]},camMouseY:{value:-.15,range:[-1,1]}},ot.addConfig(this.config,"CameraManager")),window.__cameraManager=this}resize(e,n){this.camera.perspective({aspect:e/n})}initDebugEvents(){this.guiIsEnabled&&(ot.panel.domElement.addEventListener("mouseover",()=>{this.preventUpdateOrbit=!0}),ot.panel.domElement.addEventListener("mouseleave",()=>{this.preventUpdateOrbit=!1}))}preRender(){this.orbitWalk.update(),CE(XT,this.camera.quaternion),CE(YT,this.camera.position),this.runCameraProgress(),Fh(this.camera.quaternion,this.camera.quaternion,XT,this.hapeWalkProgress),cI(this.camera.position,this.camera.position,YT,this.hapeWalkProgress),this.orbit&&(this.orbit.enabled=!this.preventUpdateOrbit,this.orbit.update())}addSpline(e,n){const i=new wJ(EQ(e._data.vertices));i.node.position=zr(e._data.translate),i.node.rotation=zr(e._data.rotation),i.node.scale=zr(e._data.scale),i.generate(),this.catmulls[n]=i}runCameraProgress(){if(this.debugMode&&(this.scene.progressTarget=this.scene.time*.05%1,this.scene.progress=this.scene.progressTarget),cr(this.toGo,this.catmulls.camera.getPointLinearMotion(this.scene.progress)),cr(this.toLook,this.catmulls.lookat.getPointLinearMotion(this.scene.progress*1.3)),this.scene.config.PauseLight.value||cr(this.lightPos,this.catmulls.light.getPointLinearMotion(this.scene.progress)),this.camDebugMesh&&(cr(this.camDebugMesh.position,this.toGo),cr(this.lookAtDebugMesh.position,this.toLook),cr(this.lightDebugMesh.position,this.lightPos),this.camDebugMesh.lookAt(this.toLook)),!this.camDebugMesh){let e=En(),n=En(),i=En();this.scene.isMobile||(this.panTarget[0]=rn.cursor[0]*-(10+60*this.scene.progress)*(this.scene.width/this.scene.height),this.panTarget[1]=rn.cursor[1]*(10+60*this.scene.progress)),tu(Fs,this.panTarget,this.pan),Hr(Fs,Fs,this.config.camMouseEase.value),Us(this.pan,this.pan,Fs),tu(e,this.toGo,this.toLook),ll(e,e),Qr(i,SJ,e),ll(i,i),Qr(n,e,i),Hr(Fs,i,this.pan[0]),Hr(QT,n,this.pan[1]),Us(Fs,Fs,QT),Us(this.toGo,this.toGo,Fs),Hr(Fs,Fs,.2),Us(this.toLook,this.toLook,Fs)}wE(this.camera.position,this.toGo,this.scene.root.scale),Us(this.camera.position,this.camera.position,this.offset),wE(this.toLook,this.toLook,this.scene.root.scale),Us(this.toLook,this.toLook,this.offsetLook),this.camera.lookAt(this.toLook)}}const ic=new Je;class EJ{constructor(e,{points:n,vertex:i=TJ,fragment:s=kJ,uniforms:r={},attributes:a={}}){this.gl=e,this.points=n,this.count=n.length,this.position=new Float32Array(this.count*3*2),this.prev=new Float32Array(this.count*3*2),this.next=new Float32Array(this.count*3*2);const o=new Float32Array(this.count*1*2),l=new Float32Array(this.count*2*2),c=new Uint16Array((this.count-1)*3*2);for(let d=0;d<this.count;d++){o.set([-1,1],d*2);const g=d/(this.count-1);if(l.set([0,g,1,g],d*4),d===this.count-1)continue;const x=d*2;c.set([x+0,x+1,x+2],(x+0)*3),c.set([x+2,x+1,x+3],(x+1)*3)}const h=this.geometry=new ji(e,Object.assign(a,{position:{size:3,data:this.position},prev:{size:3,data:this.prev},next:{size:3,data:this.next},side:{size:1,data:o},uv:{size:2,data:l},index:{size:1,data:c}}));this.updateGeometry(),r.uResolution||(this.resolution=r.uResolution={value:new Qv}),r.uDPR||(this.dpr=r.uDPR={value:1}),r.uThickness||(this.thickness=r.uThickness={value:1}),r.uColor||(this.color=r.uColor={value:new tt("#000")}),r.uMiter||(this.miter=r.uMiter={value:1}),this.resize();const p=this.program=new bi(e,{vertex:i,fragment:s,uniforms:r});this.mesh=new ui(e,{geometry:h,program:p})}updateGeometry(){this.points.forEach((e,n)=>{e.toArray(this.position,n*3*2),e.toArray(this.position,n*3*2+3),n?(e.toArray(this.next,(n-1)*3*2),e.toArray(this.next,(n-1)*3*2+3)):(ic.copy(e).sub(this.points[n+1]).add(e),ic.toArray(this.prev,n*3*2),ic.toArray(this.prev,n*3*2+3)),n===this.points.length-1?(ic.copy(e).sub(this.points[n-1]).add(e),ic.toArray(this.next,n*3*2),ic.toArray(this.next,n*3*2+3)):(e.toArray(this.prev,(n+1)*3*2),e.toArray(this.prev,(n+1)*3*2+3))}),this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.prev.needsUpdate=!0,this.geometry.attributes.next.needsUpdate=!0}resize(){this.resolution&&this.resolution.value.set(this.gl.canvas.width,this.gl.canvas.height),this.dpr&&(this.dpr.value=this.gl.renderer.dpr)}}const TJ=`
    precision highp float;

    attribute vec3 position;
    attribute vec3 next;
    attribute vec3 prev;
    attribute vec2 uv;
    attribute float side;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform vec2 uResolution;
    uniform float uDPR;
    uniform float uThickness;
    uniform float uMiter;

    varying vec2 vUv;

    vec4 getPosition() {
        mat4 mvp = projectionMatrix * modelViewMatrix;
        vec4 current = mvp * vec4(position, 1);
        vec4 nextPos = mvp * vec4(next, 1);
        vec4 prevPos = mvp * vec4(prev, 1);

        vec2 aspect = vec2(uResolution.x / uResolution.y, 1);    
        vec2 currentScreen = current.xy / current.w * aspect;
        vec2 nextScreen = nextPos.xy / nextPos.w * aspect;
        vec2 prevScreen = prevPos.xy / prevPos.w * aspect;
    
        vec2 dir1 = normalize(currentScreen - prevScreen);
        vec2 dir2 = normalize(nextScreen - currentScreen);
        vec2 dir = normalize(dir1 + dir2);
    
        vec2 normal = vec2(-dir.y, dir.x);
        normal /= mix(1.0, max(0.3, dot(normal, vec2(-dir1.y, dir1.x))), uMiter);
        normal /= aspect;

        float pixelWidthRatio = 1.0 / (uResolution.y / uDPR);
        float pixelWidth = current.w * pixelWidthRatio;
        normal *= pixelWidth * uThickness;
        current.xy -= normal * side;
    
        return current;
    }

    void main() {
        vUv = uv;
        gl_Position = getPosition();
    }
`,kJ=`
    precision highp float;

    uniform vec3 uColor;
    
    varying vec2 vUv;

    void main() {
        gl_FragColor.rgb = uColor;
        gl_FragColor.a = 1.0;
    }
`;class PJ extends ji{constructor(e,{width:n=1,height:i=1,depth:s=1,widthSegments:r=1,heightSegments:a=1,depthSegments:o=1,attributes:l={}}={}){const c=r,h=a,p=o,d=(c+1)*(h+1)*2+(c+1)*(p+1)*2+(h+1)*(p+1)*2,g=(c*h*2+c*p*2+h*p*2)*6,x=new Float32Array(d*3),S=new Float32Array(d*3),m=new Float32Array(d*2),_=d>65536?new Uint32Array(g):new Uint16Array(g);let y=0,T=0;fi.buildPlane(x,S,m,_,s,i,n,p,h,2,1,0,-1,-1,y,T),y+=(p+1)*(h+1),T+=p*h,fi.buildPlane(x,S,m,_,s,i,-n,p,h,2,1,0,1,-1,y,T),y+=(p+1)*(h+1),T+=p*h,fi.buildPlane(x,S,m,_,n,s,i,p,c,0,2,1,1,1,y,T),y+=(c+1)*(p+1),T+=c*p,fi.buildPlane(x,S,m,_,n,s,-i,p,c,0,2,1,1,-1,y,T),y+=(c+1)*(p+1),T+=c*p,fi.buildPlane(x,S,m,_,n,i,-s,c,h,0,1,2,-1,-1,y,T),y+=(c+1)*(h+1),T+=c*h,fi.buildPlane(x,S,m,_,n,i,s,c,h,0,1,2,1,-1,y,T),Object.assign(l,{position:{size:3,data:x},normal:{size:3,data:S},uv:{size:2,data:m},index:{data:_}});super(e,l)}}class AJ{constructor(e){this.scene=e,this.debugMeshes=[],this.initSceneInputs()}initSceneInputs(){this.sceneConfig={Hape:{value:"white",params:{options:{white:"white",black:"black",red:"red"}}},Splines_Debug:{value:"off",params:{options:{on:"on",off:"off"}}}},ot.addBladeScene(this.sceneConfig,"Scene Global"),ot.scenePane.on("change",e=>{if(console.log(e),e.target.label=="Hape"&&this.scene._emitter.emit("debug-hape-change",e.value),e.target.label=="Splines_Debug")for(let n=0;n<this.debugMeshes.length;n++)this.debugMeshes[n].visible=e.value=="on"})}onLoaded(){this.scene._emitter.emit("debug-hape-change",this.sceneConfig.Hape.value)}createDebugProgram(){let e=new Bi(Gn.debugUnlit);return new bi(this.scene.gl,{vertex:e.vert,fragment:e.frag,transparent:!0,uniforms:{uColor:{value:new tt("#FF0000")},uAlpha:{value:1}}})}createDebugCube(e,n="#FF0000",i=1){let s=this.createDebugProgram();s.uniforms.uColor.value=new tt(n),s.uniforms.uAlpha.value=i;let r=new ui(this.scene.gl,{geometry:new PJ(this.scene.gl,1,1,1),program:s});return r.setParent(this.scene.root),e.x?r.scale.set(e.x,e.y,e.z):r.scale.set(e,e,e),r.visible=this.sceneConfig.Splines_Debug.value=="on",this.debugMeshes.push(r),r}createDebugSpline(e,n){const i=n.getPoints(),s={Camera_Spline:"#f00",Lookat_Spline:"#0f0",Light_Spline:"#00f"},r=new EJ(this.scene.gl,{points:i,uniforms:{uColor:{value:new tt(s[e.name])},uThickness:{value:1.5}}}),a=new ui(this.scene.gl,{geometry:r.geometry,program:r.program});a.position.set(e.translate[0],e.translate[1],e.translate[2]),a.rotation.set(e.rotation[0],e.rotation[1],e.rotation[2]),a.scale.set(e.scale[0],e.scale[1],e.scale[2]),a.setParent(this.scene.root),a.visible=this.sceneConfig.Splines_Debug.value=="on",this.debugMeshes.push(a)}}Wn();let df=165;const u0=60;class MJ extends KW{constructor(e,n=null){super(e,n);this.manager=n,this.renderer=n.renderer,this.time=0,this.dt=0,this.drawcalls=0,this.animFrame=0,this.animTime=0,this.progress=0,this.progressDelta=0,this.progressTarget=1e-5,this.direction=1,this.timescale=1.5,this.forceAllDraw=!0,this.root=new gn,this.UIroot=new gn,this.debugManager=new AJ(this),this.cameraManager=new CJ(this.gl,{width:this.width,height:this.height,scene:this,debug:!0}),this.camera=this.cameraManager.camera,this.uiCamera=new Cw(this.gl,{near:.1,far:20,left:window.innerWidth/-2,right:window.innerWidth/2,bottom:window.innerHeight/-2,top:window.innerHeight/2}),this.uiCamera.position.z=10,this.clearColor=this.manager.clearColor,this.loaded=!1,this.active=!1,this.textureLoader=new QW(this),this.meshes=[],this.skinedMeshes=[],this.nodes=[],this.trackers=[],this.splines={},this.domElements={},this.isMobile=dm,this.root.scale.set(.03,.03,.03),this.UIroot.position.x=-(this.width/this.dpr)/2,this.UIroot.position.y=this.height/this.dpr/2+window.pageYOffset,this.config={Pause:{value:!1,type:"bool"},PauseLight:{value:!1,type:"bool"},time_scale:{value:1.5,params:{min:0,max:3,step:.01}},scroll_damping:{value:.05,params:{min:0,max:1,step:.01}},scroll_speed:{value:5,params:{min:0,max:10,step:.1}},reflectionHeight:{value:1.75,params:{min:0,max:10,step:.01}},reflectionAlphaMin:{value:100,params:{min:0,max:1e3,step:1}},reflectionAlphaLimit:{value:1e3,params:{min:0,max:1e3,step:1}}},ot.addBlade(this.config,"Global Settings"),this.isKonami=!1,new qW(()=>{this.onKonami()})}setFooterOffset(e){this.cameraManager.offset.y=-e/175,this.cameraManager.offsetLook.y=-e/175}initEnterChoregraphy(){this.cameraManager.offset.x=2,this.cameraManager.offset.z=-2,this.post.config.Exposure.value=-1,Jt.delayedCall(1,()=>{this.enterScene()})}enterScene(){Jt.to(this.cameraManager.offset,{x:0,z:0,duration:2.5,ease:"power2.inOut"}),Jt.to(this.post.config.Exposure,{value:.1,duration:2,ease:"power2.inOut"})}enterHapeWalk(){Jt.to(this.cameraManager,{hapeWalkProgress:1,duration:3,onStart:()=>{this._emitter.emit("hape-walk-enter")},onComplete:()=>{this.cameraManager.orbitWalk.canZoom=!0,this.cameraManager.orbitWalk.canRotate=!0},onUpdate:()=>{this._emitter.emit("hape-walk-progress",this.cameraManager.hapeWalkProgress)},ease:"power3.inOut"}),Jt.to(this.cameraManager.camera,{fov:50,duration:3,ease:"power3.inOut"})}exitHapeWalk(){Jt.to(this.cameraManager,{hapeWalkProgress:0,duration:3,onStart:()=>{this.cameraManager.orbitWalk.canZoom=!1,this.cameraManager.orbitWalk.canRotate=!1},onUpdate:()=>{this._emitter.emit("hape-walk-progress",this.cameraManager.hapeWalkProgress)},onComplete:()=>{this._emitter.emit("hape-walk-leave")},ease:"power3.inOut"}),Jt.to(this.cameraManager.camera,{fov:25,duration:3,ease:"power3.inOut"})}setProgress(e){this.progressTarget=e}setDomElement(e,n,i){this.domElements[n]=e,this.domElements[n].options=i}removeDomElement(e){this.domElements[e]=null}setColor(e){this.compositing.setColor(e),this.bloomPass.setBloomSetting(this.compositing.activeTextures[0]),setTimeout(()=>{this.hapes[this.compositing.activeTextures[0]].title.play=!0;for(let n=0;n<this.hapes.hape_1.meshes.length;n++)this.hapes.hape_1.meshes[n].play!==void 0&&setTimeout(()=>{setTimeout(()=>{this.hapes.hape_1.meshes[n].play=!0},this.hapes.hape_1.meshes[n].seed*500)},1e3)},600)}onKonami(){this.isKonami=!0,this._emitter.emit("konami"),df=1916;for(let e=0;e<this.hapes.hape_1.meshes.length;e++)this.hapes.hape_1.meshes[e].animator&&this.hapes.hape_1.meshes[e].animator.setAnim("Dance");for(let e=0;e<this.hapes.hape_2.meshes.length;e++)this.hapes.hape_2.meshes[e].animator&&this.hapes.hape_2.meshes[e].animator.setAnim("Dance");for(let e=0;e<this.hapes.hape_3.meshes.length;e++)this.hapes.hape_3.meshes[e].animator&&this.hapes.hape_3.meshes[e].animator.setAnim("Dance");this.PBRConfigs.CONFIG_0.yOffset.value=-10,this.PBRConfigs.CONFIG_1.yOffset.value=-10,this.PBRConfigs.CONFIG_2.yOffset.value=-4.5}postFirstDraw(){this.initEnterChoregraphy(),this.hapes.hape_1.skybox.postFirstDraw(),this.hapes.hape_2.skybox.postFirstDraw(),this.hapes.hape_3.skybox.postFirstDraw();for(let e=0;e<this.skinedMeshes.length;e++)this.skinedMeshes[e].postFirstDraw()}activate(){return new Promise(e=>{this.active=!0,this.activationResolve=e,this.postFirstDraw()})}onLoaded(){this.active=!0,this._emitter.emit("loaded"),this.compositing.on("transition-progress",i=>{this._emitter.emit("transition-progress",i)}),this.compositing.on("transition-complete",i=>{this._emitter.emit("transition-complete",i)}),this.compositing.on("transition-cancel",i=>{this._emitter.emit("transition-cancel",i)}),this.hapes.hape_1.skybox.onLoaded(),this.hapes.hape_2.skybox.onLoaded(),this.hapes.hape_3.skybox.onLoaded(),this.hapes.hape_1.title.onLoaded(),this.hapes.hape_2.title.onLoaded(),this.hapes.hape_3.title.onLoaded();for(let i=0;i<this.skinedMeshes.length;i++)this.skinedMeshes[i].onLoaded();for(let i=0;i<this.meshes.length;i++)this.meshes[i].onLoaded();for(let i=0;i<this.skinedMeshes.length;i++)this.skinedMeshes[i].animator.animations=this.animations,this.skinedMeshes[i].animator.onLoaded();for(let i=0;i<this.hapes.hape_1.meshes.length;i++)this.hapes.hape_1.meshes[i].animator&&this.hapes.hape_1.meshes[i].animator.setAnim("Hapes_0002");for(let i=0;i<this.hapes.hape_2.meshes.length;i++)this.hapes.hape_2.meshes[i].animator&&this.hapes.hape_2.meshes[i].animator.setAnim("Hapes_0003");for(let i=0;i<this.hapes.hape_3.meshes.length;i++)this.hapes.hape_3.meshes[i].animator&&this.hapes.hape_3.meshes[i].animator.setAnim("Hapes_0001");this.bloomPass=new eJ(this,this.post),this.post.onLoaded();let e=new DT(this,{scale:100,parent:this.hapes.hape_3.root},0);e.mesh.position.y=120,this.meshes.push(e),this.hapes.hape_3.meshes.push(e);let n=new DT(this,{scale:100,parent:this.hapes.hape_1.root},1);n.mesh.position.y=120,this.meshes.push(n),this.hapes.hape_1.meshes.push(n),this.debugManager.onLoaded(),ot.onLoaded(),ot.pane.refresh()}async load(){let e=[];this.gl.MAX_VERTEX_UNIFORM_VECTORS<256&&this._emitter.emit("error","not enough attributes"),this.post=new sJ(this);for(const r in fr.main)if(fr.main.hasOwnProperty(r)){const a=fr.main[r].url;e.push(this.textureLoader.load(a,r,fr.main[r].options))}let n;this.hapes={hape_1:{meshes:[],rt:new t0(this),floorRt:new n0(this),root:new gn({scale:this.root.scale.x}),ui:new gn,floorRoot:new gn({scale:this.root.scale.x})},hape_2:{meshes:[],rt:new t0(this),floorRt:new n0(this),root:new gn({scale:this.root.scale.x*.99}),ui:new gn,floorRoot:new gn({scale:this.root.scale.x})},hape_3:{meshes:[],rt:new t0(this),floorRt:new n0(this),root:new gn({scale:this.root.scale.x}),ui:new gn,floorRoot:new gn({scale:this.root.scale.x})}},this.compositing=new RQ(this),this.hapes.hape_1.ui.setParent(this.UIroot),this.hapes.hape_2.ui.setParent(this.UIroot),this.hapes.hape_3.ui.setParent(this.UIroot),this.hapes.hape_1.skybox=new s0(this,"SkyboxWhite",{parent:this.hapes.hape_1.floorRoot,id:1}),this.hapes.hape_2.skybox=new s0(this,"SkyboxRed",{parent:this.hapes.hape_2.floorRoot,id:2}),this.hapes.hape_3.skybox=new s0(this,"SkyboxBlack",{parent:this.hapes.hape_3.floorRoot,id:0}),this.hapes.hape_1.title=new a0(this,"header-title-sdf",{parent:this.hapes.hape_1.ui,id:1}),this.hapes.hape_2.title=new a0(this,"header-title-sdf",{parent:this.hapes.hape_2.ui,id:2}),this.hapes.hape_3.title=new a0(this,"header-title-sdf",{parent:this.hapes.hape_3.ui,id:0});let i=new $Q(this,{parent:this.hapes.hape_1.root,id:1});this.meshes.push(i),this.hapes.hape_1.grid=i,this.hapes.hape_1.meshes.push(i),this.hapes.hape_1.ground=new Jb(this,"ground","testPng",{parent:this.hapes.hape_1.floorRoot,id:1,rt:this.hapes.hape_1.floorRt.rt}),this.meshes.push(this.hapes.hape_1.ground),this.hapes.hape_2.ground=new Jb(this,"ground","testPng",{parent:this.hapes.hape_2.floorRoot,id:2,rt:this.hapes.hape_2.floorRt.rt}),this.meshes.push(this.hapes.hape_2.ground),this.hapes.hape_3.ground=new Jb(this,"ground","testPng",{parent:this.hapes.hape_3.floorRoot,id:0,rt:this.hapes.hape_3.floorRt.rt}),this.meshes.push(this.hapes.hape_3.ground),this.PBRConfigs=Xv,n="glxp/models/Hapes_0002_Rigged",e.push(new mc(n+".json",n+".bin").then(r=>{let a=[];for(let o=0;o<r.length;o++){const l=r[o];l.type=="Null"&&a.push(l)}for(let o=0;o<18;o++){let l;o==0?l=new e0(this,[].concat(r[o*2+0],r[o*2+1],a),"skin","testPng","mixamorig_Hips",1,this.hapes.hape_1.root):l=new Zb(this,[].concat(r[o*2+0],r[o*2+1],a),"skin","testPng","mixamorig_Hips",1,this.hapes.hape_1.root),this.skinedMeshes.push(l),this.hapes.hape_1.meshes.push(l)}})),n="glxp/models/Hapes_0003_Rigged",e.push(new mc(n+".json",n+".bin").then(r=>{let a=[];for(let o=0;o<r.length;o++){const l=r[o];l.type=="Null"&&a.push(l)}for(let o=0;o<11;o++){let l;o==0?l=new e0(this,[].concat(r[o*2+0],r[o*2+1],a),"skin","testPng","mixamorig_Hips",2,this.hapes.hape_2.root):l=new Zb(this,[].concat(r[o*2+0],r[o*2+1],a),"skin","testPng","mixamorig_Hips",2,this.hapes.hape_2.root),this.skinedMeshes.push(l),this.hapes.hape_2.meshes.push(l)}})),n="glxp/models/Hapes_0001_Rigged",e.push(new mc(n+".json",n+".bin").then(r=>{let a=[];for(let o=0;o<r.length;o++){const l=r[o];l.type=="Null"&&a.push(l)}for(let o=0;o<13;o++){let l;o==10?l=new e0(this,[].concat(r[o*2+0],r[o*2+1],a),"skin","testPng","mixamorig_Hips",0,this.hapes.hape_3.root):l=new Zb(this,[].concat(r[o*2+0],r[o*2+1],a),"skin","testPng","mixamorig_Hips",0,this.hapes.hape_3.root),this.skinedMeshes.push(l),this.hapes.hape_3.meshes.push(l)}})),n="glxp/models/Camera_Splines_002",e.push(new mc(n+".json",n+".bin").then(r=>{for(let a=0;a<r.length;a++)if(r[a].type==="line"){const o=new ml({points:CQ(r[a].vertices),type:ml.CUBICBEZIER});o._data=r[a],this.splines[r[a].name]=o,ot.queryDebug("orbit")&&this.debugManager.createDebugSpline(r[a],o)}this.cameraManager.addSpline(this.splines.Camera_Spline,"camera"),this.cameraManager.addSpline(this.splines.Lookat_Spline,"lookat"),this.cameraManager.addSpline(this.splines.Light_Spline,"light")})),n="glxp/models/Website_Elements_Env",e.push(new mc(n+".json",n+".bin").then(r=>{this.hapes.hape_2.neons=[];for(let h=0;h<r.length;h++){const p=r[h];if(p.type=="triangle"&&p.name.includes("Tube")){let d=new LT(this,p,"standard",2,this.hapes.hape_2.root);this.meshes.push(d),d.time=0,d.intialRot=Tn(d.mesh.rotation[0],d.mesh.rotation[1],d.mesh.rotation[2]),this.hapes.hape_2.meshes.push(d),this.hapes.hape_2.neons.push(d)}else if(p.name=="Title"){let d=new LT(this,p,"standard",2,this.root);this.meshes.push(d),d.config.Alpha.value=0,this.trackers.push(d.mesh)}}let a=new r0(this,{parent:this.hapes.hape_3.root,meshId:0});this.meshes.push(a),this.hapes.hape_3.meshes.push(a);let o=new r0(this,{parent:this.hapes.hape_1.root,meshId:1});this.meshes.push(o),this.hapes.hape_1.meshes.push(o);let l=new r0(this,{parent:this.hapes.hape_2.root,meshId:2});this.meshes.push(l),this.hapes.hape_2.meshes.push(l);let c;this.hapes.hape_1.decos=[],c=new o0(this,"anotations-01",{parent:this.hapes.hape_1.ui,collums:2,rows:12,size:{width:70,height:10},margin:{left:this.height/this.dpr/15*11+2,right:0,top:this.height/this.dpr/15*5.5-5.8,bottom:0}}),this.meshes.push(c),this.hapes.hape_1.meshes.push(c),this.hapes.hape_1.decos.push(c),c=new o0(this,"anotations-02",{parent:this.hapes.hape_1.ui,collums:2,rows:12,size:{width:-70,height:10},margin:{left:90,right:0,top:this.height/this.dpr/15*6-5.8,bottom:0}}),this.meshes.push(c),this.hapes.hape_1.meshes.push(c),this.hapes.hape_1.decos.push(c),c=new o0(this,"anotations-02",{parent:this.hapes.hape_1.ui,collums:2,rows:12,size:{width:-70,height:10},margin:{left:this.height/this.dpr/15*2+67,right:0,top:this.height/this.dpr/15*4-5.8,bottom:0}}),this.meshes.push(c),this.hapes.hape_1.meshes.push(c),this.hapes.hape_1.decos.push(c)})),this.animations={},n="glxp/models/Hapes_0002_Rigged_anims",e.push(new bh(n+".json",n+".bin").then(r=>{this.animations.Hapes_0002=r})),n="glxp/models/Hapes_0001_Rigged_anims",e.push(new bh(n+".json",n+".bin").then(r=>{this.animations.Hapes_0001=r})),n="glxp/models/Hapes_0003_Rigged_anims",e.push(new bh(n+".json",n+".bin").then(r=>{this.animations.Hapes_0003=r})),this.isMobile||(n="glxp/models/Dance_anims",e.push(new bh(n+".json",n+".bin").then(r=>{this.animations.Dance=r}))),Promise.all(e).then(()=>{this.onLoaded()});let s=0;for(let r=0;r<e.length;r++)e[r].then(()=>{s++,this._emitter.emit("progress",Math.round(s/e.length*100))})}applyDefaultState(){let e=this.gl;e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.enable(e.BLEND),e.enable(e.DEPTH_TEST),e.depthMask(!0)}updateDoms(){var e,n,i;(e=this.domElements["block-01"])==null||e.options.tl.progress(wr(.15,.7,this.progress)),this.width/this.dpr<1024?(n=this.domElements["block-02"])==null||n.options.tl.progress(wr(.6,.97,this.progress)):(i=this.domElements["block-02"])==null||i.options.tl.progress(wr(.6,1.1,this.progress))}preRender(){let e;e=this.progressTarget-this.progress,this.progressDelta=e,e*=this.config.scroll_damping.value,this.timescale=this.config.time_scale.value,this.config.Pause.value||(this.animTime+=this.dt/1e3*(1/u0*1e3/this.dt)*this.timescale,this.animTime=this.animTime%(df/u0),this.animFrame=Math.round(this.animTime/(df/u0)*df)),this.direction=this.progress+e>this.progress?0:-1,this.progress+=e,this.hapes.hape_1.skybox.preRender(),this.hapes.hape_2.skybox.preRender(),this.hapes.hape_3.skybox.preRender(),this.hapes.hape_1.title.preRender(),this.hapes.hape_2.title.preRender(),this.hapes.hape_3.title.preRender();for(let n=0;n<this.hapes.hape_2.neons.length;n++){const i=this.hapes.hape_2.neons[n];i.time+=this.dt/1e3+this.progressDelta*5,i.mesh.rotation.x=i.intialRot[0]+.3*i.time,i.mesh.needsUpdate=!0}if(this.compositing.needsUpdate("hape_1"))for(let n=0;n<this.hapes.hape_1.meshes.length;n++)this.hapes.hape_1.meshes[n].preRender();if(this.compositing.needsUpdate("hape_2"))for(let n=0;n<this.hapes.hape_2.meshes.length;n++)this.hapes.hape_2.meshes[n].preRender();if(this.compositing.needsUpdate("hape_3"))for(let n=0;n<this.hapes.hape_3.meshes.length;n++)this.hapes.hape_3.meshes[n].preRender();for(let n=0;n<this.meshes.length;n++)this.meshes[n].preRender();this.cameraManager.preRender(),this.compositing.preRender(),this.updateDoms(),this.UIroot.position.y=this.height/this.dpr/2+window.pageYOffset,this.hapes.hape_1.grid.config.Offset.value=-window.pageYOffset/(this.height/this.dpr),this.UIroot.updateMatrixWorld(!0)}onPressed(){this.compositing.onPressed()}onReleased(){this.compositing.onReleased()}resize(){let e=window.innerWidth,n=window.innerHeight;this.uiCamera.orthographic({near:.1,far:10,left:e/-2,right:e/2,bottom:n/-2,top:n/2}),this.UIroot.position.x=-(this.width/this.dpr)/2,this.UIroot.position.y=this.height/this.dpr/2+window.pageYOffset,this.cameraManager.resize(this.width,this.height),this.hapes.hape_1.title.computeSize(),this.hapes.hape_2.title.computeSize(),this.hapes.hape_3.title.computeSize(),this.hapes.hape_1.decos[0].margin={left:this.height/this.dpr/15*11+2,right:0,top:this.height/this.dpr/15*5.5-5.8,bottom:0},this.hapes.hape_1.decos[1].margin={left:90,right:0,top:this.height/this.dpr/15*6-5.8,bottom:0},this.hapes.hape_1.decos[2].margin={left:this.height/this.dpr/15*2+67,right:0,top:this.height/this.dpr/15*4-5.8,bottom:0},this.hapes.hape_1.decos[0].computeSize(),this.hapes.hape_1.decos[1].computeSize(),this.hapes.hape_1.decos[2].computeSize()}drawPass(e){this.hapes[e].title.mesh.visible=!1,this.renderer.render({scene:this.hapes[e].skybox.mesh,camera:this.camera,clear:!0,frustumCull:!0,sort:!1,flip:!0,post:this.hapes[e].floorRt}),this.config.reflectionAlphaMin.value=0,this.config.reflectionAlphaLimit.value=this.config.reflectionHeight.value,this.renderer.render({scene:this.hapes[e].root,camera:this.camera,clear:!1,frustumCull:!0,sort:!1,flip:!0,post:this.hapes[e].floorRt}),this.config.reflectionAlphaMin.value=100,this.config.reflectionAlphaLimit.value=1e3,this.renderer.render({scene:this.hapes[e].skybox.mesh,camera:this.camera,clear:!0,frustumCull:!0,sort:!1,post:this.hapes[e].rt}),this.hapes[e].skybox.mesh.visible=!1,this.renderer.render({scene:this.hapes[e].floorRoot,camera:this.camera,clear:!1,frustumCull:!0,sort:!1,post:this.hapes[e].rt}),this.hapes[e].skybox.mesh.visible=!0,this.hapes[e].title.mesh.visible=!0,this.renderer.render({scene:this.hapes[e].ui,camera:this.uiCamera,clear:!1,frustumCull:!0,sort:!1,post:this.hapes[e].rt}),this.renderer.render({scene:this.hapes[e].root,camera:this.camera,clear:!1,frustumCull:!0,sort:!1,post:this.hapes[e].rt})}render(){if(!this.active)return;let e=this.gl;this.time+=li.dt/1e3,this.dt=li.dt,this.preRender(),e.viewport(0,0,this.width,this.height),this.camera.perspective({aspect:this.width/this.height}),this.renderer.setViewport(this.width,this.height),(this.compositing.needsUpdate("hape_1")||this.forceAllDraw)&&this.drawPass("hape_1"),(this.compositing.needsUpdate("hape_2")||this.forceAllDraw)&&this.drawPass("hape_2"),(this.compositing.needsUpdate("hape_3")||this.forceAllDraw)&&this.drawPass("hape_3"),this.compositing.render({post:this.post}),this.renderer.render({scene:this.root,camera:this.camera,clear:!1,frustumCull:!0,sort:!1,post:this.post}),this.bloomPass&&this.bloomPass.render(),this.post.render(),this.postRender()}postRender(){this.gl.viewport(0,0,this.width,this.height),this.drawcalls++,this.forceAllDraw&&this.drawcalls>40&&(this.forceAllDraw=!1,this.activationResolve())}}function h0(t,e,n,i){return new(n||(n=Promise))(function(s,r){function a(c){try{l(i.next(c))}catch(h){r(h)}}function o(c){try{l(i.throw(c))}catch(h){r(h)}}function l(c){var h;c.done?s(c.value):(h=c.value,h instanceof n?h:new n(function(p){p(h)})).then(a,o)}l((i=i.apply(t,e||[])).next())})}const RJ=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","sgx 543","sgx543"];function JT(t){return t=t.toLowerCase().replace(/^angle ?\((.+)\)*$/,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"")}const KO=typeof window=="undefined",Ba=(()=>{if(KO)return;const{userAgent:t,platform:e,maxTouchPoints:n}=window.navigator,i=/(iphone|ipod|ipad)/i.test(t),s=e==="iPad"||e==="MacIntel"&&n>0&&!window.MSStream;return{isIpad:s,isMobile:/android/i.test(t)||i||s,isSafari12:/Version\/12.+Safari/.test(t)}})();function IJ(t,e,n){if(!n)return[e];const i=function(c){const h=`
    precision highp float;
    attribute vec3 aPosition;
    varying float vvv;
    void main() {
      vvv = 0.31622776601683794;
      gl_Position = vec4(aPosition, 1.0);
    }
  `,p=`
    precision highp float;
    varying float vvv;
    void main() {
      vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;
      enc = fract(enc);
      enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);
      gl_FragColor = enc;
    }
  `,d=c.createShader(35633),g=c.createShader(35632),x=c.createProgram();if(!(g&&d&&x))return;c.shaderSource(d,h),c.shaderSource(g,p),c.compileShader(d),c.compileShader(g),c.attachShader(x,d),c.attachShader(x,g),c.linkProgram(x),c.detachShader(x,d),c.detachShader(x,g),c.deleteShader(d),c.deleteShader(g),c.useProgram(x);const S=c.createBuffer();c.bindBuffer(34962,S),c.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);const m=c.getAttribLocation(x,"aPosition");c.vertexAttribPointer(m,3,5126,!1,0,0),c.enableVertexAttribArray(m),c.clearColor(1,1,1,1),c.clear(16384),c.viewport(0,0,1,1),c.drawArrays(4,0,3);const _=new Uint8Array(4);return c.readPixels(0,0,1,1,6408,5121,_),c.deleteProgram(x),c.deleteBuffer(S),_.join("")}(t),s="801621810",r="8016218135",a="80162181161",o=Ba!=null&&Ba.isIpad?[["a7",a,12],["a8",r,15],["a8x",r,15],["a9",r,15],["a9x",r,15],["a10",r,15],["a10x",r,15],["a12",s,15],["a12x",s,15],["a12z",s,15],["a14",s,15],["m1",s,15]]:[["a7",a,12],["a8",r,12],["a9",r,15],["a10",r,15],["a11",s,15],["a12",s,15],["a13",s,15],["a14",s,15]];let l;return i==="80162181255"?l=o.filter(([,,c])=>c>=14):(l=o.filter(([,c])=>c===i),l.length||(l=o)),l.map(([c])=>`apple ${c} gpu`)}const p0=[],ZT=[];function OJ(t,e){if(t===e)return 0;const n=t;t.length>e.length&&(t=e,e=n);let i=t.length,s=e.length;for(;i>0&&t.charCodeAt(~-i)===e.charCodeAt(~-s);)i--,s--;let r,a=0;for(;a<i&&t.charCodeAt(a)===e.charCodeAt(a);)a++;if(i-=a,s-=a,i===0)return s;let o,l,c=0,h=0,p=0;for(;h<i;)ZT[h]=t.charCodeAt(a+h),p0[h]=++h;for(;p<s;)for(r=e.charCodeAt(a+p),o=p++,c=p,h=0;h<i;h++)l=r===ZT[h]?o:o+1,o=p0[h],c=p0[h]=o>c?l>c?c+1:l:l>o?o+1:l;return c}function NJ(t){return t!=null}class e2 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}const LJ=({mobileTiers:t=[0,15,30,60],desktopTiers:e=[0,15,30,60],override:n={},glContext:i,failIfMajorPerformanceCaveat:s=!1,benchmarksURL:r="https://unpkg.com/detect-gpu@4.0.15/dist/benchmarks"}={})=>h0(void 0,void 0,void 0,function*(){const a={};if(KO)return{tier:0,type:"SSR"};const{isIpad:o=!!(Ba!=null&&Ba.isIpad),isMobile:l=!!(Ba!=null&&Ba.isMobile),screenSize:c=window.screen,loadBenchmarks:h=A=>h0(void 0,void 0,void 0,function*(){const k=yield fetch(`${r}/${A}`).then(P=>P.json());if(parseInt(k.shift().split(".")[0],10)<4)throw new e2("Detect GPU benchmark data is out of date. Please update to version 4x");return k})}=n;let{renderer:p}=n;const d=(A,k,P,N,I)=>({device:I,fps:N,gpu:P,isMobile:l,tier:A,type:k});let g,x="";if(p)p=JT(p),g=[p];else{const A=i||function(P,N=!1){const I={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:N,powerPreference:"high-performance",stencil:!1};P&&delete I.powerPreference;const j=window.document.createElement("canvas"),V=j.getContext("webgl",I)||j.getContext("experimental-webgl",I);return V!=null?V:void 0}(Ba==null?void 0:Ba.isSafari12,s);if(!A)return d(0,"WEBGL_UNSUPPORTED");const k=A.getExtension("WEBGL_debug_renderer_info");if(k&&(p=A.getParameter(k.UNMASKED_RENDERER_WEBGL)),!p)return d(1,"FALLBACK");x=p,p=JT(p),g=function(P,N,I){return N==="apple gpu"?IJ(P,N,I):[N]}(A,p,l)}const S=(yield Promise.all(g.map(A=>h0(void 0,void 0,void 0,function*(){var k;const P=(we=>{const Se=l?["adreno","apple","mali-t","mali","nvidia","powervr"]:["intel","apple","amd","radeon","nvidia","geforce"];for(const We of Se)if(we.includes(We))return We})(A);if(!P)return;const N=`${l?"m":"d"}-${P}${o?"-ipad":""}.json`,I=a[N]=(k=a[N])!==null&&k!==void 0?k:h(N);let j;try{j=yield I}catch(we){if(we instanceof e2)throw we;return}const V=function(we){var Se;const We=(we=we.replace(/\([^)]+\)/,"")).match(/\d+/)||we.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return(Se=We==null?void 0:We.join("").replace(/\W|amd/g,""))!==null&&Se!==void 0?Se:""}(A);let D=j.filter(([,we])=>we===V);D.length||(D=j.filter(([we])=>we.includes(A)));const G=D.length;if(G===0)return;let O,[J,,,X]=G>1?D.map(we=>[we,OJ(A,we[0])]).sort(([,we],[,Se])=>we-Se)[0][0]:D[0],ae=Number.MAX_VALUE;const{devicePixelRatio:me}=window,Ae=c.width*me*c.height*me;for(const we of X){const[Se,We]=we,ue=Se*We,be=Math.abs(Ae-ue);be<ae&&(ae=be,O=we)}if(!O)return;const[,,Oe,Be]=O;return[ae,Oe,J,Be]})))).filter(NJ).sort(([A=Number.MAX_VALUE,k],[P=Number.MAX_VALUE,N])=>A===P?k-N:A-P);if(!S.length){const A=RJ.find(k=>p.includes(k));return A?d(0,"BLOCKLISTED",A):d(1,"FALLBACK",`${p} (${x})`)}const[,m,_,y]=S[0];if(m===-1)return d(0,"BLOCKLISTED",_,m,y);const T=l?t:e;let C=0;for(let A=0;A<T.length;A++)m>=T[A]&&(C=A);return d(C,"BENCHMARK",_,m,y)}),d0=new Je;let FJ=1;class DJ{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:i=150,dpr:s=1,alpha:r=!1,depth:a=!0,stencil:o=!1,antialias:l=!1,premultipliedAlpha:c=!1,preserveDrawingBuffer:h=!1,powerPreference:p="default",autoClear:d=!0,webgl:g=2}={}){const x={alpha:r,depth:a,stencil:o,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:h,powerPreference:p};this.dpr=s,this.alpha=r,this.color=!0,this.depth=a,this.stencil=o,this.premultipliedAlpha=c,this.autoClear=d,this.id=FJ++,this.drawCalls=0,this.vpOffset=new Qv,g===2&&(this.gl=e.getContext("webgl2",x)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",x)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.gl.viewport(this.vpOffset.x,this.vpOffset.y,e,n))}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,i,s){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===s||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=s,i!==void 0?this.gl.blendFuncSeparate(e,n,i,s):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,i){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][i].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortManual(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:i,sort:s}){let r=[];if(n&&i&&n.updateFrustum(),e.traverse(a=>{if(!a.visible)return!0;!a.draw||!a.forceRenderOrder&&i&&a.frustumCulled&&n&&!n.frustumIntersectsMesh(a)||r.push(a)}),s){const a=[],o=[],l=[],c=[],h=[];r.forEach(p=>{p.program.transparent?p.forceRenderOrder?p.renderOrder<0?c.push(p):h.push(p):p.program.depthTest?o.push(p):l.push(p):a.push(p),p.zDepth=0,!(p.renderOrder!==0||!p.program.depthTest||!n)&&(p.worldMatrix.getTranslation(d0),d0.applyMatrix4(n.projectionViewMatrix),p.zDepth=d0.z)}),a.sort(this.sortOpaque),o.sort(this.sortTransparent),c.sort(this.sortManual),h.sort(this.sortManual),l.sort(this.sortUI),r=c.concat(a,o,l,h)}return r}render({scene:e,camera:n,target:i=null,flip:s=!1,post:r=null,update:a=!0,sort:o=!0,frustumCull:l=!0,clear:c}){i===null&&r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):r!==null?(this.setViewport(r.rt.width,r.rt.height),this.bindFramebuffer({target:this.gl.FRAMEBUFFER,buffer:r.rt.fb})):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(c||this.autoClear&&c!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),a&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(s),this.getRenderList({scene:e,camera:n,frustumCull:l,sort:o}).forEach(p=>{p.draw({camera:n}),this.drawCalls++}),r!==null&&this.bindFramebuffer({target:this.gl.FRAMEBUFFER,buffer:i})}}class BJ{constructor(){this._emitter={},gu(this._emitter),this.on=this._emitter.on.bind(this._emitter),this.emit=this._emitter.emit.bind(this._emitter)}}new BJ;class jJ{constructor(){this.scenes={},this.initialized=!1,this.mobile=!1,this.clearColor=[0,0,0,0],window.GLXP=this,this._emitter={},gu(this._emitter),this.on=this._emitter.on.bind(this._emitter)}init(e){return this.dpr=Math.max(Math.min(window.devicePixelRatio,1.5),1),this.width=e.offsetWidth*this.dpr,this.height=e.offsetHeight*this.dpr,this.container=e,this.catchContext(),this.initialized=!0,this.mobile=typeof window.orientation!="undefined"||navigator.userAgent.indexOf("IEMobile")!==-1,this.initScenes(),window.addEventListener("resize",()=>{this.resize()}),this}initScenes(){this.addScene("main",MJ)}addScene(e,n){this.scenes[e]={scene:new n(this.container,this),active:!1,callbackCanvas:null}}registerCallbackCanvas(e,n){this.scenes[e].callbackCanvas=n}getScene(e){return this.scenes[e].scene}loadScene(e){if(this.scenes[e].scene.loaded===!1)return new Promise((i,s)=>{this.scenes[e].scene.load(),this.scenes[e].scene.on("loaded",()=>{this.scenes[e].scene.onResize(),i()})})}activate(e){return this.scenes[e].active=!0,this.scenes[e].scene.activate()}resize(){this.width=this.container.offsetWidth*this.dpr,this.height=this.container.offsetHeight*this.dpr,this.renderer.setSize(this.width,this.height)}desactivate(e){this.scenes[e].active=!1,this.gl.clearColor(0,0,0,0),this.gl.clear(this.COLOR_BUFFER_BIT|this.DEPTH_BUFFER_BIT),this.gl.colorMask(!0,!0,!0,!0)}async rankGpu(){this.GPUTier=await LJ({glContext:this.gl,mobileBenchmarkPercentages:[0,15,30,60],desktopBenchmarkPercentages:[0,15,30,60]})}catchContext(){if(this.renderer=new DJ({antialias:!1}),this.gl=this.renderer.gl,!this.renderer.isWebgl2){let e=this.gl.getExtension("OES_vertex_array_object");e&&(this.gl.createVertexArray=function(){return e.createVertexArrayOES()},this.gl.deleteVertexArray=function(n){e.deleteVertexArrayOES(n)},this.gl.bindVertexArray=function(n){e.bindVertexArrayOES(n)},this.gl.isVertexArray=function(n){return e.isVertexArrayOES(n)}),this.gl.getExtension("OES_standard_derivatives"),this.gl.getExtension("EXT_shader_texture_lod"),this.gl.getExtension("OES_texture_float"),this.gl.getExtension("OES_texture_float_linear"),this.gl.getExtension("OES_texture_half_float"),this.gl.getExtension("OES_texture_half_float_linear"),this.gl.getExtension("EXT_color_buffer_half_float")}this.canvas=this.gl.canvas,this.container.appendChild(this.gl.canvas),this.renderer.setSize(this.width,this.height),this.renderer.se}render(){let e=this.gl;e.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.colorMask(!0,!0,!0,!0),this.renderer.drawCalls=0;for(const n in this.scenes)if(this.scenes.hasOwnProperty(n)){const i=this.scenes[n];i.active===!0&&i.scene.render()}}}const mi=new jJ;const UJ={name:"SiteFooter",components:{Link:Dv,Partners:z8,SoundToggle:m1},setup(){const{onWideScreen:t,onMobileScreen:e}=Xn(),n=_i(),i=rs(),s=Er(),r=Cl(),a=as();eI();const o=De(null),l=De(null),c="manual",h=!1,{intersect:p}=Kn(o,{mode:c,preserve:h}),{inViewport:d}=Kn(l,{mode:c,preserve:h});return{top:o,data:n,sound:i,theme:s,loader:r,footer:l,maestro:a,intersect:p,inViewport:d,onWideScreen:t,onMobileScreen:e}},computed:{quote:function(){var i,s;const t=(s=(i=this.data.navigation)==null?void 0:i.footer)==null?void 0:s.quote;if(!t)return{};const e=t.text.split(`
`).join("<br>"),n=t.author;return{text:e,author:n}},externalLinks:function(){var r,a;const t=(a=(r=this.data.navigation)==null?void 0:r.footer)==null?void 0:a.externalLinks;if(!t)return{};const e=t.text.split(`
`).join("<br>");let n=[];const i=[],s=Math.floor(t.links.length*.5);return t.links.forEach((o,l)=>{n.push(o),l%s===0&&l>1&&(i.push(n),n=[])}),n.length&&i.push(n),{list:i,title:e}}},mounted(){this.maestro.showWebGL&&(this.scene=mi.getScene("main"),li.subscribe("footer",this.handleScroll.bind(this),60)),this.unwatchIntersect=this.$watch(t=>t.intersect,this.onceIntersect),this.unwatchInViewport=this.$watch(t=>t.inViewport,this.onceInViewport)},unmounted(){this.maestro.showWebGL&&li.unsubscribe("footer"),this.unwatchIntersect(),this.unwatchInViewport()},methods:{handleScroll(){if(this.scene){if(this.inViewport){const t=this.$el.offsetTop-window.innerHeight,n=window.pageYOffset-t;this.scene.setFooterOffset(n);return}this.scene.setFooterOffset(0)}},onceIntersect(){this.footer.classList.toggle("in-view",this.intersect)},onceInViewport(){this.maestro.showToolbar=!this.inViewport}}},VJ={ref:"footer",class:"site-footer"},$J={key:0,class:"site-footer__partners"},zJ={ref:"top",class:"site-footer__top"},HJ={class:"site-footer__quote"},qJ=["innerHTML"],WJ={class:"site-footer__links"},GJ=["innerHTML"],KJ={class:"site-footer__links-list"},YJ={class:"site-footer__bottom"},XJ={class:"site-footer__bottom-left"},QJ={class:"site-footer__bottom-inner"},JJ={class:"site-footer__copyright"},ZJ={class:"site-footer__creator"},eZ={class:"site-footer__bottom-right"},tZ={class:"site-footer__bottom-inner"},nZ={class:"site-footer__bottom-links"},iZ={class:"site-footer__sound"};function sZ(t,e,n,i,s,r){const a=Pe("Partners"),o=Pe("Link"),l=Pe("i18n-t"),c=Pe("SoundToggle");return fe(),Ee("footer",VJ,[i.maestro.showPartners?(fe(),Ee("div",$J,[le(a)])):Zt("",!0),U("div",zJ,[U("div",HJ,[Ie(U("blockquote",null,[U("p",{class:"h2",innerHTML:r.quote.text},null,8,qJ),U("cite",null,Ve(r.quote.author),1)],512),[[je,i.onWideScreen]])]),U("div",WJ,[U("p",{class:"site-footer__links-title h2",innerHTML:r.externalLinks.title},null,8,GJ),U("nav",KJ,[(fe(!0),Ee(it,null,Sn(r.externalLinks.list,(h,p)=>(fe(),Ee("ul",{key:p},[(fe(!0),Ee(it,null,Sn(h,d=>(fe(),Ee("li",{key:d.string},[le(o,{href:d.url,target:"_blank"},{default:Me(()=>[qn(Ve(d.string),1)]),_:2},1032,["href"])]))),128))]))),128))])])],512),U("div",YJ,[U("div",XJ,[U("div",QJ,[U("p",JJ,Ve(t.$t("footer.copyright")),1),U("p",ZJ,[le(l,{keypath:"footer.creator",scope:"global"},{name:Me(()=>[le(o,{size:"m",href:t.$t("links.theDigimentalPage.url"),icon:!1,target:"_blank"},{default:Me(()=>[qn(" @"+Ve(t.$t("links.theDigimentalPage.account")),1)]),_:1},8,["href"])]),_:1})])])]),U("div",eZ,[Ie(U("div",tZ,[U("nav",nZ,[U("ul",null,[U("li",null,[le(o,{size:"m",href:t.$t("links.termsAndConditions.url"),icon:!1,target:"_blank"},{default:Me(()=>[qn(Ve(t.$t("links.termsAndConditions.label")),1)]),_:1},8,["href"])]),U("li",null,[le(o,{size:"m",href:t.$t("links.privacyPolicy.url"),icon:!1,target:"_blank"},{default:Me(()=>[qn(Ve(t.$t("links.privacyPolicy.label")),1)]),_:1},8,["href"])])])]),U("div",iZ,[i.maestro.showSound?(fe(),wt(c,{key:0})):Zt("",!0)])],512),[[je,i.onWideScreen]])])])],512)}var rZ=rt(UJ,[["render",sZ]]);const aZ={name:"DefaultLayout",components:{Neons:_V,Header:d8,Footer:rZ},computed:{neons:function(){return this.$route.meta.neons}}},oZ={class:"site-page"};function lZ(t,e,n,i,s,r){const a=Pe("Header"),o=Pe("Neons"),l=Pe("Footer");return fe(),Ee("article",oZ,[le(a),ys(t.$slots,"default"),r.neons?(fe(),wt(o,{key:0})):Zt("",!0),le(l)])}var Ew=rt(aZ,[["render",lZ]]);function cZ(){const t=_i(),e=De(null),n=De(!1),i=si(()=>e.value===null&&n.value===null);return Ys(async()=>{e.value=null,n.value=!1;let s=t.home;if(!s){const r=Tv`*[_id == 'singletonHome'][0] {
        ...,
        "roadmap": *[_id == 'singletonRoadmap'][0]
      }`;s=await Gp.fetch(r),t.home=s}s?e.value=s:(console.warn("Query returned no results"),n.value=404)}),{page:e,errorCode:n,loading:i}}var uZ=Object.defineProperty,hZ=Object.defineProperties,pZ=Object.getOwnPropertyDescriptors,t2=Object.getOwnPropertySymbols,dZ=Object.prototype.hasOwnProperty,fZ=Object.prototype.propertyIsEnumerable,n2=(t,e,n)=>e in t?uZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mZ=(t,e)=>{for(var n in e||(e={}))dZ.call(e,n)&&n2(t,n,e[n]);if(t2)for(var n of t2(e))fZ.call(e,n)&&n2(t,n,e[n]);return t},vZ=(t,e)=>hZ(t,pZ(e));function Om(t){return t._type==="span"&&"text"in t&&typeof t.text=="string"&&(typeof t.marks=="undefined"||Array.isArray(t.marks)&&t.marks.every(e=>typeof e=="string"))}function YO(t){return typeof t._type=="string"&&t._type[0]!=="@"&&(!("markDefs"in t)||Array.isArray(t.markDefs)&&t.markDefs.every(e=>typeof e._key=="string"))&&"children"in t&&Array.isArray(t.children)&&t.children.every(e=>typeof e=="object"&&"_type"in e)}function XO(t){return YO(t)&&"listItem"in t&&typeof t.listItem=="string"&&(typeof t.level=="undefined"||typeof t.level=="number")}function QO(t){return t._type==="@list"}function JO(t){return t._type==="@span"}function ZO(t){return t._type==="@text"}const i2=["strong","em","code","underline","strike-through"];function gZ(t,e,n){if(!Om(t)||!t.marks)return[];if(!t.marks.length)return[];const i=t.marks.slice(),s={};return i.forEach(r=>{s[r]=1;for(let a=e+1;a<n.length;a++){const o=n[a];if(o&&Om(o)&&Array.isArray(o.marks)&&o.marks.indexOf(r)!==-1)s[r]++;else break}}),i.sort((r,a)=>bZ(s,r,a))}function bZ(t,e,n){const i=t[e],s=t[n];if(i!==s)return s-i;const r=i2.indexOf(e),a=i2.indexOf(n);return r!==a?r-a:e.localeCompare(n)}function _Z(t){var e;const{children:n,markDefs:i=[]}=t;if(!n||!n.length)return[];const s=n.map(gZ),r={_type:"@span",children:[],markType:"<unknown>"};let a=[r];for(let o=0;o<n.length;o++){const l=n[o];if(!l)continue;const c=s[o]||[];let h=1;if(a.length>1)for(h;h<a.length;h++){const d=((e=a[h])==null?void 0:e.markKey)||"",g=c.indexOf(d);if(g===-1)break;c.splice(g,1)}a=a.slice(0,h);let p=a[a.length-1];if(!!p){for(const d of c){const g=i.find(m=>m._key===d),x=g?g._type:d,S={_type:"@span",_key:l._key,children:[],markDef:g,markType:x,markKey:d};p.children.push(S),a.push(S),p=S}if(Om(l)){const d=l.text.split(`
`);for(let g=d.length;g-- >1;)d.splice(g,0,`
`);p.children=p.children.concat(d.map(g=>({_type:"@text",text:g})))}else p.children=p.children.concat(l)}}return r.children}function xZ(t,e){const n=[];let i;for(let s=0;s<t.length;s++){const r=t[s];if(!!r){if(!XO(r)){n.push(r),i=void 0;continue}if(!i){i=ff(r,s,e),n.push(i);continue}if(yZ(r,i)){i.children.push(r);continue}if((r.level||1)>i.level){const a=ff(r,s,e);if(e==="html"){const o=i.children[i.children.length-1],l=vZ(mZ({},o),{children:[...o.children,a]});i.children[i.children.length-1]=l}else i.children.push(a);i=a;continue}if((r.level||1)<i.level){const a=n[n.length-1],o=a&&Ix(a,r);if(o){i=o,i.children.push(r);continue}i=ff(r,s,e),n.push(i);continue}if(r.listItem!==i.listItem){const a=n[n.length-1],o=a&&Ix(a,{level:r.level||1});if(o&&o.listItem===r.listItem){i=o,i.children.push(r);continue}else{i=ff(r,s,e),n.push(i);continue}}console.warn("Unknown state encountered for block",r),n.push(r)}}return n}function yZ(t,e){return(t.level||1)===e.level&&t.listItem===e.listItem}function ff(t,e,n){return{_type:"@list",_key:`${t._key||`${e}`}-parent`,mode:n,level:t.level||1,listItem:t.listItem,children:[t]}}function Ix(t,e){const n=e.level||1,i=e.listItem||"normal",s=typeof e.listItem=="string";if(QO(t)&&(t.level||1)===n&&s&&(t.listItem||"normal")===i)return t;if(!("children"in t))return;const r=t.children[t.children.length-1];return r&&!Om(r)?Ix(r,e):void 0}function eN(t){let e="";return t.children.forEach(n=>{ZO(n)?e+=n.text:JO(n)&&(e+=eN(n))}),e}var wZ=Object.defineProperty,SZ=Object.defineProperties,CZ=Object.getOwnPropertyDescriptors,Nm=Object.getOwnPropertySymbols,tN=Object.prototype.hasOwnProperty,nN=Object.prototype.propertyIsEnumerable,s2=(t,e,n)=>e in t?wZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,au=(t,e)=>{for(var n in e||(e={}))tN.call(e,n)&&s2(t,n,e[n]);if(Nm)for(var n of Nm(e))nN.call(e,n)&&s2(t,n,e[n]);return t},Ox=(t,e)=>SZ(t,CZ(e)),Nx=(t,e)=>{var n={};for(var i in t)tN.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Nm)for(var i of Nm(t))e.indexOf(i)<0&&nN.call(t,i)&&(n[i]=t[i]);return n};const EZ=["http","https","mailto","tel"],TZ={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27"};function iN(t){return t.replace(/[&<>"']/g,e=>`&${TZ[e]};`)}function kZ(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return!0;const i=e.indexOf(":");if(i===-1)return!0;const s=e.slice(0,i).toLowerCase();if(EZ.indexOf(s)!==-1)return!0;const r=e.indexOf("?");if(r!==-1&&i>r)return!0;const a=e.indexOf("#");return a!==-1&&i>a}const PZ=({children:t,value:e})=>{const n=(e==null?void 0:e.href)||"";return kZ(n)?`<a href="${iN(n)}">${t}</a>`:t},AZ={em:({children:t})=>`<em>${t}</em>`,strong:({children:t})=>`<strong>${t}</strong>`,code:({children:t})=>`<code>${t}</code>`,underline:({children:t})=>`<span style="text-decoration:underline">${t}</span>`,"strike-through":({children:t})=>`<del>${t}</del>`,link:PZ},MZ={number:({children:t})=>`<ol>${t}</ol>`,bullet:({children:t})=>`<ul>${t}</ul>`},RZ=({children:t})=>`<li>${t}</li>`,ed=(t,e)=>`Unknown ${t}, specify a component for it in the \`components.${e}\` option`,sN=t=>ed(`block type "${t}"`,"types"),IZ=t=>ed(`mark type "${t}"`,"marks"),OZ=t=>ed(`block style "${t}"`,"block"),NZ=t=>ed(`list style "${t}"`,"list"),LZ=t=>ed(`list item style "${t}"`,"listItem");function FZ(t){console.warn(t)}const DZ=({value:t,isInline:e})=>{const n=sN(t._type);return e?`<span style="display:hidden">${n}</span>`:`<div style="display:hidden">${n}</div>`},BZ=({markType:t,children:e})=>`<span class="unknown__pt__mark__${t}">${e}</span>`,jZ=({children:t})=>`<p>${t}</p>`,UZ=({children:t})=>`<ul>${t}</ul>`,VZ=({children:t})=>`<li>${t}</li>`,$Z=()=>"<br/>",zZ={normal:({children:t})=>`<p>${t}</p>`,blockquote:({children:t})=>`<blockquote>${t}</blockquote>`,h1:({children:t})=>`<h1>${t}</h1>`,h2:({children:t})=>`<h2>${t}</h2>`,h3:({children:t})=>`<h3>${t}</h3>`,h4:({children:t})=>`<h4>${t}</h4>`,h5:({children:t})=>`<h5>${t}</h5>`,h6:({children:t})=>`<h6>${t}</h6>`},r2={types:{},block:zZ,marks:AZ,list:MZ,listItem:RZ,hardBreak:$Z,unknownType:DZ,unknownMark:BZ,unknownList:UZ,unknownListItem:VZ,unknownBlockStyle:jZ};function HZ(t,e){const n=e,i=Nx(n,["block","list","listItem","marks","types"]);return au(Ox(au({},t),{block:ih(t,e,"block"),list:ih(t,e,"list"),listItem:ih(t,e,"listItem"),marks:ih(t,e,"marks"),types:ih(t,e,"types")}),i)}function ih(t,e,n){const i=e[n],s=t[n];return typeof i=="function"||i&&typeof s=="function"?i:i?au(au({},s),i):s}function qZ(t,e={}){const{components:n,onMissingComponent:i=FZ}=e,s=i||GZ,r=Array.isArray(t)?t:[t],a=xZ(r,"html"),o=n?HZ(r2,n):r2,l=WZ(o,s);return a.map((h,p)=>l({node:h,index:p,isInline:!1,renderNode:l})).join("")}const WZ=(t,e)=>{function n(c){const{node:h,index:p,isInline:d}=c;return QO(h)?s(h,p):XO(h)?i(h,p):JO(h)?r(h):YO(h)?a(h,p,d):ZO(h)?o(h):l(h,p,d)}function i(c,h){const p=a2({node:c,index:h,isInline:!1,renderNode:n}),d=t.listItem,x=(typeof d=="function"?d:d[c.listItem])||t.unknownListItem;if(x===t.unknownListItem){const m=c.listItem||"bullet";e(LZ(m),{type:m,nodeType:"listItemStyle"})}let S=p.children;if(c.style&&c.style!=="normal"){const m=c,_=Nx(m,["listItem"]);S=n({node:_,index:h,isInline:!1,renderNode:n})}return x({value:c,index:h,isInline:!1,renderNode:n,children:S})}function s(c,h){const p=c.children.map((S,m)=>n({node:S._key?S:Ox(au({},S),{_key:`li-${h}-${m}`}),index:h,isInline:!1,renderNode:n})),d=t.list,x=(typeof d=="function"?d:d[c.listItem])||t.unknownList;if(x===t.unknownList){const S=c.listItem||"bullet";e(NZ(S),{nodeType:"listStyle",type:S})}return x({value:c,index:h,isInline:!1,renderNode:n,children:p.join("")})}function r(c){const{markDef:h,markType:p,markKey:d}=c,g=t.marks[p]||t.unknownMark,x=c.children.map((S,m)=>n({node:S,index:m,isInline:!0,renderNode:n}));return g===t.unknownMark&&e(IZ(p),{nodeType:"mark",type:p}),g({text:eN(c),value:h,markType:p,markKey:d,renderNode:n,children:x.join("")})}function a(c,h,p){const d=a2({node:c,index:h,isInline:p,renderNode:n}),g=Nx(d,["_key"]),x=g.node.style||"normal",m=(typeof t.block=="function"?t.block:t.block[x])||t.unknownBlockStyle;return m===t.unknownBlockStyle&&e(OZ(x),{nodeType:"blockStyle",type:x}),m(Ox(au({},g),{value:g.node,renderNode:n}))}function o(c){if(c.text===`
`){const h=t.hardBreak;return h?h():`
`}return iN(c.text)}function l(c,h,p){const d=t.types[c._type];return d||e(sN(c._type),{nodeType:"block",type:c._type}),(d||t.unknownType)({value:c,isInline:p,index:h,renderNode:n})}return n};function a2(t){const{node:e,index:n,isInline:i,renderNode:s}=t,a=_Z(e).map((o,l)=>s({node:o,isInline:!0,index:l,renderNode:s}));return{_key:e._key||`block-${n}`,children:a.join(""),index:n,isInline:i,node:e}}function GZ(){}const o2=t=>{const e=qZ(t);return e.length?e.replace("<p>","").split("</p>"):[]};const KZ={name:"ContentBlock",props:{slug:{type:String,required:!0}},setup(){const t=De(null),e=De(null),n=De(null);return{text:t,title:e,eyebrow:n}},computed:{hasText:function(){return this.$slots.text},hasEyebrow:function(){return this.$slots.eyebrow}},mounted(){const t=mi.getScene("main"),e=2;this.$el.scale=e,this.$nextTick(()=>{this.tl=Jt.timeline({paused:!0}),this.tl.add(()=>{},"3"),this.eyebrow&&this.tl.staggerFromTo(this.eyebrow,1,{autoAlpha:0},{ease:"power2.inOut",autoAlpha:1},.1,"0"),this.tl.staggerFromTo(this.title.querySelectorAll(".line"),1,{y:10,autoAlpha:0,transform:"rotate3d(1, 0.15, 0, -90deg) translate3d(0, 10px, 0)"},{y:0,ease:"power2.inOut",autoAlpha:1,transform:"rotate3d(1, 0.15, 0, 0deg) translate3d(0, 0, 0)"},.1,".15"),this.text&&this.tl.staggerFromTo(this.text.querySelectorAll(".line"),1,{y:10,autoAlpha:0,transform:"rotate3d(1, 0.15, 0, -90deg) translate3d(0, 10px, 0)"},{y:0,ease:"power2.inOut",autoAlpha:1,transform:"rotate3d(1, 0.15, 0, 0deg) translate3d(0, 0, 0)"},.1,".3"),this.eyebrow&&this.tl.staggerTo(this.eyebrow,1,{ease:"power2.inOut",autoAlpha:0},.1,"2"),this.tl.staggerTo(this.title.querySelectorAll(".line"),1,{y:-20,autoAlpha:0,ease:"power2.inOut",transform:"translate3d(0, -20px, 0)"},.1,"2.3"),this.text&&this.tl.staggerTo(this.text.querySelectorAll(".line"),1,{y:-20,ease:"power2.inOut",autoAlpha:0,transform:"translate3d(0, -20px, 0)"},.1,"2.6"),t.setDomElement(this.$el,this.slug,{tl:this.tl})})}},YZ={class:"content-block"},XZ={key:0,ref:"eyebrow",class:"content-block__eyebrow text-eyebrow"},QZ={ref:"title",class:"content-block__title h1"},JZ={key:1,ref:"text",class:"content-block__text"};function ZZ(t,e,n,i,s,r){return fe(),Ee("div",YZ,[r.hasEyebrow?(fe(),Ee("p",XZ,[ys(t.$slots,"eyebrow")],512)):Zt("",!0),U("h2",QZ,[ys(t.$slots,"title")],512),r.hasText?(fe(),Ee("p",JZ,[ys(t.$slots,"text")],512)):Zt("",!0)])}var eee=rt(KZ,[["render",ZZ]]);const tee={name:"SiteContent",components:{Fade:El,ContentBlock:eee},setup(){const{onWideScreen:t,onMobileScreen:e}=Xn(),n=as(),i=_i(),s=De(null),r=De(null),a=De(null),o=De(null),l=De(null);return Kn(s,{preserve:!1}),Kn(r,{preserve:!1}),{intro:s,title:r,maestro:n,content:a,data:i,introLeft:o,introRight:l,onWideScreen:t,onMobileScreen:e}},computed:{blocks:function(){const t=this.data.home;return!t||!(t!=null&&t.blocks)?[]:this.data.home.blocks.map((n,i)=>{const s=`0${i+1}`,r=`block-${s}`,a=n.text.split(`
`),o=n.title.split(`
`);return{key:s,title:o,text:a,slug:r}})},topLeftQuote:function(){const t=this.data.home;return!t||!(t!=null&&t.topLeftQuote)?[]:o2(this.data.home.topLeftQuote)},topCenterQuote:function(){const t=this.data.home;return!t||!(t!=null&&t.topCenterQuote)?[]:o2(this.data.home.topCenterQuote)}},mounted(){const t=mi.getScene("main");this.$nextTick(()=>{t.setDomElement(this.introLeft,"site-content__intro-left"),t.setDomElement(this.introRight,"site-content__intro-right")})},methods:{handleTrailer:function(){this.maestro.showTrailer=!0}}},nee={class:"site-content"},iee={class:"site-content__header"},see=U("div",{class:"site-content__header-left"},null,-1),ree={class:"site-content__header-center"},aee={ref:"title",class:"site-content__fashion"},oee={ref:"intro",class:"site-content__intro"},lee=U("div",{class:"site-content__intro-logo"},null,-1),cee={ref:"introLeft",class:"site-content__intro-left"},uee={class:"site-content__intro-text h3"},hee=["innerHTML"],pee={ref:"introRight",class:"site-content__intro-right"},dee={class:"site-content__intro-text h3"},fee=["innerHTML"],mee={class:"site-content__blocks"},vee=["innerHTML"],gee=["innerHTML"],bee=["innerHTML"];function _ee(t,e,n,i,s,r){const a=Pe("Fade"),o=Pe("ContentBlock");return fe(),Ee("section",nee,[Ie(U("header",iee,[see,U("div",ree,[le(a,null,{default:Me(()=>[Ie(U("p",aee,[U("span",null,Ve(t.$t("header.fashion")),1)],512),[[je,i.maestro.showUI]])]),_:1})])],512),[[je,i.onWideScreen]]),U("div",oee,[lee,U("div",cee,[le(a,null,{default:Me(()=>[Ie(U("div",uee,[(fe(!0),Ee(it,null,Sn(r.topLeftQuote,(l,c)=>(fe(),Ee("span",{key:c,class:"site-content__intro-line"},[U("span",{innerHTML:l},null,8,hee)]))),128))],512),[[je,i.maestro.showUI]])]),_:1})],512),U("div",pee,[le(a,null,{default:Me(()=>[Ie(U("div",dee,[(fe(!0),Ee(it,null,Sn(r.topCenterQuote,(l,c)=>(fe(),Ee("span",{key:c,class:"site-content__intro-line"},[U("span",{innerHTML:l},null,8,fee)]))),128))],512),[[je,i.maestro.showUI]])]),_:1})],512)],512),U("div",mee,[(fe(!0),Ee(it,null,Sn(r.blocks,l=>(fe(),wt(a,{key:l.key},{default:Me(()=>[Ie(le(o,{slug:l.slug},{eyebrow:Me(()=>[qn(Ve(l.key)+"/",1)]),title:Me(()=>[(fe(!0),Ee(it,null,Sn(l.title,c=>(fe(),Ee("span",{key:l.slug+c,class:"line",innerHTML:c},null,8,vee))),128))]),text:Me(()=>[Ie(U("span",null,[(fe(!0),Ee(it,null,Sn(l.text,c=>(fe(),Ee("span",{key:l.slug+c,class:"line",innerHTML:c},null,8,gee))),128))],512),[[je,i.onWideScreen]]),Ie(U("span",null,[(fe(!0),Ee(it,null,Sn(l.text,c=>(fe(),Ee("span",{key:l.slug+c,class:"line",innerHTML:c},null,8,bee))),128))],512),[[je,i.onMobileScreen]])]),_:2},1032,["slug"]),[[je,i.maestro.showUI]])]),_:2},1024))),128))])])}var xee=rt(tee,[["render",_ee]]);const yee=100,wee={name:"TutorialDrag",components:{Fade:El},setup(){const{onTouchScreen:t,onStandardScreen:e}=Xn();return{walk:mu(),onTouchScreen:t,onStandardScreen:e}},data(){return{delta:0,anchor:0,skipped:!1,visible:!1}},watch:{"walk.enable":"onceWalkEnableMutate"},mounted(){window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("mousedown",this.handleMouseDown);const t=!0;window.addEventListener("touchend",this.handleMouseUp,{passive:t}),window.addEventListener("touchstart",this.handleMouseDown,{passive:t})},unmounted(){this.handleUnmout()},methods:{handleUnmout(){window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchend",this.handleMouseUp),window.removeEventListener("touchmove",this.handleMouseMove),window.removeEventListener("touchstart",this.handleMouseDown)},handleMouseUp(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("touchmove",this.handleMouseMove)},handleMouseDown(t){this.delta=0,this.anchor=t.touches?t.touches[0].clientX:t.clientX;const e=!0;window.addEventListener("mousemove",this.handleMouseMove,{passive:e}),window.addEventListener("touchmove",this.handleMouseMove,{passive:e})},handleMouseMove(t){this.visible&&(this.delta=t.touches?Math.abs(t.touches[0].clientX-this.anchor):Math.abs(t.clientX-this.anchor),this.skipped=this.delta>yee,this.visible=!this.skipped,this.skipped&&this.handleUnmout())},onceWalkEnableMutate(){this.visible=this.skipped?!1:this.walk.enable}}},See={class:"tutorial-drag__inner"},Cee={class:"tutorial-drag__text"};function Eee(t,e,n,i,s,r){const a=Pe("Fade");return fe(),Ee("div",{class:fn(["tutorial-drag",{"tutorial-drag--touch":i.onTouchScreen,"tutorial-drag--mouse":i.onStandardScreen}])},[le(a,null,{default:Me(()=>[Ie(U("div",See,[U("p",Cee,Ve(t.$t("tutorial.drag")),1)],512),[[je,s.visible]])]),_:1})],2)}var Tee=rt(wee,[["render",Eee]]);const kee={name:"TutorialSound",components:{Icon:ua,Fade:El},setup(){const{onTouchScreen:t,onStandardScreen:e}=Xn(),n=rs(),i=De(null),{intersect:s}=Kn(i);return{sound:n,tutorial:i,intersect:s,onTouchScreen:t,onStandardScreen:e}},data(){return{mouseX:null,mouseY:null,visible:!1}},watch:{"sound.enable":"onceSoundEnableMutate","sound.tutorial":"onceSoundTutorialMutate"},mounted(){this.mouseX=0,this.mouseY=0;const t=!0;window.addEventListener("mousemove",this.handleMouseMove,{passive:t}),this.onStandardScreen&&(document.addEventListener("mouseenter",this.handleMouseEnter),document.addEventListener("mouseleave",this.handleMouseLeave))},unmounted(){window.removeEventListener("mousemove",this.handleMouseMove),this.onStandardScreen&&(document.removeEventListener("mouseenter",this.handleMouseEnter),document.removeEventListener("mouseleave",this.handleMouseLeave))},methods:{handleMouseEnter(){this.visible=this.sound.enable&&this.sound.tutorial},handleMouseLeave(){this.visible=!1},handleMouseMove(t){this.onStandardScreen&&(this.mouseX=t.clientX,this.mouseY=t.clientY)},onceSoundEnableMutate(){this.visible=this.sound.enable&&this.sound.tutorial},onceSoundTutorialMutate(){this.visible=this.sound.tutorial,this.visible||window.removeEventListener("mousemove",this.handleMouseMove)}}},Pee={class:"tutorial-sound__inner"};function Aee(t,e,n,i,s,r){const a=Pe("Icon"),o=Pe("Fade");return fe(),Ee("div",{ref:"tutorial",class:fn(["tutorial-sound",{"tutorial-sound--touch":i.onTouchScreen,"tutorial-sound--mouse":i.onStandardScreen}]),style:ai({top:i.onStandardScreen?`${s.mouseY}px`:null,left:i.onStandardScreen?`${s.mouseX}px`:null})},[le(o,null,{default:Me(()=>[Ie(U("div",Pee,[le(a,{name:"speaker",width:16,height:16}),qn(" "+Ve(i.onStandardScreen?t.$t("tutorial.sound.click"):t.$t("tutorial.sound.tap")),1)],512),[[je,s.visible&&i.intersect]])]),_:1})],6)}var rN=rt(kee,[["render",Aee]]);const Mee={name:"ThemeSwitcher",setup(){const{onTouchScreen:t,onStandardScreen:e}=Xn(),n=mu(),i=Er(),s=Cl(),r=as();return{walk:n,theme:i,loader:s,maestro:r,onTouchScreen:t,onStandardScreen:e}},data(){return{disabled:!1,translate:-100}},computed:{label:function(){return this.onTouchScreen?this.$t("toolbar.switch"):this.$t("toolbar.spacebar")}},watch:{"theme.pressed":"onceThemePressedMutate","theme.running":"onceThemeRunningMutate","maestro.showMenu":"onceMaestroShowMenuMutate","maestro.showTrailer":"onceMaestroShowTrailerMutate","maestro.showRoadmap":"onceMaestroShowRoadmapMutate"},mounted(){const t=mi.getScene("main");t.on("transition-progress",n=>{this.translate=-100+Nf.easeOutCubic(n.progress)*100}),t.on("transition-complete",()=>{this.translate=-100}),this.$el.addEventListener("mouseup",this.handleMouseUp),this.$el.addEventListener("mousedown",this.handleMouseDown);const e=!0;this.$el.addEventListener("touchend",this.handleMouseUp,{passive:e}),this.$el.addEventListener("touchstart",this.handleMouseDown,{passive:e}),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("keydown",this.handleKeyDown)},unmounted(){this.$el.removeEventListener("mouseup",this.handleMouseUp),this.$el.removeEventListener("mousedown",this.handleMouseDown),this.$el.removeEventListener("touchend",this.handleMouseUp),this.$el.removeEventListener("touchstart",this.handleMouseDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("keydown",this.handleKeyDown)},methods:{handleKeyUp(t){this.loader.hidden&&t.keyCode===32&&(this.theme.pressed=!1)},handleKeyDown(t){this.loader.hidden&&t.keyCode===32&&this.onStandardScreen&&(this.theme.pressed=!this.disabled)},handleMouseUp(){this.loader.hidden&&(this.theme.pressed=!1)},handleMouseDown(){this.loader.hidden&&(this.theme.pressed=!this.disabled)},onceThemePressedMutate(){document.body.classList.toggle("no-scroll",this.theme.pressed)},onceThemeRunningMutate(){this.walk.disable&&(this.maestro.showUI=!this.theme.running,document.body.classList.toggle("no-ui",this.theme.running))},onceMaestroShowMenuMutate(){this.disabled=this.maestro.showMenu},onceMaestroShowTrailerMutate(){this.disabled=this.maestro.showTrailer},onceMaestroShowRoadmapMutate(){this.disabled=this.maestro.showRoadmap}}},Ree={class:"theme-switcher__wrapper"},Iee={class:"theme-switcher__inner"},Oee={class:"theme-switcher__label"};function Nee(t,e,n,i,s,r){return fe(),Ee("button",{class:fn(["theme-switcher",{"theme-switcher--touch":i.onTouchScreen,"theme-switcher--mouse":i.onStandardScreen,"theme-switcher--running":i.theme.running,"theme-switcher--pressed":i.theme.pressed}])},[U("span",Ree,[U("span",Iee,[U("span",Oee,[qn(Ve(r.label)+" ",1),U("span",{class:"theme-switcher__progress",style:ai({transform:`translate3d(${s.translate}%, 0, 0)`})},[U("span",{class:"theme-switcher__progress-inner",style:ai({transform:`translate3d(${-1*s.translate}%, 0, 0)`})},Ve(r.label),5)],4)])])])],2)}var Lee=rt(Mee,[["render",Nee]]);const Fee=100,Dee={name:"TutorialScroll",components:{Icon:ua},emits:["hidden"],setup(){const{onTouchScreen:t,onStandardScreen:e}=Xn(),n=mu(),i=Er(),s=De(null),{intersect:r}=Kn(s);return{walk:n,theme:i,tutorial:s,intersect:r,onTouchScreen:t,onStandardScreen:e}},data(){return{delta:0,anchor:0,skipped:!1,visible:!0}},watch:{"walk.enable":"onceWalkEnableMutate","theme.running":"onceThemeRunningMutate"},mounted(){this.anchor=window.pageYOffset;const t=!0;window.addEventListener("scroll",this.handleScroll,{passive:t})},unmounted(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.visible&&(this.delta=Math.abs(window.pageYOffset-this.anchor),this.skipped=this.delta>Fee,this.visible=!this.skipped,this.skipped&&this.$emit("hidden"))},onceWalkEnableMutate(){this.walk.enable&&(this.skipped=!0,this.visible=!1,this.$emit("hidden"))},onceThemeRunningMutate(){this.theme.running&&(this.skipped=!0,this.visible=!1,this.$emit("hidden"))}}},Bee={class:"tutorial-scroll__inner"},jee={class:"tutorial-scroll__text"},Uee=U("br",null,null,-1),Vee={class:"tutorial-scroll__text"};function $ee(t,e,n,i,s,r){const a=Pe("i18n-t"),o=Pe("Icon");return fe(),Ee("div",{ref:"tutorial",class:fn(["tutorial-scroll",{"tutorial-scroll--touch":i.onTouchScreen,"tutorial-scroll--mouse":i.onStandardScreen}])},[le(ho,{name:"tutorial-scroll",duration:{enter:600,leave:300}},{default:Me(()=>[Ie(U("div",Bee,[Ie(U("div",jee,[U("p",null,[le(a,{keypath:"tutorial.touch",scope:"global"},{br:Me(()=>[Uee]),_:1})])],512),[[je,i.onTouchScreen]]),Ie(U("div",Vee,[le(o,{name:"mouse",width:36,height:36}),U("p",null,[U("span",null,Ve(t.$t("tutorial.scroll")),1)])],512),[[je,i.onStandardScreen]])],512),[[je,s.visible&&i.intersect]])]),_:1})],2)}var zee=rt(Dee,[["render",$ee]]);const Hee={name:"SiteToolbar",components:{Icon:ua,Fade:El,Logo:Sv,Link:Dv,Button:Hp,SoundToggle:m1,TutorialDrag:Tee,TutorialSound:rN,ThemeSwitcher:Lee,TutorialScroll:zee},setup(){const{onWideScreen:t,onTouchScreen:e,onMobileScreen:n,onStandardScreen:i}=Xn(),s=mu(),r=rs(),a=Er(),o=as(),l=De(null),{intersect:c}=Kn(l);return{walk:s,sound:r,theme:a,maestro:o,hapebar:l,intersect:c,onWideScreen:t,onTouchScreen:e,onMobileScreen:n,onStandardScreen:i}},data(){return{konami:!1,animate:!1,spacebar:!!this.onTouchScreen}},computed:{logo:function(){return{color:"white",width:this.onWideScreen?180:137,height:this.onWideScreen?28:21,animate:this.animate}},enableExit(){return this.walk.enable&&!this.konami},enableReload(){return this.walk.enable&&this.konami}},watch:{"walk.running":"onceWalkRunningMutate"},mounted(){const t=mi.getScene("main");t&&t.on("konami",()=>{this.handleKonami()})},methods:{handleWalk(){this.walk.enable=!this.walk.enable,this.walk.disable=!this.walk.enable,Jt.delayedCall(this.walk.enable?.1:0,()=>{this.animate=this.walk.enable}),this.walk.enable?document.addEventListener("keyup",this.handleKeyUp):document.removeEventListener("keyup",this.handleKeyUp),document.body.classList.toggle("no-scroll",this.walk.enable)},handleReload(){window.location.reload()},handleKonami(){this.konami=!0,this.walk.enable=!0,this.walk.disable=!this.walk.enable,document.removeEventListener("keyup",this.handleKeyUp),Jt.delayedCall(.1,()=>{this.animate=!0})},handleKeyUp(t){t.keyCode===27&&this.handleWalk()},handleRoadmap(){this.maestro.showRoadmap=this.sound.lower=!0},handleScrollHidden(){this.spacebar=!0},onceWalkRunningMutate(){this.theme.running||(this.maestro.showUI=!this.walk.running,document.body.classList.toggle("no-ui",this.walk.running))}}},qee={class:"site-toolbar__modals"},Wee={class:"site-toolbar__inner"},Gee={class:"site-toolbar__side"},Kee={class:"site-toolbar__side-inner"},Yee={class:"site-toolbar__buttons"},Xee={class:"site-toolbar__buttons-list"},Qee={class:"text-label"},Jee={class:"site-toolbar__buttons-list"},Zee={class:"site-toolbar__logo"},ete={class:"site-toolbar__center"},tte={class:"site-toolbar__tutorial"},nte={ref:"hapebar",class:"site-toolbar__hapebar"},ite={class:"site-toolbar__hapebar-text"},ste={class:"site-toolbar__hapebar-text"},rte=qn("\xA0"),ate={class:"site-toolbar__side"},ote={class:"site-toolbar__side-inner"},lte={class:"site-toolbar__links"},cte={class:"site-toolbar__link"},ute={class:"site-toolbar__sound"},hte={class:"site-toolbar__exit"},pte={class:"site-toolbar__exit-button"},dte={class:"text-label"},fte={class:"site-toolbar__exit-button"},mte={class:"site-toolbar__exit"},vte={class:"site-toolbar__exit-button"},gte={class:"text-label"},bte={class:"site-toolbar__exit-button"};function _te(t,e,n,i,s,r){const a=Pe("TutorialDrag"),o=Pe("TutorialSound"),l=Pe("Fade"),c=Pe("Icon"),h=Pe("Button"),p=Pe("Logo"),d=Pe("TutorialScroll"),g=Pe("ThemeSwitcher"),x=Pe("i18n-t"),S=Pe("Link"),m=Pe("SoundToggle");return fe(),Ee("section",{class:fn(["site-toolbar",{"site-toolbar--walk":i.walk.enable,"site-toolbar--hidden":!i.maestro.showToolbar}])},[le(l,null,{default:Me(()=>[Ie(U("div",qee,[le(a),Ie(le(o,null,null,512),[[je,i.onTouchScreen]])],512),[[je,i.theme.sleep]])]),_:1}),U("div",Wee,[U("div",Gee,[le(l,null,{default:Me(()=>[Ie(U("div",Kee,[Ie(U("div",Yee,[Ie(U("div",Xee,[le(h,{"with-label":"",onClick:r.handleRoadmap},{default:Me(()=>[U("span",Qee,Ve(t.$t("roadmap.button")),1),le(c,{name:"roadmap",width:32,height:32})]),_:1},8,["onClick"]),le(h,{"with-background":"",onClick:r.handleWalk},{default:Me(()=>[le(c,{name:"hape",width:26,height:26})]),_:1},8,["onClick"])],512),[[je,i.onWideScreen]]),Ie(U("div",Jee,[le(h,{"with-background":"",onClick:r.handleRoadmap},{default:Me(()=>[le(c,{name:"roadmap",width:16,height:16})]),_:1},8,["onClick"]),le(h,{"with-background":"",onClick:r.handleWalk},{default:Me(()=>[le(c,{name:"hape",width:22,height:22})]),_:1},8,["onClick"])],512),[[je,i.onMobileScreen]])],512),[[je,i.walk.disable]]),Ie(U("div",Zee,[le(p,Rp(pu(r.logo)),null,16)],512),[[je,i.walk.enable]])],512),[[je,i.theme.sleep]])]),_:1})]),U("div",ete,[U("div",tte,[le(d,{onHidden:r.handleScrollHidden},null,8,["onHidden"])]),Ie(U("div",nte,[le(l,null,{default:Me(()=>[Ie(U("p",ite,[U("span",null,Ve(t.$t("toolbar.spacebarPrefix")),1)],512),[[je,i.theme.sleep]])]),_:1}),le(g),le(l,null,{default:Me(()=>[Ie(U("p",ste,[U("span",null,[le(x,{keypath:"toolbar.spacebarSuffix",scope:"global"},{space:Me(()=>[rte]),_:1})])],512),[[je,i.theme.sleep]])]),_:1})],512),[[je,s.spacebar]])]),U("div",ate,[le(l,null,{default:Me(()=>[Ie(U("div",ote,[Ie(U("div",lte,[U("div",cte,[le(S,{size:"l",href:t.$t("links.hapeFashionIndex.url"),target:"_blank"},{default:Me(()=>[qn(Ve(t.$t("links.hapeFashionIndex.label")),1)]),_:1},8,["href"])]),U("div",ute,[le(m)])],512),[[je,i.walk.disable]]),Ie(U("div",hte,[Ie(U("div",pte,[le(h,{"with-label":"",onClick:r.handleWalk},{default:Me(()=>[U("span",dte,Ve(t.$t("toolbar.exit")),1),le(c,{name:"close",width:32,height:32})]),_:1},8,["onClick"])],512),[[je,i.onWideScreen]]),Ie(U("div",fte,[le(h,{"with-background":"",onClick:r.handleWalk},{default:Me(()=>[le(c,{name:"close",width:16,height:16})]),_:1},8,["onClick"])],512),[[je,i.onMobileScreen]])],512),[[je,r.enableExit]]),Ie(U("div",mte,[Ie(U("div",vte,[le(h,{"with-label":"",onClick:r.handleReload},{default:Me(()=>[U("span",gte,Ve(t.$t("toolbar.reload")),1),le(c,{name:"close",width:32,height:32})]),_:1},8,["onClick"])],512),[[je,i.onWideScreen]]),Ie(U("div",bte,[le(h,{"with-background":"",onClick:r.handleReload},{default:Me(()=>[le(c,{name:"close",width:16,height:16})]),_:1},8,["onClick"])],512),[[je,i.onMobileScreen]])],512),[[je,r.enableReload]])],512),[[je,i.theme.sleep]])]),_:1})])])],2)}var xte=rt(Hee,[["render",_te]]);const yte={name:"RoadmapItem",props:{src:{type:String,required:!0},lazy:{type:String,required:!0},text:{type:String,default:null},title:{type:String,required:!0}},setup(){const{onWideScreen:t,onMobileScreen:e}=Xn(),n=as(),i=De(null),{intersect:s}=Kn(i,{preserve:!1});return{item:i,maestro:n,intersect:s,onWideScreen:t,onMobileScreen:e}}},wte={ref:"item",class:"roadmap-item"},Ste=U("div",{class:"roadmap-item__dot"},null,-1),Cte={class:"roadmap-item__inner"},Ete={class:"roadmap-item__image"},Tte=["alt"],kte={class:"roadmap-item__content"},Pte={key:0,class:"roadmap-item__text"};function Ate(t,e,n,i,s,r){const a=Up("lazy");return fe(),Ee("div",wte,[Ste,U("div",Cte,[Ie(U("p",{class:"roadmap-item__title h3"},Ve(n.title),513),[[je,i.onMobileScreen]]),U("figure",Ete,[Ie(U("img",{alt:n.title},null,8,Tte),[[a,{src:n.src,loading:n.lazy,error:n.lazy}]])]),U("div",kte,[Ie(U("p",{class:"roadmap-item__title h3"},Ve(n.title),513),[[je,i.onWideScreen]]),n.text?(fe(),Ee("p",Pte,Ve(n.text),1)):Zt("",!0)])])],512)}var Mte=rt(yte,[["render",Ate]]);const Rte={name:"RoadmapGroup",props:{title:{type:String,default:null}},setup(){const t=De(null),{intersect:e}=Kn(t,{preserve:!1});return{group:t,intersect:e}}},Ite={ref:"group",class:"roadmap-group"},Ote={key:0,class:"roadmap-group__title text-eyebrow"},Nte={class:"roadmap-group__items"};function Lte(t,e,n,i,s,r){return fe(),Ee("div",Ite,[n.title?(fe(),Ee("p",Ote,[U("span",null,Ve(n.title),1)])):Zt("",!0),U("div",Nte,[ys(t.$slots,"default")])],512)}var Fte=rt(Rte,[["render",Lte]]);const Dte={name:"RoadmapPhase",props:{title:{type:String,default:""}},setup(){const t=De(null),e=De(null),{intersect:n}=Kn(e,{preserve:!1});return tI(t),{text:t,phase:e,intersect:n}}},Bte={ref:"phase",class:"roadmap-phase"},jte={class:"roadmap-phase__header"},Ute={class:"roadmap-phase__eyebrow text-eyebrow"},Vte=["innerHTML"],$te=U("div",{class:"roadmap-phase__dot"},null,-1),zte={class:"roadmap-phase__groups"};function Hte(t,e,n,i,s,r){return fe(),Ee("div",Bte,[U("header",jte,[U("p",Ute,[U("span",null,[ys(t.$slots,"eyebrow")])]),U("p",{ref:"text",class:"roadmap-phase__title h1",innerHTML:n.title},null,8,Vte)]),$te,U("div",zte,[ys(t.$slots,"default")])],512)}var qte=rt(Dte,[["render",Hte]]);const Wte={name:"SiteRoadmap",components:{Icon:ua,Button:Hp,RoadmapItem:Mte,RoadmapPhase:qte,RoadmapGroup:Fte},setup(){const{onWideScreen:t,onMobileScreen:e}=Xn(),n=rs(),i=_i(),s=as(),r=De(null),a=De(null);return{sound:n,wrapper:r,maestro:s,container:a,onWideScreen:t,onMobileScreen:e,data:i}},computed:{title:function(){var t,e;return(e=(t=this.data.home)==null?void 0:t.roadmap)==null?void 0:e.title},phases:function(){var n,i;const t=(i=(n=this.data.home)==null?void 0:n.roadmap)==null?void 0:i.content;return!t||!t.length?[]:t.map(s=>{const r=[];let a={key:null,items:[],title:null};return s.groups.forEach(o=>{const l=o._key,c=o._type,h=o.title,p=o.text;if(c==="card"){const{src:d,lazy:g}=pp(o.picture);a.items.push({key:l,title:h,text:p,src:d,lazy:g})}else c==="subtitle"&&(a.items.length&&r.push(a),a={key:l,items:[],title:p})}),a.items.length&&r.push(a),{title:s.title.replace(`
`,"<br>"),eyebrow:s.surtitle,groups:r,key:s._key}})}},watch:{"maestro.showRoadmap":"onceVisibleStateMutate"},methods:{handleEnter(){this.wrapper.addEventListener("click",this.handleClose),this.container.addEventListener("click",this.handlePropagation),document.addEventListener("keyup",this.handleKeyUp)},handleLeave(){this.wrapper.removeEventListener("click",this.handleClose),this.container.removeEventListener("click",this.handlePropagation),document.removeEventListener("keyup",this.handleKeyUp)},handleClose(){this.maestro.showRoadmap=this.sound.lower=!1},handleKeyUp(t){t.keyCode===27&&this.handleClose()},handlePropagation(t){t.stopPropagation()},onceVisibleStateMutate(){document.body.classList.toggle("no-scroll",this.maestro.showRoadmap)}}},Gte={class:"site-roadmap"},Kte={ref:"wrapper",class:"site-roadmap__wrapper"},Yte={ref:"container",class:"site-roadmap__container"},Xte={class:"site-roadmap__inner"},Qte={class:"site-roadmap__header"},Jte={class:"site-roadmap__header-title"},Zte={class:"text-label"},ene={class:"site-roadmap__header-close"},tne={class:"text-label"},nne={class:"site-roadmap__header-close"},ine={class:"site-roadmap__content"},sne={class:"site-roadmap__line"},rne={class:"site-roadmap__phases"},ane=U("div",{class:"site-roadmap__back"},null,-1);function one(t,e,n,i,s,r){const a=Pe("Icon"),o=Pe("Button"),l=Pe("RoadmapItem"),c=Pe("RoadmapGroup"),h=Pe("RoadmapPhase");return fe(),wt(ho,{name:"roadmap",duration:{enter:1400,leave:1100},onAfterEnter:r.handleEnter,onBeforeLeave:r.handleLeave},{default:Me(()=>[Ie(U("section",Gte,[U("div",Kte,[U("div",Yte,[U("div",Xte,[U("header",Qte,[U("p",Jte,[U("span",null,[U("span",Zte,Ve(r.title),1),le(a,{name:"roadmap",width:16,height:16})])]),Ie(U("div",ene,[le(o,{"with-label":"",preserve:"",onClick:r.handleClose},{default:Me(()=>[U("span",tne,Ve(t.$t("roadmap.close")),1),le(a,{name:"close",width:32,height:32})]),_:1},8,["onClick"])],512),[[je,i.onWideScreen]]),Ie(U("div",nne,[le(o,{"with-background":"",onClick:r.handleClose},{default:Me(()=>[le(a,{name:"close",width:16,height:16})]),_:1},8,["onClick"])],512),[[je,i.onMobileScreen]])]),U("div",ine,[U("div",sne,[le(a,{name:"dots",width:26,height:26})]),U("div",rne,[(fe(!0),Ee(it,null,Sn(r.phases,p=>(fe(),wt(h,{key:p.key,title:p.title},{eyebrow:Me(()=>[qn(Ve(p.eyebrow),1)]),default:Me(()=>[(fe(!0),Ee(it,null,Sn(p.groups,d=>(fe(),wt(c,{key:d.key,title:d.title},{default:Me(()=>[(fe(!0),Ee(it,null,Sn(d.items,g=>(fe(),wt(l,_r(g,{key:g.key}),null,16))),128))]),_:2},1032,["title"]))),128))]),_:2},1032,["title"]))),128))])])])],512),ane],512)],512),[[je,i.maestro.showRoadmap]])]),_:1},8,["onAfterEnter","onBeforeLeave"])}var lne=rt(Wte,[["render",one]]);const cne={name:"HomePage",components:{Layout:Ew,Content:xee,Toolbar:xte,Roadmap:lne},setup(){const t=_i(),e=mu(),n=rs(),i=Er(),s=Cl();return cZ(),{data:t,walk:e,sound:n,theme:i,loader:s}},mounted(){this.sound.$patch(t=>{t.lower=!this.loader.completed,t.pause=!1})},unmounted(){this.walk.$reset(),this.theme.$reset()}},une={class:"site-main"};function hne(t,e,n,i,s,r){const a=Pe("Content"),o=Pe("Roadmap"),l=Pe("Toolbar"),c=Pe("Layout");return fe(),wt(c,{class:"home"},{default:Me(()=>[U("section",une,[le(a),le(o),le(l)])]),_:1})}var pne=rt(cne,[["render",hne]]);function dne(){const t=_i(),e=De(null),n=De(!1),i=si(()=>e.value===null&&n.value===null);return Ys(async()=>{e.value=null,n.value=!1;let s=t.about;if(!s){const r=Tv`*[_id == 'singletonAbout'][0]`;s=await Gp.fetch(r),t.about=s}s?e.value=s:(console.warn("Query returned no results"),n.value=404)}),{page:e,errorCode:n,loading:i}}const fne={name:"SpinnerItem",props:{fixed:{type:Boolean,default:!1}}},mne=U("div",{class:"spinner__inner"},[U("svg",{viewBox:"0 0 62 62",width:"100%",height:"100%"},[U("circle",{r:"29",cx:"50%",cy:"50%",class:"loader-bar"}),U("circle",{r:"29",cx:"50%",cy:"50%",class:"loader-bar"})])],-1),vne=[mne];function gne(t,e,n,i,s,r){return fe(),Ee("div",{class:fn(["spinner",{"spinner--fixed":n.fixed}])},vne,2)}var aN=rt(fne,[["render",gne]]);const bne={name:"TeamMember",props:{wide:{type:String,required:!0},mobile:{type:String,required:!0},lazy:{type:String,required:!0},role:{type:String,default:null},name:{type:String,required:!0},surname:{type:String,default:null},description:{type:String,required:!0}},setup(){const{onWideScreen:t,onMobileScreen:e}=Xn(),n=De(null),{intersect:i}=Kn(n,{preserve:!1});return{item:n,intersect:i,onWideScreen:t,onMobileScreen:e}}},_ne={ref:"item",class:"team-member"},xne={class:"team-member__image"},yne={class:"team-member__image-inner"},wne={class:"team-member__content"},Sne={class:"team-member__header"},Cne={key:0,class:"team-member__role text-eyebrow"},Ene={key:1,class:"team-member__title"},Tne={key:0,class:"team-member__name"},kne={key:1,class:"team-member__surname"},Pne=["innerHTML"];function Ane(t,e,n,i,s,r){const a=Up("lazy");return fe(),Ee("div",_ne,[U("figure",xne,[U("div",yne,[i.onWideScreen?(fe(),Ee(it,{key:0},[Ie(U("img",null,null,512),[[a,{src:n.wide,loading:n.lazy,error:n.lazy}]]),Ie(U("img",null,null,512),[[a,{src:n.wide,loading:n.lazy,error:n.lazy}]])],64)):(fe(),Ee(it,{key:1},[Ie(U("img",null,null,512),[[a,{src:n.mobile,loading:n.lazy,error:n.lazy}]]),Ie(U("img",null,null,512),[[a,{src:n.mobile,loading:n.lazy,error:n.lazy}]])],64))])]),U("div",wne,[U("div",Sne,[n.role?(fe(),Ee("p",Cne,Ve(n.role),1)):Zt("",!0),n.name||n.surname?(fe(),Ee("h2",Ene,[n.name?(fe(),Ee("span",Tne,Ve(n.name),1)):Zt("",!0),n.surname?(fe(),Ee("span",kne,Ve(n.surname),1)):Zt("",!0)])):Zt("",!0)]),U("p",{class:"team-member__description",innerHTML:n.description},null,8,Pne)])],512)}var Mne=rt(bne,[["render",Ane]]);const Rne={name:"AboutPage",components:{Layout:Ew,Spinner:aN,TeamMember:Mne},setup(){const{onWideScreen:t,onMobileScreen:e}=Xn(),n=_i(),i=rs();dne();const s=De(null);return{data:n,title:s,sound:i,onWideScreen:t,onMobileScreen:e}},computed:{odd:function(){return this.items.filter((t,e)=>(e+1)%2!==0)},even:function(){return this.items.filter((t,e)=>(e+1)%2===0)},pageTitle:function(){var t,e;return D1((e=(t=this.data.about)==null?void 0:t.title)==null?void 0:e.replace(`
`,"<br>"))},items:function(){var e;const t=(e=this.data.about)==null?void 0:e.team;return!t||!t.length?[]:t.map(({description:n,firstName:i,lastName:s,nickname:r,picture:a,role:o},l)=>{const c=s?`${i} ${s}`:i,h=pp(a,{width:1150}),p=pp(a);return{key:l+1,lazy:p.lazy,wide:p.src,mobile:h.src,role:o,name:c,surname:r,description:n.replace(`
`,"<br>")}})}},mounted(){this.sound.$patch(t=>{t.lower=!0,t.pause=!1})}},Ine={class:"site-main"},One={key:0,class:"site-main__inner"},Nne={class:"container"},Lne=["innerHTML"],Fne={key:0,class:"about__team"},Dne={class:"about__team-column"},Bne={class:"about__team-column"},jne={key:1,class:"about__team"};function Une(t,e,n,i,s,r){const a=Pe("TeamMember"),o=Pe("Spinner"),l=Pe("Layout");return fe(),wt(l,{class:"about"},{default:Me(()=>[U("section",Ine,[i.data.about?(fe(),Ee("div",One,[U("div",Nne,[U("h1",{ref:"title",class:"page-title",innerHTML:r.pageTitle},null,8,Lne),i.onWideScreen?(fe(),Ee("div",Fne,[U("div",Dne,[(fe(!0),Ee(it,null,Sn(r.odd,c=>(fe(),wt(a,_r(c,{key:c.key}),null,16))),128))]),U("div",Bne,[(fe(!0),Ee(it,null,Sn(r.even,c=>(fe(),wt(a,_r(c,{key:c.key}),null,16))),128))])])):(fe(),Ee("div",jne,[(fe(!0),Ee(it,null,Sn(r.items,c=>(fe(),wt(a,_r(c,{key:c.key}),null,16))),128))]))])])):(fe(),wt(o,{key:1,fixed:""}))])]),_:1})}var Vne=rt(Rne,[["render",Une]]);const $ne=({getOnlyPosts:t,indexStart:e,indexEnd:n})=>{let i="...,";return t&&(i=""),Tv`*[_id == 'singletonPress'][0] {
        ${i}
        list[${e}...${n}]->
      }`};async function oN(t,e=!0){const n=_i(),i=t*n.pressPostsPerPage,s=i+n.pressPostsPerPage,r=$ne({indexStart:i,indexEnd:s,getOnlyPosts:e});return await Gp.fetch(r)}function zne(){const t=_i(),e=De(null),n=De(!1),i=si(()=>e.value===null&&n.value===null);return Ys(async()=>{e.value=null,n.value=!1;let s=t.press;s||(s=await oN(0,!1),t.press=s),s?e.value=s:(console.warn("Query returned no results"),n.value=404)}),{page:e,errorCode:n,loading:i}}const Hne={name:"PressItem",components:{Link:Dv},props:{url:{type:String,required:!0},src:{type:String,required:!0},lazy:{type:String,required:!0},date:{type:String,required:!0},text:{type:String,required:!0},title:{type:String,required:!0},editor:{type:String,required:!0}},setup(){const t=De(null),{intersect:e}=Kn(t,{preserve:!1});return{item:t,intersect:e}}},qne={ref:"item",class:"press-item"},Wne=["href"],Gne={class:"u-visually-hidden"},Kne={class:"press-item__image"},Yne=["alt"],Xne={class:"press-item__content"},Qne={class:"press-item__eyebrow text-eyebrow"},Jne={class:"press-item__date"},Zne={class:"press-item__editor"},eie={class:"press-item__title"},tie={class:"press-item__text"},nie={key:0,class:"press-item__link"};function iie(t,e,n,i,s,r){const a=Pe("Link"),o=Up("lazy");return fe(),Ee("div",qne,[n.url?(fe(),Ee("a",{key:0,href:n.url,target:"_blank",rel:"noopener noreferrer"},[U("span",Gne,Ve(n.title),1)],8,Wne)):Zt("",!0),U("figure",Kne,[Ie(U("img",{alt:n.title},null,8,Yne),[[o,{src:n.src,loading:n.lazy,error:n.lazy}]])]),U("div",Xne,[U("p",Qne,[U("span",Jne,Ve(n.date),1),U("span",Zne,Ve(n.editor),1)]),U("h2",eie,Ve(n.title),1),U("p",tie,Ve(n.text),1),n.url?(fe(),Ee("p",nie,[le(a,{href:n.url,size:"l",target:"_blank",animate:!1},{default:Me(()=>[qn(Ve(t.$t("press.button")),1)]),_:1},8,["href"])])):Zt("",!0)])],512)}var sie=rt(Hne,[["render",iie]]);const rie={name:"PressPage",components:{Layout:Ew,Spinner:aN,PressItem:sie},setup(){const t=_i(),e=rs(),n=De(null),i=De(null),{inViewport:s}=Kn(i);return zne(),{data:t,sound:e,title:n,loader:i,inViewport:s}},data(){return{loading:!1}},computed:{pageTitle:function(){var t,e;return D1((e=(t=this.data.press)==null?void 0:t.title)==null?void 0:e.replace(`
`,"<br>"))},items:function(){var e;const t=(e=this.data.press)==null?void 0:e.list;return!t||!t.length?[]:t.map(({picture:n,content:i,source:s,title:r,date:a,_id:o,externalLink:l})=>{const{src:c,lazy:h}=pp(n),p=new Date(a),d=`${this.$t("months."+p.getMonth())} ${p.getDate()}, ${p.getFullYear()}`;return{key:o,url:l||"",src:c,lazy:h,text:i.replace(`
`,"<br>"),date:d,title:r,editor:s}})},canLoadMore:function(){return this.items.length>0}},mounted(){this.sound.$patch(t=>{t.lower=!0,t.pause=!1}),this.unwatchInViewport=this.$watch(t=>t.inViewport,this.onceInViewport)},unmounted(){this.unwatchInViewport()},methods:{async loadMore(){if(!this.loading&&this.canLoadMore&&this.data.pressStillHasPosts){this.loading=!0;const t=this.data.pressCurrentPage+1,{list:e}=await oN(t);e&&(e.map(n=>this.data.press.list.push(n)),this.data.pressCurrentPage=t,this.data.pressStillHasPosts=e.length&&e.length>=this.data.pressPostsPerPage),this.loading=!1}},onceInViewport(){this.inViewport&&this.loadMore()}}},aie={class:"site-main"},oie={key:0,class:"site-main__inner"},lie={class:"container"},cie=["innerHTML"],uie={class:"press__list"};function hie(t,e,n,i,s,r){const a=Pe("PressItem"),o=Pe("Spinner"),l=Pe("Layout");return fe(),wt(l,{class:"press"},{default:Me(()=>[U("section",aie,[i.data.press?(fe(),Ee("div",oie,[U("div",lie,[U("h1",{ref:"title",class:"page-title",innerHTML:r.pageTitle},null,8,cie),U("div",uie,[(fe(!0),Ee(it,null,Sn(r.items,c=>(fe(),wt(a,_r(c,{key:c.key}),null,16))),128))]),Ie(le(o,null,null,512),[[je,s.loading]])])])):(fe(),wt(o,{key:1,fixed:""}))])]),_:1})}var pie=rt(rie,[["render",hie]]);const die=[{path:"/about",meta:{webgl:!1,neons:!0,sound:!0,loader:!1,toolbar:!1,partners:!1},component:Vne},{path:"/press",meta:{webgl:!1,neons:!0,sound:!0,loader:!1,toolbar:!1,partners:!1},component:pie},{path:"/:route(.*)*",meta:{webgl:!0,neons:!1,sound:!0,loader:!0,toolbar:!0,partners:!0},component:pne}],fie=YU({routes:die,history:hU(),scrollBehavior(){return{top:0}}});/*!
 * Vue3-Lazyload.js v0.2.5-beta
 * A Vue3.x image lazyload plugin
 * (c) 2021 MuRong <admin@imuboy.cn>
 * Released under the MIT License.
 */var Ds;(function(t){t.LOADING="loading",t.LOADED="loaded",t.ERROR="error"})(Ds||(Ds={}));var mie=typeof window!="undefined"&&window!==null,vie=xie(),gie=Object.prototype.propertyIsEnumerable,l2=Object.getOwnPropertySymbols;function $h(t){return typeof t=="function"||toString.call(t)==="[object Object]"}function bie(t){return typeof t=="object"?t===null:typeof t!="function"}function _ie(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}function xie(){return mie&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}function yie(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!$h(t))throw new TypeError("expected the first argument to be an object");if(e.length===0||typeof Symbol!="function"||typeof l2!="function")return t;for(var i=0,s=e;i<s.length;i++)for(var r=s[i],a=l2(r),o=0,l=a;o<l.length;o++){var c=l[o];gie.call(r,c)&&(t[c]=r[c])}return t}function lN(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=0;for(bie(t)&&(t=e[i++]),t||(t={});i<e.length;i++)if($h(e[i])){for(var s=0,r=Object.keys(e[i]);s<r.length;s++){var a=r[s];_ie(a)&&($h(t[a])&&$h(e[i][a])?lN(t[a],e[i][a]):t[a]=e[i][a])}yie(t,e[i])}return t}var wie={rootMargin:"0px",threshold:0},c2="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Sie="",Cie=function(){function t(e){this.options={loading:c2,error:Sie,observerOptions:wie,log:!0,lifecycle:{}},this._images=new WeakMap,this.config(e)}return t.prototype.config=function(e){e===void 0&&(e={}),lN(this.options,e)},t.prototype.mount=function(e,n){var i=this._valueFormatter(n.value),s=i.src,r=i.loading,a=i.error,o=i.lifecycle;this._lifecycle(Ds.LOADING,o,e),e.setAttribute("src",r||c2),vie||(this.loadImages(e,s,a,o),this._log(function(){throw new Error("Not support IntersectionObserver!")})),this._initIntersectionObserver(e,s,a,o)},t.prototype.update=function(e,n){var i;(i=this._realObserver(e))===null||i===void 0||i.unobserve(e);var s=this._valueFormatter(n.value),r=s.src,a=s.error,o=s.lifecycle;this._initIntersectionObserver(e,r,a,o)},t.prototype.unmount=function(e){var n;(n=this._realObserver(e))===null||n===void 0||n.unobserve(e),this._images.delete(e)},t.prototype.loadImages=function(e,n,i,s){this._setImageSrc(e,n,i,s)},t.prototype._setImageSrc=function(e,n,i,s){var r=this;if(e.tagName.toLowerCase()==="img"){if(n){var a=e.getAttribute("src");a!==n&&e.setAttribute("src",n)}this._listenImageStatus(e,function(){r._lifecycle(Ds.LOADED,s,e)},function(){var o;e.onload=null,r._lifecycle(Ds.ERROR,s,e),(o=r._realObserver(e))===null||o===void 0||o.disconnect(),i&&e.setAttribute("src",i),r._log(function(){throw new Error("Image failed to load!")})})}else e.style.backgroundImage="url('"+n+"')"},t.prototype._initIntersectionObserver=function(e,n,i,s){var r=this,a,o=this.options.observerOptions;this._images.set(e,new IntersectionObserver(function(l){Array.prototype.forEach.call(l,function(c){var h;c.isIntersecting&&((h=r._realObserver(e))===null||h===void 0||h.unobserve(c.target),r._setImageSrc(e,n,i,s))})},o)),(a=this._realObserver(e))===null||a===void 0||a.observe(e)},t.prototype._listenImageStatus=function(e,n,i){e.onload=n,e.onerror=i},t.prototype._valueFormatter=function(e){var n=e,i=this.options.loading,s=this.options.error,r=this.options.lifecycle;return $h(e)&&(n=e.src,i=e.loading||this.options.loading,s=e.error||this.options.error,r=e.lifecycle||this.options.lifecycle),{src:n,loading:i,error:s,lifecycle:r}},t.prototype._log=function(e){this.options.log&&e()},t.prototype._lifecycle=function(e,n,i){switch(e){case Ds.LOADING:i==null||i.setAttribute("lazy",Ds.LOADING),n!=null&&n.loading&&n.loading(i);break;case Ds.LOADED:i==null||i.setAttribute("lazy",Ds.LOADED),n!=null&&n.loaded&&n.loaded(i);break;case Ds.ERROR:i==null||i.setAttribute("lazy",Ds.ERROR),n!=null&&n.error&&n.error(i);break}},t.prototype._realObserver=function(e){return this._images.get(e)},t}(),Eie={install:function(t,e){var n=new Cie(e);t.config.globalProperties.$Lazyload=n,t.provide("Lazyload",n),t.directive("lazy",{mounted:n.mount.bind(n),updated:n.update.bind(n),unmounted:n.unmount.bind(n)})}};const Tie={red:"#ec1731",black:"#794a2f",white:"#a0a0a0"},kie={red:{r:`0 ${242/255}`,g:"0 0",b:"0 0"},black:{r:`0 ${155/255}`,g:`0 ${116/255}`,b:`0 ${66/255}`},white:{r:"0 1",g:"0 1",b:"0 1"}},Pie={name:"SVGEffects",setup(){return{theme:Er()}},computed:{color:function(){return Tie[this.theme.value]},duotone:function(){return kie[this.theme.value]}}},Aie={class:"u-visually-hidden"},Mie={id:"svg-glow",x:"-50%",y:"-50%",width:"200%",height:"200%"},Rie=U("feGaussianBlur",{in:"SourceGraphic",result:"glow-effect",stdDeviation:"7"},null,-1),Iie=["flood-color"],Oie=U("feComposite",{in:"glow-color",in2:"glow-effect",result:"glow",operator:"in"},null,-1),Nie=U("feMerge",null,[U("feMergeNode",{in:"glow"}),U("feMergeNode",{in:"SourceGraphic"})],-1),Lie={id:"duotone"},Fie=U("feColorMatrix",{type:"matrix",values:".33 .33 .33 0 0 .33 .33 .33 0 0 .33 .33 .33 0 0 0 0 0 1 0"},null,-1),Die={"color-interpolation-filters":"sRGB"},Bie=["tableValues"],jie=["tableValues"],Uie=["tableValues"];function Vie(t,e,n,i,s,r){return fe(),Ee("svg",Aie,[U("defs",null,[U("filter",Mie,[Rie,U("feFlood",{result:"glow-color","flood-color":r.color,"flood-opacity":"1.0"},null,8,Iie),Oie,Nie]),U("filter",Lie,[Fie,U("feComponentTransfer",Die,[U("feFuncR",{type:"table",tableValues:r.duotone.r},null,8,Bie),U("feFuncG",{type:"table",tableValues:r.duotone.g},null,8,jie),U("feFuncB",{type:"table",tableValues:r.duotone.b},null,8,Uie)])])])])}var $ie=rt(Pie,[["render",Vie]]);const zie={name:"DemoHape",setup(){return{canvas:De(null)}},mounted(){const t=mi.init(this.canvas);li.subscribe("canvas",t.render.bind(t),60),this.scene=mi.getScene("main"),this.scene.on("transition-progress",e=>{}),this.scene.on("transition-complete",e=>{}),this.scene.setProgress(0),mi.loadScene("main").then(()=>{mi.activate("main").then(()=>{})})}},Hie={ref:"canvas",class:"demo"};function qie(t,e,n,i,s,r){return fe(),Ee("div",Hie,null,512)}var Wie=rt(zie,[["render",qie]]),Gie=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,s,r;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(r=Object.keys(e),i=r.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[s]))return!1;for(s=i;s--!==0;){var a=r[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};class Kie{constructor(e,n){this.root=e,this.toolbar=n,this.values={},this.toggleEdges=this.toolbar.querySelector("#toggle-edges"),this.toggleColumns=this.toolbar.querySelector("#toggle-columns"),this.toggleGutters=this.toolbar.querySelector("#toggle-gutters"),this.timeout=null,this.timeoutDuration=150,this.toggle("edges",this.toggleEdges.checked),this.toggle("columns",this.toggleColumns.checked),this.toggle("gutters",this.toggleGutters.checked),this.toggleEdges.addEventListener("change",i=>this.toggle("edges",i.currentTarget.checked)),this.toggleColumns.addEventListener("change",i=>this.toggle("columns",i.currentTarget.checked)),this.toggleGutters.addEventListener("change",i=>this.toggle("gutters",i.currentTarget.checked))}build(){const e=Number(this.values["--grid-columns"]),n=Number(this.values["--grid-gutters"]);this.root.innerHTML="";for(let r=0;r<e;r++){const a=document.createElement("div");a.id=`site-grid-column-${r}`,a.className=`site-grid__column site-grid__column--${r}`,this.root.append(a)}for(let r=0;r<n;r++){const a=document.createElement("div"),o=document.querySelector(`#site-grid-column-${r+1}`);a.id=`site-grid-gutter-${r}`,a.className=`site-grid__gutter site-grid__gutter--${r}`,this.root.insertBefore(a,o)}const i=document.createElement("div"),s=document.createElement("div");i.id="site-grid-edge-0",i.className="site-grid__edge site-grid__edge--0",s.id="site-grid-edge-1",s.className="site-grid__edge site-grid__edge--1",this.root.append(s),this.root.prepend(i)}toggle(e,n){switch(e){case"edges":{this.root.classList.toggle("site-grid--no-edges",!n);break}case"columns":{this.root.classList.toggle("site-grid--no-columns",!n);break}case"gutters":{this.root.classList.toggle("site-grid--no-gutters",!n);break}}}observe(e,n){const i=()=>{const s={};for(const r of n)s[r]=getComputedStyle(e).getPropertyValue(r);Gie(s,this.values)||(this.values=s,this.build()),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(i,this.timeoutDuration)};i()}unobserve(){this.timeout&&clearTimeout(this.timeout),this.timeout=null}}const Yie={name:"SiteGrid",setup(){const t=De(null),e=De(null);return{grid:t,toolbar:e}},data(){return{showToolbar:!0}},mounted(){new Kie(this.grid,this.toolbar).observe(document.documentElement,["--grid-columns","--grid-gutters"])},methods:{handleToolbarToggle(){this.showToolbar=!this.showToolbar}}},Xie={class:"site-grid"},Qie={ref:"grid",class:"site-grid__layout"},Jie=eA('<div class="site-grid__toolbar-inner"><div class="site-grid__toolbar-item"><input id="toggle-columns" type="checkbox"><label for="toggle-columns">Show Columns</label></div><div class="site-grid__toolbar-item"><input id="toggle-gutters" type="checkbox"><label for="toggle-gutters">Show Gutters</label></div><div class="site-grid__toolbar-item"><input id="toggle-edges" type="checkbox"><label for="toggle-edges">Show Edges</label></div></div>',1),Zie=U("span",{class:"u-visually-hidden"},"Toggle Toolbar",-1),ese=[Zie];function tse(t,e,n,i,s,r){return fe(),Ee("section",Xie,[U("div",Qie,null,512),U("div",{ref:"toolbar",class:fn(["site-grid__toolbar",{"site-grid__toolbar--hidden":!s.showToolbar}])},[Jie,U("button",{type:"button",class:"site-grid__toolbar-toggle",onClick:e[0]||(e[0]=(...a)=>r.handleToolbarToggle&&r.handleToolbarToggle(...a))},ese)],2)])}var nse=rt(Yie,[["render",tse]]),cN={exports:{}};(function(t){(function(e){function n(m,_){this.options={},m=m||this.options;var y={frequency:350,peak:1};this.inputNode=this.filterNode=a.context.createBiquadFilter(),this.filterNode.type=_,this.outputNode=r.context.createGain(),this.filterNode.connect(this.outputNode);for(var T in y)this[T]=m[T],this[T]=this[T]===void 0||this[T]===null?y[T]:this[T]}function i(){var m,_,y=a.context.sampleRate*this.time,T=r.context.createBuffer(2,y,a.context.sampleRate),C=T.getChannelData(0),A=T.getChannelData(1);for(_=0;y>_;_++)m=this.reverse?y-_:_,C[_]=(2*Math.random()-1)*Math.pow(1-m/y,this.decay),A[_]=(2*Math.random()-1)*Math.pow(1-m/y,this.decay);this.reverbNode.buffer&&(this.inputNode.disconnect(this.reverbNode),this.reverbNode.disconnect(this.wetGainNode),this.reverbNode=r.context.createConvolver(),this.inputNode.connect(this.reverbNode),this.reverbNode.connect(this.wetGainNode)),this.reverbNode.buffer=T}function s(m){for(var _=a.context.sampleRate,y=new Float32Array(_),T=Math.PI/180,C=0;_>C;C++){var A=2*C/_-1;y[C]=(3+m)*A*20*T/(Math.PI+m*Math.abs(A))}return y}var r={},a=r,o=t.exports;o?t.exports=r:e.Pizzicato=e.Pz=r;var l=e.AudioContext||e.webkitAudioContext;if(!l)return void console.error("No AudioContext found in this environment. Please ensure your window or global object contains a working AudioContext constructor function.");r.context=new l;var c=r.context.createGain();c.connect(r.context.destination),r.Util={isString:function(m){return toString.call(m)==="[object String]"},isObject:function(m){return toString.call(m)==="[object Object]"},isFunction:function(m){return toString.call(m)==="[object Function]"},isNumber:function(m){return toString.call(m)==="[object Number]"&&m===+m},isArray:function(m){return toString.call(m)==="[object Array]"},isInRange:function(m,_,y){return a.Util.isNumber(m)&&a.Util.isNumber(_)&&a.Util.isNumber(y)?m>=_&&y>=m:!1},isBool:function(m){return typeof m=="boolean"},isOscillator:function(m){return m&&m.toString()==="[object OscillatorNode]"},isAudioBufferSourceNode:function(m){return m&&m.toString()==="[object AudioBufferSourceNode]"},isSound:function(m){return m instanceof a.Sound},isEffect:function(m){for(var _ in r.Effects)if(m instanceof r.Effects[_])return!0;return!1},normalize:function(m,_,y){return a.Util.isNumber(m)&&a.Util.isNumber(_)&&a.Util.isNumber(y)?(y-_)*m/1+_:void 0},getDryLevel:function(m){return!a.Util.isNumber(m)||m>1||0>m?0:.5>=m?1:1-2*(m-.5)},getWetLevel:function(m){return!a.Util.isNumber(m)||m>1||0>m?0:m>=.5?1:1-2*(.5-m)}};var h=r.context.createGain(),p=Object.getPrototypeOf(Object.getPrototypeOf(h)),d=p.connect;p.connect=function(m){var _=a.Util.isEffect(m)?m.inputNode:m;return d.call(this,_),m},Object.defineProperty(r,"volume",{enumerable:!0,get:function(){return c.gain.value},set:function(m){a.Util.isInRange(m,0,1)&&c&&(c.gain.value=m)}}),Object.defineProperty(r,"masterGainNode",{enumerable:!1,get:function(){return c},set:function(m){console.error("Can't set the master gain node")}}),r.Events={on:function(m,_,y){if(m&&_){this._events=this._events||{};var T=this._events[m]||(this._events[m]=[]);T.push({callback:_,context:y||this,handler:this})}},trigger:function(m){if(m){var _,y,T,C;if(this._events=this._events||{},_=this._events[m]||(this._events[m]=[])){for(y=Math.max(0,arguments.length-1),T=[],C=0;y>C;C++)T[C]=arguments[C+1];for(C=0;C<_.length;C++)_[C].callback.apply(_[C].context,T)}}},off:function(m){m?this._events[m]=void 0:this._events={}}},r.Sound=function(m,_){function y(O){var J=["wave","file","input","script","sound"];if(O&&!I.isFunction(O)&&!I.isString(O)&&!I.isObject(O))return"Description type not supported. Initialize a sound using an object, a function or a string.";if(I.isObject(O)){if(!I.isString(O.source)||J.indexOf(O.source)===-1)return"Specified source not supported. Sources can be wave, file, input or script";if(!(O.source!=="file"||O.options&&O.options.path))return"A path is needed for sounds with a file source";if(!(O.source!=="script"||O.options&&O.options.audioFunction))return"An audio function is needed for sounds with a script source"}}function T(O,J){O=O||{},this.getRawSourceNode=function(){var X=this.sourceNode?this.sourceNode.frequency.value:O.frequency,ae=r.context.createOscillator();return ae.type=O.type||"sine",ae.frequency.value=X||440,ae},this.sourceNode=this.getRawSourceNode(),this.sourceNode.gainSuccessor=a.context.createGain(),this.sourceNode.connect(this.sourceNode.gainSuccessor),I.isFunction(J)&&J()}function C(O,J){O=I.isArray(O)?O:[O];var X=new XMLHttpRequest;X.open("GET",O[0],!0),X.responseType="arraybuffer",X.onload=function(ae){r.context.decodeAudioData(ae.target.response,function(me){N.getRawSourceNode=function(){var Ae=r.context.createBufferSource();return Ae.loop=this.loop,Ae.buffer=me,Ae},I.isFunction(J)&&J()}.bind(N),function(me){return console.error("Error decoding audio file "+O[0]),O.length>1?(O.shift(),void C(O,J)):(me=me||new Error("Error decoding audio file "+O[0]),void(I.isFunction(J)&&J(me)))}.bind(N))},X.onreadystatechange=function(ae){X.readyState===4&&X.status!==200&&console.error("Error while fetching "+O[0]+". "+X.statusText)},X.send()}function A(O,J){if(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,!navigator.getUserMedia&&!navigator.mediaDevices.getUserMedia)return void console.error("Your browser does not support getUserMedia");var X=function(me){N.getRawSourceNode=function(){return r.context.createMediaStreamSource(me)},I.isFunction(J)&&J()}.bind(N),ae=function(me){I.isFunction(J)&&J(me)};navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(X).catch(ae):navigator.getUserMedia({audio:!0},X,ae)}function k(O,J){var X=I.isFunction(O)?O:O.audioFunction,ae=I.isObject(O)&&O.bufferSize?O.bufferSize:null;if(!ae)try{r.context.createScriptProcessor()}catch{ae=2048}this.getRawSourceNode=function(){var me=r.context.createScriptProcessor(ae,1,1);return me.onaudioprocess=X,me}}function P(O,J){this.getRawSourceNode=O.sound.getRawSourceNode,O.sound.sourceNode&&a.Util.isOscillator(O.sound.sourceNode)&&(this.sourceNode=this.getRawSourceNode(),this.frequency=O.sound.frequency)}var N=this,I=r.Util,j=y(m),V=I.isObject(m)&&I.isObject(m.options),D=.04,G=.04;if(j)throw console.error(j),new Error("Error initializing Pizzicato Sound: "+j);this.detached=V&&m.options.detached,this.masterVolume=r.context.createGain(),this.fadeNode=r.context.createGain(),this.fadeNode.gain.value=0,this.detached||this.masterVolume.connect(r.masterGainNode),this.lastTimePlayed=0,this.effects=[],this.effectConnectors=[],this.playing=this.paused=!1,this.loop=V&&m.options.loop,this.attack=V&&I.isNumber(m.options.attack)?m.options.attack:D,this.volume=V&&I.isNumber(m.options.volume)?m.options.volume:1,V&&I.isNumber(m.options.release)?this.release=m.options.release:V&&I.isNumber(m.options.sustain)?(console.warn("'sustain' is deprecated. Use 'release' instead."),this.release=m.options.sustain):this.release=G,m?I.isString(m)?C.bind(this)(m,_):I.isFunction(m)?k.bind(this)(m,_):m.source==="file"?C.bind(this)(m.options.path,_):m.source==="wave"?T.bind(this)(m.options,_):m.source==="input"?A.bind(this)(m,_):m.source==="script"?k.bind(this)(m.options,_):m.source==="sound"&&P.bind(this)(m.options,_):T.bind(this)({},_)},r.Sound.prototype=Object.create(r.Events,{play:{enumerable:!0,value:function(m,_){this.playing||(a.Util.isNumber(_)||(_=this.offsetTime||0),a.Util.isNumber(m)||(m=0),this.playing=!0,this.paused=!1,this.sourceNode=this.getSourceNode(),this.applyAttack(),a.Util.isFunction(this.sourceNode.start)&&(this.lastTimePlayed=r.context.currentTime-_,this.sourceNode.start(a.context.currentTime+m,_)),this.trigger("play"))}},stop:{enumerable:!0,value:function(){(this.paused||this.playing)&&(this.paused=this.playing=!1,this.stopWithRelease(),this.offsetTime=0,this.trigger("stop"))}},pause:{enumerable:!0,value:function(){if(!this.paused&&this.playing){this.paused=!0,this.playing=!1,this.stopWithRelease();var m=a.context.currentTime-this.lastTimePlayed;this.sourceNode.buffer?this.offsetTime=m%(this.sourceNode.buffer.length/a.context.sampleRate):this.offsetTime=m,this.trigger("pause")}}},clone:{enumerable:!0,value:function(){for(var m=new r.Sound({source:"sound",options:{loop:this.loop,attack:this.attack,release:this.release,volume:this.volume,sound:this}}),_=0;_<this.effects.length;_++)m.addEffect(this.effects[_]);return m}},onEnded:{enumerable:!0,value:function(m){return function(){this.sourceNode&&this.sourceNode!==m||(this.playing&&this.stop(),this.paused||this.trigger("end"))}}},addEffect:{enumerable:!0,value:function(m){if(!a.Util.isEffect(m))return console.error("The object provided is not a Pizzicato effect."),this;this.effects.push(m);var _=this.effectConnectors.length>0?this.effectConnectors[this.effectConnectors.length-1]:this.fadeNode;_.disconnect(),_.connect(m);var y=a.context.createGain();return this.effectConnectors.push(y),m.connect(y),y.connect(this.masterVolume),this}},removeEffect:{enumerable:!0,value:function(m){var _=this.effects.indexOf(m);if(_===-1)return console.warn("Cannot remove effect that is not applied to this sound."),this;var y=this.playing;y&&this.pause();var T=_===0?this.fadeNode:this.effectConnectors[_-1];T.disconnect();var C=this.effectConnectors[_];C.disconnect(),m.disconnect(C),this.effectConnectors.splice(_,1),this.effects.splice(_,1);var A;return A=_>this.effects.length-1||this.effects.length===0?this.masterVolume:this.effects[_],T.connect(A),y&&this.play(),this}},connect:{enumerable:!0,value:function(m){return this.masterVolume.connect(m),this}},disconnect:{enumerable:!0,value:function(m){return this.masterVolume.disconnect(m),this}},connectEffects:{enumerable:!0,value:function(){for(var m=[],_=0;_<this.effects.length;_++){var y=_===this.effects.length-1,T=y?this.masterVolume:this.effects[_+1].inputNode;m[_]=a.context.createGain(),this.effects[_].outputNode.disconnect(this.effectConnectors[_]),this.effects[_].outputNode.connect(T)}}},volume:{enumerable:!0,get:function(){return this.masterVolume?this.masterVolume.gain.value:void 0},set:function(m){a.Util.isInRange(m,0,1)&&this.masterVolume&&(this.masterVolume.gain.value=m)}},frequency:{enumerable:!0,get:function(){return this.sourceNode&&a.Util.isOscillator(this.sourceNode)?this.sourceNode.frequency.value:null},set:function(m){this.sourceNode&&a.Util.isOscillator(this.sourceNode)&&(this.sourceNode.frequency.value=m)}},sustain:{enumerable:!0,get:function(){return console.warn("'sustain' is deprecated. Use 'release' instead."),this.release},set:function(m){console.warn("'sustain' is deprecated. Use 'release' instead."),a.Util.isInRange(m,0,10)&&(this.release=m)}},getSourceNode:{enumerable:!0,value:function(){if(this.sourceNode){var m=this.sourceNode;m.gainSuccessor.gain.setValueAtTime(m.gainSuccessor.gain.value,a.context.currentTime),m.gainSuccessor.gain.linearRampToValueAtTime(1e-4,a.context.currentTime+.2),setTimeout(function(){m.disconnect(),m.gainSuccessor.disconnect()},200)}var _=this.getRawSourceNode();return _.gainSuccessor=a.context.createGain(),_.connect(_.gainSuccessor),_.gainSuccessor.connect(this.fadeNode),this.fadeNode.connect(this.getInputNode()),a.Util.isAudioBufferSourceNode(_)&&(_.onended=this.onEnded(_).bind(this)),_}},getInputNode:{enumerable:!0,value:function(){return this.effects.length>0?this.effects[0].inputNode:this.masterVolume}},applyAttack:{enumerable:!1,value:function(){if(this.fadeNode.gain.value,this.fadeNode.gain.cancelScheduledValues(a.context.currentTime),!this.attack)return void this.fadeNode.gain.setTargetAtTime(1,a.context.currentTime,.001);var m=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,_=this.attack;m||(_=(1-this.fadeNode.gain.value)*this.attack),this.fadeNode.gain.setTargetAtTime(1,a.context.currentTime,2*_)}},stopWithRelease:{enumerable:!1,value:function(m){var _=this.sourceNode,y=function(){return a.Util.isFunction(_.stop)?_.stop(0):_.disconnect()};if(this.fadeNode.gain.value,this.fadeNode.gain.cancelScheduledValues(a.context.currentTime),!this.release)return this.fadeNode.gain.setTargetAtTime(0,a.context.currentTime,.001),void y();var T=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,C=this.release;T||(C=this.fadeNode.gain.value*this.release),this.fadeNode.gain.setTargetAtTime(1e-5,a.context.currentTime,C/5),window.setTimeout(function(){y()},1e3*C)}}}),r.Group=function(m){m=m||[],this.mergeGainNode=a.context.createGain(),this.masterVolume=a.context.createGain(),this.sounds=[],this.effects=[],this.effectConnectors=[],this.mergeGainNode.connect(this.masterVolume),this.masterVolume.connect(a.masterGainNode);for(var _=0;_<m.length;_++)this.addSound(m[_])},r.Group.prototype=Object.create(a.Events,{connect:{enumerable:!0,value:function(m){return this.masterVolume.connect(m),this}},disconnect:{enumerable:!0,value:function(m){return this.masterVolume.disconnect(m),this}},addSound:{enumerable:!0,value:function(m){return a.Util.isSound(m)?this.sounds.indexOf(m)>-1?void console.warn("The Pizzicato.Sound object was already added to this group"):m.detached?void console.warn("Groups do not support detached sounds. You can manually create an audio graph to group detached sounds together."):(m.disconnect(a.masterGainNode),m.connect(this.mergeGainNode),void this.sounds.push(m)):void console.error("You can only add Pizzicato.Sound objects")}},removeSound:{enumerable:!0,value:function(m){var _=this.sounds.indexOf(m);return _===-1?void console.warn("Cannot remove a sound that is not part of this group."):(m.disconnect(this.mergeGainNode),m.connect(a.masterGainNode),void this.sounds.splice(_,1))}},volume:{enumerable:!0,get:function(){return this.masterVolume?this.masterVolume.gain.value:void 0},set:function(m){a.Util.isInRange(m,0,1)&&(this.masterVolume.gain.value=m)}},play:{enumerable:!0,value:function(){for(var m=0;m<this.sounds.length;m++)this.sounds[m].play();this.trigger("play")}},stop:{enumerable:!0,value:function(){for(var m=0;m<this.sounds.length;m++)this.sounds[m].stop();this.trigger("stop")}},pause:{enumerable:!0,value:function(){for(var m=0;m<this.sounds.length;m++)this.sounds[m].pause();this.trigger("pause")}},addEffect:{enumerable:!0,value:function(m){if(!a.Util.isEffect(m))return console.error("The object provided is not a Pizzicato effect."),this;this.effects.push(m);var _=this.effectConnectors.length>0?this.effectConnectors[this.effectConnectors.length-1]:this.mergeGainNode;_.disconnect(),_.connect(m);var y=a.context.createGain();return this.effectConnectors.push(y),m.connect(y),y.connect(this.masterVolume),this}},removeEffect:{enumerable:!0,value:function(m){var _=this.effects.indexOf(m);if(_===-1)return console.warn("Cannot remove effect that is not applied to this group."),this;var y=_===0?this.mergeGainNode:this.effectConnectors[_-1];y.disconnect();var T=this.effectConnectors[_];T.disconnect(),m.disconnect(T),this.effectConnectors.splice(_,1),this.effects.splice(_,1);var C;return C=_>this.effects.length-1||this.effects.length===0?this.masterVolume:this.effects[_],y.connect(C),this}}}),r.Effects={};var g=Object.create(null,{connect:{enumerable:!0,value:function(m){return this.outputNode.connect(m),this}},disconnect:{enumerable:!0,value:function(m){return this.outputNode.disconnect(m),this}}});r.Effects.Delay=function(m){this.options={},m=m||this.options;var _={feedback:.5,time:.3,mix:.5};this.inputNode=r.context.createGain(),this.outputNode=r.context.createGain(),this.dryGainNode=r.context.createGain(),this.wetGainNode=r.context.createGain(),this.feedbackGainNode=r.context.createGain(),this.delayNode=r.context.createDelay(),this.inputNode.connect(this.dryGainNode),this.dryGainNode.connect(this.outputNode),this.delayNode.connect(this.feedbackGainNode),this.feedbackGainNode.connect(this.delayNode),this.inputNode.connect(this.delayNode),this.delayNode.connect(this.wetGainNode),this.wetGainNode.connect(this.outputNode);for(var y in _)this[y]=m[y],this[y]=this[y]===void 0||this[y]===null?_[y]:this[y]},r.Effects.Delay.prototype=Object.create(g,{mix:{enumerable:!0,get:function(){return this.options.mix},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.mix=m,this.dryGainNode.gain.value=r.Util.getDryLevel(this.mix),this.wetGainNode.gain.value=r.Util.getWetLevel(this.mix))}},time:{enumerable:!0,get:function(){return this.options.time},set:function(m){a.Util.isInRange(m,0,180)&&(this.options.time=m,this.delayNode.delayTime.value=m)}},feedback:{enumerable:!0,get:function(){return this.options.feedback},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.feedback=parseFloat(m,10),this.feedbackGainNode.gain.value=this.feedback)}}}),r.Effects.Compressor=function(m){this.options={},m=m||this.options;var _={threshold:-24,knee:30,attack:.003,release:.25,ratio:12};this.inputNode=this.compressorNode=r.context.createDynamicsCompressor(),this.outputNode=r.context.createGain(),this.compressorNode.connect(this.outputNode);for(var y in _)this[y]=m[y],this[y]=this[y]===void 0||this[y]===null?_[y]:this[y]},r.Effects.Compressor.prototype=Object.create(g,{threshold:{enumerable:!0,get:function(){return this.compressorNode.threshold.value},set:function(m){r.Util.isInRange(m,-100,0)&&(this.compressorNode.threshold.value=m)}},knee:{enumerable:!0,get:function(){return this.compressorNode.knee.value},set:function(m){r.Util.isInRange(m,0,40)&&(this.compressorNode.knee.value=m)}},attack:{enumerable:!0,get:function(){return this.compressorNode.attack.value},set:function(m){r.Util.isInRange(m,0,1)&&(this.compressorNode.attack.value=m)}},release:{enumerable:!0,get:function(){return this.compressorNode.release.value},set:function(m){r.Util.isInRange(m,0,1)&&(this.compressorNode.release.value=m)}},ratio:{enumerable:!0,get:function(){return this.compressorNode.ratio.value},set:function(m){r.Util.isInRange(m,1,20)&&(this.compressorNode.ratio.value=m)}},getCurrentGainReduction:function(){return this.compressorNode.reduction}}),r.Effects.LowPassFilter=function(m){n.call(this,m,"lowpass")},r.Effects.HighPassFilter=function(m){n.call(this,m,"highpass")};var x=Object.create(g,{frequency:{enumerable:!0,get:function(){return this.filterNode.frequency.value},set:function(m){r.Util.isInRange(m,10,22050)&&(this.filterNode.frequency.value=m)}},peak:{enumerable:!0,get:function(){return this.filterNode.Q.value},set:function(m){r.Util.isInRange(m,1e-4,1e3)&&(this.filterNode.Q.value=m)}}});r.Effects.LowPassFilter.prototype=x,r.Effects.HighPassFilter.prototype=x,r.Effects.Distortion=function(m){this.options={},m=m||this.options;var _={gain:.5};this.waveShaperNode=r.context.createWaveShaper(),this.inputNode=this.outputNode=this.waveShaperNode;for(var y in _)this[y]=m[y],this[y]=this[y]===void 0||this[y]===null?_[y]:this[y]},r.Effects.Distortion.prototype=Object.create(g,{gain:{enumerable:!0,get:function(){return this.options.gain},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.gain=m,this.adjustGain())}},adjustGain:{writable:!1,configurable:!1,enumerable:!1,value:function(){for(var m,_=a.Util.isNumber(this.options.gain)?parseInt(100*this.options.gain,10):50,y=44100,T=new Float32Array(y),C=Math.PI/180,A=0;y>A;++A)m=2*A/y-1,T[A]=(3+_)*m*20*C/(Math.PI+_*Math.abs(m));this.waveShaperNode.curve=T}}}),r.Effects.Flanger=function(m){this.options={},m=m||this.options;var _={time:.45,speed:.2,depth:.1,feedback:.1,mix:.5};this.inputNode=r.context.createGain(),this.outputNode=r.context.createGain(),this.inputFeedbackNode=r.context.createGain(),this.wetGainNode=r.context.createGain(),this.dryGainNode=r.context.createGain(),this.delayNode=r.context.createDelay(),this.oscillatorNode=r.context.createOscillator(),this.gainNode=r.context.createGain(),this.feedbackNode=r.context.createGain(),this.oscillatorNode.type="sine",this.inputNode.connect(this.inputFeedbackNode),this.inputNode.connect(this.dryGainNode),this.inputFeedbackNode.connect(this.delayNode),this.inputFeedbackNode.connect(this.wetGainNode),this.delayNode.connect(this.wetGainNode),this.delayNode.connect(this.feedbackNode),this.feedbackNode.connect(this.inputFeedbackNode),this.oscillatorNode.connect(this.gainNode),this.gainNode.connect(this.delayNode.delayTime),this.dryGainNode.connect(this.outputNode),this.wetGainNode.connect(this.outputNode),this.oscillatorNode.start(0);for(var y in _)this[y]=m[y],this[y]=this[y]===void 0||this[y]===null?_[y]:this[y]},r.Effects.Flanger.prototype=Object.create(g,{time:{enumberable:!0,get:function(){return this.options.time},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.time=m,this.delayNode.delayTime.value=a.Util.normalize(m,.001,.02))}},speed:{enumberable:!0,get:function(){return this.options.speed},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.speed=m,this.oscillatorNode.frequency.value=a.Util.normalize(m,.5,5))}},depth:{enumberable:!0,get:function(){return this.options.depth},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.depth=m,this.gainNode.gain.value=a.Util.normalize(m,5e-4,.005))}},feedback:{enumberable:!0,get:function(){return this.options.feedback},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.feedback=m,this.feedbackNode.gain.value=a.Util.normalize(m,0,.8))}},mix:{enumberable:!0,get:function(){return this.options.mix},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.mix=m,this.dryGainNode.gain.value=r.Util.getDryLevel(this.mix),this.wetGainNode.gain.value=r.Util.getWetLevel(this.mix))}}}),r.Effects.StereoPanner=function(m){this.options={},m=m||this.options;var _={pan:0};this.inputNode=r.context.createGain(),this.outputNode=r.context.createGain(),r.context.createStereoPanner?(this.pannerNode=r.context.createStereoPanner(),this.inputNode.connect(this.pannerNode),this.pannerNode.connect(this.outputNode)):r.context.createPanner?(console.warn("Your browser does not support the StereoPannerNode. Will use PannerNode instead."),this.pannerNode=r.context.createPanner(),this.pannerNode.type="equalpower",this.inputNode.connect(this.pannerNode),this.pannerNode.connect(this.outputNode)):(console.warn("Your browser does not support the Panner effect."),this.inputNode.connect(this.outputNode));for(var y in _)this[y]=m[y],this[y]=this[y]===void 0||this[y]===null?_[y]:this[y]},r.Effects.StereoPanner.prototype=Object.create(g,{pan:{enumerable:!0,get:function(){return this.options.pan},set:function(m){if(a.Util.isInRange(m,-1,1)&&(this.options.pan=m,this.pannerNode)){var _=this.pannerNode.toString().indexOf("StereoPannerNode")>-1;_?this.pannerNode.pan.value=m:this.pannerNode.setPosition(m,0,1-Math.abs(m))}}}}),r.Effects.Convolver=function(m,_){this.options={},m=m||this.options;var y=this,T=new XMLHttpRequest,C={mix:.5};this.callback=_,this.inputNode=r.context.createGain(),this.convolverNode=r.context.createConvolver(),this.outputNode=r.context.createGain(),this.wetGainNode=r.context.createGain(),this.dryGainNode=r.context.createGain(),this.inputNode.connect(this.convolverNode),this.convolverNode.connect(this.wetGainNode),this.inputNode.connect(this.dryGainNode),this.dryGainNode.connect(this.outputNode),this.wetGainNode.connect(this.outputNode);for(var A in C)this[A]=m[A],this[A]=this[A]===void 0||this[A]===null?C[A]:this[A];return m.impulse?(T.open("GET",m.impulse,!0),T.responseType="arraybuffer",T.onload=function(k){var P=k.target.response;r.context.decodeAudioData(P,function(N){y.convolverNode.buffer=N,y.callback&&a.Util.isFunction(y.callback)&&y.callback()},function(N){N=N||new Error("Error decoding impulse file"),y.callback&&a.Util.isFunction(y.callback)&&y.callback(N)})},T.onreadystatechange=function(k){T.readyState===4&&T.status!==200&&console.error("Error while fetching "+m.impulse+". "+T.statusText)},void T.send()):void console.error("No impulse file specified.")},r.Effects.Convolver.prototype=Object.create(g,{mix:{enumerable:!0,get:function(){return this.options.mix},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.mix=m,this.dryGainNode.gain.value=r.Util.getDryLevel(this.mix),this.wetGainNode.gain.value=r.Util.getWetLevel(this.mix))}}}),r.Effects.PingPongDelay=function(m){this.options={},m=m||this.options;var _={feedback:.5,time:.3,mix:.5};this.inputNode=r.context.createGain(),this.outputNode=r.context.createGain(),this.delayNodeLeft=r.context.createDelay(),this.delayNodeRight=r.context.createDelay(),this.dryGainNode=r.context.createGain(),this.wetGainNode=r.context.createGain(),this.feedbackGainNode=r.context.createGain(),this.channelMerger=r.context.createChannelMerger(2),this.inputNode.connect(this.dryGainNode),this.dryGainNode.connect(this.outputNode),this.delayNodeLeft.connect(this.channelMerger,0,0),this.delayNodeRight.connect(this.channelMerger,0,1),this.delayNodeLeft.connect(this.delayNodeRight),this.feedbackGainNode.connect(this.delayNodeLeft),this.delayNodeRight.connect(this.feedbackGainNode),this.inputNode.connect(this.feedbackGainNode),this.channelMerger.connect(this.wetGainNode),this.wetGainNode.connect(this.outputNode);for(var y in _)this[y]=m[y],this[y]=this[y]===void 0||this[y]===null?_[y]:this[y]},r.Effects.PingPongDelay.prototype=Object.create(g,{mix:{enumerable:!0,get:function(){return this.options.mix},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.mix=m,this.dryGainNode.gain.value=r.Util.getDryLevel(this.mix),this.wetGainNode.gain.value=r.Util.getWetLevel(this.mix))}},time:{enumerable:!0,get:function(){return this.options.time},set:function(m){a.Util.isInRange(m,0,180)&&(this.options.time=m,this.delayNodeLeft.delayTime.value=m,this.delayNodeRight.delayTime.value=m)}},feedback:{enumerable:!0,get:function(){return this.options.feedback},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.feedback=parseFloat(m,10),this.feedbackGainNode.gain.value=this.feedback)}}}),r.Effects.Reverb=function(m){this.options={},m=m||this.options;var _={mix:.5,time:.01,decay:.01,reverse:!1};this.inputNode=r.context.createGain(),this.reverbNode=r.context.createConvolver(),this.outputNode=r.context.createGain(),this.wetGainNode=r.context.createGain(),this.dryGainNode=r.context.createGain(),this.inputNode.connect(this.reverbNode),this.reverbNode.connect(this.wetGainNode),this.inputNode.connect(this.dryGainNode),this.dryGainNode.connect(this.outputNode),this.wetGainNode.connect(this.outputNode);for(var y in _)this[y]=m[y],this[y]=this[y]===void 0||this[y]===null?_[y]:this[y];i.bind(this)()},r.Effects.Reverb.prototype=Object.create(g,{mix:{enumerable:!0,get:function(){return this.options.mix},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.mix=m,this.dryGainNode.gain.value=r.Util.getDryLevel(this.mix),this.wetGainNode.gain.value=r.Util.getWetLevel(this.mix))}},time:{enumerable:!0,get:function(){return this.options.time},set:function(m){a.Util.isInRange(m,1e-4,10)&&(this.options.time=m,i.bind(this)())}},decay:{enumerable:!0,get:function(){return this.options.decay},set:function(m){a.Util.isInRange(m,1e-4,10)&&(this.options.decay=m,i.bind(this)())}},reverse:{enumerable:!0,get:function(){return this.options.reverse},set:function(m){a.Util.isBool(m)&&(this.options.reverse=m,i.bind(this)())}}}),r.Effects.Tremolo=function(m){this.options={},m=m||this.options;var _={speed:4,depth:1,mix:.8};this.inputNode=r.context.createGain(),this.outputNode=r.context.createGain(),this.dryGainNode=r.context.createGain(),this.wetGainNode=r.context.createGain(),this.tremoloGainNode=r.context.createGain(),this.tremoloGainNode.gain.value=0,this.lfoNode=r.context.createOscillator(),this.shaperNode=r.context.createWaveShaper(),this.shaperNode.curve=new Float32Array([0,1]),this.shaperNode.connect(this.tremoloGainNode.gain),this.inputNode.connect(this.dryGainNode),this.dryGainNode.connect(this.outputNode),this.lfoNode.connect(this.shaperNode),this.lfoNode.type="sine",this.lfoNode.start(0),this.inputNode.connect(this.tremoloGainNode),this.tremoloGainNode.connect(this.wetGainNode),this.wetGainNode.connect(this.outputNode);for(var y in _)this[y]=m[y],this[y]=this[y]===void 0||this[y]===null?_[y]:this[y]},r.Effects.Tremolo.prototype=Object.create(g,{mix:{enumerable:!0,get:function(){return this.options.mix},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.mix=m,this.dryGainNode.gain.value=r.Util.getDryLevel(this.mix),this.wetGainNode.gain.value=r.Util.getWetLevel(this.mix))}},speed:{enumerable:!0,get:function(){return this.options.speed},set:function(m){a.Util.isInRange(m,0,20)&&(this.options.speed=m,this.lfoNode.frequency.value=m)}},depth:{enumerable:!0,get:function(){return this.options.depth},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.depth=m,this.shaperNode.curve=new Float32Array([1-m,1]))}}}),r.Effects.DubDelay=function(m){this.options={},m=m||this.options;var _={feedback:.6,time:.7,mix:.5,cutoff:700};this.inputNode=r.context.createGain(),this.outputNode=r.context.createGain(),this.dryGainNode=r.context.createGain(),this.wetGainNode=r.context.createGain(),this.feedbackGainNode=r.context.createGain(),this.delayNode=r.context.createDelay(),this.bqFilterNode=r.context.createBiquadFilter(),this.inputNode.connect(this.dryGainNode),this.dryGainNode.connect(this.outputNode),this.inputNode.connect(this.wetGainNode),this.inputNode.connect(this.feedbackGainNode),this.feedbackGainNode.connect(this.bqFilterNode),this.bqFilterNode.connect(this.delayNode),this.delayNode.connect(this.feedbackGainNode),this.delayNode.connect(this.wetGainNode),this.wetGainNode.connect(this.outputNode);for(var y in _)this[y]=m[y],this[y]=this[y]===void 0||this[y]===null?_[y]:this[y]},r.Effects.DubDelay.prototype=Object.create(g,{mix:{enumerable:!0,get:function(){return this.options.mix},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.mix=m,this.dryGainNode.gain.value=r.Util.getDryLevel(this.mix),this.wetGainNode.gain.value=r.Util.getWetLevel(this.mix))}},time:{enumerable:!0,get:function(){return this.options.time},set:function(m){a.Util.isInRange(m,0,180)&&(this.options.time=m,this.delayNode.delayTime.value=m)}},feedback:{enumerable:!0,get:function(){return this.options.feedback},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.feedback=parseFloat(m,10),this.feedbackGainNode.gain.value=this.feedback)}},cutoff:{enumerable:!0,get:function(){return this.options.cutoff},set:function(m){a.Util.isInRange(m,0,4e3)&&(this.options.cutoff=m,this.bqFilterNode.frequency.value=this.cutoff)}}}),r.Effects.RingModulator=function(m){this.options={},m=m||this.options;var _={speed:30,distortion:1,mix:.5};this.inputNode=r.context.createGain(),this.outputNode=r.context.createGain(),this.dryGainNode=r.context.createGain(),this.wetGainNode=r.context.createGain(),this.vIn=r.context.createOscillator(),this.vIn.start(0),this.vInGain=r.context.createGain(),this.vInGain.gain.value=.5,this.vInInverter1=r.context.createGain(),this.vInInverter1.gain.value=-1,this.vInInverter2=r.context.createGain(),this.vInInverter2.gain.value=-1,this.vInDiode1=new S(r.context),this.vInDiode2=new S(r.context),this.vInInverter3=r.context.createGain(),this.vInInverter3.gain.value=-1,this.vcInverter1=r.context.createGain(),this.vcInverter1.gain.value=-1,this.vcDiode3=new S(r.context),this.vcDiode4=new S(r.context),this.outGain=r.context.createGain(),this.outGain.gain.value=3,this.compressor=r.context.createDynamicsCompressor(),this.compressor.threshold.value=-24,this.compressor.ratio.value=16,this.inputNode.connect(this.dryGainNode),this.dryGainNode.connect(this.outputNode),this.inputNode.connect(this.vcInverter1),this.inputNode.connect(this.vcDiode4.node),this.vcInverter1.connect(this.vcDiode3.node),this.vIn.connect(this.vInGain),this.vInGain.connect(this.vInInverter1),this.vInGain.connect(this.vcInverter1),this.vInGain.connect(this.vcDiode4.node),this.vInInverter1.connect(this.vInInverter2),this.vInInverter1.connect(this.vInDiode2.node),this.vInInverter2.connect(this.vInDiode1.node),this.vInDiode1.connect(this.vInInverter3),this.vInDiode2.connect(this.vInInverter3),this.vInInverter3.connect(this.compressor),this.vcDiode3.connect(this.compressor),this.vcDiode4.connect(this.compressor),this.compressor.connect(this.outGain),this.outGain.connect(this.wetGainNode),this.wetGainNode.connect(this.outputNode);for(var y in _)this[y]=m[y],this[y]=this[y]===void 0||this[y]===null?_[y]:this[y]};var S=function(m){this.context=m,this.node=this.context.createWaveShaper(),this.vb=.2,this.vl=.4,this.h=1,this.setCurve()};return S.prototype.setDistortion=function(m){return this.h=m,this.setCurve()},S.prototype.setCurve=function(){var m,_,y,T,C,A,k;for(_=1024,C=new Float32Array(_),m=A=0,k=C.length;k>=0?k>A:A>k;m=k>=0?++A:--A)y=(m-_/2)/(_/2),y=Math.abs(y),T=y<=this.vb?0:this.vb<y&&y<=this.vl?this.h*(Math.pow(y-this.vb,2)/(2*this.vl-2*this.vb)):this.h*y-this.h*this.vl+this.h*(Math.pow(this.vl-this.vb,2)/(2*this.vl-2*this.vb)),C[m]=T;return this.node.curve=C},S.prototype.connect=function(m){return this.node.connect(m)},r.Effects.RingModulator.prototype=Object.create(g,{mix:{enumerable:!0,get:function(){return this.options.mix},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.mix=m,this.dryGainNode.gain.value=r.Util.getDryLevel(this.mix),this.wetGainNode.gain.value=r.Util.getWetLevel(this.mix))}},speed:{enumerable:!0,get:function(){return this.options.speed},set:function(m){a.Util.isInRange(m,0,2e3)&&(this.options.speed=m,this.vIn.frequency.value=m)}},distortion:{enumerable:!0,get:function(){return this.options.distortion},set:function(m){if(a.Util.isInRange(m,.2,50)){this.options.distortion=parseFloat(m,10);for(var _=[this.vInDiode1,this.vInDiode2,this.vcDiode3,this.vcDiode4],y=0,T=_.length;T>y;y++)_[y].setDistortion(m)}}}}),r.Effects.Quadrafuzz=function(m){this.options={},m=m||this.options;var _={lowGain:.6,midLowGain:.8,midHighGain:.5,highGain:.6};this.inputNode=a.context.createGain(),this.outputNode=a.context.createGain(),this.dryGainNode=a.context.createGain(),this.wetGainNode=a.context.createGain(),this.lowpassLeft=a.context.createBiquadFilter(),this.lowpassLeft.type="lowpass",this.lowpassLeft.frequency.value=147,this.lowpassLeft.Q.value=.7071,this.bandpass1Left=a.context.createBiquadFilter(),this.bandpass1Left.type="bandpass",this.bandpass1Left.frequency.value=587,this.bandpass1Left.Q.value=.7071,this.bandpass2Left=a.context.createBiquadFilter(),this.bandpass2Left.type="bandpass",this.bandpass2Left.frequency.value=2490,this.bandpass2Left.Q.value=.7071,this.highpassLeft=a.context.createBiquadFilter(),this.highpassLeft.type="highpass",this.highpassLeft.frequency.value=4980,this.highpassLeft.Q.value=.7071,this.overdrives=[];for(var y=0;4>y;y++)this.overdrives[y]=a.context.createWaveShaper(),this.overdrives[y].curve=s();this.inputNode.connect(this.wetGainNode),this.inputNode.connect(this.dryGainNode),this.dryGainNode.connect(this.outputNode);var T=[this.lowpassLeft,this.bandpass1Left,this.bandpass2Left,this.highpassLeft];for(y=0;y<T.length;y++)this.wetGainNode.connect(T[y]),T[y].connect(this.overdrives[y]),this.overdrives[y].connect(this.outputNode);for(var C in _)this[C]=m[C],this[C]=this[C]===void 0||this[C]===null?_[C]:this[C]},r.Effects.Quadrafuzz.prototype=Object.create(g,{lowGain:{enumerable:!0,get:function(){return this.options.lowGain},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.lowGain=m,this.overdrives[0].curve=s(a.Util.normalize(this.lowGain,0,150)))}},midLowGain:{enumerable:!0,get:function(){return this.options.midLowGain},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.midLowGain=m,this.overdrives[1].curve=s(a.Util.normalize(this.midLowGain,0,150)))}},midHighGain:{enumerable:!0,get:function(){return this.options.midHighGain},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.midHighGain=m,this.overdrives[2].curve=s(a.Util.normalize(this.midHighGain,0,150)))}},highGain:{enumerable:!0,get:function(){return this.options.highGain},set:function(m){a.Util.isInRange(m,0,1)&&(this.options.highGain=m,this.overdrives[3].curve=s(a.Util.normalize(this.highGain,0,150)))}}}),r})(typeof window!="undefined"?window:Bn)})(cN);var u2=cN.exports;class zh{constructor(){return zh.instance||(this.sounds={},this.options=null,this.lowPass=new u2.Effects.LowPassFilter({peak:5,frequency:200}),zh.instance=this),zh.instance}async load(e,n,i){this.options||(this.options=(await ti(()=>import("./sounds.options.be0000c2.js"),[])).default);const s=this.options[e];if(!s)throw new Error(`Undefined options in \`src/manifests/sounds.options.js\` for: ${e}`);const r=new u2.Sound({source:"file",options:xa({path:n},s)},i);this.sounds[s.id]=r,this.sounds[s.id].options=s}play(e,n={}){if(this.sounds[e]){const s=this.sounds[e].getRawSourceNode().buffer.duration,r=(n.when||0)%s,a=(n.offset||0)%s;this.sounds[e].attack=n.attack||.5,this.sounds[e].release=n.release||.5,this.sounds[e].play(r,a)}}stop(e,n={}){this.sounds[e]&&(this.sounds[e].attack=n.attack||.5,this.sounds[e].release=n.release||.5,this.sounds[e].stop())}pause(e,n={}){this.sounds[e]&&(this.sounds[e].attack=n.attack||.5,this.sounds[e].release=n.release||.5,this.sounds[e].pause())}resume(e,n={}){this.sounds[e]&&(this.sounds[e].attack=n.attack||.5,this.sounds[e].release=n.release||.5,this.sounds[e].play())}mute(e){this.sounds[e]&&(this.sounds[e].attack=0,this.sounds[e].release=0,this.sounds[e].volume=0)}unmute(e){this.sounds[e]&&(this.sounds[e].attack=0,this.sounds[e].release=0,this.sounds[e].volume=this.sounds[e].options.volume)}fade(e,n,i){if(this.sounds[e]){const s=this.sounds[e].options.volume;i.volume=Math.min(s,i.volume),n.volume=Math.min(s,n.volume),Jt.fromTo(this.sounds[e],n,i)}}lower(e,n,i={}){if(this.sounds[e]){const s=this.sounds[e].effects.includes(this.lowPass);if(n){s||(this.lowPass.peak=i.peak||5,this.lowPass.frequency=i.frequency||200,this.sounds[e].addEffect(this.lowPass));return}s&&this.sounds[e].removeEffect(this.lowPass)}}}const lr=new zh;var ise=Object.freeze(Object.defineProperty({__proto__:null,default:lr},Symbol.toStringTag,{value:"Module"}));const sse={name:"SiteHape",setup(){const t=De(null),e=mu(),n=Er(),i=Cl(),s=as();return{walk:e,theme:n,loader:i,canvas:t,maestro:s}},data(){return{scroll:0}},watch:{$route:"onceRouteMutate","walk.enable":"onceWalkEnableMutate","theme.pressed":"onceThemePressedMutate","loader.loaded":"onceLoaderLoadedMutate","loader.loading":"onceLoaderLoadingMutate","maestro.showWebGL":"onceWebGLVisibilityMutate"},methods:{init(){this.Manager=mi.init(this.canvas),this.scene=mi.getScene("main"),this.scene.on("error",()=>{this.loader.$patch(t=>{t.status="error"})}),this.scene.on("konami",()=>{lr.mute("ambient"),lr.play("konami"),document.body.classList.add("no-scroll")}),this.scene.on("progress",t=>{this.loader.$patch(e=>{e.progressModels=Math.min(t*.01,.95)})}),this.scene.on("loaded",()=>{this.loader.$patch(t=>{t.progressModels=1})}),this.scene.on("transition-cancel",t=>{this.theme.$patch(e=>{e.value=t.colorIn})}),this.scene.on("transition-progress",t=>{this.theme.$patch(e=>{e.running=t.progress>0&&t.progress<1,e.sleep=!e.running})}),this.scene.on("transition-complete",t=>{this.theme.$patch(e=>{e.value=t.colorIn}),nV(t.colorIn)}),this.scene.on("hape-walk-enter",()=>{this.walk.$patch(t=>{t.running=!0})}),this.scene.on("hape-walk-leave",()=>{this.walk.$patch(t=>{t.running=!1})})},play(){li.subscribe("canvas",this.Manager.render.bind(this.Manager),60),li.subscribe("update",this.handleUpdate.bind(this),60),window.addEventListener("resize",this.handleResize)},pause(){li.unsubscribe("canvas"),li.unsubscribe("update"),window.removeEventListener("resize",this.handleResize)},handleResize(){this.pageHeight=window.innerHeight,this.scrollHeight=this.$root.$el.offsetHeight},handleUpdate(){this.scroll=window.pageYOffset/(this.scrollHeight-this.pageHeight),this.scene&&(this.walk.enable||this.scene.setProgress(this.scroll))},onceRouteMutate(){Jt.delayedCall(.1,()=>{this.handleResize()})},onceWalkEnableMutate(){this.scene&&(this.walk.enable?this.scene.enterHapeWalk():this.scene.exitHapeWalk())},onceThemePressedMutate(){this.scene&&(this.theme.pressed?this.scene.onPressed():this.scene.onReleased())},onceLoaderLoadedMutate(){this.loader.loaded&&(this.play(),mi.activate("main").then(()=>{this.loader.progress=1,this.maestro.showWebGL||this.pause(),this.scene.setColor(this.theme.value)}))},onceLoaderLoadingMutate(){this.loader.loading&&mi.loadScene("main")},onceWebGLVisibilityMutate(){if(this.scene){this.loader.completed&&(this.maestro.showWebGL?this.play():this.pause());return}this.maestro.showWebGL&&this.init()}}};function rse(t,e,n,i,s,r){return fe(),Ee("section",{ref:"canvas",class:fn(["site-hape",{"site-hape--hidden":!i.maestro.showWebGL}])},null,2)}var ase=rt(sse,[["render",rse]]);const mf=.97,h2=29,ose={red:"black",white:"white",black:"gold"},lse={name:"SiteLoader",components:{Logo:Sv},setup(){const{onWideScreen:t,onMobileScreen:e}=Xn(),n=rs(),i=Er(),s=Cl(),r=as();return{sound:n,theme:i,loader:s,maestro:r,onWideScreen:t,onMobileScreen:e}},data(){return{animate:!1}},computed:{logo:function(){return{color:ose[this.theme.value],width:this.onWideScreen?289:225,height:this.onWideScreen?45:35,always:!0,animate:this.animate}},visible:function(){return this.maestro.showLoader&&!this.loader.completed},percent:function(){return Math.ceil(this.loader.progress*100)},progress:function(){return(h2-this.loader.progress*h2)*2*Math.PI},showError:function(){return this.loader.status==="error"},showProgress:function(){return this.loader.status!=="error"}},watch:{"$route.meta.sound":"onceSoundStatusMutate","loader.status":"onceLoaderStatusMutate","loader.loading":"onceLoaderLoadingMutate","loader.progress":"onceLoaderProgressMutate","loader.progressFiles":"onceLoaderFilesModelsProgressMutate","loader.progressModels":"onceLoaderFilesModelsProgressMutate"},methods:{handleEnter(){Jt.delayedCall(.1,()=>{this.animate=!0})},handleLeave(){this.sound.lower=!this.$route.meta.webgl,document.body.classList.remove("no-scroll"),Jt.delayedCall(.75,()=>{this.loader.hidden=!0})},handleAfterEnter(){this.loader.loading=!0,this.loader.progress=0,document.body.classList.add("no-scroll")},async onceSoundStatusMutate(){if(this.$route.meta.sound&&this.sound.loaded===!1){const t=(await ti(()=>import("./sounds.836eb25d.js"),[])).default;await this.loader.files.load(t,e=>{this.loader.progressSounds=e,e>=1&&(this.sound.loaded=!0)})}},async onceLoaderLoadingMutate(){if(this.loader.loading){const t=(await ti(()=>import("./assets.4f0dc6f4.js"),[])).default;await this.loader.files.load(t,e=>{this.loader.progressFiles=e})}},onceLoaderStatusMutate(){document.body.classList.toggle("error",this.loader.status==="error")},onceLoaderProgressMutate(){switch(!0){case this.loader.progress>=1:{this.loader.completed||(this.loader.progress=1,this.loader.completed=!0,this.loader.status==="ok"&&Jt.delayedCall(.1,()=>{this.maestro.showLoader=!1}));break}case this.loader.progress>=mf:{this.loader.loaded||(this.loader.loaded=!0,this.loader.loading=!1,this.loader.progress=mf);break}default:this.loader.loading||(this.loader.loaded=!1,this.loader.loading=!0,this.loader.completed=!1)}},onceLoaderFilesModelsProgressMutate(){const t=this.loader.progressFiles*.25,e=this.loader.progressModels*.75;this.loader.progress=Math.min(mf,(t+e)*mf)}}},cse={class:"site-loader"},use={class:"site-loader__inner"},hse={class:"site-loader__logo"},pse={class:"site-loader__error"},dse={class:"site-loader__text"},fse=U("br",null,null,-1),mse={class:"site-loader__content"},vse={class:"site-loader__progress"},gse={viewBox:"0 0 62 62",width:"100%",height:"100%"},bse=U("circle",{r:"29",cx:"50%",cy:"50%",class:"site-loader__progress-bar"},null,-1),_se={class:"site-loader__progress-value"},xse={class:"site-loader__text"};function yse(t,e,n,i,s,r){const a=Pe("Logo"),o=Pe("i18n-t");return fe(),wt(ho,{name:"loader",duration:{enter:1e3,leave:1100},onEnter:r.handleEnter,onLeave:r.handleLeave,onAfterEnter:r.handleAfterEnter},{default:Me(()=>[Ie(U("section",cse,[U("div",use,[U("div",hse,[le(a,Rp(pu(r.logo)),null,16)]),Ie(U("div",pse,[U("p",dse,[le(o,{keypath:"loader.error",scope:"global"},{br:Me(()=>[fse]),_:1})])],512),[[je,r.showError]]),Ie(U("div",mse,[U("div",vse,[(fe(),Ee("svg",gse,[bse,U("circle",{r:"29",cx:"50%",cy:"50%",class:"site-loader__progress-bar",style:ai({"stroke-dashoffset":r.progress})},null,4)])),U("p",_se,Ve(t.$t("loader.progress",{value:r.percent})),1)]),U("p",xse,[U("span",null,Ve(t.$t("loader.text1")),1),U("span",null,Ve(t.$t("loader.text2")),1),U("span",null,Ve(t.$t("loader.text3")),1),U("span",null,Ve(t.$t("loader.text4")),1),U("span",null,Ve(t.$t("loader.text5")),1)])],512),[[je,r.showProgress]])])],512),[[je,r.visible]])]),_:1},8,["onEnter","onLeave","onAfterEnter"])}var wse=rt(lse,[["render",yse]]),dt=function(t){try{return!!t()}catch{return!0}},$t=!dt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),p2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function td(t,e,n){return t(n={path:e,exports:{},require:function(i,s){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(s==null&&n.path)}},n.exports),n.exports}var vf=function(t){return t&&t.Math==Math&&t},Tt=vf(typeof globalThis=="object"&&globalThis)||vf(typeof window=="object"&&window)||vf(typeof self=="object"&&self)||vf(typeof p2=="object"&&p2)||Function("return this")(),kt=function(t){return typeof t=="object"?t!==null:typeof t=="function"},Lx=Tt.document,Sse=kt(Lx)&&kt(Lx.createElement),uN=function(t){return Sse?Lx.createElement(t):{}},hN=!$t&&!dt(function(){return Object.defineProperty(uN("div"),"a",{get:function(){return 7}}).a!=7}),en=function(t){if(!kt(t))throw TypeError(String(t)+" is not an object");return t},Al=function(t,e){if(!kt(t))return t;var n,i;if(e&&typeof(n=t.toString)=="function"&&!kt(i=n.call(t))||typeof(n=t.valueOf)=="function"&&!kt(i=n.call(t))||!e&&typeof(n=t.toString)=="function"&&!kt(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},d2=Object.defineProperty,xi={f:$t?d2:function(t,e,n){if(en(t),e=Al(e,!0),en(n),hN)try{return d2(t,e,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Cse=xi.f,Fx=Function.prototype,Ese=Fx.toString,Tse=/^\s*function ([^ (]*)/;$t&&!("name"in Fx)&&Cse(Fx,"name",{configurable:!0,get:function(){try{return Ese.call(this).match(Tse)[1]}catch{return""}}});var f2={}.propertyIsEnumerable,m2=Object.getOwnPropertyDescriptor,nd={f:m2&&!f2.call({1:2},1)?function(t){var e=m2(this,t);return!!e&&e.enumerable}:f2},ra=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},kse={}.toString,Gs=function(t){return kse.call(t).slice(8,-1)},Pse="".split,id=dt(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return Gs(t)=="String"?Pse.call(t,""):Object(t)}:Object,Cs=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t},yi=function(t){return id(Cs(t))},Ase={}.hasOwnProperty,qe=function(t,e){return Ase.call(t,e)},v2=Object.getOwnPropertyDescriptor,go={f:$t?v2:function(t,e){if(t=yi(t),e=Al(e,!0),hN)try{return v2(t,e)}catch{}if(qe(t,e))return ra(!nd.f.call(t,e),t[e])}},Fi=$t?function(t,e,n){return xi.f(t,e,ra(1,n))}:function(t,e,n){return t[e]=n,t},Tw=function(t,e){try{Fi(Tt,t,e)}catch{Tt[t]=e}return e},Sp=Tt["__core-js_shared__"]||Tw("__core-js_shared__",{}),Mse=Function.toString;typeof Sp.inspectSource!="function"&&(Sp.inspectSource=function(t){return Mse.call(t)});var Lm,Hh,Fm,pN=Sp.inspectSource,g2=Tt.WeakMap,dN=typeof g2=="function"&&/native code/.test(pN(g2)),Ml=td(function(t){(t.exports=function(e,n){return Sp[e]||(Sp[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})}),Rse=0,Ise=Math.random(),Cp=function(t){return"Symbol("+String(t===void 0?"":t)+")_"+(++Rse+Ise).toString(36)},b2=Ml("keys"),Jv=function(t){return b2[t]||(b2[t]=Cp(t))},wu={},Ose=Tt.WeakMap;if(dN){var sc=new Ose,Nse=sc.get,Lse=sc.has,Fse=sc.set;Lm=function(t,e){return Fse.call(sc,t,e),e},Hh=function(t){return Nse.call(sc,t)||{}},Fm=function(t){return Lse.call(sc,t)}}else{var sh=Jv("state");wu[sh]=!0,Lm=function(t,e){return Fi(t,sh,e),e},Hh=function(t){return qe(t,sh)?t[sh]:{}},Fm=function(t){return qe(t,sh)}}var f0,Yn={set:Lm,get:Hh,has:Fm,enforce:function(t){return Fm(t)?Hh(t):Lm(t,{})},getterFor:function(t){return function(e){var n;if(!kt(e)||(n=Hh(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Pn=td(function(t){var e=Yn.get,n=Yn.enforce,i=String(String).split("String");(t.exports=function(s,r,a,o){var l=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,h=!!o&&!!o.noTargetGet;typeof a=="function"&&(typeof r!="string"||qe(a,"name")||Fi(a,"name",r),n(a).source=i.join(typeof r=="string"?r:"")),s!==Tt?(l?!h&&s[r]&&(c=!0):delete s[r],c?s[r]=a:Fi(s,r,a)):c?s[r]=a:Tw(r,a)})(Function.prototype,"toString",function(){return typeof this=="function"&&e(this).source||pN(this)})}),qh=Tt,_2=function(t){return typeof t=="function"?t:void 0},Rl=function(t,e){return arguments.length<2?_2(qh[t])||_2(Tt[t]):qh[t]&&qh[t][e]||Tt[t]&&Tt[t][e]},Dse=Math.ceil,Bse=Math.floor,bo=function(t){return isNaN(t=+t)?0:(t>0?Bse:Dse)(t)},jse=Math.min,os=function(t){return t>0?jse(bo(t),9007199254740991):0},Use=Math.max,Vse=Math.min,Dm=function(t,e){var n=bo(t);return n<0?Use(n+e,0):Vse(n,e)},x2=function(t){return function(e,n,i){var s,r=yi(e),a=os(r.length),o=Dm(i,a);if(t&&n!=n){for(;a>o;)if((s=r[o++])!=s)return!0}else for(;a>o;o++)if((t||o in r)&&r[o]===n)return t||o||0;return!t&&-1}},kw={includes:x2(!0),indexOf:x2(!1)},$se=kw.indexOf,fN=function(t,e){var n,i=yi(t),s=0,r=[];for(n in i)!qe(wu,n)&&qe(i,n)&&r.push(n);for(;e.length>s;)qe(i,n=e[s++])&&(~$se(r,n)||r.push(n));return r},Bm=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zse=Bm.concat("length","prototype"),sd={f:Object.getOwnPropertyNames||function(t){return fN(t,zse)}},Wh={f:Object.getOwnPropertySymbols},mN=Rl("Reflect","ownKeys")||function(t){var e=sd.f(en(t)),n=Wh.f;return n?e.concat(n(t)):e},vN=function(t,e){for(var n=mN(e),i=xi.f,s=go.f,r=0;r<n.length;r++){var a=n[r];qe(t,a)||i(t,a,s(e,a))}},Hse=/#|\.prototype\./,rd=function(t,e){var n=Wse[qse(t)];return n==Kse||n!=Gse&&(typeof e=="function"?dt(e):!!e)},qse=rd.normalize=function(t){return String(t).replace(Hse,".").toLowerCase()},Wse=rd.data={},Gse=rd.NATIVE="N",Kse=rd.POLYFILL="P",Ep=rd,Yse=go.f,Ze=function(t,e){var n,i,s,r,a,o=t.target,l=t.global,c=t.stat;if(n=l?Tt:c?Tt[o]||Tw(o,{}):(Tt[o]||{}).prototype)for(i in e){if(r=e[i],s=t.noTargetGet?(a=Yse(n,i))&&a.value:n[i],!Ep(l?i:o+(c?".":"#")+i,t.forced)&&s!==void 0){if(typeof r==typeof s)continue;vN(r,s)}(t.sham||s&&s.sham)&&Fi(r,"sham",!0),Pn(n,i,r,t)}},Ur=!!Object.getOwnPropertySymbols&&!dt(function(){return!String(Symbol())}),gN=Ur&&!Symbol.sham&&typeof Symbol.iterator=="symbol",ou=Array.isArray||function(t){return Gs(t)=="Array"},Tr=function(t){return Object(Cs(t))},Zr=Object.keys||function(t){return fN(t,Bm)},bN=$t?Object.defineProperties:function(t,e){en(t);for(var n,i=Zr(e),s=i.length,r=0;s>r;)xi.f(t,n=i[r++],e[n]);return t},Xse=Rl("document","documentElement"),_N=Jv("IE_PROTO"),m0=function(){},y2=function(t){return"<script>"+t+"<\/script>"},Lf=function(){try{f0=document.domain&&new ActiveXObject("htmlfile")}catch{}var t,e;Lf=f0?function(i){i.write(y2("")),i.close();var s=i.parentWindow.Object;return i=null,s}(f0):((e=uN("iframe")).style.display="none",Xse.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(y2("document.F=Object")),t.close(),t.F);for(var n=Bm.length;n--;)delete Lf.prototype[Bm[n]];return Lf()};wu[_N]=!0;var aa=Object.create||function(t,e){var n;return t!==null?(m0.prototype=en(t),n=new m0,m0.prototype=null,n[_N]=t):n=Lf(),e===void 0?n:bN(n,e)},w2=sd.f,Qse={}.toString,S2=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],xN={f:function(t){return S2&&Qse.call(t)=="[object Window]"?function(e){try{return w2(e)}catch{return S2.slice()}}(t):w2(yi(t))}},gf=Ml("wks"),Gh=Tt.Symbol,Jse=gN?Gh:Gh&&Gh.withoutSetter||Cp,Mt=function(t){return qe(gf,t)||(Ur&&qe(Gh,t)?gf[t]=Gh[t]:gf[t]=Jse("Symbol."+t)),gf[t]},yN={f:Mt},Zse=xi.f,wN=function(t){var e=qh.Symbol||(qh.Symbol={});qe(e,t)||Zse(e,t,{value:yN.f(t)})},ere=xi.f,C2=Mt("toStringTag"),Su=function(t,e,n){t&&!qe(t=n?t:t.prototype,C2)&&ere(t,C2,{configurable:!0,value:e})},Pw=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t},Zv=function(t,e,n){if(Pw(t),e===void 0)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,s){return t.call(e,i,s)};case 3:return function(i,s,r){return t.call(e,i,s,r)}}return function(){return t.apply(e,arguments)}},tre=Mt("species"),Aw=function(t,e){var n;return ou(t)&&(typeof(n=t.constructor)!="function"||n!==Array&&!ou(n.prototype)?kt(n)&&(n=n[tre])===null&&(n=void 0):n=void 0),new(n===void 0?Array:n)(e===0?0:e)},nre=[].push,Io=function(t){var e=t==1,n=t==2,i=t==3,s=t==4,r=t==6,a=t==5||r;return function(o,l,c,h){for(var p,d,g=Tr(o),x=id(g),S=Zv(l,c,3),m=os(x.length),_=0,y=h||Aw,T=e?y(o,m):n?y(o,0):void 0;m>_;_++)if((a||_ in x)&&(d=S(p=x[_],_,g),t)){if(e)T[_]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return _;case 2:nre.call(T,p)}else if(s)return!1}return r?-1:i||s?s:T}},kr={forEach:Io(0),map:Io(1),filter:Io(2),some:Io(3),every:Io(4),find:Io(5),findIndex:Io(6)},eg=kr.forEach,Ei=Jv("hidden"),E2=Mt("toPrimitive"),ire=Yn.set,T2=Yn.getterFor("Symbol"),xs=Object.prototype,Gi=Tt.Symbol,rh=Rl("JSON","stringify"),SN=go.f,ja=xi.f,CN=xN.f,sre=nd.f,oa=Ml("symbols"),ad=Ml("op-symbols"),v0=Ml("string-to-symbol-registry"),g0=Ml("symbol-to-string-registry"),rre=Ml("wks"),b0=Tt.QObject,_0=!b0||!b0.prototype||!b0.prototype.findChild,Dx=$t&&dt(function(){return aa(ja({},"a",{get:function(){return ja(this,"a",{value:7}).a}})).a!=7})?function(t,e,n){var i=SN(xs,e);i&&delete xs[e],ja(t,e,n),i&&t!==xs&&ja(xs,e,i)}:ja,x0=function(t,e){var n=oa[t]=aa(Gi.prototype);return ire(n,{type:"Symbol",tag:t,description:e}),$t||(n.description=e),n},y0=gN?function(t){return typeof t=="symbol"}:function(t){return Object(t)instanceof Gi},jm=function(t,e,n){t===xs&&jm(ad,e,n),en(t);var i=Al(e,!0);return en(n),qe(oa,i)?(n.enumerable?(qe(t,Ei)&&t[Ei][i]&&(t[Ei][i]=!1),n=aa(n,{enumerable:ra(0,!1)})):(qe(t,Ei)||ja(t,Ei,ra(1,{})),t[Ei][i]=!0),Dx(t,i,n)):ja(t,i,n)},k2=function(t,e){en(t);var n=yi(e),i=Zr(n).concat(jx(n));return eg(i,function(s){$t&&!Bx.call(n,s)||jm(t,s,n[s])}),t},Bx=function(t){var e=Al(t,!0),n=sre.call(this,e);return!(this===xs&&qe(oa,e)&&!qe(ad,e))&&(!(n||!qe(this,e)||!qe(oa,e)||qe(this,Ei)&&this[Ei][e])||n)},P2=function(t,e){var n=yi(t),i=Al(e,!0);if(n!==xs||!qe(oa,i)||qe(ad,i)){var s=SN(n,i);return!s||!qe(oa,i)||qe(n,Ei)&&n[Ei][i]||(s.enumerable=!0),s}},A2=function(t){var e=CN(yi(t)),n=[];return eg(e,function(i){qe(oa,i)||qe(wu,i)||n.push(i)}),n},jx=function(t){var e=t===xs,n=CN(e?ad:yi(t)),i=[];return eg(n,function(s){!qe(oa,s)||e&&!qe(xs,s)||i.push(oa[s])}),i};if(Ur||(Pn((Gi=function(){if(this instanceof Gi)throw TypeError("Symbol is not a constructor");var t=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,e=Cp(t),n=function(i){this===xs&&n.call(ad,i),qe(this,Ei)&&qe(this[Ei],e)&&(this[Ei][e]=!1),Dx(this,e,ra(1,i))};return $t&&_0&&Dx(xs,e,{configurable:!0,set:n}),x0(e,t)}).prototype,"toString",function(){return T2(this).tag}),Pn(Gi,"withoutSetter",function(t){return x0(Cp(t),t)}),nd.f=Bx,xi.f=jm,go.f=P2,sd.f=xN.f=A2,Wh.f=jx,yN.f=function(t){return x0(Mt(t),t)},$t&&(ja(Gi.prototype,"description",{configurable:!0,get:function(){return T2(this).description}}),Pn(xs,"propertyIsEnumerable",Bx,{unsafe:!0}))),Ze({global:!0,wrap:!0,forced:!Ur,sham:!Ur},{Symbol:Gi}),eg(Zr(rre),function(t){wN(t)}),Ze({target:"Symbol",stat:!0,forced:!Ur},{for:function(t){var e=String(t);if(qe(v0,e))return v0[e];var n=Gi(e);return v0[e]=n,g0[n]=e,n},keyFor:function(t){if(!y0(t))throw TypeError(t+" is not a symbol");if(qe(g0,t))return g0[t]},useSetter:function(){_0=!0},useSimple:function(){_0=!1}}),Ze({target:"Object",stat:!0,forced:!Ur,sham:!$t},{create:function(t,e){return e===void 0?aa(t):k2(aa(t),e)},defineProperty:jm,defineProperties:k2,getOwnPropertyDescriptor:P2}),Ze({target:"Object",stat:!0,forced:!Ur},{getOwnPropertyNames:A2,getOwnPropertySymbols:jx}),Ze({target:"Object",stat:!0,forced:dt(function(){Wh.f(1)})},{getOwnPropertySymbols:function(t){return Wh.f(Tr(t))}}),rh){var are=!Ur||dt(function(){var t=Gi();return rh([t])!="[null]"||rh({a:t})!="{}"||rh(Object(t))!="{}"});Ze({target:"JSON",stat:!0,forced:are},{stringify:function(t,e,n){for(var i,s=[t],r=1;arguments.length>r;)s.push(arguments[r++]);if(i=e,(kt(e)||t!==void 0)&&!y0(t))return ou(e)||(e=function(a,o){if(typeof i=="function"&&(o=i.call(this,a,o)),!y0(o))return o}),s[1]=e,rh.apply(null,s)}})}Gi.prototype[E2]||Fi(Gi.prototype,E2,Gi.prototype.valueOf),Su(Gi,"Symbol"),wu[Ei]=!0;var rc,Um,w0=Rl("navigator","userAgent")||"",M2=Tt.process,R2=M2&&M2.versions,I2=R2&&R2.v8;I2?Um=(rc=I2.split("."))[0]+rc[1]:w0&&(!(rc=w0.match(/Edge\/(\d+)/))||rc[1]>=74)&&(rc=w0.match(/Chrome\/(\d+)/))&&(Um=rc[1]);var EN=Um&&+Um,ore=Mt("species"),od=function(t){return EN>=51||!dt(function(){var e=[];return(e.constructor={})[ore]=function(){return{foo:1}},e[t](Boolean).foo!==1})},lre=Object.defineProperty,S0={},O2=function(t){throw t},ls=function(t,e){if(qe(S0,t))return S0[t];e||(e={});var n=[][t],i=!!qe(e,"ACCESSORS")&&e.ACCESSORS,s=qe(e,0)?e[0]:O2,r=qe(e,1)?e[1]:void 0;return S0[t]=!!n&&!dt(function(){if(i&&!$t)return!0;var a={length:-1};i?lre(a,1,{enumerable:!0,get:O2}):a[1]=1,n.call(a,s,r)})},cre=kr.filter,ure=od("filter"),hre=ls("filter");Ze({target:"Array",proto:!0,forced:!ure||!hre},{filter:function(t){return cre(this,t,arguments.length>1?arguments[1]:void 0)}});var Il=function(t,e){var n=[][t];return!!n&&dt(function(){n.call(null,e||function(){throw 1},1)})},pre=kr.forEach,dre=Il("forEach"),fre=ls("forEach"),Kh=dre&&fre?[].forEach:function(t){return pre(this,t,arguments.length>1?arguments[1]:void 0)};Ze({target:"Array",proto:!0,forced:[].forEach!=Kh},{forEach:Kh});var TN=go.f,mre=dt(function(){TN(1)});Ze({target:"Object",stat:!0,forced:!$t||mre,sham:!$t},{getOwnPropertyDescriptor:function(t,e){return TN(yi(t),e)}});var vl=function(t,e,n){var i=Al(e);i in t?xi.f(t,i,ra(0,n)):t[i]=n};Ze({target:"Object",stat:!0,sham:!$t},{getOwnPropertyDescriptors:function(t){for(var e,n,i=yi(t),s=go.f,r=mN(i),a={},o=0;r.length>o;)(n=s(i,e=r[o++]))!==void 0&&vl(a,e,n);return a}});var vre=dt(function(){Zr(1)});Ze({target:"Object",stat:!0,forced:vre},{keys:function(t){return Zr(Tr(t))}});var Ux={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var gre in Ux){var N2=Tt[gre],bf=N2&&N2.prototype;if(bf&&bf.forEach!==Kh)try{Fi(bf,"forEach",Kh)}catch{bf.forEach=Kh}}function bre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function _re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(i){bre(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var xre=xi.f,Or=Tt.Symbol;if($t&&typeof Or=="function"&&(!("description"in Or.prototype)||Or().description!==void 0)){var F2={},ah=function(){var t=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),e=this instanceof ah?new Or(t):t===void 0?Or():Or(t);return t===""&&(F2[e]=!0),e};vN(ah,Or);var C0=ah.prototype=Or.prototype;C0.constructor=ah;var yre=C0.toString,wre=String(Or("test"))=="Symbol(test)",Sre=/^Symbol\((.*)\)[^)]+$/;xre(C0,"description",{configurable:!0,get:function(){var t=kt(this)?this.valueOf():this,e=yre.call(t);if(qe(F2,t))return"";var n=wre?e.slice(7,-1):e.replace(Sre,"$1");return n===""?void 0:n}}),Ze({global:!0,forced:!0},{Symbol:ah})}wN("iterator");var kN=Mt("isConcatSpreadable"),Cre=EN>=51||!dt(function(){var t=[];return t[kN]=!1,t.concat()[0]!==t}),Ere=od("concat"),Tre=function(t){if(!kt(t))return!1;var e=t[kN];return e!==void 0?!!e:ou(t)};Ze({target:"Array",proto:!0,forced:!Cre||!Ere},{concat:function(t){var e,n,i,s,r,a=Tr(this),o=Aw(a,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(Tre(r=e===-1?a:arguments[e])){if(l+(s=os(r.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<s;n++,l++)n in r&&vl(o,l,r[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");vl(o,l++,r)}return o.length=l,o}});var kre=kr.every,Pre=Il("every"),Are=ls("every");Ze({target:"Array",proto:!0,forced:!Pre||!Are},{every:function(t){return kre(this,t,arguments.length>1?arguments[1]:void 0)}});var Vx=Mt("unscopables"),$x=Array.prototype;$x[Vx]==null&&xi.f($x,Vx,{configurable:!0,value:aa(null)});var Dc=function(t){$x[Vx][t]=!0},Mre=kr.find,D2=!0,Rre=ls("find");"find"in[]&&Array(1).find(function(){D2=!1}),Ze({target:"Array",proto:!0,forced:D2||!Rre},{find:function(t){return Mre(this,t,arguments.length>1?arguments[1]:void 0)}}),Dc("find");var Ire=kr.findIndex,B2=!0,Ore=ls("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){B2=!1}),Ze({target:"Array",proto:!0,forced:B2||!Ore},{findIndex:function(t){return Ire(this,t,arguments.length>1?arguments[1]:void 0)}}),Dc("findIndex");var PN=function(t,e,n,i){try{return i?e(en(n)[0],n[1]):e(n)}catch(r){var s=t.return;throw s!==void 0&&en(s.call(t)),r}},lu={},Nre=Mt("iterator"),Lre=Array.prototype,AN=function(t){return t!==void 0&&(lu.Array===t||Lre[Nre]===t)},MN={};MN[Mt("toStringTag")]="z";var Mw=String(MN)==="[object z]",Fre=Mt("toStringTag"),Dre=Gs(function(){return arguments}())=="Arguments",Rw=Mw?Gs:function(t){var e,n,i;return t===void 0?"Undefined":t===null?"Null":typeof(n=function(s,r){try{return s[r]}catch{}}(e=Object(t),Fre))=="string"?n:Dre?Gs(e):(i=Gs(e))=="Object"&&typeof e.callee=="function"?"Arguments":i},Bre=Mt("iterator"),tg=function(t){if(t!=null)return t[Bre]||t["@@iterator"]||lu[Rw(t)]},sl=function(t){var e,n,i,s,r,a,o=Tr(t),l=typeof this=="function"?this:Array,c=arguments.length,h=c>1?arguments[1]:void 0,p=h!==void 0,d=tg(o),g=0;if(p&&(h=Zv(h,c>2?arguments[2]:void 0,2)),d==null||l==Array&&AN(d))for(n=new l(e=os(o.length));e>g;g++)a=p?h(o[g],g):o[g],vl(n,g,a);else for(r=(s=d.call(o)).next,n=new l;!(i=r.call(s)).done;g++)a=p?PN(s,h,[i.value,g],!0):i.value,vl(n,g,a);return n.length=g,n},RN=Mt("iterator"),IN=!1;try{var jre=0,j2={next:function(){return{done:!!jre++}},return:function(){IN=!0}};j2[RN]=function(){return this},Array.from(j2,function(){throw 2})}catch{}var ON=function(t,e){if(!e&&!IN)return!1;var n=!1;try{var i={};i[RN]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch{}return n},Ure=!ON(function(t){Array.from(t)});Ze({target:"Array",stat:!0,forced:Ure},{from:sl});var Vre=kw.includes,$re=ls("indexOf",{ACCESSORS:!0,1:0});Ze({target:"Array",proto:!0,forced:!$re},{includes:function(t){return Vre(this,t,arguments.length>1?arguments[1]:void 0)}}),Dc("includes");var zre=kw.indexOf,NN=[].indexOf,U2=!!NN&&1/[1].indexOf(1,-0)<0,Hre=Il("indexOf"),qre=ls("indexOf",{ACCESSORS:!0,1:0});Ze({target:"Array",proto:!0,forced:U2||!Hre||!qre},{indexOf:function(t){return U2?NN.apply(this,arguments)||0:zre(this,t,arguments.length>1?arguments[1]:void 0)}});var Wre=[].join,Gre=id!=Object,Kre=Il("join",",");Ze({target:"Array",proto:!0,forced:Gre||!Kre},{join:function(t){return Wre.call(yi(this),t===void 0?",":t)}});var Yre=Math.min,zx=[].lastIndexOf,V2=!!zx&&1/[1].lastIndexOf(1,-0)<0,Xre=Il("lastIndexOf"),Qre=ls("indexOf",{ACCESSORS:!0,1:0}),$2=V2||!Xre||!Qre?function(t){if(V2)return zx.apply(this,arguments)||0;var e=yi(this),n=os(e.length),i=n-1;for(arguments.length>1&&(i=Yre(i,bo(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}:zx;Ze({target:"Array",proto:!0,forced:$2!==[].lastIndexOf},{lastIndexOf:$2});var Jre=kr.map,Zre=od("map"),eae=ls("map");Ze({target:"Array",proto:!0,forced:!Zre||!eae},{map:function(t){return Jre(this,t,arguments.length>1?arguments[1]:void 0)}});var z2=function(t){return function(e,n,i,s){Pw(n);var r=Tr(e),a=id(r),o=os(r.length),l=t?o-1:0,c=t?-1:1;if(i<2)for(;;){if(l in a){s=a[l],l+=c;break}if(l+=c,t?l<0:o<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:o>l;l+=c)l in a&&(s=n(s,a[l],l,r));return s}},tae={left:z2(!1),right:z2(!0)}.left,nae=Il("reduce"),iae=ls("reduce",{1:0});Ze({target:"Array",proto:!0,forced:!nae||!iae},{reduce:function(t){return tae(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var sae=od("slice"),rae=ls("slice",{ACCESSORS:!0,0:0,1:2}),aae=Mt("species"),oae=[].slice,lae=Math.max;Ze({target:"Array",proto:!0,forced:!sae||!rae},{slice:function(t,e){var n,i,s,r=yi(this),a=os(r.length),o=Dm(t,a),l=Dm(e===void 0?a:e,a);if(ou(r)&&(typeof(n=r.constructor)!="function"||n!==Array&&!ou(n.prototype)?kt(n)&&(n=n[aae])===null&&(n=void 0):n=void 0,n===Array||n===void 0))return oae.call(r,o,l);for(i=new(n===void 0?Array:n)(lae(l-o,0)),s=0;o<l;o++,s++)o in r&&vl(i,s,r[o]);return i.length=s,i}});var cae=kr.some,uae=Il("some"),hae=ls("some");Ze({target:"Array",proto:!0,forced:!uae||!hae},{some:function(t){return cae(this,t,arguments.length>1?arguments[1]:void 0)}});var pae=od("splice"),dae=ls("splice",{ACCESSORS:!0,0:0,1:2}),fae=Math.max,mae=Math.min;Ze({target:"Array",proto:!0,forced:!pae||!dae},{splice:function(t,e){var n,i,s,r,a,o,l=Tr(this),c=os(l.length),h=Dm(t,c),p=arguments.length;if(p===0?n=i=0:p===1?(n=0,i=c-h):(n=p-2,i=mae(fae(bo(e),0),c-h)),c+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(s=Aw(l,i),r=0;r<i;r++)(a=h+r)in l&&vl(s,r,l[a]);if(s.length=i,n<i){for(r=h;r<c-i;r++)o=r+n,(a=r+i)in l?l[o]=l[a]:delete l[o];for(r=c;r>c-i+n;r--)delete l[r-1]}else if(n>i)for(r=c-i;r>h;r--)o=r+n-1,(a=r+i-1)in l?l[o]=l[a]:delete l[o];for(r=0;r<n;r++)l[r+h]=arguments[r+2];return l.length=c-i+n,s}}),Ze({global:!0},{globalThis:Tt});var vae=Math.sign||function(t){return(t=+t)==0||t!=t?t:t<0?-1:1};Ze({target:"Math",stat:!0},{sign:vae});var gae=Math.ceil,bae=Math.floor;Ze({target:"Math",stat:!0},{trunc:function(t){return(t>0?bae:gae)(t)}});var Vm=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch{}return function(i,s){return en(i),function(r){if(!kt(r)&&r!==null)throw TypeError("Can't set "+String(r)+" as a prototype")}(s),e?t.call(i,s):i.__proto__=s,i}}():void 0),Iw=function(t,e,n){var i,s;return Vm&&typeof(i=e.constructor)=="function"&&i!==n&&kt(s=i.prototype)&&s!==n.prototype&&Vm(t,s),t},Hx=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,$m="["+Hx+"]",_ae=RegExp("^"+$m+$m+"*"),xae=RegExp($m+$m+"*$"),E0=function(t){return function(e){var n=String(Cs(e));return 1&t&&(n=n.replace(_ae,"")),2&t&&(n=n.replace(xae,"")),n}},LN={start:E0(1),end:E0(2),trim:E0(3)},yae=sd.f,wae=go.f,Sae=xi.f,Cae=LN.trim,Oa=Tt.Number,Ff=Oa.prototype,Eae=Gs(aa(Ff))=="Number",H2=function(t){var e,n,i,s,r,a,o,l,c=Al(t,!1);if(typeof c=="string"&&c.length>2){if((e=(c=Cae(c)).charCodeAt(0))===43||e===45){if((n=c.charCodeAt(2))===88||n===120)return NaN}else if(e===48){switch(c.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+c}for(a=(r=c.slice(2)).length,o=0;o<a;o++)if((l=r.charCodeAt(o))<48||l>s)return NaN;return parseInt(r,i)}}return+c};if(Ep("Number",!Oa(" 0o1")||!Oa("0b1")||Oa("+0x1"))){for(var _f,Oo=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Oo&&(Eae?dt(function(){Ff.valueOf.call(n)}):Gs(n)!="Number")?Iw(new Oa(H2(e)),n,Oo):H2(e)},q2=$t?yae(Oa):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T0=0;q2.length>T0;T0++)qe(Oa,_f=q2[T0])&&!qe(Oo,_f)&&Sae(Oo,_f,wae(Oa,_f));Oo.prototype=Ff,Ff.constructor=Oo,Pn(Tt,"Number",Oo)}Ze({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var k0="".repeat||function(t){var e=String(Cs(this)),n="",i=bo(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n},W2=1 .toFixed,G2=Math.floor,Sc=function(t,e,n){return e===0?n:e%2==1?Sc(t,e-1,n*t):Sc(t*t,e/2,n)},Tae=W2&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||1000000000000000100 .toFixed(0)!=="1000000000000000128")||!dt(function(){W2.call({})});Ze({target:"Number",proto:!0,forced:Tae},{toFixed:function(t){var e,n,i,s,r=function(g){if(typeof g!="number"&&Gs(g)!="Number")throw TypeError("Incorrect invocation");return+g}(this),a=bo(t),o=[0,0,0,0,0,0],l="",c="0",h=function(g,x){for(var S=-1,m=x;++S<6;)m+=g*o[S],o[S]=m%1e7,m=G2(m/1e7)},p=function(g){for(var x=6,S=0;--x>=0;)S+=o[x],o[x]=G2(S/g),S=S%g*1e7},d=function(){for(var g=6,x="";--g>=0;)if(x!==""||g===0||o[g]!==0){var S=String(o[g]);x=x===""?S:x+k0.call("0",7-S.length)+S}return x};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return String(r);if(r<0&&(l="-",r=-r),r>1e-21)if(n=(e=function(g){for(var x=0,S=g;S>=4096;)x+=12,S/=4096;for(;S>=2;)x+=1,S/=2;return x}(r*Sc(2,69,1))-69)<0?r*Sc(2,-e,1):r/Sc(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),i=a;i>=7;)h(1e7,0),i-=7;for(h(Sc(10,i,1),0),i=e-1;i>=23;)p(1<<23),i-=23;p(1<<i),h(1,1),p(2),c=d()}else h(0,n),h(1<<-e,0),c=d()+k0.call("0",a);return c=a>0?l+((s=c.length)<=a?"0."+k0.call("0",a-s)+c:c.slice(0,s-a)+"."+c.slice(s-a)):l+c}});var kae=nd.f,K2=function(t){return function(e){for(var n,i=yi(e),s=Zr(i),r=s.length,a=0,o=[];r>a;)n=s[a++],$t&&!kae.call(i,n)||o.push(t?[n,i[n]]:i[n]);return o}},FN={entries:K2(!0),values:K2(!1)},Pae=FN.entries;Ze({target:"Object",stat:!0},{entries:function(t){return Pae(t)}});var Aae=Mw?{}.toString:function(){return"[object "+Rw(this)+"]"};Mw||Pn(Object.prototype,"toString",Aae,{unsafe:!0});var Mae=FN.values;Ze({target:"Object",stat:!0},{values:function(t){return Mae(t)}});var Rae=Mt("match"),Ow=function(t){var e;return kt(t)&&((e=t[Rae])!==void 0?!!e:Gs(t)=="RegExp")},Nw=function(){var t=en(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Y2(t,e){return RegExp(t,e)}var qx={UNSUPPORTED_Y:dt(function(){var t=Y2("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),BROKEN_CARET:dt(function(){var t=Y2("^r","gy");return t.lastIndex=2,t.exec("str")!=null})},X2=Mt("species"),Iae=xi.f,Oae=sd.f,Nae=Yn.set,Lae=Mt("match"),sr=Tt.RegExp,P0=sr.prototype,Yh=/a/g,A0=/a/g,M0=new sr(Yh)!==Yh,R0=qx.UNSUPPORTED_Y;if($t&&Ep("RegExp",!M0||R0||dt(function(){return A0[Lae]=!1,sr(Yh)!=Yh||sr(A0)==A0||sr(Yh,"i")!="/a/i"}))){for(var Nr=function(t,e){var n,i=this instanceof Nr,s=Ow(t),r=e===void 0;if(!i&&s&&t.constructor===Nr&&r)return t;M0?s&&!r&&(t=t.source):t instanceof Nr&&(r&&(e=Nw.call(t)),t=t.source),R0&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=Iw(M0?new sr(t,e):sr(t,e),i?this:P0,Nr);return R0&&n&&Nae(a,{sticky:n}),a},Fae=function(t){t in Nr||Iae(Nr,t,{configurable:!0,get:function(){return sr[t]},set:function(e){sr[t]=e}})},Q2=Oae(sr),J2=0;Q2.length>J2;)Fae(Q2[J2++]);P0.constructor=Nr,Nr.prototype=P0,Pn(Tt,"RegExp",Nr)}(function(t){var e=Rl(t),n=xi.f;$t&&e&&!e[X2]&&n(e,X2,{configurable:!0,get:function(){return this}})})("RegExp");var zm=RegExp.prototype.exec,Dae=String.prototype.replace,DN=zm,I0=function(){var t=/a/,e=/b*/g;return zm.call(t,"a"),zm.call(e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),Z2=qx.UNSUPPORTED_Y||qx.BROKEN_CARET,O0=/()??/.exec("")[1]!==void 0;(I0||O0||Z2)&&(DN=function(t){var e,n,i,s,r=this,a=Z2&&r.sticky,o=Nw.call(r),l=r.source,c=0,h=t;return a&&((o=o.replace("y","")).indexOf("g")===-1&&(o+="g"),h=String(t).slice(r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&t[r.lastIndex-1]!==`
`)&&(l="(?: "+l+")",h=" "+h,c++),n=new RegExp("^(?:"+l+")",o)),O0&&(n=new RegExp("^"+l+"$(?!\\s)",o)),I0&&(e=r.lastIndex),i=zm.call(a?n:r,h),a?i?(i.input=i.input.slice(c),i[0]=i[0].slice(c),i.index=r.lastIndex,r.lastIndex+=i[0].length):r.lastIndex=0:I0&&i&&(r.lastIndex=r.global?i.index+i[0].length:e),O0&&i&&i.length>1&&Dae.call(i[0],n,function(){for(s=1;s<arguments.length-2;s++)arguments[s]===void 0&&(i[s]=void 0)}),i});var Tp=DN;Ze({target:"RegExp",proto:!0,forced:/./.exec!==Tp},{exec:Tp});var BN=RegExp.prototype,jN=BN.toString,Bae=dt(function(){return jN.call({source:"a",flags:"b"})!="/a/b"}),jae=jN.name!="toString";(Bae||jae)&&Pn(RegExp.prototype,"toString",function(){var t=en(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(n===void 0&&t instanceof RegExp&&!("flags"in BN)?Nw.call(t):n)},{unsafe:!0});var UN=function(t){if(Ow(t))throw TypeError("The method doesn't accept regular expressions");return t},Uae=Mt("match"),VN=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[Uae]=!1,"/./"[t](e)}catch{}}return!1};Ze({target:"String",proto:!0,forced:!VN("includes")},{includes:function(t){return!!~String(Cs(this)).indexOf(UN(t),arguments.length>1?arguments[1]:void 0)}});var vc,ek,tk,nk=function(t){return function(e,n){var i,s,r=String(Cs(e)),a=bo(n),o=r.length;return a<0||a>=o?t?"":void 0:(i=r.charCodeAt(a))<55296||i>56319||a+1===o||(s=r.charCodeAt(a+1))<56320||s>57343?t?r.charAt(a):i:t?r.slice(a,a+2):s-56320+(i-55296<<10)+65536}},Lw={codeAt:nk(!1),charAt:nk(!0)},Vae=!dt(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),ik=Jv("IE_PROTO"),$ae=Object.prototype,Hm=Vae?Object.getPrototypeOf:function(t){return t=Tr(t),qe(t,ik)?t[ik]:typeof t.constructor=="function"&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?$ae:null},sk=Mt("iterator"),$N=!1;[].keys&&("next"in(tk=[].keys())?(ek=Hm(Hm(tk)))!==Object.prototype&&(vc=ek):$N=!0),vc==null&&(vc={}),qe(vc,sk)||Fi(vc,sk,function(){return this});var Fw={IteratorPrototype:vc,BUGGY_SAFARI_ITERATORS:$N},zae=Fw.IteratorPrototype,Hae=function(){return this},zN=function(t,e,n){var i=e+" Iterator";return t.prototype=aa(zae,{next:ra(1,n)}),Su(t,i,!1),lu[i]=Hae,t},N0=Fw.IteratorPrototype,xf=Fw.BUGGY_SAFARI_ITERATORS,oh=Mt("iterator"),qae=function(){return this},HN=function(t,e,n,i,s,r,a){zN(n,e,i);var o,l,c,h=function(_){if(_===s&&S)return S;if(!xf&&_ in g)return g[_];switch(_){case"keys":case"values":case"entries":return function(){return new n(this,_)}}return function(){return new n(this)}},p=e+" Iterator",d=!1,g=t.prototype,x=g[oh]||g["@@iterator"]||s&&g[s],S=!xf&&x||h(s),m=e=="Array"&&g.entries||x;if(m&&(o=Hm(m.call(new t)),N0!==Object.prototype&&o.next&&(Hm(o)!==N0&&(Vm?Vm(o,N0):typeof o[oh]!="function"&&Fi(o,oh,qae)),Su(o,p,!0))),s=="values"&&x&&x.name!=="values"&&(d=!0,S=function(){return x.call(this)}),g[oh]!==S&&Fi(g,oh,S),lu[e]=S,s)if(l={values:h("values"),keys:r?S:h("keys"),entries:h("entries")},a)for(c in l)(xf||d||!(c in g))&&Pn(g,c,l[c]);else Ze({target:e,proto:!0,forced:xf||d},l);return l},Wae=Lw.charAt,Gae=Yn.set,Kae=Yn.getterFor("String Iterator");HN(String,"String",function(t){Gae(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=Kae(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=Wae(n,i),e.index+=t.length,{value:t,done:!1})});var Yae=Mt("species"),Xae=!dt(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"}),rk="a".replace(/./,"$0")==="$0",ak=Mt("replace"),ok=!!/./[ak]&&/./[ak]("a","$0")==="",Qae=!dt(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return n.length!==2||n[0]!=="a"||n[1]!=="b"}),ng=function(t,e,n,i){var s=Mt(t),r=!dt(function(){var p={};return p[s]=function(){return 7},""[t](p)!=7}),a=r&&!dt(function(){var p=!1,d=/a/;return t==="split"&&((d={}).constructor={},d.constructor[Yae]=function(){return d},d.flags="",d[s]=/./[s]),d.exec=function(){return p=!0,null},d[s](""),!p});if(!r||!a||t==="replace"&&(!Xae||!rk||ok)||t==="split"&&!Qae){var o=/./[s],l=n(s,""[t],function(p,d,g,x,S){return d.exec===Tp?r&&!S?{done:!0,value:o.call(d,g,x)}:{done:!0,value:p.call(g,d,x)}:{done:!1}},{REPLACE_KEEPS_$0:rk,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ok}),c=l[0],h=l[1];Pn(String.prototype,t,c),Pn(RegExp.prototype,s,e==2?function(p,d){return h.call(p,this,d)}:function(p){return h.call(p,this)})}i&&Fi(RegExp.prototype[s],"sham",!0)},Jae=Lw.charAt,Dw=function(t,e,n){return e+(n?Jae(t,e).length:1)},cu=function(t,e){var n=t.exec;if(typeof n=="function"){var i=n.call(t,e);if(typeof i!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return i}if(Gs(t)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return Tp.call(t,e)};ng("match",1,function(t,e,n){return[function(i){var s=Cs(this),r=i==null?void 0:i[t];return r!==void 0?r.call(i,s):new RegExp(i)[t](String(s))},function(i){var s=n(e,i,this);if(s.done)return s.value;var r=en(i),a=String(this);if(!r.global)return cu(r,a);var o=r.unicode;r.lastIndex=0;for(var l,c=[],h=0;(l=cu(r,a))!==null;){var p=String(l[0]);c[h]=p,p===""&&(r.lastIndex=Dw(a,os(r.lastIndex),o)),h++}return h===0?null:c}]});var Zae=Math.max,eoe=Math.min,toe=Math.floor,noe=/\$([$&'`]|\d\d?|<[^>]*>)/g,ioe=/\$([$&'`]|\d\d?)/g;ng("replace",2,function(t,e,n,i){var s=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,r=i.REPLACE_KEEPS_$0,a=s?"$":"$0";return[function(l,c){var h=Cs(this),p=l==null?void 0:l[t];return p!==void 0?p.call(l,h,c):e.call(String(h),l,c)},function(l,c){if(!s&&r||typeof c=="string"&&c.indexOf(a)===-1){var h=n(e,l,this,c);if(h.done)return h.value}var p=en(l),d=String(this),g=typeof c=="function";g||(c=String(c));var x=p.global;if(x){var S=p.unicode;p.lastIndex=0}for(var m=[];;){var _=cu(p,d);if(_===null||(m.push(_),!x))break;String(_[0])===""&&(p.lastIndex=Dw(d,os(p.lastIndex),S))}for(var y,T="",C=0,A=0;A<m.length;A++){_=m[A];for(var k=String(_[0]),P=Zae(eoe(bo(_.index),d.length),0),N=[],I=1;I<_.length;I++)N.push((y=_[I])===void 0?y:String(y));var j=_.groups;if(g){var V=[k].concat(N,P,d);j!==void 0&&V.push(j);var D=String(c.apply(void 0,V))}else D=o(k,d,P,N,j,c);P>=C&&(T+=d.slice(C,P)+D,C=P+k.length)}return T+d.slice(C)}];function o(l,c,h,p,d,g){var x=h+l.length,S=p.length,m=ioe;return d!==void 0&&(d=Tr(d),m=noe),e.call(g,m,function(_,y){var T;switch(y.charAt(0)){case"$":return"$";case"&":return l;case"`":return c.slice(0,h);case"'":return c.slice(x);case"<":T=d[y.slice(1,-1)];break;default:var C=+y;if(C===0)return _;if(C>S){var A=toe(C/10);return A===0?_:A<=S?p[A-1]===void 0?y.charAt(1):p[A-1]+y.charAt(1):_}T=p[C-1]}return T===void 0?"":T})}});var lk=Object.is||function(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e};ng("search",1,function(t,e,n){return[function(i){var s=Cs(this),r=i==null?void 0:i[t];return r!==void 0?r.call(i,s):new RegExp(i)[t](String(s))},function(i){var s=n(e,i,this);if(s.done)return s.value;var r=en(i),a=String(this),o=r.lastIndex;lk(o,0)||(r.lastIndex=0);var l=cu(r,a);return lk(r.lastIndex,o)||(r.lastIndex=o),l===null?-1:l.index}]});var soe=Mt("species"),roe=[].push,aoe=Math.min,ac=!dt(function(){return!RegExp(4294967295,"y")});ng("split",2,function(t,e,n){var i;return i="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(s,r){var a=String(Cs(this)),o=r===void 0?4294967295:r>>>0;if(o===0)return[];if(s===void 0)return[a];if(!Ow(s))return e.call(a,s,o);for(var l,c,h,p=[],d=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(s.sticky?"y":""),g=0,x=new RegExp(s.source,d+"g");(l=Tp.call(x,a))&&!((c=x.lastIndex)>g&&(p.push(a.slice(g,l.index)),l.length>1&&l.index<a.length&&roe.apply(p,l.slice(1)),h=l[0].length,g=c,p.length>=o));)x.lastIndex===l.index&&x.lastIndex++;return g===a.length?!h&&x.test("")||p.push(""):p.push(a.slice(g)),p.length>o?p.slice(0,o):p}:"0".split(void 0,0).length?function(s,r){return s===void 0&&r===0?[]:e.call(this,s,r)}:e,[function(s,r){var a=Cs(this),o=s==null?void 0:s[t];return o!==void 0?o.call(s,a,r):i.call(String(a),s,r)},function(s,r){var a=n(i,s,this,r,i!==e);if(a.done)return a.value;var o=en(s),l=String(this),c=function(C,A){var k,P=en(C).constructor;return P===void 0||(k=en(P)[soe])==null?A:Pw(k)}(o,RegExp),h=o.unicode,p=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(ac?"y":"g"),d=new c(ac?o:"^(?:"+o.source+")",p),g=r===void 0?4294967295:r>>>0;if(g===0)return[];if(l.length===0)return cu(d,l)===null?[l]:[];for(var x=0,S=0,m=[];S<l.length;){d.lastIndex=ac?S:0;var _,y=cu(d,ac?l:l.slice(S));if(y===null||(_=aoe(os(d.lastIndex+(ac?0:S)),l.length))===x)S=Dw(l,S,h);else{if(m.push(l.slice(x,S)),m.length===g)return m;for(var T=1;T<=y.length-1;T++)if(m.push(y[T]),m.length===g)return m;S=x=_}}return m.push(l.slice(x)),m}]},!ac);var L0,ooe=go.f,ck="".startsWith,loe=Math.min,qN=VN("startsWith"),coe=!(qN||(L0=ooe(String.prototype,"startsWith"),!L0||L0.writable));Ze({target:"String",proto:!0,forced:!coe&&!qN},{startsWith:function(t){var e=String(Cs(this));UN(t);var n=os(loe(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return ck?ck.call(e,i,n):e.slice(n,n+i.length)===i}});var uoe=LN.trim;Ze({target:"String",proto:!0,forced:function(t){return dt(function(){return!!Hx[t]()||"\u200B\x85\u180E"[t]()!="\u200B\x85\u180E"||Hx[t].name!==t})}("trim")},{trim:function(){return uoe(this)}});var qm=function(t,e,n){for(var i in e)Pn(t,i,e[i],n);return t},hoe=!dt(function(){return Object.isExtensible(Object.preventExtensions({}))}),Wx=td(function(t){var e=xi.f,n=Cp("meta"),i=0,s=Object.isExtensible||function(){return!0},r=function(o){e(o,n,{value:{objectID:"O"+ ++i,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(o,l){if(!kt(o))return typeof o=="symbol"?o:(typeof o=="string"?"S":"P")+o;if(!qe(o,n)){if(!s(o))return"F";if(!l)return"E";r(o)}return o[n].objectID},getWeakData:function(o,l){if(!qe(o,n)){if(!s(o))return!0;if(!l)return!1;r(o)}return o[n].weakData},onFreeze:function(o){return hoe&&a.REQUIRED&&s(o)&&!qe(o,n)&&r(o),o}};wu[n]=!0}),WN=td(function(t){var e=function(n,i){this.stopped=n,this.result=i};(t.exports=function(n,i,s,r,a){var o,l,c,h,p,d,g,x=Zv(i,s,r?2:1);if(a)o=n;else{if(typeof(l=tg(n))!="function")throw TypeError("Target is not iterable");if(AN(l)){for(c=0,h=os(n.length);h>c;c++)if((p=r?x(en(g=n[c])[0],g[1]):x(n[c]))&&p instanceof e)return p;return new e(!1)}o=l.call(n)}for(d=o.next;!(g=d.call(o)).done;)if(typeof(p=PN(o,x,g.value,r))=="object"&&p&&p instanceof e)return p;return new e(!1)}).stop=function(n){return new e(!0,n)}}),ig=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},yf=Wx.getWeakData,poe=Yn.set,doe=Yn.getterFor,foe=kr.find,moe=kr.findIndex,voe=0,wf=function(t){return t.frozen||(t.frozen=new GN)},GN=function(){this.entries=[]},F0=function(t,e){return foe(t.entries,function(n){return n[0]===e})};GN.prototype={get:function(t){var e=F0(this,t);if(e)return e[1]},has:function(t){return!!F0(this,t)},set:function(t,e){var n=F0(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=moe(this.entries,function(n){return n[0]===t});return~e&&this.entries.splice(e,1),!!~e}};var uk={getConstructor:function(t,e,n,i){var s=t(function(o,l){ig(o,s,e),poe(o,{type:e,id:voe++,frozen:void 0}),l!=null&&WN(l,o[i],o,n)}),r=doe(e),a=function(o,l,c){var h=r(o),p=yf(en(l),!0);return p===!0?wf(h).set(l,c):p[h.id]=c,o};return qm(s.prototype,{delete:function(o){var l=r(this);if(!kt(o))return!1;var c=yf(o);return c===!0?wf(l).delete(o):c&&qe(c,l.id)&&delete c[l.id]},has:function(o){var l=r(this);if(!kt(o))return!1;var c=yf(o);return c===!0?wf(l).has(o):c&&qe(c,l.id)}}),qm(s.prototype,n?{get:function(o){var l=r(this);if(kt(o)){var c=yf(o);return c===!0?wf(l).get(o):c?c[l.id]:void 0}},set:function(o,l){return a(this,o,l)}}:{add:function(o){return a(this,o,!0)}}),s}},goe=(td(function(t){var e,n=Yn.enforce,i=!Tt.ActiveXObject&&"ActiveXObject"in Tt,s=Object.isExtensible,r=function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},a=t.exports=function(d,g,x){var S=d.indexOf("Map")!==-1,m=d.indexOf("Weak")!==-1,_=S?"set":"add",y=Tt[d],T=y&&y.prototype,C=y,A={},k=function(D){var G=T[D];Pn(T,D,D=="add"?function(O){return G.call(this,O===0?0:O),this}:D=="delete"?function(O){return!(m&&!kt(O))&&G.call(this,O===0?0:O)}:D=="get"?function(O){return m&&!kt(O)?void 0:G.call(this,O===0?0:O)}:D=="has"?function(O){return!(m&&!kt(O))&&G.call(this,O===0?0:O)}:function(O,J){return G.call(this,O===0?0:O,J),this})};if(Ep(d,typeof y!="function"||!(m||T.forEach&&!dt(function(){new y().entries().next()}))))C=x.getConstructor(g,d,S,_),Wx.REQUIRED=!0;else if(Ep(d,!0)){var P=new C,N=P[_](m?{}:-0,1)!=P,I=dt(function(){P.has(1)}),j=ON(function(D){new y(D)}),V=!m&&dt(function(){for(var D=new y,G=5;G--;)D[_](G,G);return!D.has(-0)});j||((C=g(function(D,G){ig(D,C,d);var O=Iw(new y,D,C);return G!=null&&WN(G,O[_],O,S),O})).prototype=T,T.constructor=C),(I||V)&&(k("delete"),k("has"),S&&k("get")),(V||N)&&k(_),m&&T.clear&&delete T.clear}return A[d]=C,Ze({global:!0,forced:C!=y},A),Su(C,d),m||x.setStrong(C,d,S),C}("WeakMap",r,uk);if(dN&&i){e=uk.getConstructor(r,"WeakMap",!0),Wx.REQUIRED=!0;var o=a.prototype,l=o.delete,c=o.has,h=o.get,p=o.set;qm(o,{delete:function(d){if(kt(d)&&!s(d)){var g=n(this);return g.frozen||(g.frozen=new e),l.call(this,d)||g.frozen.delete(d)}return l.call(this,d)},has:function(d){if(kt(d)&&!s(d)){var g=n(this);return g.frozen||(g.frozen=new e),c.call(this,d)||g.frozen.has(d)}return c.call(this,d)},get:function(d){if(kt(d)&&!s(d)){var g=n(this);return g.frozen||(g.frozen=new e),c.call(this,d)?h.call(this,d):g.frozen.get(d)}return h.call(this,d)},set:function(d,g){if(kt(d)&&!s(d)){var x=n(this);x.frozen||(x.frozen=new e),c.call(this,d)?p.call(this,d,g):x.frozen.set(d,g)}else p.call(this,d,g);return this}})}}),Yn.set),boe=Yn.getterFor("Array Iterator"),_h=HN(Array,"Array",function(t,e){goe(this,{type:"Array Iterator",target:yi(t),index:0,kind:e})},function(){var t=boe(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:i,done:!1}:n=="values"?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values");lu.Arguments=lu.Array,Dc("keys"),Dc("values"),Dc("entries");var D0=Mt("iterator"),hk=Mt("toStringTag"),B0=_h.values;for(var j0 in Ux){var pk=Tt[j0],Lr=pk&&pk.prototype;if(Lr){if(Lr[D0]!==B0)try{Fi(Lr,D0,B0)}catch{Lr[D0]=B0}if(Lr[hk]||Fi(Lr,hk,j0),Ux[j0]){for(var oc in _h)if(Lr[oc]!==_h[oc])try{Fi(Lr,oc,_h[oc])}catch{Lr[oc]=_h[oc]}}}}var _oe=Mt("iterator"),Gx=!dt(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach(function(i,s){e.delete("b"),n+=s+i}),!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[_oe]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"}),lc=Object.assign,dk=Object.defineProperty,Bw=!lc||dt(function(){if($t&&lc({b:1},lc(dk({},"a",{enumerable:!0,get:function(){dk(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(s){e[s]=s}),lc({},t)[n]!=7||Zr(lc({},e)).join("")!=i})?function(t,e){for(var n=Tr(t),i=arguments.length,s=1,r=Wh.f,a=nd.f;i>s;)for(var o,l=id(arguments[s++]),c=r?Zr(l).concat(r(l)):Zr(l),h=c.length,p=0;h>p;)o=c[p++],$t&&!a.call(l,o)||(n[o]=l[o]);return n}:lc,xoe=/[^\0-\u007E]/,yoe=/[.\u3002\uFF0E\uFF61]/g,fk="Overflow: input needs wider integers to process",Cc=Math.floor,U0=String.fromCharCode,mk=function(t){return t+22+75*(t<26)},woe=function(t,e,n){var i=0;for(t=n?Cc(t/700):t>>1,t+=Cc(t/e);t>455;i+=36)t=Cc(t/35);return Cc(i+36*t/(t+38))},Soe=function(t){var e,n,i=[],s=(t=function(_){for(var y=[],T=0,C=_.length;T<C;){var A=_.charCodeAt(T++);if(A>=55296&&A<=56319&&T<C){var k=_.charCodeAt(T++);(64512&k)==56320?y.push(((1023&A)<<10)+(1023&k)+65536):(y.push(A),T--)}else y.push(A)}return y}(t)).length,r=128,a=0,o=72;for(e=0;e<t.length;e++)(n=t[e])<128&&i.push(U0(n));var l=i.length,c=l;for(l&&i.push("-");c<s;){var h=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=r&&n<h&&(h=n);var p=c+1;if(h-r>Cc((2147483647-a)/p))throw RangeError(fk);for(a+=(h-r)*p,r=h,e=0;e<t.length;e++){if((n=t[e])<r&&++a>2147483647)throw RangeError(fk);if(n==r){for(var d=a,g=36;;g+=36){var x=g<=o?1:g>=o+26?26:g-o;if(d<x)break;var S=d-x,m=36-x;i.push(U0(mk(x+S%m))),d=Cc(S/m)}i.push(U0(mk(d))),o=woe(a,p,c==l),a=0,++c}}++a,++r}return i.join("")},KN=function(t){var e=tg(t);if(typeof e!="function")throw TypeError(String(t)+" is not iterable");return en(e.call(t))},vk=Rl("fetch"),V0=Rl("Headers"),Coe=Mt("iterator"),YN=Yn.set,Bs=Yn.getterFor("URLSearchParams"),Eoe=Yn.getterFor("URLSearchParamsIterator"),Toe=/\+/g,gk=Array(4),koe=function(t){return gk[t-1]||(gk[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},Poe=function(t){try{return decodeURIComponent(t)}catch{return t}},bk=function(t){var e=t.replace(Toe," "),n=4;try{return decodeURIComponent(e)}catch{for(;n;)e=e.replace(koe(n--),Poe);return e}},Aoe=/[!'()~]|%20/g,Moe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Roe=function(t){return Moe[t]},_k=function(t){return encodeURIComponent(t).replace(Aoe,Roe)},XN=function(t,e){if(e)for(var n,i,s=e.split("&"),r=0;r<s.length;)(n=s[r++]).length&&(i=n.split("="),t.push({key:bk(i.shift()),value:bk(i.join("="))}))},Ioe=function(t){this.entries.length=0,XN(this.entries,t)},cc=function(t,e){if(t<e)throw TypeError("Not enough arguments")},$0=zN(function(t,e){YN(this,{type:"URLSearchParamsIterator",iterator:KN(Bs(t).entries),kind:e})},"Iterator",function(){var t=Eoe(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value=e==="keys"?i.key:e==="values"?i.value:[i.key,i.value]),n}),kp=function(){ig(this,kp,"URLSearchParams");var t,e,n,i,s,r,a,o,l,c=arguments.length>0?arguments[0]:void 0,h=this,p=[];if(YN(h,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:Ioe}),c!==void 0)if(kt(c))if(typeof(t=tg(c))=="function")for(n=(e=t.call(c)).next;!(i=n.call(e)).done;){if((a=(r=(s=KN(en(i.value))).next).call(s)).done||(o=r.call(s)).done||!r.call(s).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:o.value+""})}else for(l in c)qe(c,l)&&p.push({key:l,value:c[l]+""});else XN(p,typeof c=="string"?c.charAt(0)==="?"?c.slice(1):c:c+"")},Sf=kp.prototype;qm(Sf,{append:function(t,e){cc(arguments.length,2);var n=Bs(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){cc(arguments.length,1);for(var e=Bs(this),n=e.entries,i=t+"",s=0;s<n.length;)n[s].key===i?n.splice(s,1):s++;e.updateURL()},get:function(t){cc(arguments.length,1);for(var e=Bs(this).entries,n=t+"",i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){cc(arguments.length,1);for(var e=Bs(this).entries,n=t+"",i=[],s=0;s<e.length;s++)e[s].key===n&&i.push(e[s].value);return i},has:function(t){cc(arguments.length,1);for(var e=Bs(this).entries,n=t+"",i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){cc(arguments.length,1);for(var n,i=Bs(this),s=i.entries,r=!1,a=t+"",o=e+"",l=0;l<s.length;l++)(n=s[l]).key===a&&(r?s.splice(l--,1):(r=!0,n.value=o));r||s.push({key:a,value:o}),i.updateURL()},sort:function(){var t,e,n,i=Bs(this),s=i.entries,r=s.slice();for(s.length=0,n=0;n<r.length;n++){for(t=r[n],e=0;e<n;e++)if(s[e].key>t.key){s.splice(e,0,t);break}e===n&&s.push(t)}i.updateURL()},forEach:function(t){for(var e,n=Bs(this).entries,i=Zv(t,arguments.length>1?arguments[1]:void 0,3),s=0;s<n.length;)i((e=n[s++]).value,e.key,this)},keys:function(){return new $0(this,"keys")},values:function(){return new $0(this,"values")},entries:function(){return new $0(this,"entries")}},{enumerable:!0}),Pn(Sf,Coe,Sf.entries),Pn(Sf,"toString",function(){for(var t,e=Bs(this).entries,n=[],i=0;i<e.length;)t=e[i++],n.push(_k(t.key)+"="+_k(t.value));return n.join("&")},{enumerable:!0}),Su(kp,"URLSearchParams"),Ze({global:!0,forced:!Gx},{URLSearchParams:kp}),Gx||typeof vk!="function"||typeof V0!="function"||Ze({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,i,s=[t];return arguments.length>1&&(kt(e=arguments[1])&&(n=e.body,Rw(n)==="URLSearchParams"&&((i=e.headers?new V0(e.headers):new V0).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=aa(e,{body:ra(0,String(n)),headers:ra(0,i)}))),s.push(e)),vk.apply(this,s)}});var ds,QN={URLSearchParams:kp,getState:Bs},Ooe=Lw.codeAt,lh=Tt.URL,Noe=QN.URLSearchParams,Kx=QN.getState,Loe=Yn.set,Xt=Yn.getterFor("URL"),Foe=Math.floor,xk=Math.pow,JN=/[A-Za-z]/,Doe=/[\d+-.A-Za-z]/,Yx=/\d/,Boe=/^(0x|0X)/,joe=/^[0-7]+$/,Uoe=/^\d+$/,ZN=/^[\dA-Fa-f]+$/,Voe=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,$oe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,zoe=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Hoe=/[\u0009\u000A\u000D]/g,z0=function(t,e){var n,i,s;if(e.charAt(0)=="["){if(e.charAt(e.length-1)!="]"||!(n=Woe(e.slice(1,-1))))return"Invalid host";t.host=n}else if(Mn(t)){if(e=function(r){var a,o,l=[],c=r.toLowerCase().replace(yoe,".").split(".");for(a=0;a<c.length;a++)o=c[a],l.push(xoe.test(o)?"xn--"+Soe(o):o);return l.join(".")}(e),Voe.test(e)||(n=qoe(e))===null)return"Invalid host";t.host=n}else{if($oe.test(e))return"Invalid host";for(n="",i=sl(e),s=0;s<i.length;s++)n+=Ua(i[s],Wm);t.host=n}},qoe=function(t){var e,n,i,s,r,a,o,l=t.split(".");if(l.length&&l[l.length-1]==""&&l.pop(),(e=l.length)>4)return t;for(n=[],i=0;i<e;i++){if((s=l[i])=="")return t;if(r=10,s.length>1&&s.charAt(0)=="0"&&(r=Boe.test(s)?16:8,s=s.slice(r==8?1:2)),s==="")a=0;else{if(!(r==10?Uoe:r==8?joe:ZN).test(s))return t;a=parseInt(s,r)}n.push(a)}for(i=0;i<e;i++)if(a=n[i],i==e-1){if(a>=xk(256,5-e))return null}else if(a>255)return null;for(o=n.pop(),i=0;i<n.length;i++)o+=n[i]*xk(256,3-i);return o},Woe=function(t){var e,n,i,s,r,a,o,l=[0,0,0,0,0,0,0,0],c=0,h=null,p=0,d=function(){return t.charAt(p)};if(d()==":"){if(t.charAt(1)!=":")return;p+=2,h=++c}for(;d();){if(c==8)return;if(d()!=":"){for(e=n=0;n<4&&ZN.test(d());)e=16*e+parseInt(d(),16),p++,n++;if(d()=="."){if(n==0||(p-=n,c>6))return;for(i=0;d();){if(s=null,i>0){if(!(d()=="."&&i<4))return;p++}if(!Yx.test(d()))return;for(;Yx.test(d());){if(r=parseInt(d(),10),s===null)s=r;else{if(s==0)return;s=10*s+r}if(s>255)return;p++}l[c]=256*l[c]+s,++i!=2&&i!=4||c++}if(i!=4)return;break}if(d()==":"){if(p++,!d())return}else if(d())return;l[c++]=e}else{if(h!==null)return;p++,h=++c}}if(h!==null)for(a=c-h,c=7;c!=0&&a>0;)o=l[c],l[c--]=l[h+a-1],l[h+--a]=o;else if(c!=8)return;return l},Pp=function(t){var e,n,i,s;if(typeof t=="number"){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=Foe(t/256);return e.join(".")}if(typeof t=="object"){for(e="",i=function(r){for(var a=null,o=1,l=null,c=0,h=0;h<8;h++)r[h]!==0?(c>o&&(a=l,o=c),l=null,c=0):(l===null&&(l=h),++c);return c>o&&(a=l,o=c),a}(t),n=0;n<8;n++)s&&t[n]===0||(s&&(s=!1),i===n?(e+=n?":":"::",s=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},Wm={},eL=Bw({},Wm,{" ":1,'"':1,"<":1,">":1,"`":1}),tL=Bw({},eL,{"#":1,"?":1,"{":1,"}":1}),Xx=Bw({},tL,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ua=function(t,e){var n=Ooe(t,0);return n>32&&n<127&&!qe(e,t)?t:encodeURIComponent(t)},Df={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Mn=function(t){return qe(Df,t.scheme)},Qx=function(t){return t.username!=""||t.password!=""},H0=function(t){return!t.host||t.cannotBeABaseURL||t.scheme=="file"},Xh=function(t,e){var n;return t.length==2&&JN.test(t.charAt(0))&&((n=t.charAt(1))==":"||!e&&n=="|")},yk=function(t){var e;return t.length>1&&Xh(t.slice(0,2))&&(t.length==2||(e=t.charAt(2))==="/"||e==="\\"||e==="?"||e==="#")},wk=function(t){var e=t.path,n=e.length;!n||t.scheme=="file"&&n==1&&Xh(e[0],!0)||e.pop()},Goe=function(t){return t==="."||t.toLowerCase()==="%2e"},Jx={},Sk={},q0={},Ck={},Ek={},W0={},Tk={},kk={},Cf={},Ef={},Zx={},ey={},ty={},G0={},Pk={},K0={},gc={},nr={},Ak={},Vo={},Dr={},rr=function(t,e,n,i){var s,r,a,o,l,c=n||Jx,h=0,p="",d=!1,g=!1,x=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(zoe,"")),e=e.replace(Hoe,""),s=sl(e);h<=s.length;){switch(r=s[h],c){case Jx:if(!r||!JN.test(r)){if(n)return"Invalid scheme";c=q0;continue}p+=r.toLowerCase(),c=Sk;break;case Sk:if(r&&(Doe.test(r)||r=="+"||r=="-"||r=="."))p+=r.toLowerCase();else{if(r!=":"){if(n)return"Invalid scheme";p="",c=q0,h=0;continue}if(n&&(Mn(t)!=qe(Df,p)||p=="file"&&(Qx(t)||t.port!==null)||t.scheme=="file"&&!t.host))return;if(t.scheme=p,n)return void(Mn(t)&&Df[t.scheme]==t.port&&(t.port=null));p="",t.scheme=="file"?c=G0:Mn(t)&&i&&i.scheme==t.scheme?c=Ck:Mn(t)?c=kk:s[h+1]=="/"?(c=Ek,h++):(t.cannotBeABaseURL=!0,t.path.push(""),c=Ak)}break;case q0:if(!i||i.cannotBeABaseURL&&r!="#")return"Invalid scheme";if(i.cannotBeABaseURL&&r=="#"){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,c=Dr;break}c=i.scheme=="file"?G0:W0;continue;case Ck:if(r!="/"||s[h+1]!="/"){c=W0;continue}c=Cf,h++;break;case Ek:if(r=="/"){c=Ef;break}c=nr;continue;case W0:if(t.scheme=i.scheme,r==ds)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if(r=="/"||r=="\\"&&Mn(t))c=Tk;else if(r=="?")t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",c=Vo;else{if(r!="#"){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),c=nr;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=Dr}break;case Tk:if(!Mn(t)||r!="/"&&r!="\\"){if(r!="/"){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,c=nr;continue}c=Ef}else c=Cf;break;case kk:if(c=Cf,r!="/"||p.charAt(h+1)!="/")continue;h++;break;case Cf:if(r!="/"&&r!="\\"){c=Ef;continue}break;case Ef:if(r=="@"){d&&(p="%40"+p),d=!0,a=sl(p);for(var S=0;S<a.length;S++){var m=a[S];if(m!=":"||x){var _=Ua(m,Xx);x?t.password+=_:t.username+=_}else x=!0}p=""}else if(r==ds||r=="/"||r=="?"||r=="#"||r=="\\"&&Mn(t)){if(d&&p=="")return"Invalid authority";h-=sl(p).length+1,p="",c=Zx}else p+=r;break;case Zx:case ey:if(n&&t.scheme=="file"){c=K0;continue}if(r!=":"||g){if(r==ds||r=="/"||r=="?"||r=="#"||r=="\\"&&Mn(t)){if(Mn(t)&&p=="")return"Invalid host";if(n&&p==""&&(Qx(t)||t.port!==null))return;if(o=z0(t,p))return o;if(p="",c=gc,n)return;continue}r=="["?g=!0:r=="]"&&(g=!1),p+=r}else{if(p=="")return"Invalid host";if(o=z0(t,p))return o;if(p="",c=ty,n==ey)return}break;case ty:if(!Yx.test(r)){if(r==ds||r=="/"||r=="?"||r=="#"||r=="\\"&&Mn(t)||n){if(p!=""){var y=parseInt(p,10);if(y>65535)return"Invalid port";t.port=Mn(t)&&y===Df[t.scheme]?null:y,p=""}if(n)return;c=gc;continue}return"Invalid port"}p+=r;break;case G0:if(t.scheme="file",r=="/"||r=="\\")c=Pk;else{if(!i||i.scheme!="file"){c=nr;continue}if(r==ds)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if(r=="?")t.host=i.host,t.path=i.path.slice(),t.query="",c=Vo;else{if(r!="#"){yk(s.slice(h).join(""))||(t.host=i.host,t.path=i.path.slice(),wk(t)),c=nr;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",c=Dr}}break;case Pk:if(r=="/"||r=="\\"){c=K0;break}i&&i.scheme=="file"&&!yk(s.slice(h).join(""))&&(Xh(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),c=nr;continue;case K0:if(r==ds||r=="/"||r=="\\"||r=="?"||r=="#"){if(!n&&Xh(p))c=nr;else if(p==""){if(t.host="",n)return;c=gc}else{if(o=z0(t,p))return o;if(t.host=="localhost"&&(t.host=""),n)return;p="",c=gc}continue}p+=r;break;case gc:if(Mn(t)){if(c=nr,r!="/"&&r!="\\")continue}else if(n||r!="?")if(n||r!="#"){if(r!=ds&&(c=nr,r!="/"))continue}else t.fragment="",c=Dr;else t.query="",c=Vo;break;case nr:if(r==ds||r=="/"||r=="\\"&&Mn(t)||!n&&(r=="?"||r=="#")){if((l=(l=p).toLowerCase())===".."||l==="%2e."||l===".%2e"||l==="%2e%2e"?(wk(t),r=="/"||r=="\\"&&Mn(t)||t.path.push("")):Goe(p)?r=="/"||r=="\\"&&Mn(t)||t.path.push(""):(t.scheme=="file"&&!t.path.length&&Xh(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="",t.scheme=="file"&&(r==ds||r=="?"||r=="#"))for(;t.path.length>1&&t.path[0]==="";)t.path.shift();r=="?"?(t.query="",c=Vo):r=="#"&&(t.fragment="",c=Dr)}else p+=Ua(r,tL);break;case Ak:r=="?"?(t.query="",c=Vo):r=="#"?(t.fragment="",c=Dr):r!=ds&&(t.path[0]+=Ua(r,Wm));break;case Vo:n||r!="#"?r!=ds&&(r=="'"&&Mn(t)?t.query+="%27":t.query+=r=="#"?"%23":Ua(r,Wm)):(t.fragment="",c=Dr);break;case Dr:r!=ds&&(t.fragment+=Ua(r,eL))}h++}},gl=function(t){var e,n,i=ig(this,gl,"URL"),s=arguments.length>1?arguments[1]:void 0,r=String(t),a=Loe(i,{type:"URL"});if(s!==void 0){if(s instanceof gl)e=Xt(s);else if(n=rr(e={},String(s)))throw TypeError(n)}if(n=rr(a,r,null,e))throw TypeError(n);var o=a.searchParams=new Noe,l=Kx(o);l.updateSearchParams(a.query),l.updateURL=function(){a.query=String(o)||null},$t||(i.href=Bf.call(i),i.origin=nL.call(i),i.protocol=iL.call(i),i.username=sL.call(i),i.password=rL.call(i),i.host=aL.call(i),i.hostname=oL.call(i),i.port=lL.call(i),i.pathname=cL.call(i),i.search=uL.call(i),i.searchParams=hL.call(i),i.hash=pL.call(i))},Y0=gl.prototype,Bf=function(){var t=Xt(this),e=t.scheme,n=t.username,i=t.password,s=t.host,r=t.port,a=t.path,o=t.query,l=t.fragment,c=e+":";return s!==null?(c+="//",Qx(t)&&(c+=n+(i?":"+i:"")+"@"),c+=Pp(s),r!==null&&(c+=":"+r)):e=="file"&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",o!==null&&(c+="?"+o),l!==null&&(c+="#"+l),c},nL=function(){var t=Xt(this),e=t.scheme,n=t.port;if(e=="blob")try{return new URL(e.path[0]).origin}catch{return"null"}return e!="file"&&Mn(t)?e+"://"+Pp(t.host)+(n!==null?":"+n:""):"null"},iL=function(){return Xt(this).scheme+":"},sL=function(){return Xt(this).username},rL=function(){return Xt(this).password},aL=function(){var t=Xt(this),e=t.host,n=t.port;return e===null?"":n===null?Pp(e):Pp(e)+":"+n},oL=function(){var t=Xt(this).host;return t===null?"":Pp(t)},lL=function(){var t=Xt(this).port;return t===null?"":String(t)},cL=function(){var t=Xt(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},uL=function(){var t=Xt(this).query;return t?"?"+t:""},hL=function(){return Xt(this).searchParams},pL=function(){var t=Xt(this).fragment;return t?"#"+t:""},fs=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if($t&&bN(Y0,{href:fs(Bf,function(t){var e=Xt(this),n=String(t),i=rr(e,n);if(i)throw TypeError(i);Kx(e.searchParams).updateSearchParams(e.query)}),origin:fs(nL),protocol:fs(iL,function(t){var e=Xt(this);rr(e,String(t)+":",Jx)}),username:fs(sL,function(t){var e=Xt(this),n=sl(String(t));if(!H0(e)){e.username="";for(var i=0;i<n.length;i++)e.username+=Ua(n[i],Xx)}}),password:fs(rL,function(t){var e=Xt(this),n=sl(String(t));if(!H0(e)){e.password="";for(var i=0;i<n.length;i++)e.password+=Ua(n[i],Xx)}}),host:fs(aL,function(t){var e=Xt(this);e.cannotBeABaseURL||rr(e,String(t),Zx)}),hostname:fs(oL,function(t){var e=Xt(this);e.cannotBeABaseURL||rr(e,String(t),ey)}),port:fs(lL,function(t){var e=Xt(this);H0(e)||((t=String(t))==""?e.port=null:rr(e,t,ty))}),pathname:fs(cL,function(t){var e=Xt(this);e.cannotBeABaseURL||(e.path=[],rr(e,t+"",gc))}),search:fs(uL,function(t){var e=Xt(this);(t=String(t))==""?e.query=null:(t.charAt(0)=="?"&&(t=t.slice(1)),e.query="",rr(e,t,Vo)),Kx(e.searchParams).updateSearchParams(e.query)}),searchParams:fs(hL),hash:fs(pL,function(t){var e=Xt(this);(t=String(t))!=""?(t.charAt(0)=="#"&&(t=t.slice(1)),e.fragment="",rr(e,t,Dr)):e.fragment=null})}),Pn(Y0,"toJSON",function(){return Bf.call(this)},{enumerable:!0}),Pn(Y0,"toString",function(){return Bf.call(this)},{enumerable:!0}),lh){var Mk=lh.createObjectURL,Rk=lh.revokeObjectURL;Mk&&Pn(gl,"createObjectURL",function(t){return Mk.apply(lh,arguments)}),Rk&&Pn(gl,"revokeObjectURL",function(t){return Rk.apply(lh,arguments)})}function Ol(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ik(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Nl(t,e,n){return e&&Ik(t.prototype,e),n&&Ik(t,n),t}function ny(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(i){ny(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Koe(t,e){if(t==null)return{};var n,i,s=function(a,o){if(a==null)return{};var l,c,h={},p=Object.keys(a);for(c=0;c<p.length;c++)l=p[c],o.indexOf(l)>=0||(h[l]=a[l]);return h}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Dn(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n)){var s=[],r=!0,a=!1,o=void 0;try{for(var l,c=n[Symbol.iterator]();!(r=(l=c.next()).done)&&(s.push(l.value),!i||s.length!==i);r=!0);}catch(h){a=!0,o=h}finally{try{r||c.return==null||c.return()}finally{if(a)throw o}}return s}}(t,e)||dL(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iy(t){return function(e){if(Array.isArray(e))return sy(e)}(t)||function(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}(t)||dL(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dL(t,e){if(t){if(typeof t=="string")return sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sy(t,e):void 0}}function sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Nk(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Yoe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(i){Yoe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}Su(gl,"URL"),Ze({global:!0,forced:!Gx,sham:!$t},{URL:gl});var Dk={addCSS:!0,thumbWidth:15,watch:!0};function Xoe(t,e){return function(){return Array.from(document.querySelectorAll(e)).includes(this)}.call(t,e)}var fL=function(t){return t!=null?t.constructor:null},jw=function(t,e){return!!(t&&e&&t instanceof e)},Qoe=function(t){return t==null},Joe=function(t){return fL(t)===Object},mL=function(t){return fL(t)===String},vL=function(t){return Array.isArray(t)},gL=function(t){return jw(t,NodeList)},Tf=mL,Zoe=vL,ele=gL,ch=function(t){return jw(t,Element)},Bk=function(t){return jw(t,Event)},X0=function(t){return Qoe(t)||(mL(t)||vL(t)||gL(t))&&!t.length||Joe(t)&&!Object.keys(t).length};function tle(t,e){if(1>e){var n=function(i){var s="".concat(i).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return s?Math.max(0,(s[1]?s[1].length:0)-(s[2]?+s[2]:0)):0}(e);return parseFloat(t.toFixed(n))}return Math.round(t/e)*e}var jk,Q0,J0,nle=function(){function t(e,n){(function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),ch(e)?this.element=e:Tf(e)&&(this.element=document.querySelector(e)),ch(this.element)&&X0(this.element.rangeTouch)&&(this.config=Fk({},Dk,{},n),this.init())}return function(e,n,i){n&&Nk(e.prototype,n),i&&Nk(e,i)}(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var n=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(s){n.element[i](s,function(r){return n.set(r)},!1)})}},{key:"get",value:function(e){if(!t.enabled||!Bk(e))return null;var n,i=e.target,s=e.changedTouches[0],r=parseFloat(i.getAttribute("min"))||0,a=parseFloat(i.getAttribute("max"))||100,o=parseFloat(i.getAttribute("step"))||1,l=i.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(s.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*c:50<n&&(n+=2*(n-50)*c),r+tle(n/100*(a-r),o)}},{key:"set",value:function(e){t.enabled&&Bk(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(n,i){if(n&&i){var s=new Event(i,{bubbles:!0});n.dispatchEvent(s)}}(e.target,e.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(e){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=null;if(X0(e)||Tf(e)?i=Array.from(document.querySelectorAll(Tf(e)?e:'input[type="range"]')):ch(e)?i=[e]:ele(e)?i=Array.from(e):Zoe(e)&&(i=e.filter(ch)),X0(i))return null;var s=Fk({},Dk,{},n);if(Tf(e)&&s.watch){var r=new MutationObserver(function(a){Array.from(a).forEach(function(o){Array.from(o.addedNodes).forEach(function(l){ch(l)&&Xoe(l,e)&&new t(l,s)})})});r.observe(document.body,{childList:!0,subtree:!0})}return i.map(function(a){return new t(a,n)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}(),ld=function(t){return t!=null?t.constructor:null},Ll=function(t,e){return Boolean(t&&e&&t instanceof e)},Uw=function(t){return t==null},bL=function(t){return ld(t)===Object},sg=function(t){return ld(t)===String},_L=function(t){return ld(t)===Function},xL=function(t){return Array.isArray(t)},yL=function(t){return Ll(t,NodeList)},wL=function(t){return Uw(t)||(sg(t)||xL(t)||yL(t))&&!t.length||bL(t)&&!Object.keys(t).length},hu=Uw,Cr=bL,Yt=function(t){return ld(t)===Number&&!Number.isNaN(t)},mn=sg,Yi=function(t){return ld(t)===Boolean},qt=_L,an=xL,Ap=yL,Re=function(t){return Ll(t,Element)},zo=function(t){return Ll(t,Event)},bc=function(t){return Ll(t,KeyboardEvent)},Uk=function(t){return Ll(t,TextTrack)||!Uw(t)&&sg(t.kind)},ile=function(t){return Ll(t,Promise)&&_L(t.then)},Mp=function(t){if(Ll(t,window.URL))return!0;if(!sg(t))return!1;var e=t;t.startsWith("http://")&&t.startsWith("https://")||(e="http://".concat(t));try{return!wL(new URL(e).hostname)}catch{return!1}},Fe=wL,ry=(jk=document.createElement("span"),Q0={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},J0=Object.keys(Q0).find(function(t){return jk.style[t]!==void 0}),!!mn(J0)&&Q0[J0]);function SL(t,e){setTimeout(function(){try{t.hidden=!0,t.offsetHeight,t.hidden=!1}catch{}},e)}var Hn={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function CL(t,e){return e.split(".").reduce(function(n,i){return n&&n[i]},t)}function pn(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!n.length)return t;var s=n.shift();return Cr(s)?(Object.keys(s).forEach(function(r){Cr(s[r])?(Object.keys(t).includes(r)||Object.assign(t,ny({},r,{})),pn(t[r],s[r])):Object.assign(t,ny({},r,s[r]))}),pn.apply(void 0,[t].concat(n))):t}function EL(t,e){var n=t.length?t:[t];Array.from(n).reverse().forEach(function(i,s){var r=s>0?e.cloneNode(!0):e,a=i.parentNode,o=i.nextSibling;r.appendChild(i),o?a.insertBefore(r,o):a.appendChild(r)})}function ay(t,e){Re(t)&&!Fe(e)&&Object.entries(e).filter(function(n){var i=Dn(n,2)[1];return!hu(i)}).forEach(function(n){var i=Dn(n,2),s=i[0],r=i[1];return t.setAttribute(s,r)})}function Ye(t,e,n){var i=document.createElement(t);return Cr(e)&&ay(i,e),mn(n)&&(i.innerText=n),i}function Vk(t,e,n,i){Re(e)&&e.appendChild(Ye(t,n,i))}function Wr(t){Ap(t)||an(t)?Array.from(t).forEach(Wr):Re(t)&&Re(t.parentNode)&&t.parentNode.removeChild(t)}function jf(t){if(Re(t))for(var e=t.childNodes.length;e>0;)t.removeChild(t.lastChild),e-=1}function Gm(t,e){return Re(e)&&Re(e.parentNode)&&Re(t)?(e.parentNode.replaceChild(t,e),t):null}function ar(t,e){if(!mn(t)||Fe(t))return{};var n={},i=pn({},e);return t.split(",").forEach(function(s){var r=s.trim(),a=r.replace(".",""),o=r.replace(/[[\]]/g,"").split("="),l=Dn(o,1)[0],c=o.length>1?o[1].replace(/["']/g,""):"";switch(r.charAt(0)){case".":mn(i.class)?n.class="".concat(i.class," ").concat(a):n.class=a;break;case"#":n.id=r.replace("#","");break;case"[":n[l]=c}}),pn(i,n)}function No(t,e){if(Re(t)){var n=e;Yi(n)||(n=!t.hidden),t.hidden=n}}function pt(t,e,n){if(Ap(t))return Array.from(t).map(function(s){return pt(s,e,n)});if(Re(t)){var i="toggle";return n!==void 0&&(i=n?"add":"remove"),t.classList[i](e),t.classList.contains(e)}return!1}function Km(t,e){return Re(t)&&t.classList.contains(e)}function Yo(t,e){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}function Bc(t){return this.elements.container.querySelectorAll(t)}function wn(t){return this.elements.container.querySelector(t)}function Z0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];Re(t)&&(t.focus({preventScroll:!0}),e&&pt(t,this.config.classNames.tabFocus))}var $k={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},sn={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(t,e,n){var i=Hn.isIPhone&&n&&sn.playsinline,s=sn[t]||e!=="html5";return{api:s,ui:s&&sn.rangeInput&&(t!=="video"||!Hn.isIPhone||i)}},pip:!(Hn.isIPhone||!qt(Ye("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||Ye("video").disablePictureInPicture)),airplay:qt(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(t){if(Fe(t))return!1;var e=Dn(t.split("/"),1)[0],n=t;if(!this.isHTML5||e!==this.type)return!1;Object.keys($k).includes(n)&&(n+='; codecs="'.concat($k[t],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:function(){var t=document.createElement("input");return t.type="range",t.type==="range"}(),touch:"ontouchstart"in document.documentElement,transitions:ry!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},sle=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,null}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function jc(t,e,n){var i=this,s=arguments.length>3&&arguments[3]!==void 0&&arguments[3],r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(t&&"addEventListener"in t&&!Fe(e)&&qt(n)){var o=e.split(" "),l=a;sle&&(l={passive:r,capture:a}),o.forEach(function(c){i&&i.eventListeners&&s&&i.eventListeners.push({element:t,type:c,callback:n,options:l}),t[s?"addEventListener":"removeEventListener"](c,n,l)})}}function ht(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=arguments.length>4&&arguments[4]!==void 0&&arguments[4];jc.call(this,t,e,n,!0,i,s)}function rg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=arguments.length>4&&arguments[4]!==void 0&&arguments[4];jc.call(this,t,e,n,!1,i,s)}function Vw(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],r=arguments.length>4&&arguments[4]!==void 0&&arguments[4],a=function o(){rg(t,n,o,s,r);for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];i.apply(e,c)};jc.call(this,t,n,a,!0,s,r)}function Ge(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(Re(t)&&!Fe(e)){var s=new CustomEvent(e,{bubbles:n,detail:uu(uu({},i),{},{plyr:this})});t.dispatchEvent(s)}}function rle(){this&&this.eventListeners&&(this.eventListeners.forEach(function(t){var e=t.element,n=t.type,i=t.callback,s=t.options;e.removeEventListener(n,i,s)}),this.eventListeners=[])}function ale(){var t=this;return new Promise(function(e){return t.ready?setTimeout(e,0):ht.call(t,t.elements.container,"ready",e)}).then(function(){})}function pr(t){ile(t)&&t.then(null,function(){})}function TL(t){return!!(an(t)||mn(t)&&t.includes(":"))&&(an(t)?t:t.split(":")).map(Number).every(Yt)}function kL(t){if(!an(t)||!t.every(Yt))return null;var e=Dn(t,2),n=e[0],i=e[1],s=function r(a,o){return o===0?a:r(o,a%o)}(n,i);return[n/s,i/s]}function $w(t){var e=function(s){return TL(s)?s.split(":").map(Number):null},n=e(t);if(n===null&&(n=e(this.config.ratio)),n===null&&!Fe(this.embed)&&an(this.embed.ratio)&&(n=this.embed.ratio),n===null&&this.isHTML5){var i=this.media;n=kL([i.videoWidth,i.videoHeight])}return n}function uo(t){if(!this.isVideo)return{};var e=this.elements.wrapper,n=$w.call(this,t),i=Dn(an(n)?n:[0,0],2),s=100/i[0]*i[1];if(e.style.paddingBottom="".concat(s,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var r=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(r-s)/(r/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(a,"%)")}else this.isHTML5&&e.classList.toggle(this.config.classNames.videoFixedRatio,n!==null);return{padding:s,ratio:n}}var qa={getSources:function(){var t=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(e){var n=e.getAttribute("type");return!!Fe(n)||sn.mime.call(t,n)}):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:qa.getSources.call(this).map(function(t){return Number(t.getAttribute("size"))}).filter(Boolean)},setup:function(){if(this.isHTML5){var t=this;t.options.speed=t.config.speed.options,Fe(this.config.ratio)||uo.call(t),Object.defineProperty(t.media,"quality",{get:function(){var e=qa.getSources.call(t).find(function(n){return n.getAttribute("src")===t.source});return e&&Number(e.getAttribute("size"))},set:function(e){if(t.quality!==e){if(t.config.quality.forced&&qt(t.config.quality.onChange))t.config.quality.onChange(e);else{var n=qa.getSources.call(t).find(function(c){return Number(c.getAttribute("size"))===e});if(!n)return;var i=t.media,s=i.currentTime,r=i.paused,a=i.preload,o=i.readyState,l=i.playbackRate;t.media.src=n.getAttribute("src"),(a!=="none"||o)&&(t.once("loadedmetadata",function(){t.speed=l,t.currentTime=s,r||pr(t.play())}),t.media.load())}Ge.call(t,t.media,"qualitychange",!1,{quality:e})}}})}},cancelRequests:function(){this.isHTML5&&(Wr(qa.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function oy(t){return an(t)?t.filter(function(e,n){return t.indexOf(e)===n}):t}function ly(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Fe(t)?t:t.toString().replace(/{(\d+)}/g,function(s,r){return n[r].toString()})}var Qh=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString())},PL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t.toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};function ole(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.toString();return e=Qh(e,"-"," "),e=Qh(e,"_"," "),e=PL(e),Qh(e," ","")}function lle(t){var e=document.createElement("div");return e.appendChild(t),e.innerHTML}var zk={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Rn=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Fe(t)||Fe(e))return"";var n=CL(e.i18n,t);if(Fe(n))return Object.keys(zk).includes(t)?zk[t]:"";var i={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(i).forEach(function(s){var r=Dn(s,2),a=r[0],o=r[1];n=Qh(n,a,o)}),n},AL=function(){function t(e){Ol(this,t),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}return Nl(t,[{key:"get",value:function(e){if(!t.supported||!this.enabled)return null;var n=window.localStorage.getItem(this.key);if(Fe(n))return null;var i=JSON.parse(n);return mn(e)&&e.length?i[e]:i}},{key:"set",value:function(e){if(t.supported&&this.enabled&&Cr(e)){var n=this.get();Fe(n)&&(n={}),pn(n,e),window.localStorage.setItem(this.key,JSON.stringify(n))}}}],[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}}]),t}();function cd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"text";return new Promise(function(n,i){try{var s=new XMLHttpRequest;if(!("withCredentials"in s))return;s.addEventListener("load",function(){if(e==="text")try{n(JSON.parse(s.responseText))}catch{n(s.responseText)}else n(s.response)}),s.addEventListener("error",function(){throw new Error(s.status)}),s.open("GET",t,!0),s.responseType=e,s.send()}catch(r){i(r)}})}function ML(t,e){if(mn(t)){var n="cache",i=mn(e),s=function(){return document.getElementById(e)!==null},r=function(h,p){h.innerHTML=p,i&&s()||document.body.insertAdjacentElement("afterbegin",h)};if(!i||!s()){var a=AL.supported,o=document.createElement("div");if(o.setAttribute("hidden",""),i&&o.setAttribute("id",e),a){var l=window.localStorage.getItem("".concat(n,"-").concat(e));if(l!==null){var c=JSON.parse(l);r(o,c.content)}}cd(t).then(function(h){Fe(h)||(a&&window.localStorage.setItem("".concat(n,"-").concat(e),JSON.stringify({content:h})),r(o,h))}).catch(function(){})}}}var RL=function(t){return Math.trunc(t/60/60%60,10)},cle=function(t){return Math.trunc(t/60%60,10)},ule=function(t){return Math.trunc(t%60,10)};function ag(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!Yt(t))return ag(void 0,e,n);var i=function(o){return"0".concat(o).slice(-2)},s=RL(t),r=cle(t),a=ule(t);return s=e||s>0?"".concat(s,":"):"","".concat(n&&t>0?"-":"").concat(s).concat(i(r),":").concat(i(a))}var Ce={getIconUrl:function(){var t=new URL(this.config.iconUrl,window.location).host!==window.location.host||Hn.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements:function(){try{return this.elements.controls=wn.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Bc.call(this,this.config.selectors.buttons.play),pause:wn.call(this,this.config.selectors.buttons.pause),restart:wn.call(this,this.config.selectors.buttons.restart),rewind:wn.call(this,this.config.selectors.buttons.rewind),fastForward:wn.call(this,this.config.selectors.buttons.fastForward),mute:wn.call(this,this.config.selectors.buttons.mute),pip:wn.call(this,this.config.selectors.buttons.pip),airplay:wn.call(this,this.config.selectors.buttons.airplay),settings:wn.call(this,this.config.selectors.buttons.settings),captions:wn.call(this,this.config.selectors.buttons.captions),fullscreen:wn.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=wn.call(this,this.config.selectors.progress),this.elements.inputs={seek:wn.call(this,this.config.selectors.inputs.seek),volume:wn.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:wn.call(this,this.config.selectors.display.buffer),currentTime:wn.call(this,this.config.selectors.display.currentTime),duration:wn.call(this,this.config.selectors.display.duration)},Re(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon:function(t,e){var n="http://www.w3.org/2000/svg",i=Ce.getIconUrl.call(this),s="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),r=document.createElementNS(n,"svg");ay(r,pn(e,{"aria-hidden":"true",focusable:"false"}));var a=document.createElementNS(n,"use"),o="".concat(s,"-").concat(t);return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",o),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),r.appendChild(a),r},createLabel:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Rn(t,this.config),i=uu(uu({},e),{},{class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")});return Ye("span",i,n)},createBadge:function(t){if(Fe(t))return null;var e=Ye("span",{class:this.config.classNames.menu.value});return e.appendChild(Ye("span",{class:this.config.classNames.menu.badge},t)),e},createButton:function(t,e){var n=this,i=pn({},e),s=function(){var o=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").toString();return(o=ole(o)).charAt(0).toLowerCase()+o.slice(1)}(t),r={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(o){Object.keys(i).includes(o)&&(r[o]=i[o],delete i[o])}),r.element!=="button"||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(function(o){return o===n.config.classNames.control})||pn(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,t){case"play":r.toggle=!0,r.label="play",r.labelPressed="pause",r.icon="play",r.iconPressed="pause";break;case"mute":r.toggle=!0,r.label="mute",r.labelPressed="unmute",r.icon="volume",r.iconPressed="muted";break;case"captions":r.toggle=!0,r.label="enableCaptions",r.labelPressed="disableCaptions",r.icon="captions-off",r.iconPressed="captions-on";break;case"fullscreen":r.toggle=!0,r.label="enterFullscreen",r.labelPressed="exitFullscreen",r.icon="enter-fullscreen",r.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),s="play",r.label="play",r.icon="play";break;default:Fe(r.label)&&(r.label=s),Fe(r.icon)&&(r.icon=t)}var a=Ye(r.element);return r.toggle?(a.appendChild(Ce.createIcon.call(this,r.iconPressed,{class:"icon--pressed"})),a.appendChild(Ce.createIcon.call(this,r.icon,{class:"icon--not-pressed"})),a.appendChild(Ce.createLabel.call(this,r.labelPressed,{class:"label--pressed"})),a.appendChild(Ce.createLabel.call(this,r.label,{class:"label--not-pressed"}))):(a.appendChild(Ce.createIcon.call(this,r.icon)),a.appendChild(Ce.createLabel.call(this,r.label))),pn(i,ar(this.config.selectors.buttons[s],i)),ay(a,i),s==="play"?(an(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(a)):this.elements.buttons[s]=a,a},createRange:function(t,e){var n=Ye("input",pn(ar(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Rn(t,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=n,Ce.updateRangeFill.call(this,n),nle.setup(n),n},createProgress:function(t,e){var n=Ye("progress",pn(ar(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if(t!=="volume"){n.appendChild(Ye("span",null,"0"));var i={played:"played",buffer:"buffered"}[t],s=i?Rn(i,this.config):"";n.innerText="% ".concat(s.toLowerCase())}return this.elements.display[t]=n,n},createTime:function(t,e){var n=ar(this.config.selectors.display[t],e),i=Ye("div",pn(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Rn(t,this.config)}),"00:00");return this.elements.display[t]=i,i},bindMenuItemShortcuts:function(t,e){var n=this;ht.call(this,t,"keydown keyup",function(i){if([32,38,39,40].includes(i.which)&&(i.preventDefault(),i.stopPropagation(),i.type!=="keydown")){var s,r=Yo(t,'[role="menuitemradio"]');!r&&[32,39].includes(i.which)?Ce.showMenuPanel.call(n,e,!0):i.which!==32&&(i.which===40||r&&i.which===39?(s=t.nextElementSibling,Re(s)||(s=t.parentNode.firstElementChild)):(s=t.previousElementSibling,Re(s)||(s=t.parentNode.lastElementChild)),Z0.call(n,s,!0))}},!1),ht.call(this,t,"keyup",function(i){i.which===13&&Ce.focusFirstMenuItem.call(n,null,!0)})},createMenuItem:function(t){var e=this,n=t.value,i=t.list,s=t.type,r=t.title,a=t.badge,o=a===void 0?null:a,l=t.checked,c=l!==void 0&&l,h=ar(this.config.selectors.inputs[s]),p=Ye("button",pn(h,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(h.class?h.class:"").trim(),"aria-checked":c,value:n})),d=Ye("span");d.innerHTML=r,Re(o)&&d.appendChild(o),p.appendChild(d),Object.defineProperty(p,"checked",{enumerable:!0,get:function(){return p.getAttribute("aria-checked")==="true"},set:function(g){g&&Array.from(p.parentNode.children).filter(function(x){return Yo(x,'[role="menuitemradio"]')}).forEach(function(x){return x.setAttribute("aria-checked","false")}),p.setAttribute("aria-checked",g?"true":"false")}}),this.listeners.bind(p,"click keyup",function(g){if(!bc(g)||g.which===32){switch(g.preventDefault(),g.stopPropagation(),p.checked=!0,s){case"language":e.currentTrack=Number(n);break;case"quality":e.quality=n;break;case"speed":e.speed=parseFloat(n)}Ce.showMenuPanel.call(e,"home",bc(g))}},s,!1),Ce.bindMenuItemShortcuts.call(this,p,s),i.appendChild(p)},formatTime:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!Yt(t))return t;var n=RL(this.duration)>0;return ag(t,n,e)},updateTimeDisplay:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];Re(t)&&Yt(e)&&(t.innerText=Ce.formatTime(e,n))},updateVolume:function(){this.supported.ui&&(Re(this.elements.inputs.volume)&&Ce.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Re(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Re(t)&&(t.value=e,Ce.updateRangeFill.call(this,t))},updateProgress:function(t){var e=this;if(this.supported.ui&&zo(t)){var n=0;if(t)switch(t.type){case"timeupdate":case"seeking":case"seeked":n=function(i,s){return i===0||s===0||Number.isNaN(i)||Number.isNaN(s)?0:(i/s*100).toFixed(2)}(this.currentTime,this.duration),t.type==="timeupdate"&&Ce.setRange.call(this,this.elements.inputs.seek,n);break;case"playing":case"progress":(function(i,s){var r=Yt(s)?s:0,a=Re(i)?i:e.elements.display.buffer;if(Re(a)){a.value=r;var o=a.getElementsByTagName("span")[0];Re(o)&&(o.childNodes[0].nodeValue=r)}})(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(t){var e=zo(t)?t.target:t;if(Re(e)&&e.getAttribute("type")==="range"){if(Yo(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);var n=Ce.formatTime(this.currentTime),i=Ce.formatTime(this.duration),s=Rn("seekLabel",this.config);e.setAttribute("aria-valuetext",s.replace("{currentTime}",n).replace("{duration}",i))}else if(Yo(e,this.config.selectors.inputs.volume)){var r=100*e.value;e.setAttribute("aria-valuenow",r),e.setAttribute("aria-valuetext","".concat(r.toFixed(1),"%"))}else e.setAttribute("aria-valuenow",e.value);Hn.isWebkit&&e.style.setProperty("--value","".concat(e.value/e.max*100,"%"))}},updateSeekTooltip:function(t){var e=this;if(this.config.tooltips.seek&&Re(this.elements.inputs.seek)&&Re(this.elements.display.seekTooltip)&&this.duration!==0){var n="".concat(this.config.classNames.tooltip,"--visible"),i=function(a){return pt(e.elements.display.seekTooltip,n,a)};if(this.touch)i(!1);else{var s=0,r=this.elements.progress.getBoundingClientRect();if(zo(t))s=100/r.width*(t.pageX-r.left);else{if(!Km(this.elements.display.seekTooltip,n))return;s=parseFloat(this.elements.display.seekTooltip.style.left,10)}s<0?s=0:s>100&&(s=100),Ce.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*s),this.elements.display.seekTooltip.style.left="".concat(s,"%"),zo(t)&&["mouseenter","mouseleave"].includes(t.type)&&i(t.type==="mouseenter")}}},timeUpdate:function(t){var e=!Re(this.elements.display.duration)&&this.config.invertTime;Ce.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),t&&t.type==="timeupdate"&&this.media.seeking||Ce.updateProgress.call(this,t)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return No(this.elements.display.currentTime,!0),void No(this.elements.progress,!0);Re(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var t=Re(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&Ce.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&Ce.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Ce.updateSeekTooltip.call(this)}},toggleMenuButton:function(t,e){No(this.elements.settings.buttons[t],!e)},updateSetting:function(t,e,n){var i=this.elements.settings.panels[t],s=null,r=e;if(t==="captions")s=this.currentTrack;else{if(s=Fe(n)?this[t]:n,Fe(s)&&(s=this.config[t].default),!Fe(this.options[t])&&!this.options[t].includes(s))return void this.debug.warn("Unsupported value of '".concat(s,"' for ").concat(t));if(!this.config[t].options.includes(s))return void this.debug.warn("Disabled value of '".concat(s,"' for ").concat(t))}if(Re(r)||(r=i&&i.querySelector('[role="menu"]')),Re(r)){this.elements.settings.buttons[t].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=Ce.getLabel.call(this,t,s);var a=r&&r.querySelector('[value="'.concat(s,'"]'));Re(a)&&(a.checked=!0)}},getLabel:function(t,e){switch(t){case"speed":return e===1?Rn("normal",this.config):"".concat(e,"&times;");case"quality":if(Yt(e)){var n=Rn("qualityLabel.".concat(e),this.config);return n.length?n:"".concat(e,"p")}return PL(e);case"captions":return yt.getLabel.call(this);default:return null}},setQualityMenu:function(t){var e=this;if(Re(this.elements.settings.panels.quality)){var n="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');an(t)&&(this.options.quality=oy(t).filter(function(a){return e.config.quality.options.includes(a)}));var s=!Fe(this.options.quality)&&this.options.quality.length>1;if(Ce.toggleMenuButton.call(this,n,s),jf(i),Ce.checkMenu.call(this),s){var r=function(a){var o=Rn("qualityBadge.".concat(a),e.config);return o.length?Ce.createBadge.call(e,o):null};this.options.quality.sort(function(a,o){var l=e.config.quality.options;return l.indexOf(a)>l.indexOf(o)?1:-1}).forEach(function(a){Ce.createMenuItem.call(e,{value:a,list:i,type:n,title:Ce.getLabel.call(e,"quality",a),badge:r(a)})}),Ce.updateSetting.call(this,n,i)}}},setCaptionsMenu:function(){var t=this;if(Re(this.elements.settings.panels.captions)){var e="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=yt.getTracks.call(this),s=Boolean(i.length);if(Ce.toggleMenuButton.call(this,e,s),jf(n),Ce.checkMenu.call(this),s){var r=i.map(function(a,o){return{value:o,checked:t.captions.toggled&&t.currentTrack===o,title:yt.getLabel.call(t,a),badge:a.language&&Ce.createBadge.call(t,a.language.toUpperCase()),list:n,type:"language"}});r.unshift({value:-1,checked:!this.captions.toggled,title:Rn("disabled",this.config),list:n,type:"language"}),r.forEach(Ce.createMenuItem.bind(this)),Ce.updateSetting.call(this,e,n)}}},setSpeedMenu:function(){var t=this;if(Re(this.elements.settings.panels.speed)){var e="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(function(s){return s>=t.minimumSpeed&&s<=t.maximumSpeed});var i=!Fe(this.options.speed)&&this.options.speed.length>1;Ce.toggleMenuButton.call(this,e,i),jf(n),Ce.checkMenu.call(this),i&&(this.options.speed.forEach(function(s){Ce.createMenuItem.call(t,{value:s,list:n,type:e,title:Ce.getLabel.call(t,"speed",s)})}),Ce.updateSetting.call(this,e,n))}},checkMenu:function(){var t=this.elements.settings.buttons,e=!Fe(t)&&Object.values(t).some(function(n){return!n.hidden});No(this.elements.settings.menu,!e)},focusFirstMenuItem:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.elements.settings.popup.hidden){var n=t;Re(n)||(n=Object.values(this.elements.settings.panels).find(function(s){return!s.hidden}));var i=n.querySelector('[role^="menuitem"]');Z0.call(this,i,e)}},toggleMenu:function(t){var e=this.elements.settings.popup,n=this.elements.buttons.settings;if(Re(e)&&Re(n)){var i=e.hidden,s=i;if(Yi(t))s=t;else if(bc(t)&&t.which===27)s=!1;else if(zo(t)){var r=qt(t.composedPath)?t.composedPath()[0]:t.target,a=e.contains(r);if(a||!a&&t.target!==n&&s)return}n.setAttribute("aria-expanded",s),No(e,!s),pt(this.elements.container,this.config.classNames.menu.open,s),s&&bc(t)?Ce.focusFirstMenuItem.call(this,null,!0):s||i||Z0.call(this,n,bc(t))}},getMenuSize:function(t){var e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),t.parentNode.appendChild(e);var n=e.scrollWidth,i=e.scrollHeight;return Wr(e),{width:n,height:i}},showMenuPanel:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(e));if(Re(i)){var s=i.parentNode,r=Array.from(s.children).find(function(l){return!l.hidden});if(sn.transitions&&!sn.reducedMotion){s.style.width="".concat(r.scrollWidth,"px"),s.style.height="".concat(r.scrollHeight,"px");var a=Ce.getMenuSize.call(this,i),o=function l(c){c.target===s&&["width","height"].includes(c.propertyName)&&(s.style.width="",s.style.height="",rg.call(t,s,ry,l))};ht.call(this,s,ry,o),s.style.width="".concat(a.width,"px"),s.style.height="".concat(a.height,"px")}No(r,!0),No(i,!1),Ce.focusFirstMenuItem.call(this,i,n)}},setDownloadUrl:function(){var t=this.elements.buttons.download;Re(t)&&t.setAttribute("href",this.download)},create:function(t){var e=this,n=Ce.bindMenuItemShortcuts,i=Ce.createButton,s=Ce.createProgress,r=Ce.createRange,a=Ce.createTime,o=Ce.setQualityMenu,l=Ce.setSpeedMenu,c=Ce.showMenuPanel;this.elements.controls=null,an(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));var h=Ye("div",ar(this.config.selectors.controls.wrapper));this.elements.controls=h;var p={class:"plyr__controls__item"};return oy(an(this.config.controls)?this.config.controls:[]).forEach(function(d){if(d==="restart"&&h.appendChild(i.call(e,"restart",p)),d==="rewind"&&h.appendChild(i.call(e,"rewind",p)),d==="play"&&h.appendChild(i.call(e,"play",p)),d==="fast-forward"&&h.appendChild(i.call(e,"fast-forward",p)),d==="progress"){var g=Ye("div",{class:"".concat(p.class," plyr__progress__container")}),x=Ye("div",ar(e.config.selectors.progress));if(x.appendChild(r.call(e,"seek",{id:"plyr-seek-".concat(t.id)})),x.appendChild(s.call(e,"buffer")),e.config.tooltips.seek){var S=Ye("span",{class:e.config.classNames.tooltip},"00:00");x.appendChild(S),e.elements.display.seekTooltip=S}e.elements.progress=x,g.appendChild(e.elements.progress),h.appendChild(g)}if(d==="current-time"&&h.appendChild(a.call(e,"currentTime",p)),d==="duration"&&h.appendChild(a.call(e,"duration",p)),d==="mute"||d==="volume"){var m=e.elements.volume;if(Re(m)&&h.contains(m)||(m=Ye("div",pn({},p,{class:"".concat(p.class," plyr__volume").trim()})),e.elements.volume=m,h.appendChild(m)),d==="mute"&&m.appendChild(i.call(e,"mute")),d==="volume"&&!Hn.isIos){var _={max:1,step:.05,value:e.config.volume};m.appendChild(r.call(e,"volume",pn(_,{id:"plyr-volume-".concat(t.id)})))}}if(d==="captions"&&h.appendChild(i.call(e,"captions",p)),d==="settings"&&!Fe(e.config.settings)){var y=Ye("div",pn({},p,{class:"".concat(p.class," plyr__menu").trim(),hidden:""}));y.appendChild(i.call(e,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(t.id),"aria-expanded":!1}));var T=Ye("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(t.id),hidden:""}),C=Ye("div"),A=Ye("div",{id:"plyr-settings-".concat(t.id,"-home")}),k=Ye("div",{role:"menu"});A.appendChild(k),C.appendChild(A),e.elements.settings.panels.home=A,e.config.settings.forEach(function(I){var j=Ye("button",pn(ar(e.config.selectors.buttons.settings),{type:"button",class:"".concat(e.config.classNames.control," ").concat(e.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(e,j,I),ht.call(e,j,"click",function(){c.call(e,I,!1)});var V=Ye("span",null,Rn(I,e.config)),D=Ye("span",{class:e.config.classNames.menu.value});D.innerHTML=t[I],V.appendChild(D),j.appendChild(V),k.appendChild(j);var G=Ye("div",{id:"plyr-settings-".concat(t.id,"-").concat(I),hidden:""}),O=Ye("button",{type:"button",class:"".concat(e.config.classNames.control," ").concat(e.config.classNames.control,"--back")});O.appendChild(Ye("span",{"aria-hidden":!0},Rn(I,e.config))),O.appendChild(Ye("span",{class:e.config.classNames.hidden},Rn("menuBack",e.config))),ht.call(e,G,"keydown",function(J){J.which===37&&(J.preventDefault(),J.stopPropagation(),c.call(e,"home",!0))},!1),ht.call(e,O,"click",function(){c.call(e,"home",!1)}),G.appendChild(O),G.appendChild(Ye("div",{role:"menu"})),C.appendChild(G),e.elements.settings.buttons[I]=j,e.elements.settings.panels[I]=G}),T.appendChild(C),y.appendChild(T),h.appendChild(y),e.elements.settings.popup=T,e.elements.settings.menu=y}if(d==="pip"&&sn.pip&&h.appendChild(i.call(e,"pip",p)),d==="airplay"&&sn.airplay&&h.appendChild(i.call(e,"airplay",p)),d==="download"){var P=pn({},p,{element:"a",href:e.download,target:"_blank"});e.isHTML5&&(P.download="");var N=e.config.urls.download;!Mp(N)&&e.isEmbed&&pn(P,{icon:"logo-".concat(e.provider),label:e.provider}),h.appendChild(i.call(e,"download",P))}d==="fullscreen"&&h.appendChild(i.call(e,"fullscreen",p))}),this.isHTML5&&o.call(this,qa.getQualityOptions.call(this)),l.call(this),h},inject:function(){var t=this;if(this.config.loadSprite){var e=Ce.getIconUrl.call(this);e.cors&&ML(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var i,s,r={id:this.id,seektime:this.config.seekTime,title:this.config.title},a=!0;if(qt(this.config.controls)&&(this.config.controls=this.config.controls.call(this,r)),this.config.controls||(this.config.controls=[]),Re(this.config.controls)||mn(this.config.controls)?n=this.config.controls:(n=Ce.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:yt.getLabel.call(this)}),a=!1),a&&mn(this.config.controls)&&(i=n,Object.entries(r).forEach(function(g){var x=Dn(g,2),S=x[0],m=x[1];i=Qh(i,"{".concat(S,"}"),m)}),n=i),mn(this.config.selectors.controls.container)&&(s=document.querySelector(this.config.selectors.controls.container)),Re(s)||(s=this.elements.container),s[Re(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),Re(this.elements.controls)||Ce.findElements.call(this),!Fe(this.elements.buttons)){var o=function(g){var x=t.config.classNames.controlPressed;Object.defineProperty(g,"pressed",{enumerable:!0,get:function(){return Km(g,x)},set:function(){var S=arguments.length>0&&arguments[0]!==void 0&&arguments[0];pt(g,x,S)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(function(g){an(g)||Ap(g)?Array.from(g).filter(Boolean).forEach(o):o(g)})}if(Hn.isEdge&&SL(s),this.config.tooltips.controls){var l=this.config,c=l.classNames,h=l.selectors,p="".concat(h.controls.wrapper," ").concat(h.labels," .").concat(c.hidden),d=Bc.call(this,p);Array.from(d).forEach(function(g){pt(g,t.config.classNames.hidden,!1),pt(g,t.config.classNames.tooltip,!0)})}}};function IL(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=t;if(e){var i=document.createElement("a");i.href=n,n=i.href}try{return new URL(n)}catch{return null}}function OL(t){var e=new URLSearchParams;return Cr(t)&&Object.entries(t).forEach(function(n){var i=Dn(n,2),s=i[0],r=i[1];e.set(s,r)}),e}var yt={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!sn.textTracks)an(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ce.setCaptionsMenu.call(this);else{if(Re(this.elements.captions)||(this.elements.captions=Ye("div",ar(this.config.selectors.captions)),function(r,a){Re(r)&&Re(a)&&a.parentNode.insertBefore(r,a.nextSibling)}(this.elements.captions,this.elements.wrapper)),Hn.isIE&&window.URL){var t=this.media.querySelectorAll("track");Array.from(t).forEach(function(r){var a=r.getAttribute("src"),o=IL(a);o!==null&&o.hostname!==window.location.href.hostname&&["http:","https:"].includes(o.protocol)&&cd(a,"blob").then(function(l){r.setAttribute("src",window.URL.createObjectURL(l))}).catch(function(){Wr(r)})})}var e=oy((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(r){return r.split("-")[0]})),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();n==="auto"&&(n=Dn(e,1)[0]);var i=this.storage.get("captions");if(Yi(i)||(i=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:i,language:n,languages:e}),this.isHTML5){var s=this.config.captions.update?"addtrack removetrack":"removetrack";ht.call(this,this.media.textTracks,s,yt.update.bind(this))}setTimeout(yt.update.bind(this),0)}},update:function(){var t=this,e=yt.getTracks.call(this,!0),n=this.captions,i=n.active,s=n.language,r=n.meta,a=n.currentTrackNode,o=Boolean(e.find(function(l){return l.language===s}));this.isHTML5&&this.isVideo&&e.filter(function(l){return!r.get(l)}).forEach(function(l){t.debug.log("Track added",l),r.set(l,{default:l.mode==="showing"}),l.mode==="showing"&&(l.mode="hidden"),ht.call(t,l,"cuechange",function(){return yt.updateCues.call(t)})}),(o&&this.language!==s||!e.includes(a))&&(yt.setLanguage.call(this,s),yt.toggle.call(this,i&&o)),pt(this.elements.container,this.config.classNames.captions.enabled,!Fe(e)),an(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ce.setCaptionsMenu.call(this)},toggle:function(t){var e=this,n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.supported.ui){var i=this.captions.toggled,s=this.config.classNames.captions.active,r=hu(t)?!i:t;if(r!==i){if(n||(this.captions.active=r,this.storage.set({captions:r})),!this.language&&r&&!n){var a=yt.getTracks.call(this),o=yt.findTrack.call(this,[this.captions.language].concat(iy(this.captions.languages)),!0);return this.captions.language=o.language,void yt.set.call(this,a.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=r),pt(this.elements.container,s,r),this.captions.toggled=r,Ce.updateSetting.call(this,"captions"),Ge.call(this,this.media,r?"captionsenabled":"captionsdisabled")}setTimeout(function(){r&&e.captions.toggled&&(e.captions.currentTrackNode.mode="hidden")})}},set:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=yt.getTracks.call(this);if(t!==-1)if(Yt(t))if(t in n){if(this.captions.currentTrack!==t){this.captions.currentTrack=t;var i=n[t],s=i||{},r=s.language;this.captions.currentTrackNode=i,Ce.updateSetting.call(this,"captions"),e||(this.captions.language=r,this.storage.set({language:r})),this.isVimeo&&this.embed.enableTextTrack(r),Ge.call(this,this.media,"languagechange")}yt.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&yt.updateCues.call(this)}else this.debug.warn("Track not found",t);else this.debug.warn("Invalid caption argument",t);else yt.toggle.call(this,!1,e)},setLanguage:function(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(mn(t)){var n=t.toLowerCase();this.captions.language=n;var i=yt.getTracks.call(this),s=yt.findTrack.call(this,[n]);yt.set.call(this,i.indexOf(s),e)}else this.debug.warn("Invalid language argument",t)},getTracks:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=Array.from((this.media||{}).textTracks||[]);return n.filter(function(i){return!t.isHTML5||e||t.captions.meta.has(i)}).filter(function(i){return["captions","subtitles"].includes(i.kind)})},findTrack:function(t){var e,n=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=yt.getTracks.call(this),r=function(o){return Number((n.captions.meta.get(o)||{}).default)},a=Array.from(s).sort(function(o,l){return r(l)-r(o)});return t.every(function(o){return!(e=a.find(function(l){return l.language===o}))}),e||(i?a[0]:void 0)},getCurrentTrack:function(){return yt.getTracks.call(this)[this.currentTrack]},getLabel:function(t){var e=t;return!Uk(e)&&sn.textTracks&&this.captions.toggled&&(e=yt.getCurrentTrack.call(this)),Uk(e)?Fe(e.label)?Fe(e.language)?Rn("enabled",this.config):t.language.toUpperCase():e.label:Rn("disabled",this.config)},updateCues:function(t){if(this.supported.ui)if(Re(this.elements.captions))if(hu(t)||Array.isArray(t)){var e=t;if(!e){var n=yt.getCurrentTrack.call(this);e=Array.from((n||{}).activeCues||[]).map(function(r){return r.getCueAsHTML()}).map(lle)}var i=e.map(function(r){return r.trim()}).join(`
`);if(i!==this.elements.captions.innerHTML){jf(this.elements.captions);var s=Ye("span",ar(this.config.selectors.caption));s.innerHTML=i,this.elements.captions.appendChild(s),Ge.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",t);else this.debug.warn("No captions element to render to")}},NL={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.1/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,premium:!1,referrerPolicy:null},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1}},Hk="picture-in-picture",hle="inline",Na={html5:"html5",youtube:"youtube",vimeo:"vimeo"},ple="audio",qk="video",e_=function(){},dle=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];Ol(this,t),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}return Nl(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):e_}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):e_}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):e_}}]),t}(),fle=function(){function t(e){var n=this;Ol(this,t),this.player=e,this.prefix=t.prefix,this.property=t.property,this.scrollPosition={x:0,y:0},this.forceFallback=e.config.fullscreen.fallback==="force",this.player.elements.fullscreen=e.config.fullscreen.container&&function(i,s){return(Element.prototype.closest||function(){var r=this;do{if(Yo.matches(r,s))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}).call(i,s)}(this.player.elements.container,e.config.fullscreen.container),ht.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){n.onChange()}),ht.call(this.player,this.player.elements.container,"dblclick",function(i){Re(n.player.elements.controls)&&n.player.elements.controls.contains(i.target)||n.toggle()}),ht.call(this,this.player.elements.container,"keydown",function(i){return n.trapFocus(i)}),this.update()}return Nl(t,[{key:"onChange",value:function(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;Re(e)&&(e.pressed=this.active);var n=this.target===this.player.media?this.target:this.player.elements.container;Ge.call(this.player,n,this.active?"enterfullscreen":"exitfullscreen",!0)}}},{key:"toggleFallback",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",pt(this.target,this.player.config.classNames.fullscreen.fallback,e),Hn.isIos){var n=document.head.querySelector('meta[name="viewport"]'),i="viewport-fit=cover";n||(n=document.createElement("meta")).setAttribute("name","viewport");var s=mn(n.content)&&n.content.includes(i);e?(this.cleanupViewport=!s,s||(n.content+=",".concat(i))):this.cleanupViewport&&(n.content=n.content.split(",").filter(function(r){return r.trim()!==i}).join(","))}this.onChange()}},{key:"trapFocus",value:function(e){if(!Hn.isIos&&this.active&&e.key==="Tab"&&e.keyCode===9){var n=document.activeElement,i=Bc.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),s=Dn(i,1)[0],r=i[i.length-1];n!==r||e.shiftKey?n===s&&e.shiftKey&&(r.focus(),e.preventDefault()):(s.focus(),e.preventDefault())}}},{key:"update",value:function(){var e;this.enabled?(e=this.forceFallback?"Fallback (forced)":t.native?"Native":"Fallback",this.player.debug.log("".concat(e," fullscreen enabled"))):this.player.debug.log("Fullscreen not supported and fallback disabled"),pt(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(Hn.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!t.native||this.forceFallback?this.toggleFallback(!0):this.prefix?Fe(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen({navigationUI:"hide"}))}},{key:"exit",value:function(){if(this.enabled)if(Hn.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),pr(this.player.play());else if(!t.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!Fe(this.prefix)){var e=this.prefix==="moz"?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return t.native&&!this.forceFallback}},{key:"enabled",get:function(){return(t.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!t.native||this.forceFallback)return Km(this.target,this.player.config.classNames.fullscreen.fallback);var e=this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}},{key:"target",get:function(){return Hn.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(qt(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some(function(n){return!(!qt(document["".concat(n,"ExitFullscreen")])&&!qt(document["".concat(n,"CancelFullScreen")])||(e=n,0))}),e}},{key:"property",get:function(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}}]),t}();function Uf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return new Promise(function(n,i){var s=new Image,r=function(){delete s.onload,delete s.onerror,(s.naturalWidth>=e?n:i)(s)};Object.assign(s,{onload:r,onerror:r,src:t})})}var At={addStyleHook:function(){pt(this.elements.container,this.config.selectors.container.replace(".",""),!0),pt(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];t&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var t=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void At.toggleNativeControls.call(this,!0);Re(this.elements.controls)||(Ce.inject.call(this),this.listeners.controls()),At.toggleNativeControls.call(this),this.isHTML5&&yt.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Ce.updateVolume.call(this),Ce.timeUpdate.call(this),At.checkPlaying.call(this),pt(this.elements.container,this.config.classNames.pip.supported,sn.pip&&this.isHTML5&&this.isVideo),pt(this.elements.container,this.config.classNames.airplay.supported,sn.airplay&&this.isHTML5),pt(this.elements.container,this.config.classNames.isIos,Hn.isIos),pt(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){Ge.call(t,t.media,"ready")},0),At.setTitle.call(this),this.poster&&At.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&Ce.durationUpdate.call(this)},setTitle:function(){var t=Rn("play",this.config);if(mn(this.config.title)&&!Fe(this.config.title)&&(t+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(s){s.setAttribute("aria-label",t)}),this.isEmbed){var e=wn.call(this,"iframe");if(!Re(e))return;var n=Fe(this.config.title)?"video":this.config.title,i=Rn("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",n))}},togglePoster:function(t){pt(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster:function(t){var e=this,n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return n&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),ale.call(this).then(function(){return Uf(t)}).catch(function(i){throw t===e.poster&&At.togglePoster.call(e,!1),i}).then(function(){if(t!==e.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(e.elements.poster.style,{backgroundImage:"url('".concat(t,"')"),backgroundSize:""}),At.togglePoster.call(e,!0),t}))},checkPlaying:function(t){var e=this;pt(this.elements.container,this.config.classNames.playing,this.playing),pt(this.elements.container,this.config.classNames.paused,this.paused),pt(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(n){Object.assign(n,{pressed:e.playing}),n.setAttribute("aria-label",Rn(e.playing?"pause":"play",e.config))}),zo(t)&&t.type==="timeupdate"||At.toggleControls.call(this)},checkLoading:function(t){var e=this;this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){pt(e.elements.container,e.config.classNames.loading,e.loading),At.toggleControls.call(e)},this.loading?250:0)},toggleControls:function(t){var e=this.elements.controls;if(e&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(t||this.loading||this.paused||e.pressed||e.hover||n))}},migrateStyles:function(){var t=this;Object.values(uu({},this.media.style)).filter(function(e){return!Fe(e)&&mn(e)&&e.startsWith("--plyr")}).forEach(function(e){t.elements.container.style.setProperty(e,t.media.style.getPropertyValue(e)),t.media.style.removeProperty(e)}),Fe(this.media.style)&&this.media.removeAttribute("style")}},mle=function(){function t(e){Ol(this,t),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return Nl(t,[{key:"handleKey",value:function(e){var n=this.player,i=n.elements,s=e.keyCode?e.keyCode:e.which,r=e.type==="keydown",a=r&&s===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&Yt(s))if(r){var o=document.activeElement;if(Re(o)){var l=n.config.selectors.editable;if(o!==i.inputs.seek&&Yo(o,l)||e.which===32&&Yo(o,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(s)&&(e.preventDefault(),e.stopPropagation()),s){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a||(n.currentTime=n.duration/10*(s-48));break;case 32:case 75:a||pr(n.togglePlay());break;case 38:n.increaseVolume(.1);break;case 40:n.decreaseVolume(.1);break;case 77:a||(n.muted=!n.muted);break;case 39:n.forward();break;case 37:n.rewind();break;case 70:n.fullscreen.toggle();break;case 67:a||n.toggleCaptions();break;case 76:n.loop=!n.loop}s===27&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=s}else this.lastKey=null}},{key:"toggleMenu",value:function(e){Ce.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,n=e.elements;e.touch=!0,pt(n.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var n=this.player,i=n.elements;if(clearTimeout(this.focusTimer),e.type!=="keydown"||e.which===9){e.type==="keydown"&&(this.lastKeyDown=e.timeStamp);var s,r=e.timeStamp-this.lastKeyDown<=20;(e.type!=="focus"||r)&&(s=n.config.classNames.tabFocus,pt(Bc.call(n,".".concat(s)),s,!1),e.type!=="focusout"&&(this.focusTimer=setTimeout(function(){var a=document.activeElement;i.container.contains(a)&&pt(document.activeElement,n.config.classNames.tabFocus,!0)},10)))}}},{key:"global",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=this.player;n.config.keyboard.global&&jc.call(n,window,"keydown keyup",this.handleKey,e,!1),jc.call(n,document.body,"click",this.toggleMenu,e),Vw.call(n,document.body,"touchstart",this.firstTouch),jc.call(n,document.body,"keydown focus blur focusout",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var e=this.player,n=e.config,i=e.elements,s=e.timers;!n.keyboard.global&&n.keyboard.focused&&ht.call(e,i.container,"keydown keyup",this.handleKey,!1),ht.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(o){var l=i.controls;l&&o.type==="enterfullscreen"&&(l.pressed=!1,l.hover=!1);var c=0;["touchstart","touchmove","mousemove"].includes(o.type)&&(At.toggleControls.call(e,!0),c=e.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout(function(){return At.toggleControls.call(e,!1)},c)});var r=function(o){if(!o)return uo.call(e);var l=i.container.getBoundingClientRect(),c=l.width,h=l.height;return uo.call(e,"".concat(c,":").concat(h))},a=function(){clearTimeout(s.resized),s.resized=setTimeout(r,50)};ht.call(e,i.container,"enterfullscreen exitfullscreen",function(o){var l=e.fullscreen,c=l.target,h=l.usingNative;if(c===i.container&&(e.isEmbed||!Fe(e.config.ratio))){var p=o.type==="enterfullscreen",d=r(p);d.padding,function(g,x,S){if(e.isVimeo&&!e.config.vimeo.premium){var m=e.elements.wrapper.firstChild,_=Dn(g,2)[1],y=Dn($w.call(e),2),T=y[0],C=y[1];m.style.maxWidth=S?"".concat(_/C*T,"px"):null,m.style.margin=S?"0 auto":null}}(d.ratio,0,p),h||(p?ht.call(e,window,"resize",a):rg.call(e,window,"resize",a))}})}},{key:"media",value:function(){var e=this,n=this.player,i=n.elements;if(ht.call(n,n.media,"timeupdate seeking seeked",function(a){return Ce.timeUpdate.call(n,a)}),ht.call(n,n.media,"durationchange loadeddata loadedmetadata",function(a){return Ce.durationUpdate.call(n,a)}),ht.call(n,n.media,"ended",function(){n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())}),ht.call(n,n.media,"progress playing seeking seeked",function(a){return Ce.updateProgress.call(n,a)}),ht.call(n,n.media,"volumechange",function(a){return Ce.updateVolume.call(n,a)}),ht.call(n,n.media,"playing play pause ended emptied timeupdate",function(a){return At.checkPlaying.call(n,a)}),ht.call(n,n.media,"waiting canplay seeked playing",function(a){return At.checkLoading.call(n,a)}),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){var s=wn.call(n,".".concat(n.config.classNames.video));if(!Re(s))return;ht.call(n,i.container,"click",function(a){([i.container,s].includes(a.target)||s.contains(a.target))&&(n.touch&&n.config.hideControls||(n.ended?(e.proxy(a,n.restart,"restart"),e.proxy(a,function(){pr(n.play())},"play")):e.proxy(a,function(){pr(n.togglePlay())},"play")))})}n.supported.ui&&n.config.disableContextMenu&&ht.call(n,i.wrapper,"contextmenu",function(a){a.preventDefault()},!1),ht.call(n,n.media,"volumechange",function(){n.storage.set({volume:n.volume,muted:n.muted})}),ht.call(n,n.media,"ratechange",function(){Ce.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),ht.call(n,n.media,"qualitychange",function(a){Ce.updateSetting.call(n,"quality",null,a.detail.quality)}),ht.call(n,n.media,"ready qualitychange",function(){Ce.setDownloadUrl.call(n)});var r=n.config.events.concat(["keyup","keydown"]).join(" ");ht.call(n,n.media,r,function(a){var o=a.detail,l=o===void 0?{}:o;a.type==="error"&&(l=n.media.error),Ge.call(n,i.container,a.type,!0,l)})}},{key:"proxy",value:function(e,n,i){var s=this.player,r=s.config.listeners[i],a=!0;qt(r)&&(a=r.call(s,e)),a!==!1&&qt(n)&&n.call(s,e)}},{key:"bind",value:function(e,n,i,s){var r=this,a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.player,l=o.config.listeners[s],c=qt(l);ht.call(o,e,n,function(h){return r.proxy(h,i,s)},a&&!c)}},{key:"controls",value:function(){var e=this,n=this.player,i=n.elements,s=Hn.isIE?"change":"input";if(i.buttons.play&&Array.from(i.buttons.play).forEach(function(a){e.bind(a,"click",function(){pr(n.togglePlay())},"play")}),this.bind(i.buttons.restart,"click",n.restart,"restart"),this.bind(i.buttons.rewind,"click",n.rewind,"rewind"),this.bind(i.buttons.fastForward,"click",n.forward,"fastForward"),this.bind(i.buttons.mute,"click",function(){n.muted=!n.muted},"mute"),this.bind(i.buttons.captions,"click",function(){return n.toggleCaptions()}),this.bind(i.buttons.download,"click",function(){Ge.call(n,n.media,"download")},"download"),this.bind(i.buttons.fullscreen,"click",function(){n.fullscreen.toggle()},"fullscreen"),this.bind(i.buttons.pip,"click",function(){n.pip="toggle"},"pip"),this.bind(i.buttons.airplay,"click",n.airplay,"airplay"),this.bind(i.buttons.settings,"click",function(a){a.stopPropagation(),a.preventDefault(),Ce.toggleMenu.call(n,a)},null,!1),this.bind(i.buttons.settings,"keyup",function(a){var o=a.which;[13,32].includes(o)&&(o!==13?(a.preventDefault(),a.stopPropagation(),Ce.toggleMenu.call(n,a)):Ce.focusFirstMenuItem.call(n,null,!0))},null,!1),this.bind(i.settings.menu,"keydown",function(a){a.which===27&&Ce.toggleMenu.call(n,a)}),this.bind(i.inputs.seek,"mousedown mousemove",function(a){var o=i.progress.getBoundingClientRect(),l=100/o.width*(a.pageX-o.left);a.currentTarget.setAttribute("seek-value",l)}),this.bind(i.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(a){var o=a.currentTarget,l=a.keyCode?a.keyCode:a.which,c="play-on-seeked";if(!bc(a)||l===39||l===37){n.lastSeekTime=Date.now();var h=o.hasAttribute(c),p=["mouseup","touchend","keyup"].includes(a.type);h&&p?(o.removeAttribute(c),pr(n.play())):!p&&n.playing&&(o.setAttribute(c,""),n.pause())}}),Hn.isIos){var r=Bc.call(n,'input[type="range"]');Array.from(r).forEach(function(a){return e.bind(a,s,function(o){return SL(o.target)})})}this.bind(i.inputs.seek,s,function(a){var o=a.currentTarget,l=o.getAttribute("seek-value");Fe(l)&&(l=o.value),o.removeAttribute("seek-value"),n.currentTime=l/o.max*n.duration},"seek"),this.bind(i.progress,"mouseenter mouseleave mousemove",function(a){return Ce.updateSeekTooltip.call(n,a)}),this.bind(i.progress,"mousemove touchmove",function(a){var o=n.previewThumbnails;o&&o.loaded&&o.startMove(a)}),this.bind(i.progress,"mouseleave touchend click",function(){var a=n.previewThumbnails;a&&a.loaded&&a.endMove(!1,!0)}),this.bind(i.progress,"mousedown touchstart",function(a){var o=n.previewThumbnails;o&&o.loaded&&o.startScrubbing(a)}),this.bind(i.progress,"mouseup touchend",function(a){var o=n.previewThumbnails;o&&o.loaded&&o.endScrubbing(a)}),Hn.isWebkit&&Array.from(Bc.call(n,'input[type="range"]')).forEach(function(a){e.bind(a,"input",function(o){return Ce.updateRangeFill.call(n,o.target)})}),n.config.toggleInvert&&!Re(i.display.duration)&&this.bind(i.display.currentTime,"click",function(){n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,Ce.timeUpdate.call(n))}),this.bind(i.inputs.volume,s,function(a){n.volume=a.target.value},"volume"),this.bind(i.controls,"mouseenter mouseleave",function(a){i.controls.hover=!n.touch&&a.type==="mouseenter"}),i.fullscreen&&Array.from(i.fullscreen.children).filter(function(a){return!a.contains(i.container)}).forEach(function(a){e.bind(a,"mouseenter mouseleave",function(o){i.controls.hover=!n.touch&&o.type==="mouseenter"})}),this.bind(i.controls,"mousedown mouseup touchstart touchend touchcancel",function(a){i.controls.pressed=["mousedown","touchstart"].includes(a.type)}),this.bind(i.controls,"focusin",function(){var a=n.config,o=n.timers;pt(i.controls,a.classNames.noTransition,!0),At.toggleControls.call(n,!0),setTimeout(function(){pt(i.controls,a.classNames.noTransition,!1)},0);var l=e.touch?3e3:4e3;clearTimeout(o.controls),o.controls=setTimeout(function(){return At.toggleControls.call(n,!1)},l)}),this.bind(i.inputs.volume,"wheel",function(a){var o=a.webkitDirectionInvertedFromDevice,l=Dn([a.deltaX,-a.deltaY].map(function(g){return o?-g:g}),2),c=l[0],h=l[1],p=Math.sign(Math.abs(c)>Math.abs(h)?c:h);n.increaseVolume(p/50);var d=n.media.volume;(p===1&&d<1||p===-1&&d>0)&&a.preventDefault()},"volume",!1)}}]),t}(),vle=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){t.exports=function(){var n=function(){},i={},s={},r={};function a(p,d){if(p){var g=r[p];if(s[p]=d,g)for(;g.length;)g[0](p,d),g.splice(0,1)}}function o(p,d){p.call&&(p={success:p}),d.length?(p.error||n)(d):(p.success||n)(p)}function l(p,d,g,x){var S,m,_=document,y=g.async,T=(g.numRetries||0)+1,C=g.before||n,A=p.replace(/[\?|#].*$/,""),k=p.replace(/^(css|img)!/,"");x=x||0,/(^css!|\.css$)/.test(A)?((m=_.createElement("link")).rel="stylesheet",m.href=k,(S="hideFocus"in m)&&m.relList&&(S=0,m.rel="preload",m.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(A)?(m=_.createElement("img")).src=k:((m=_.createElement("script")).src=p,m.async=y===void 0||y),m.onload=m.onerror=m.onbeforeload=function(P){var N=P.type[0];if(S)try{m.sheet.cssText.length||(N="e")}catch(I){I.code!=18&&(N="e")}if(N=="e"){if((x+=1)<T)return l(p,d,g,x)}else if(m.rel=="preload"&&m.as=="style")return m.rel="stylesheet";d(p,N,P.defaultPrevented)},C(p,m)!==!1&&_.head.appendChild(m)}function c(p,d,g){var x,S,m=(p=p.push?p:[p]).length,_=m,y=[];for(x=function(T,C,A){if(C=="e"&&y.push(T),C=="b"){if(!A)return;y.push(T)}--m||d(y)},S=0;S<_;S++)l(p[S],x,g)}function h(p,d,g){var x,S;if(d&&d.trim&&(x=d),S=(x?g:d)||{},x){if(x in i)throw"LoadJS";i[x]=!0}function m(_,y){c(p,function(T){o(S,T),_&&o({success:_,error:y},T),a(x,T)},S)}if(S.returnPromise)return new Promise(m);m()}return h.ready=function(p,d){return function(g,x){g=g.push?g:[g];var S,m,_,y=[],T=g.length,C=T;for(S=function(A,k){k.length&&y.push(A),--C||x(y)};T--;)m=g[T],(_=s[m])?S(m,_):(r[m]=r[m]||[]).push(S)}(p,function(g){o(d,g)}),h},h.done=function(p){a(p,[])},h.reset=function(){i={},s={},r={}},h.isDefined=function(p){return p in i},h}()});function zw(t){return new Promise(function(e,n){vle(t,{success:e,error:n})})}function uh(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,Ge.call(this,this.media,t?"play":"pause"))}var cy={setup:function(){var t=this;pt(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,uo.call(t),Cr(window.Vimeo)?cy.ready.call(t):zw(t.config.urls.vimeo.sdk).then(function(){cy.ready.call(t)}).catch(function(e){t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready:function(){var t=this,e=this,n=e.config.vimeo,i=n.premium,s=n.referrerPolicy,r=Koe(n,["premium","referrerPolicy"]);i&&Object.assign(r,{controls:!1,sidedock:!1});var a=OL(uu({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},r)),o=e.media.getAttribute("src");Fe(o)&&(o=e.media.getAttribute(e.config.attributes.embed.id));var l=function(T){return Fe(T)?null:Yt(Number(T))?T:T.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:T}(o),c=Ye("iframe"),h=ly(e.config.urls.vimeo.iframe,l,a);c.setAttribute("src",h),c.setAttribute("allowfullscreen",""),c.setAttribute("allow","autoplay,fullscreen,picture-in-picture"),Fe(s)||c.setAttribute("referrerPolicy",s);var p=e.poster;if(i)c.setAttribute("data-poster",p),e.media=Gm(c,e.media);else{var d=Ye("div",{class:e.config.classNames.embedContainer,"data-poster":p});d.appendChild(c),e.media=Gm(d,e.media)}cd(ly(e.config.urls.vimeo.api,l),"json").then(function(T){if(!Fe(T)){var C=new URL(T[0].thumbnail_large);C.pathname="".concat(C.pathname.split("_")[0],".jpg"),At.setPoster.call(e,C.href).catch(function(){})}}),e.embed=new window.Vimeo.Player(c,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=function(){return uh.call(e,!0),e.embed.play()},e.media.pause=function(){return uh.call(e,!1),e.embed.pause()},e.media.stop=function(){e.pause(),e.currentTime=0};var g=e.media.currentTime;Object.defineProperty(e.media,"currentTime",{get:function(){return g},set:function(T){var C=e.embed,A=e.media,k=e.paused,P=e.volume,N=k&&!C.hasPlayed;A.seeking=!0,Ge.call(e,A,"seeking"),Promise.resolve(N&&C.setVolume(0)).then(function(){return C.setCurrentTime(T)}).then(function(){return N&&C.pause()}).then(function(){return N&&C.setVolume(P)}).catch(function(){})}});var x=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:function(){return x},set:function(T){e.embed.setPlaybackRate(T).then(function(){x=T,Ge.call(e,e.media,"ratechange")}).catch(function(){e.options.speed=[1]})}});var S=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return S},set:function(T){e.embed.setVolume(T).then(function(){S=T,Ge.call(e,e.media,"volumechange")})}});var m=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return m},set:function(T){var C=!!Yi(T)&&T;e.embed.setVolume(C?0:e.config.volume).then(function(){m=C,Ge.call(e,e.media,"volumechange")})}});var _,y=e.config.loop;Object.defineProperty(e.media,"loop",{get:function(){return y},set:function(T){var C=Yi(T)?T:e.config.loop.active;e.embed.setLoop(C).then(function(){y=C})}}),e.embed.getVideoUrl().then(function(T){_=T,Ce.setDownloadUrl.call(e)}).catch(function(T){t.debug.warn(T)}),Object.defineProperty(e.media,"currentSrc",{get:function(){return _}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(function(T){var C=Dn(T,2),A=C[0],k=C[1];e.embed.ratio=[A,k],uo.call(t)}),e.embed.setAutopause(e.config.autopause).then(function(T){e.config.autopause=T}),e.embed.getVideoTitle().then(function(T){e.config.title=T,At.setTitle.call(t)}),e.embed.getCurrentTime().then(function(T){g=T,Ge.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(function(T){e.media.duration=T,Ge.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(function(T){e.media.textTracks=T,yt.setup.call(e)}),e.embed.on("cuechange",function(T){var C=T.cues,A=(C===void 0?[]:C).map(function(k){return function(P){var N=document.createDocumentFragment(),I=document.createElement("div");return N.appendChild(I),I.innerHTML=P,N.firstChild.innerText}(k.text)});yt.updateCues.call(e,A)}),e.embed.on("loaded",function(){e.embed.getPaused().then(function(T){uh.call(e,!T),T||Ge.call(e,e.media,"playing")}),Re(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("bufferstart",function(){Ge.call(e,e.media,"waiting")}),e.embed.on("bufferend",function(){Ge.call(e,e.media,"playing")}),e.embed.on("play",function(){uh.call(e,!0),Ge.call(e,e.media,"playing")}),e.embed.on("pause",function(){uh.call(e,!1)}),e.embed.on("timeupdate",function(T){e.media.seeking=!1,g=T.seconds,Ge.call(e,e.media,"timeupdate")}),e.embed.on("progress",function(T){e.media.buffered=T.percent,Ge.call(e,e.media,"progress"),parseInt(T.percent,10)===1&&Ge.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(function(C){C!==e.media.duration&&(e.media.duration=C,Ge.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",function(){e.media.seeking=!1,Ge.call(e,e.media,"seeked")}),e.embed.on("ended",function(){e.media.paused=!0,Ge.call(e,e.media,"ended")}),e.embed.on("error",function(T){e.media.error=T,Ge.call(e,e.media,"error")}),setTimeout(function(){return At.build.call(e)},0)}};function hh(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,Ge.call(this,this.media,t?"play":"pause"))}function gle(t){return t.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}var Vf={setup:function(){var t=this;if(pt(this.elements.wrapper,this.config.classNames.embed,!0),Cr(window.YT)&&qt(window.YT.Player))Vf.ready.call(this);else{var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){qt(e)&&e(),Vf.ready.call(t)},zw(this.config.urls.youtube.sdk).catch(function(n){t.debug.warn("YouTube API failed to load",n)})}},getTitle:function(t){var e=this;cd(ly(this.config.urls.youtube.api,t)).then(function(n){if(Cr(n)){var i=n.title,s=n.height,r=n.width;e.config.title=i,At.setTitle.call(e),e.embed.ratio=[r,s]}uo.call(e)}).catch(function(){uo.call(e)})},ready:function(){var t=this,e=t.media&&t.media.getAttribute("id");if(Fe(e)||!e.startsWith("youtube-")){var n=t.media.getAttribute("src");Fe(n)&&(n=t.media.getAttribute(this.config.attributes.embed.id));var i=function(l){return Fe(l)?null:l.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:l}(n),s=function(l){return"".concat(l,"-").concat(Math.floor(1e4*Math.random()))}(t.provider),r=Ye("div",{id:s,"data-poster":t.poster});t.media=Gm(r,t.media);var a=function(l){return"https://i.ytimg.com/vi/".concat(i,"/").concat(l,"default.jpg")};Uf(a("maxres"),121).catch(function(){return Uf(a("sd"),121)}).catch(function(){return Uf(a("hq"))}).then(function(l){return At.setPoster.call(t,l.src)}).then(function(l){l.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")}).catch(function(){});var o=t.config.youtube;t.embed=new window.YT.Player(s,{videoId:i,host:gle(o),playerVars:pn({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui?0:1,disablekb:1,playsinline:t.config.fullscreen.iosNative?0:1,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},o),events:{onError:function(l){if(!t.media.error){var c=l.data,h={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[c]||"An unknown error occured";t.media.error={code:c,message:h},Ge.call(t,t.media,"error")}},onPlaybackRateChange:function(l){var c=l.target;t.media.playbackRate=c.getPlaybackRate(),Ge.call(t,t.media,"ratechange")},onReady:function(l){if(!qt(t.media.play)){var c=l.target;Vf.getTitle.call(t,i),t.media.play=function(){hh.call(t,!0),c.playVideo()},t.media.pause=function(){hh.call(t,!1),c.pauseVideo()},t.media.stop=function(){c.stopVideo()},t.media.duration=c.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:function(){return Number(c.getCurrentTime())},set:function(g){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,Ge.call(t,t.media,"seeking"),c.seekTo(g)}}),Object.defineProperty(t.media,"playbackRate",{get:function(){return c.getPlaybackRate()},set:function(g){c.setPlaybackRate(g)}});var h=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return h},set:function(g){h=g,c.setVolume(100*h),Ge.call(t,t.media,"volumechange")}});var p=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return p},set:function(g){var x=Yi(g)?g:p;p=x,c[x?"mute":"unMute"](),Ge.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:function(){return c.getVideoUrl()}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}});var d=c.getAvailablePlaybackRates();t.options.speed=d.filter(function(g){return t.config.speed.options.includes(g)}),t.supported.ui&&t.media.setAttribute("tabindex",-1),Ge.call(t,t.media,"timeupdate"),Ge.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(function(){t.media.buffered=c.getVideoLoadedFraction(),(t.media.lastBuffered===null||t.media.lastBuffered<t.media.buffered)&&Ge.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,t.media.buffered===1&&(clearInterval(t.timers.buffering),Ge.call(t,t.media,"canplaythrough"))},200),setTimeout(function(){return At.build.call(t)},50)}},onStateChange:function(l){var c=l.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(l.data)&&(t.media.seeking=!1,Ge.call(t,t.media,"seeked")),l.data){case-1:Ge.call(t,t.media,"timeupdate"),t.media.buffered=c.getVideoLoadedFraction(),Ge.call(t,t.media,"progress");break;case 0:hh.call(t,!1),t.media.loop?(c.stopVideo(),c.playVideo()):Ge.call(t,t.media,"ended");break;case 1:t.config.autoplay||!t.media.paused||t.embed.hasPlayed?(hh.call(t,!0),Ge.call(t,t.media,"playing"),t.timers.playing=setInterval(function(){Ge.call(t,t.media,"timeupdate")},50),t.media.duration!==c.getDuration()&&(t.media.duration=c.getDuration(),Ge.call(t,t.media,"durationchange"))):t.media.pause();break;case 2:t.muted||t.embed.unMute(),hh.call(t,!1);break;case 3:Ge.call(t,t.media,"waiting")}Ge.call(t,t.elements.container,"statechange",!1,{code:l.data})}}})}}},LL={setup:function(){this.media?(pt(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),pt(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&pt(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Ye("div",{class:this.config.classNames.video}),EL(this.media,this.elements.wrapper),this.elements.poster=Ye("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?qa.setup.call(this):this.isYouTube?Vf.setup.call(this):this.isVimeo&&cy.setup.call(this)):this.debug.warn("No media element found!")}},ble=function(){function t(e){var n=this;Ol(this,t),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(i,s){n.on("loaded",i),n.on("error",s)}),this.load()}return Nl(t,[{key:"load",value:function(){var e=this;this.enabled&&(Cr(window.google)&&Cr(window.google.ima)?this.ready():zw(this.player.config.urls.googleIMA.sdk).then(function(){e.ready()}).catch(function(){e.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var e=this;this.enabled||function(n){n.manager&&n.manager.destroy(),n.elements.displayContainer&&n.elements.displayContainer.destroy(),n.elements.container.remove()}(this),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){e.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){var e=this;this.elements.container=Ye("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(n){return e.onAdsManagerLoaded(n)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(n){return e.onAdError(n)},!1),this.requestAds()}},{key:"requestAds",value:function(){var e=this.player.elements.container;try{var n=new google.ima.AdsRequest;n.adTagUrl=this.tagUrl,n.linearAdSlotWidth=e.offsetWidth,n.linearAdSlotHeight=e.offsetHeight,n.nonLinearAdSlotWidth=e.offsetWidth,n.nonLinearAdSlotHeight=e.offsetHeight,n.forceNonLinearFullSlot=!1,n.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(n)}catch(i){this.onAdError(i)}}},{key:"pollCountdown",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!n)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");var i=function(){var s=ag(Math.max(e.manager.getRemainingTime(),0)),r="".concat(Rn("advertisement",e.player.config)," - ").concat(s);e.elements.container.setAttribute("data-badge-text",r)};this.countdownTimer=setInterval(i,100)}},{key:"onAdsManagerLoaded",value:function(e){var n=this;if(this.enabled){var i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=e.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(s){return n.onAdError(s)}),Object.keys(google.ima.AdEvent.Type).forEach(function(s){n.manager.addEventListener(google.ima.AdEvent.Type[s],function(r){return n.onAdEvent(r)})}),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var e=this;Fe(this.cuePoints)||this.cuePoints.forEach(function(n){if(n!==0&&n!==-1&&n<e.player.duration){var i=e.player.elements.progress;if(Re(i)){var s=100/e.player.duration*n,r=Ye("span",{class:e.player.config.classNames.cues});r.style.left="".concat(s.toString(),"%"),i.appendChild(r)}}})}},{key:"onAdEvent",value:function(e){var n,i=this.player.elements.container,s=e.getAd(),r=e.getAdData();switch(n=e.type,Ge.call(this.player,this.player.media,"ads".concat(n.replace(/_/g,"").toLowerCase())),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),s.isLinear()||(s.width=i.offsetWidth,s.height=i.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(r.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var e,n=this,i=this.player.elements.container;this.player.on("canplay",function(){n.addCuePoints()}),this.player.on("ended",function(){n.loader.contentComplete()}),this.player.on("timeupdate",function(){e=n.player.currentTime}),this.player.on("seeked",function(){var s=n.player.currentTime;Fe(n.cuePoints)||n.cuePoints.forEach(function(r,a){e<r&&r<s&&(n.manager.discardAdBreak(),n.cuePoints.splice(a,1))})}),window.addEventListener("resize",function(){n.manager&&n.manager.resize(i.offsetWidth,i.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var e=this,n=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){e.manager.setVolume(e.player.volume),e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0}catch(i){e.onAdError(i)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,pr(this.player.media.play())}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var e=this;this.managerPromise.then(function(){e.manager&&e.manager.destroy(),e.managerPromise=new Promise(function(n){e.on("loaded",n),e.player.debug.log(e.manager)}),e.initialized=!1,e.requestAds()}).catch(function(){})}},{key:"trigger",value:function(e){for(var n=this,i=arguments.length,s=new Array(i>1?i-1:0),r=1;r<i;r++)s[r-1]=arguments[r];var a=this.events[e];an(a)&&a.forEach(function(o){qt(o)&&o.apply(n,s)})}},{key:"on",value:function(e,n){return an(this.events[e])||(this.events[e]=[]),this.events[e].push(n),this}},{key:"startSafetyTimer",value:function(e,n){var i=this;this.player.debug.log("Safety timer invoked from: ".concat(n)),this.safetyTimer=setTimeout(function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")},e)}},{key:"clearSafetyTimer",value:function(e){hu(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!Fe(e.publisherId)||Mp(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(Mp(e.tagUrl))return e.tagUrl;var n={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(OL(n))}}]),t}(),_le=function(t){var e=[];return t.split(/\r\n\r\n|\n\n|\r\r/).forEach(function(n){var i={};n.split(/\r\n|\n|\r/).forEach(function(s){if(Yt(i.startTime)){if(!Fe(s.trim())&&Fe(i.text)){var r=s.trim().split("#xywh="),a=Dn(r,1);if(i.text=a[0],r[1]){var o=Dn(r[1].split(","),4);i.x=o[0],i.y=o[1],i.w=o[2],i.h=o[3]}}}else{var l=s.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);l&&(i.startTime=60*Number(l[1]||0)*60+60*Number(l[2])+Number(l[3])+Number("0.".concat(l[4])),i.endTime=60*Number(l[6]||0)*60+60*Number(l[7])+Number(l[8])+Number("0.".concat(l[9])))}}),i.text&&e.push(i)}),e},Wk=function(t,e){var n={};return t>e.width/e.height?(n.width=e.width,n.height=1/t*e.width):(n.height=e.height,n.width=t*e.height),n},FL=function(){function t(e){Ol(this,t),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return Nl(t,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(function(){e.enabled&&(e.render(),e.determineContainerAutoSizing(),e.loaded=!0)})}},{key:"getThumbnails",value:function(){var e=this;return new Promise(function(n){var i=e.player.config.previewThumbnails.src;if(Fe(i))throw new Error("Missing previewThumbnails.src config attribute");var s=function(){e.thumbnails.sort(function(a,o){return a.height-o.height}),e.player.debug.log("Preview thumbnails",e.thumbnails),n()};if(qt(i))i(function(a){e.thumbnails=a,s()});else{var r=(mn(i)?[i]:i).map(function(a){return e.getThumbnail(a)});Promise.all(r).then(s)}})}},{key:"getThumbnail",value:function(e){var n=this;return new Promise(function(i){cd(e).then(function(s){var r={frames:_le(s),height:null,urlPrefix:""};r.frames[0].text.startsWith("/")||r.frames[0].text.startsWith("http://")||r.frames[0].text.startsWith("https://")||(r.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var a=new Image;a.onload=function(){r.height=a.naturalHeight,r.width=a.naturalWidth,n.thumbnails.push(r),i()},a.src=r.urlPrefix+r.frames[0].text})})}},{key:"startMove",value:function(e){if(this.loaded&&zo(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if(e.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var n=this.player.elements.progress.getBoundingClientRect(),i=100/n.width*(e.pageX-n.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=ag(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){(hu(e.button)||e.button===!1||e.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Vw.call(this.player,this.player.media,"timeupdate",function(){e.mouseDown||e.toggleScrubbingContainer(!1)})}},{key:"listeners",value:function(){var e=this;this.player.on("play",function(){e.toggleThumbContainer(!1,!0)}),this.player.on("seeked",function(){e.toggleThumbContainer(!1)}),this.player.on("timeupdate",function(){e.lastTime=e.player.media.currentTime})}},{key:"render",value:function(){this.elements.thumb.container=Ye("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Ye("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=Ye("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Ye("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),Re(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Ye("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"destroy",value:function(){this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}},{key:"showImageAtCurrentTime",value:function(){var e=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var n=this.thumbnails[0].frames.findIndex(function(r){return e.seekTime>=r.startTime&&e.seekTime<=r.endTime}),i=n>=0,s=0;this.mouseDown||this.toggleThumbContainer(i),i&&(this.thumbnails.forEach(function(r,a){e.loadedImages.includes(r.frames[n].text)&&(s=a)}),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(s)))}},{key:"loadImage",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=this.showingThumb,s=this.thumbnails[n],r=s.urlPrefix,a=s.frames[i],o=s.frames[i].text,l=r+o;if(this.currentImageElement&&this.currentImageElement.dataset.filename===o)this.showImage(this.currentImageElement,a,n,i,o,!1),this.currentImageElement.dataset.index=i,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var c=new Image;c.src=l,c.dataset.index=i,c.dataset.filename=o,this.showingThumbFilename=o,this.player.debug.log("Loading image: ".concat(l)),c.onload=function(){return e.showImage(c,a,n,i,o,!0)},this.loadingImage=c,this.removeOldImages(c)}}},{key:"showImage",value:function(e,n,i,s,r){var a=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];this.player.debug.log("Showing thumb: ".concat(r,". num: ").concat(s,". qual: ").concat(i,". newimg: ").concat(a)),this.setImageSizeAndOffset(e,n),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(r)||this.loadedImages.push(r)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,e,n,r))}},{key:"removeOldImages",value:function(e){var n=this;Array.from(this.currentImageContainer.children).forEach(function(i){if(i.tagName.toLowerCase()==="img"){var s=n.usingSprites?500:1e3;if(i.dataset.index!==e.dataset.index&&!i.dataset.deleting){i.dataset.deleting=!0;var r=n.currentImageContainer;setTimeout(function(){r.removeChild(i),n.player.debug.log("Removing thumb: ".concat(i.dataset.filename))},s)}}})}},{key:"preloadNearby",value:function(e){var n=this,i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return new Promise(function(s){setTimeout(function(){var r=n.thumbnails[0].frames[e].text;if(n.showingThumbFilename===r){var a;a=i?n.thumbnails[0].frames.slice(e):n.thumbnails[0].frames.slice(0,e).reverse();var o=!1;a.forEach(function(l){var c=l.text;if(c!==r&&!n.loadedImages.includes(c)){o=!0,n.player.debug.log("Preloading thumb filename: ".concat(c));var h=n.thumbnails[0].urlPrefix+c,p=new Image;p.src=h,p.onload=function(){n.player.debug.log("Preloaded thumb filename: ".concat(c)),n.loadedImages.includes(c)||n.loadedImages.push(c),s()}}}),o||s()}},300)})}},{key:"getHigherQuality",value:function(e,n,i,s){var r=this;if(e<this.thumbnails.length-1){var a=n.naturalHeight;this.usingSprites&&(a=i.h),a<this.thumbContainerHeight&&setTimeout(function(){r.showingThumbFilename===s&&(r.player.debug.log("Showing higher quality thumb for: ".concat(s)),r.loadImage(e+1))},300)}}},{key:"toggleThumbContainer",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&n&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(n,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(this.sizeSpecifiedInCSS){if(this.elements.thumb.imageContainer.clientHeight>20&&this.elements.thumb.imageContainer.clientWidth<20){var e=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width="".concat(e,"px")}else if(this.elements.thumb.imageContainer.clientHeight<20&&this.elements.thumb.imageContainer.clientWidth>20){var n=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(n,"px")}}else{var i=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(i,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),n=this.player.elements.container.getBoundingClientRect(),i=this.elements.thumb.container,s=n.left-e.left+10,r=n.right-e.left-i.clientWidth-10,a=this.mousePosX-e.left-i.clientWidth/2;a<s&&(a=s),a>r&&(a=r),i.style.left="".concat(a,"px")}},{key:"setScrubbingContainerSize",value:function(){var e=Wk(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}),n=e.width,i=e.height;this.elements.scrubbing.container.style.width="".concat(n,"px"),this.elements.scrubbing.container.style.height="".concat(i,"px")}},{key:"setImageSizeAndOffset",value:function(e,n){if(this.usingSprites){var i=this.thumbContainerHeight/n.h;e.style.height="".concat(e.naturalHeight*i,"px"),e.style.width="".concat(e.naturalWidth*i,"px"),e.style.left="-".concat(n.x*i,"px"),e.style.top="-".concat(n.y*i,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Wk(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),t}(),uy={insertElements:function(t,e){var n=this;mn(e)?Vk(t,this.media,{src:e}):an(e)&&e.forEach(function(i){Vk(t,n.media,i)})},change:function(t){var e=this;CL(t,"sources.length")?(qa.cancelRequests.call(this),this.destroy.call(this,function(){e.options.quality=[],Wr(e.media),e.media=null,Re(e.elements.container)&&e.elements.container.removeAttribute("class");var n=t.sources,i=t.type,s=Dn(n,1)[0],r=s.provider,a=r===void 0?Na.html5:r,o=s.src,l=a==="html5"?i:"div",c=a==="html5"?{}:{src:o};Object.assign(e,{provider:a,type:i,supported:sn.check(i,a,e.config.playsinline),media:Ye(l,c)}),e.elements.container.appendChild(e.media),Yi(t.autoplay)&&(e.config.autoplay=t.autoplay),e.isHTML5&&(e.config.crossorigin&&e.media.setAttribute("crossorigin",""),e.config.autoplay&&e.media.setAttribute("autoplay",""),Fe(t.poster)||(e.poster=t.poster),e.config.loop.active&&e.media.setAttribute("loop",""),e.config.muted&&e.media.setAttribute("muted",""),e.config.playsinline&&e.media.setAttribute("playsinline","")),At.addStyleHook.call(e),e.isHTML5&&uy.insertElements.call(e,"source",n),e.config.title=t.title,LL.setup.call(e),e.isHTML5&&Object.keys(t).includes("tracks")&&uy.insertElements.call(e,"track",t.tracks),(e.isHTML5||e.isEmbed&&!e.supported.ui)&&At.build.call(e),e.isHTML5&&e.media.load(),Fe(t.previewThumbnails)||(Object.assign(e.config.previewThumbnails,t.previewThumbnails),e.previewThumbnails&&e.previewThumbnails.loaded&&(e.previewThumbnails.destroy(),e.previewThumbnails=null),e.config.previewThumbnails.enabled&&(e.previewThumbnails=new FL(e))),e.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}},DL=function(){function t(e,n){var i=this;if(Ol(this,t),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=sn.touch,this.media=e,mn(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Ap(this.media)||an(this.media))&&(this.media=this.media[0]),this.config=pn({},NL,t.defaults,n||{},function(){try{return JSON.parse(i.media.getAttribute("data-plyr-config"))}catch{return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new dle(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",sn),!hu(this.media)&&Re(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(sn.check().api){var s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;var r=this.media.tagName.toLowerCase(),a=null,o=null;switch(r){case"div":if(a=this.media.querySelector("iframe"),Re(a)){if(o=IL(a.getAttribute("src")),this.provider=function(c){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(c)?Na.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(c)?Na.vimeo:null}(o.toString()),this.elements.container=this.media,this.media=a,this.elements.container.className="",o.search.length){var l=["1","true"];l.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Fe(this.provider)||!Object.keys(Na).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=qk;break;case"video":case"audio":this.type=r,this.provider=Na.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=sn.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new mle(this),this.storage=new AL(this),this.media.plyr=this,Re(this.elements.container)||(this.elements.container=Ye("div",{tabindex:0}),EL(this.media,this.elements.container)),At.migrateStyles.call(this),At.addStyleHook.call(this),LL.setup.call(this),this.config.debug&&ht.call(this,this.elements.container,this.config.events.join(" "),function(c){i.debug.log("event: ".concat(c.type))}),this.fullscreen=new fle(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&At.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new ble(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",function(){return pr(i.play())}),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new FL(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return Nl(t,[{key:"play",value:function(){var e=this;return qt(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(function(){return e.ads.play()}).catch(function(){return pr(e.media.play())}),this.media.play()):null}},{key:"pause",value:function(){return this.playing&&qt(this.media.pause)?this.media.pause():null}},{key:"togglePlay",value:function(e){return(Yi(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):qt(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime-=Yt(e)?e:this.config.seekTime}},{key:"forward",value:function(e){this.currentTime+=Yt(e)?e:this.config.seekTime}},{key:"increaseVolume",value:function(e){var n=this.media.muted?0:this.volume;this.volume=n+(Yt(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){yt.toggle.call(this,e,!1)}},{key:"airplay",value:function(){sn.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(this.supported.ui&&!this.isAudio){var n=Km(this.elements.container,this.config.classNames.hideControls),i=e===void 0?void 0:!e,s=pt(this.elements.container,this.config.classNames.hideControls,i);if(s&&an(this.config.controls)&&this.config.controls.includes("settings")&&!Fe(this.config.settings)&&Ce.toggleMenu.call(this,!1),s!==n){var r=s?"controlshidden":"controlsshown";Ge.call(this,this.media,r)}return!s}return!1}},{key:"on",value:function(e,n){ht.call(this,this.elements.container,e,n)}},{key:"once",value:function(e,n){Vw.call(this,this.elements.container,e,n)}},{key:"off",value:function(e,n){rg(this.elements.container,e,n)}},{key:"destroy",value:function(e){var n=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.ready){var s=function(){document.body.style.overflow="",n.embed=null,i?(Object.keys(n.elements).length&&(Wr(n.elements.buttons.play),Wr(n.elements.captions),Wr(n.elements.controls),Wr(n.elements.wrapper),n.elements.buttons.play=null,n.elements.captions=null,n.elements.controls=null,n.elements.wrapper=null),qt(e)&&e()):(rle.call(n),qa.cancelRequests.call(n),Gm(n.elements.original,n.elements.container),Ge.call(n,n.elements.original,"destroyed",!0),qt(e)&&e.call(n.elements.original),n.ready=!1,setTimeout(function(){n.elements=null,n.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(At.toggleNativeControls.call(this,!0),s()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&qt(this.embed.destroy)&&this.embed.destroy(),s()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(s),setTimeout(s,200))}}},{key:"supports",value:function(e){return sn.mime.call(this,e)}},{key:"isHTML5",get:function(){return this.provider===Na.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===Na.youtube}},{key:"isVimeo",get:function(){return this.provider===Na.vimeo}},{key:"isVideo",get:function(){return this.type===qk}},{key:"isAudio",get:function(){return this.type===ple}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&this.currentTime===0)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var n=Yt(e)&&e>0;this.media.currentTime=n?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return Yt(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),n=(this.media||{}).duration,i=Yt(n)&&n!==1/0?n:0;return e||i}},{key:"volume",set:function(e){var n=e;mn(n)&&(n=Number(n)),Yt(n)||(n=this.storage.get("volume")),Yt(n)||(n=this.config.volume),n>1&&(n=1),n<0&&(n=0),this.config.volume=n,this.media.volume=n,!Fe(e)&&this.muted&&n>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var n=e;Yi(n)||(n=this.storage.get("muted")),Yi(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var n=this,i=null;Yt(e)&&(i=e),Yt(i)||(i=this.storage.get("speed")),Yt(i)||(i=this.config.speed.selected);var s=this.minimumSpeed,r=this.maximumSpeed;i=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:255;return Math.min(Math.max(a,o),l)}(i,s,r),this.config.speed.selected=i,setTimeout(function(){n.media.playbackRate=i},0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,iy(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,iy(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var n=this.config.quality,i=this.options.quality;if(i.length){var s=[!Fe(e)&&Number(e),this.storage.get("quality"),n.selected,n.default].find(Yt),r=!0;if(!i.includes(s)){var a=function(o,l){return an(o)&&o.length?o.reduce(function(c,h){return Math.abs(h-l)<Math.abs(c-l)?h:c}):null}(i,s);this.debug.warn("Unsupported quality option: ".concat(s,", using ").concat(a," instead")),s=a,r=!1}n.selected=s,this.media.quality=s,r&&this.storage.set({quality:s})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var n=Yi(e)?e:this.config.loop.active;this.config.loop.active=n,this.media.loop=n},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){uy.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return Mp(e)?e:this.source},set:function(e){Mp(e)&&(this.config.urls.download=e,Ce.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?At.setPoster.call(this,e,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=kL($w.call(this));return an(e)?e.join(":"):e},set:function(e){this.isVideo?mn(e)&&TL(e)?(this.config.ratio=e,uo.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var n=Yi(e)?e:this.config.autoplay;this.config.autoplay=n},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){yt.set.call(this,e,!1)},get:function(){var e=this.captions,n=e.toggled,i=e.currentTrack;return n?i:-1}},{key:"language",set:function(e){yt.setLanguage.call(this,e,!1)},get:function(){return(yt.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(sn.pip){var n=Yi(e)?e:!this.pip;qt(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?Hk:hle),qt(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}},get:function(){return sn.pip?Fe(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Hk:null}}],[{key:"supported",value:function(e,n,i){return sn.check(e,n,i)}},{key:"loadSprite",value:function(e,n){return ML(e,n)}},{key:"setup",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=null;return mn(e)?i=Array.from(document.querySelectorAll(e)):Ap(e)?i=Array.from(e):an(e)&&(i=e.filter(Re)),Fe(i)?null:i.map(function(s){return new t(s,n)})}}]),t}();DL.defaults=function(t){return JSON.parse(JSON.stringify(t))}(NL);var $f={name:"VuePlyr",props:{options:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{player:{}}},computed:{opts:function(){var t=this.options;return Object.prototype.hasOwnProperty.call(this.options,"hideYouTubeDOMError")||(t.hideYouTubeDOMError=!0),t}},mounted:function(){this.player=new DL(this.$el,this.opts)},beforeUnmount:function(){try{this.player.destroy()}catch(t){this.opts.hideYouTubeDOMError&&t.message==="The YouTube player is not attached to the DOM."||console.error(t)}},render:function(){var t=this.$slots.default;return typeof t=="function"?t()[0]:t},install:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.plyr&&($f.props.options.default=function(){return _re({},e.plyr)}),t.component($f.name,$f)}};const xle={name:"SiteTrailer",components:{Icon:ua,Fade:El,Button:Hp,VuePlyr:$f},setup(){const{onWideScreen:t,onMobileScreen:e}=Xn(),n=_i(),i=rs(),s=as();return{plyr:De(null),data:n,sound:i,maestro:s,onWideScreen:t,onMobileScreen:e}},data(){return{options:{iconUrl:"/assets/images/trailer.svg",controls:["play","progress","mute","fullscreen"],tooltips:{seek:!1,controls:!1},autoplay:!1}}},computed:{trailer720(){var t;return(t=this.data.navigation)==null?void 0:t.trailer.trailer720},trailer1080(){var t;return(t=this.data.navigation)==null?void 0:t.trailer.trailer1080}},methods:{handleEnter(){this.plyr.player.play(),this.sound.pause=!this.sound.muted},handleLeave(){this.plyr.player.stop(),this.sound.pause=!1},handleClose(){this.maestro.showTrailer=!1}}},yle={class:"site-trailer"},wle={key:0,class:"site-trailer__player"},Sle={controls:"",crossorigin:"",playsinline:""},Cle=["src"],Ele=["src"],Tle={class:"site-trailer__close"},kle={class:"text-label"},Ple={class:"site-trailer__close"};function Ale(t,e,n,i,s,r){const a=Pe("VuePlyr"),o=Pe("Icon"),l=Pe("Button"),c=Pe("Fade");return fe(),wt(c,{onBeforeEnter:r.handleEnter,onBeforeLeave:r.handleLeave},{default:Me(()=>[Ie(U("section",yle,[r.trailer1080||r.trailer720?(fe(),Ee("div",wle,[le(a,{ref:"plyr",options:s.options},{default:Me(()=>[U("video",Sle,[r.trailer720?(fe(),Ee("source",{key:0,size:"720",src:r.trailer720,type:"video/mp4"},null,8,Cle)):Zt("",!0),r.trailer1080?(fe(),Ee("source",{key:1,size:"1080",src:r.trailer1080,type:"video/mp4"},null,8,Ele)):Zt("",!0)])]),_:1},8,["options"])])):Zt("",!0),Ie(U("div",Tle,[le(l,{"with-label":"",onClick:r.handleClose},{default:Me(()=>[U("span",kle,Ve(t.$t("trailer.exit")),1),le(o,{name:"close",width:32,height:32})]),_:1},8,["onClick"])],512),[[je,i.onWideScreen]]),Ie(U("div",Ple,[le(l,{"with-background":"",onClick:r.handleClose},{default:Me(()=>[le(o,{name:"close",width:16,height:16})]),_:1},8,["onClick"])],512),[[je,i.onMobileScreen]])],512),[[je,i.maestro.showTrailer]])]),_:1},8,["onBeforeEnter","onBeforeLeave"])}var Mle=rt(xle,[["render",Ale]]);const Rle={name:"App",components:{Demo:Wie,Grid:nse,Fade:El,Hape:ase,Loader:wse,Trailer:Mle,Effects:$ie,TutorialSound:rN},setup(){const t=QU(),{onTouchScreen:e,onStandardScreen:n}=Xn(),i=Er(),s=rs(),r=Cl(),a=as();return t.beforeEach(o=>{a.$patch(l=>{l.showUI=!0,l.showMenu=!1,l.showSound=o.meta.sound,l.showWebGL=o.meta.webgl,l.showRoadmap=!1,l.showTrailer=!1,l.showToolbar=o.meta.toolbar,l.showPartners=o.meta.partners,o.meta.loader&&(r.completed||(l.showLoader=!0))}),document.body.classList.remove("no-ui"),document.body.classList.remove("no-scroll")}),{theme:i,sound:s,loader:r,maestro:a,onTouchScreen:e,onStandardScreen:n}},computed:{demo:function(){return!1},debug:function(){return!1}},watch:{"sound.play":"onceSoundPlayMutate","sound.muted":"onceSoundMutedMutate","sound.lower":"onceSoundLowerMutate","sound.pause":"onceSoundPauseMutate","sound.loaded":"onceSoundLoadedMutate","theme.value":"onceThemeValueMutate"},mounted(){this.onceThemeValueMutate(),window.addEventListener("click",this.handleInitialPlay)},unmounted(){window.removeEventListener("click",this.handleInitialPlay)},methods:{handleInitialPlay(){!this.$route.meta.sound||this.$route.meta.loader&&!this.loader.hidden||this.sound.enable&&(window.removeEventListener("click",this.handleInitialPlay),this.sound.play=!0,this.sound.pause=!1,lr.play("ambient"),lr.lower("ambient",this.sound.lower))},onceThemeValueMutate(){document.documentElement.setAttribute("data-theme",this.theme.value)},onceSoundPlayMutate(){this.sound.tutorial=!1},onceSoundPauseMutate(){this.sound.pause?lr.mute("ambient"):lr.unmute("ambient")},onceSoundLowerMutate(){lr.lower("ambient",this.sound.lower)},onceSoundMutedMutate(){this.sound.muted?lr.fade("ambient",{volume:1},{volume:0,duration:.5}):lr.fade("ambient",{volume:0},{volume:1,duration:.5})},onceSoundLoadedMutate(){this.sound.enable=!0,this.sound.disable=!1}}},Ile={class:"site-wrapper"},Ole={class:"site-tutorial"};function Nle(t,e,n,i,s,r){const a=Pe("Effects"),o=Pe("Demo"),l=Pe("Hape"),c=Pe("Loader"),h=Pe("Trailer"),p=Pe("TutorialSound"),d=Pe("Fade"),g=Pe("RouterView"),x=Pe("Grid");return fe(),Ee("main",Ile,[le(a),r.demo?(fe(),wt(o,{key:0})):(fe(),Ee(it,{key:1},[le(l),le(c),le(h),le(d,null,{default:Me(()=>[Ie(U("section",Ole,[Ie(le(p,null,null,512),[[je,i.onStandardScreen]])],512),[[je,i.theme.sleep]])]),_:1}),le(g)],64)),r.debug?(fe(),wt(x,{key:2})):Zt("",!0)])}var Lle=rt(Rle,[["render",Nle]]);const ud=TA(Lle);history.scrollRestoration&&(history.scrollRestoration="manual");document.addEventListener("keydown",t=>{(t.key==" "||t.code=="Space")&&t.preventDefault()});ud.use(jj);ud.use(Wj);ud.use(fie);ud.use(Eie);ud.mount("#app");export{ti as _,rt as a,U as b,Ee as c,fe as o,Er as u};
